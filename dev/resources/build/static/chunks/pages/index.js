/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["pages/index"],{

/***/ "./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=C%3A%5CUsers%5CASUS%5CDesktop%5Cmein%5Cnew%5Cnextjs-blog%5Cpages%5Cindex.tsx&page=%2F!":
/*!******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=C%3A%5CUsers%5CASUS%5CDesktop%5Cmein%5Cnew%5Cnextjs-blog%5Cpages%5Cindex.tsx&page=%2F! ***!
  \******************************************************************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return __webpack_require__(/*! ./pages/index.tsx */ \"./pages/index.tsx\");\n      }\n    ]);\n    if(true) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/\"])\n      });\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWNsaWVudC1wYWdlcy1sb2FkZXIuanM/YWJzb2x1dGVQYWdlUGF0aD1DJTNBJTVDVXNlcnMlNUNBU1VTJTVDRGVza3RvcCU1Q21laW4lNUNuZXclNUNuZXh0anMtYmxvZyU1Q3BhZ2VzJTVDaW5kZXgudHN4JnBhZ2U9JTJGIS5qcyIsIm1hcHBpbmdzIjoiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxtQkFBTyxDQUFDLDRDQUFtQjtBQUMxQztBQUNBO0FBQ0EsT0FBTyxJQUFVO0FBQ2pCLE1BQU0sVUFBVTtBQUNoQjtBQUNBLE9BQU87QUFDUDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8/MDNhZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAod2luZG93Ll9fTkVYVF9QID0gd2luZG93Ll9fTkVYVF9QIHx8IFtdKS5wdXNoKFtcbiAgICAgIFwiL1wiLFxuICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcmVxdWlyZShcIi4vcGFnZXMvaW5kZXgudHN4XCIpO1xuICAgICAgfVxuICAgIF0pO1xuICAgIGlmKG1vZHVsZS5ob3QpIHtcbiAgICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5fX05FWFRfUC5wdXNoKFtcIi9cIl0pXG4gICAgICB9KTtcbiAgICB9XG4gICJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=C%3A%5CUsers%5CASUS%5CDesktop%5Cmein%5Cnew%5Cnextjs-blog%5Cpages%5Cindex.tsx&page=%2F!\n"));

/***/ }),

/***/ "./pages/index.tsx":
/*!*************************!*\
  !*** ./pages/index.tsx ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/button */ \"./node_modules/primereact/button/button.esm.js\");\n/* harmony import */ var primereact_column__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! primereact/column */ \"./node_modules/primereact/column/column.esm.js\");\n/* harmony import */ var primereact_datatable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! primereact/datatable */ \"./node_modules/primereact/datatable/datatable.esm.js\");\n/* harmony import */ var primereact_dialog__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! primereact/dialog */ \"./node_modules/primereact/dialog/dialog.esm.js\");\n/* harmony import */ var primereact_fileupload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/fileupload */ \"./node_modules/primereact/fileupload/fileupload.esm.js\");\n/* harmony import */ var primereact_inputtext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/inputtext */ \"./node_modules/primereact/inputtext/inputtext.esm.js\");\n/* harmony import */ var primereact_inputtextarea__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! primereact/inputtextarea */ \"./node_modules/primereact/inputtextarea/inputtextarea.esm.js\");\n/* harmony import */ var primereact_radiobutton__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! primereact/radiobutton */ \"./node_modules/primereact/radiobutton/radiobutton.esm.js\");\n/* harmony import */ var primereact_toast__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/toast */ \"./node_modules/primereact/toast/toast.esm.js\");\n/* harmony import */ var primereact_toolbar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/toolbar */ \"./node_modules/primereact/toolbar/toolbar.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\nconst Crud = ()=>{\n    _s();\n    let emptyProject = {\n        id: \"\",\n        name: \"\",\n        description: \"\",\n        status: \"\"\n    };\n    const [projects, setProjects] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [projectDialog, setProjectDialog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [deleteProjectDialog, setDeleteProjectDialog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [deleteProjectsDialog, setDeleteProjectsDialog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [project, setProject] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(emptyProject);\n    const [selectedProjects, setSelectedProjects] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [submitted, setSubmitted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [globalFilter, setGlobalFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const toast = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const dt = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{}, []);\n    const formatCurrency = (value)=>{\n        return value.toLocaleString(\"en-US\", {\n            style: \"currency\",\n            currency: \"USD\"\n        });\n    };\n    const openNew = ()=>{\n        setProject(emptyProject);\n        setSubmitted(false);\n        setProjectDialog(true);\n    };\n    const hideDialog = ()=>{\n        setSubmitted(false);\n        setProjectDialog(false);\n    };\n    const hideDeleteProjectDialog = ()=>{\n        setDeleteProjectDialog(false);\n    };\n    const hideDeleteProjectsDialog = ()=>{\n        setDeleteProjectsDialog(false);\n    };\n    const saveProject = ()=>{\n        setSubmitted(true);\n        if (project.name.trim()) {\n            let _projects = [\n                ...projects\n            ];\n            let _project = {\n                ...project\n            };\n            if (project.id) {\n                var _toast_current;\n                const index = findIndexById(project.id);\n                _projects[index] = _project;\n                (_toast_current = toast.current) === null || _toast_current === void 0 ? void 0 : _toast_current.show({\n                    severity: \"success\",\n                    summary: \"Successful\",\n                    detail: \"Project Updated\",\n                    life: 3000\n                });\n            } else {\n                var _toast_current1;\n                _project.id = createId();\n                _project.image = \"project-placeholder.svg\";\n                _projects.push(_project);\n                (_toast_current1 = toast.current) === null || _toast_current1 === void 0 ? void 0 : _toast_current1.show({\n                    severity: \"success\",\n                    summary: \"Successful\",\n                    detail: \"Project Created\",\n                    life: 3000\n                });\n            }\n            setProjects(_projects);\n            setProjectDialog(false);\n            setProject(emptyProject);\n        }\n    };\n    const editProject = (project)=>{\n        setProject({\n            ...project\n        });\n        setProjectDialog(true);\n    };\n    const confirmDeleteProject = (project)=>{\n        setProject(project);\n        setDeleteProjectDialog(true);\n    };\n    const deleteProject = ()=>{\n        var _toast_current;\n        let _projects = projects.filter((val)=>val.id !== project.id);\n        setProjects(_projects);\n        setDeleteProjectDialog(false);\n        setProject(emptyProject);\n        (_toast_current = toast.current) === null || _toast_current === void 0 ? void 0 : _toast_current.show({\n            severity: \"success\",\n            summary: \"Successful\",\n            detail: \"Project Deleted\",\n            life: 3000\n        });\n    };\n    const findIndexById = (id)=>{\n        let index = -1;\n        for(let i = 0; i < projects.length; i++){\n            if (projects[i].id === id) {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    };\n    const createId = ()=>{\n        let id = \"\";\n        let chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n        for(let i = 0; i < 5; i++){\n            id += chars.charAt(Math.floor(Math.random() * chars.length));\n        }\n        return id;\n    };\n    const exportCSV = ()=>{\n        var _dt_current;\n        (_dt_current = dt.current) === null || _dt_current === void 0 ? void 0 : _dt_current.exportCSV();\n    };\n    const confirmDeleteSelected = ()=>{\n        setDeleteProjectDialog(true);\n    };\n    const deleteSelectedProjects = ()=>{\n        var _toast_current;\n        let _projects = projects.filter((val)=>{\n            return !(selectedProjects === null || selectedProjects === void 0 ? void 0 : selectedProjects.includes(val));\n        });\n        setProjects(_projects);\n        setDeleteProjectsDialog(false);\n        setSelectedProjects([]);\n        (_toast_current = toast.current) === null || _toast_current === void 0 ? void 0 : _toast_current.show({\n            severity: \"success\",\n            summary: \"Successful\",\n            detail: \"Projects Deleted\",\n            life: 3000\n        });\n    };\n    const onStatusChange = (e)=>{\n        let _project = {\n            ...project\n        };\n        _project[\"status\"] = e.value;\n        setProject(_project);\n    };\n    const onInputChange = (e, name)=>{\n        const val = e.target && e.target.value || \"\";\n        let _project = {\n            ...project\n        };\n        _project[\"\".concat(name)] = val;\n        setProject(_project);\n    };\n    const onInputNumberChange = (e, name)=>{\n        const val = e.value || 0;\n        let _project = {\n            ...project\n        };\n        _project[\"\".concat(name)] = val;\n        setProject(_project);\n    };\n    const leftToolbarTemplate = ()=>{\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"my-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        label: \"New\",\n                        icon: \"pi pi-plus\",\n                        severity: \"success\",\n                        className: \" mr-2\",\n                        onClick: openNew\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                        lineNumber: 168,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        label: \"Delete\",\n                        icon: \"pi pi-trash\",\n                        severity: \"danger\",\n                        onClick: confirmDeleteSelected,\n                        disabled: !selectedProjects || !selectedProjects.length\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                        lineNumber: 169,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                lineNumber: 167,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n            lineNumber: 166,\n            columnNumber: 7\n        }, undefined);\n    };\n    const rightToolbarTemplate = ()=>{\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_fileupload__WEBPACK_IMPORTED_MODULE_3__.FileUpload, {\n                    mode: \"basic\",\n                    accept: \"image/*\",\n                    maxFileSize: 1000000,\n                    chooseLabel: \"Import\",\n                    className: \"mr-2 inline-block\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                    lineNumber: 178,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                    label: \"Export\",\n                    icon: \"pi pi-upload\",\n                    severity: \"help\",\n                    onClick: exportCSV\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                    lineNumber: 179,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n            lineNumber: 177,\n            columnNumber: 7\n        }, undefined);\n    };\n    const nameBodyTemplate = (rowData)=>{\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"p-column-title\",\n                    children: \"Name\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                    lineNumber: 188,\n                    columnNumber: 9\n                }, undefined),\n                rowData.name\n            ]\n        }, void 0, true);\n    };\n    const statusBodyTemplate = (rowData)=>{\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"p-column-title\",\n                    children: \"Status\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                    lineNumber: 198,\n                    columnNumber: 9\n                }, undefined),\n                rowData.status\n            ]\n        }, void 0, true);\n    };\n    const descriptionBodyTemplate = (rowData)=>{\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"p-column-title\",\n                    children: \"Reviews\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                    lineNumber: 207,\n                    columnNumber: 9\n                }, undefined),\n                rowData.description\n            ]\n        }, void 0, true);\n    };\n    const actionBodyTemplate = (rowData)=>{\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                    icon: \"pi pi-pencil\",\n                    rounded: true,\n                    severity: \"success\",\n                    className: \"mr-2\",\n                    onClick: ()=>editProject(rowData)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                    lineNumber: 216,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                    icon: \"pi pi-trash\",\n                    rounded: true,\n                    severity: \"warning\",\n                    onClick: ()=>confirmDeleteProject(rowData)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                    lineNumber: 217,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true);\n    };\n    const header = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-column md:flex-row md:justify-content-between md:align-items-center\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                className: \"m-0\",\n                children: \"Manage Projects\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                lineNumber: 224,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"block mt-2 md:mt-0 p-input-icon-left\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"pi pi-search\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                        lineNumber: 226,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_inputtext__WEBPACK_IMPORTED_MODULE_4__.InputText, {\n                        type: \"search\",\n                        onInput: (e)=>setGlobalFilter(e.currentTarget.value),\n                        placeholder: \"Search...\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                        lineNumber: 227,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                lineNumber: 225,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n        lineNumber: 223,\n        columnNumber: 5\n    }, undefined);\n    const projectDialogFooter = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                label: \"Cancel\",\n                icon: \"pi pi-times\",\n                text: true,\n                onClick: hideDialog\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                lineNumber: 234,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                label: \"Save\",\n                icon: \"pi pi-check\",\n                text: true,\n                onClick: saveProject\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                lineNumber: 235,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true);\n    const deleteProjectDialogFooter = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                label: \"No\",\n                icon: \"pi pi-times\",\n                text: true,\n                onClick: hideDeleteProjectDialog\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                lineNumber: 240,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                label: \"Yes\",\n                icon: \"pi pi-check\",\n                text: true,\n                onClick: deleteProject\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                lineNumber: 241,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true);\n    const deleteProjectsDialogFooter = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                label: \"No\",\n                icon: \"pi pi-times\",\n                text: true,\n                onClick: hideDeleteProjectsDialog\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                lineNumber: 246,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                label: \"Yes\",\n                icon: \"pi pi-check\",\n                text: true,\n                onClick: deleteSelectedProjects\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                lineNumber: 247,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"grid crud-demo\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"col-12\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"card\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_toast__WEBPACK_IMPORTED_MODULE_5__.Toast, {\n                        ref: toast\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                        lineNumber: 255,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_toolbar__WEBPACK_IMPORTED_MODULE_6__.Toolbar, {\n                        className: \"mb-4\",\n                        left: leftToolbarTemplate,\n                        right: rightToolbarTemplate\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                        lineNumber: 256,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_datatable__WEBPACK_IMPORTED_MODULE_7__.DataTable, {\n                        ref: dt,\n                        value: projects,\n                        selection: selectedProjects,\n                        onSelectionChange: (e)=>setSelectedProjects(e.value),\n                        dataKey: \"id\",\n                        paginator: true,\n                        rows: 10,\n                        rowsPerPageOptions: [\n                            5,\n                            10,\n                            25\n                        ],\n                        className: \"datatable-responsive\",\n                        paginatorTemplate: \"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown\",\n                        currentPageReportTemplate: \"Showing {first} to {last} of {totalRecords} projects\",\n                        globalFilter: globalFilter,\n                        emptyMessage: \"No projects found.\",\n                        header: header,\n                        responsiveLayout: \"scroll\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_column__WEBPACK_IMPORTED_MODULE_8__.Column, {\n                                selectionMode: \"multiple\",\n                                headerStyle: {\n                                    width: \"4rem\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                lineNumber: 275,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_column__WEBPACK_IMPORTED_MODULE_8__.Column, {\n                                field: \"name\",\n                                header: \"Name\",\n                                sortable: true,\n                                body: nameBodyTemplate,\n                                headerStyle: {\n                                    minWidth: \"15rem\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                lineNumber: 276,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_column__WEBPACK_IMPORTED_MODULE_8__.Column, {\n                                field: \"inventoryDescription\",\n                                header: \"Description\",\n                                body: descriptionBodyTemplate,\n                                sortable: true,\n                                headerStyle: {\n                                    minWidth: \"10rem\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                lineNumber: 277,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_column__WEBPACK_IMPORTED_MODULE_8__.Column, {\n                                field: \"status\",\n                                header: \"Status\",\n                                sortable: true,\n                                body: statusBodyTemplate,\n                                headerStyle: {\n                                    minWidth: \"10rem\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                lineNumber: 278,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_column__WEBPACK_IMPORTED_MODULE_8__.Column, {\n                                body: actionBodyTemplate,\n                                headerStyle: {\n                                    minWidth: \"10rem\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                lineNumber: 279,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                        lineNumber: 258,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_dialog__WEBPACK_IMPORTED_MODULE_9__.Dialog, {\n                        visible: projectDialog,\n                        style: {\n                            width: \"450px\"\n                        },\n                        header: \"Project Details\",\n                        modal: true,\n                        className: \"p-fluid\",\n                        footer: projectDialogFooter,\n                        onHide: hideDialog,\n                        children: [\n                            project.image && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: \"/demo/images/project/\".concat(project.image),\n                                alt: project.image,\n                                width: \"150\",\n                                className: \"mt-0 mx-auto mb-5 block shadow-2\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                lineNumber: 283,\n                                columnNumber: 31\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"field\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"name\",\n                                        children: \"Name\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                        lineNumber: 285,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_inputtext__WEBPACK_IMPORTED_MODULE_4__.InputText, {\n                                        id: \"name\",\n                                        value: project.name,\n                                        onChange: (e)=>onInputChange(e, \"name\"),\n                                        required: true,\n                                        autoFocus: true,\n                                        className: (0,primereact_utils__WEBPACK_IMPORTED_MODULE_10__.classNames)({\n                                            \"p-invalid\": submitted && !project.name\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                        lineNumber: 286,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    submitted && !project.name && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"small\", {\n                                        className: \"p-invalid\",\n                                        children: \"Name is required.\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                        lineNumber: 287,\n                                        columnNumber: 46\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                lineNumber: 284,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"field\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"description\",\n                                        children: \"Description\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                        lineNumber: 290,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_inputtextarea__WEBPACK_IMPORTED_MODULE_11__.InputTextarea, {\n                                        id: \"description\",\n                                        value: project.description,\n                                        onChange: (e)=>onInputChange(e, \"description\"),\n                                        required: true,\n                                        rows: 3,\n                                        cols: 20\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                        lineNumber: 291,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                lineNumber: 289,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"field\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"mb-3\",\n                                        children: \"Status\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                        lineNumber: 295,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"formgrid grid\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"field-radiobutton col-6\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_radiobutton__WEBPACK_IMPORTED_MODULE_12__.RadioButton, {\n                                                        inputId: \"status1\",\n                                                        name: \"status\",\n                                                        value: \"New\",\n                                                        onChange: onStatusChange,\n                                                        checked: project.status === \"New\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                                        lineNumber: 298,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        htmlFor: \"status1\",\n                                                        children: \"New\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                                        lineNumber: 299,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                                lineNumber: 297,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"field-radiobutton col-6\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_radiobutton__WEBPACK_IMPORTED_MODULE_12__.RadioButton, {\n                                                        inputId: \"status2\",\n                                                        name: \"status\",\n                                                        value: \"In Progress\",\n                                                        onChange: onStatusChange,\n                                                        checked: project.status === \"In Progress\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                                        lineNumber: 302,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        htmlFor: \"status2\",\n                                                        children: \"In Progress\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                                        lineNumber: 303,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                                lineNumber: 301,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"field-radiobutton col-6\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_radiobutton__WEBPACK_IMPORTED_MODULE_12__.RadioButton, {\n                                                        inputId: \"status3\",\n                                                        name: \"status\",\n                                                        value: \"Completed\",\n                                                        onChange: onStatusChange,\n                                                        checked: project.status === \"Completed\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                                        lineNumber: 306,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        htmlFor: \"status3\",\n                                                        children: \"Completed\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                                        lineNumber: 307,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                                lineNumber: 305,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"field-radiobutton col-6\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_radiobutton__WEBPACK_IMPORTED_MODULE_12__.RadioButton, {\n                                                        inputId: \"status4\",\n                                                        name: \"status\",\n                                                        value: \"Cancelled\",\n                                                        onChange: onStatusChange,\n                                                        checked: project.status === \"Cancelled\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                                        lineNumber: 310,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        htmlFor: \"status4\",\n                                                        children: \"Cancelled\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                                        lineNumber: 311,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                                lineNumber: 309,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                        lineNumber: 296,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                lineNumber: 294,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                        lineNumber: 282,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_dialog__WEBPACK_IMPORTED_MODULE_9__.Dialog, {\n                        visible: deleteProjectDialog,\n                        style: {\n                            width: \"450px\"\n                        },\n                        header: \"Confirm\",\n                        modal: true,\n                        footer: deleteProjectDialogFooter,\n                        onHide: hideDeleteProjectDialog,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex align-items-center justify-content-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"pi pi-exclamation-triangle mr-3\",\n                                    style: {\n                                        fontSize: \"2rem\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                    lineNumber: 319,\n                                    columnNumber: 15\n                                }, undefined),\n                                project && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: [\n                                        \"Are you sure you want to delete \",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                            children: project.name\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                            lineNumber: 322,\n                                            columnNumber: 51\n                                        }, undefined),\n                                        \"?\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                    lineNumber: 321,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                            lineNumber: 318,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                        lineNumber: 317,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_dialog__WEBPACK_IMPORTED_MODULE_9__.Dialog, {\n                        visible: deleteProjectsDialog,\n                        style: {\n                            width: \"450px\"\n                        },\n                        header: \"Confirm\",\n                        modal: true,\n                        footer: deleteProjectsDialogFooter,\n                        onHide: hideDeleteProjectsDialog,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex align-items-center justify-content-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"pi pi-exclamation-triangle mr-3\",\n                                    style: {\n                                        fontSize: \"2rem\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                    lineNumber: 330,\n                                    columnNumber: 15\n                                }, undefined),\n                                project && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: \"Are you sure you want to delete the selected projects?\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                                    lineNumber: 331,\n                                    columnNumber: 27\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                            lineNumber: 329,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                        lineNumber: 328,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n                lineNumber: 254,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n            lineNumber: 253,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\mein\\\\new\\\\nextjs-blog\\\\pages\\\\index.tsx\",\n        lineNumber: 252,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Crud, \"rxrFt1ykzYTjga+XM+7lTiO6A04=\");\n_c = Crud;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Crud); // Path: '/crud'\nvar _c;\n$RefreshReg$(_c, \"Crud\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNcUQsU0FBUTtrRUFBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tDQU1qQyw4REFBQzFJLHFEQUFNQTt3QkFBQ21JLFNBQVM3Rzt3QkFBcUJpQixPQUFPOzRCQUFFdUYsT0FBTzt3QkFBUTt3QkFBR3pCLFFBQU87d0JBQVUrQixLQUFLO3dCQUFDQyxRQUFReEI7d0JBQTJCeUIsUUFBUTNGO2tDQUNqSSw0RUFBQ3dDOzRCQUFJQyxXQUFVOzs4Q0FDYiw4REFBQ25CO29DQUFFbUIsV0FBVTtvQ0FBa0M3QyxPQUFPO3dDQUFFMkcsVUFBVTtvQ0FBTzs7Ozs7O2dDQUN4RXhILHlCQUNDLDhEQUFDc0U7O3dDQUFLO3NEQUM0Qiw4REFBQ21EO3NEQUFHekgsUUFBUVgsSUFBSTs7Ozs7O3dDQUFLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBTTdELDhEQUFDZixxREFBTUE7d0JBQUNtSSxTQUFTM0c7d0JBQXNCZSxPQUFPOzRCQUFFdUYsT0FBTzt3QkFBUTt3QkFBR3pCLFFBQU87d0JBQVUrQixLQUFLO3dCQUFDQyxRQUFRdkI7d0JBQTRCd0IsUUFBUTFGO2tDQUNuSSw0RUFBQ3VDOzRCQUFJQyxXQUFVOzs4Q0FDYiw4REFBQ25CO29DQUFFbUIsV0FBVTtvQ0FBa0M3QyxPQUFPO3dDQUFFMkcsVUFBVTtvQ0FBTzs7Ozs7O2dDQUN4RXhILHlCQUFXLDhEQUFDc0U7OENBQUs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9oQztHQWhVTXBGO0tBQUFBO0FBa1VOLCtEQUFlQSxJQUFJQSxFQUFDLENBR3BCLGdCQUFnQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9wYWdlcy9pbmRleC50c3g/MDdmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCdXR0b24gfSBmcm9tICdwcmltZXJlYWN0L2J1dHRvbic7XG5pbXBvcnQgeyBDb2x1bW4gfSBmcm9tICdwcmltZXJlYWN0L2NvbHVtbic7XG5pbXBvcnQgeyBEYXRhVGFibGUgfSBmcm9tICdwcmltZXJlYWN0L2RhdGF0YWJsZSc7XG5pbXBvcnQgeyBEaWFsb2cgfSBmcm9tICdwcmltZXJlYWN0L2RpYWxvZyc7XG5pbXBvcnQgeyBGaWxlVXBsb2FkIH0gZnJvbSAncHJpbWVyZWFjdC9maWxldXBsb2FkJztcbmltcG9ydCB7IElucHV0TnVtYmVyLCBJbnB1dE51bWJlclZhbHVlQ2hhbmdlRXZlbnQgfSBmcm9tICdwcmltZXJlYWN0L2lucHV0bnVtYmVyJztcbmltcG9ydCB7IElucHV0VGV4dCB9IGZyb20gJ3ByaW1lcmVhY3QvaW5wdXR0ZXh0JztcbmltcG9ydCB7IElucHV0VGV4dGFyZWEgfSBmcm9tICdwcmltZXJlYWN0L2lucHV0dGV4dGFyZWEnO1xuaW1wb3J0IHsgUmFkaW9CdXR0b24sIFJhZGlvQnV0dG9uQ2hhbmdlRXZlbnQgfSBmcm9tICdwcmltZXJlYWN0L3JhZGlvYnV0dG9uJztcbmltcG9ydCB7IFJhdGluZyB9IGZyb20gJ3ByaW1lcmVhY3QvcmF0aW5nJztcbmltcG9ydCB7IFRvYXN0IH0gZnJvbSAncHJpbWVyZWFjdC90b2FzdCc7XG5pbXBvcnQgeyBUb29sYmFyIH0gZnJvbSAncHJpbWVyZWFjdC90b29sYmFyJztcbmltcG9ydCB7IGNsYXNzTmFtZXMgfSBmcm9tICdwcmltZXJlYWN0L3V0aWxzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBNaWNyb3NlcnZpY2VzIH0gZnJvbSAnLi4vYXdzL2xpYi9taWNyb3NlcnZpY2UnO1xuaW1wb3J0IHsgRGVtbyB9IGZyb20gJy4uL3R5cGVzL3R5cGVzJztcblxuY29uc3QgQ3J1ZCA9ICgpID0+IHtcbiAgbGV0IGVtcHR5UHJvamVjdDogRGVtby5Qcm9qZWN0ID0ge1xuICAgIGlkOiAnJyxcbiAgICBuYW1lOiAnJyxcbiAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgc3RhdHVzOiAnJyxcbiAgfTtcblxuICBjb25zdCBbcHJvamVjdHMsIHNldFByb2plY3RzXSA9IHVzZVN0YXRlPERlbW8uUHJvamVjdFtdPihbXSk7XG4gIGNvbnN0IFtwcm9qZWN0RGlhbG9nLCBzZXRQcm9qZWN0RGlhbG9nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2RlbGV0ZVByb2plY3REaWFsb2csIHNldERlbGV0ZVByb2plY3REaWFsb2ddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGVsZXRlUHJvamVjdHNEaWFsb2csIHNldERlbGV0ZVByb2plY3RzRGlhbG9nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Byb2plY3QsIHNldFByb2plY3RdID0gdXNlU3RhdGU8RGVtby5Qcm9qZWN0PihlbXB0eVByb2plY3QpO1xuICBjb25zdCBbc2VsZWN0ZWRQcm9qZWN0cywgc2V0U2VsZWN0ZWRQcm9qZWN0c10gPSB1c2VTdGF0ZTxEZW1vLlByb2plY3RbXT4oW10pO1xuICBjb25zdCBbc3VibWl0dGVkLCBzZXRTdWJtaXR0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZ2xvYmFsRmlsdGVyLCBzZXRHbG9iYWxGaWx0ZXJdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCB0b2FzdCA9IHVzZVJlZjxUb2FzdD4obnVsbCk7XG4gIGNvbnN0IGR0ID0gdXNlUmVmPERhdGFUYWJsZTxEZW1vLlByb2plY3RbXT4+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gIH0sIFtdKTtcblxuICBjb25zdCBmb3JtYXRDdXJyZW5jeSA9ICh2YWx1ZTogbnVtYmVyKSA9PiB7XG4gICAgcmV0dXJuIHZhbHVlLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHsgc3R5bGU6ICdjdXJyZW5jeScsIGN1cnJlbmN5OiAnVVNEJyB9KTtcbiAgfTtcblxuICBjb25zdCBvcGVuTmV3ID0gKCkgPT4ge1xuICAgIHNldFByb2plY3QoZW1wdHlQcm9qZWN0KTtcbiAgICBzZXRTdWJtaXR0ZWQoZmFsc2UpO1xuICAgIHNldFByb2plY3REaWFsb2codHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGlkZURpYWxvZyA9ICgpID0+IHtcbiAgICBzZXRTdWJtaXR0ZWQoZmFsc2UpO1xuICAgIHNldFByb2plY3REaWFsb2coZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IGhpZGVEZWxldGVQcm9qZWN0RGlhbG9nID0gKCkgPT4ge1xuICAgIHNldERlbGV0ZVByb2plY3REaWFsb2coZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IGhpZGVEZWxldGVQcm9qZWN0c0RpYWxvZyA9ICgpID0+IHtcbiAgICBzZXREZWxldGVQcm9qZWN0c0RpYWxvZyhmYWxzZSk7XG4gIH07XG5cbiAgY29uc3Qgc2F2ZVByb2plY3QgPSAoKSA9PiB7XG4gICAgc2V0U3VibWl0dGVkKHRydWUpO1xuXG4gICAgaWYgKHByb2plY3QubmFtZS50cmltKCkpIHtcbiAgICAgIGxldCBfcHJvamVjdHMgPSBbLi4ucHJvamVjdHNdO1xuICAgICAgbGV0IF9wcm9qZWN0ID0geyAuLi5wcm9qZWN0IH07XG4gICAgICBpZiAocHJvamVjdC5pZCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IGZpbmRJbmRleEJ5SWQocHJvamVjdC5pZCk7XG5cbiAgICAgICAgX3Byb2plY3RzW2luZGV4XSA9IF9wcm9qZWN0O1xuICAgICAgICB0b2FzdC5jdXJyZW50Py5zaG93KHsgc2V2ZXJpdHk6ICdzdWNjZXNzJywgc3VtbWFyeTogJ1N1Y2Nlc3NmdWwnLCBkZXRhaWw6ICdQcm9qZWN0IFVwZGF0ZWQnLCBsaWZlOiAzMDAwIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3Byb2plY3QuaWQgPSBjcmVhdGVJZCgpO1xuICAgICAgICBfcHJvamVjdC5pbWFnZSA9ICdwcm9qZWN0LXBsYWNlaG9sZGVyLnN2Zyc7XG4gICAgICAgIF9wcm9qZWN0cy5wdXNoKF9wcm9qZWN0KTtcbiAgICAgICAgdG9hc3QuY3VycmVudD8uc2hvdyh7IHNldmVyaXR5OiAnc3VjY2VzcycsIHN1bW1hcnk6ICdTdWNjZXNzZnVsJywgZGV0YWlsOiAnUHJvamVjdCBDcmVhdGVkJywgbGlmZTogMzAwMCB9KTtcbiAgICAgIH1cblxuICAgICAgc2V0UHJvamVjdHMoX3Byb2plY3RzKTtcbiAgICAgIHNldFByb2plY3REaWFsb2coZmFsc2UpO1xuICAgICAgc2V0UHJvamVjdChlbXB0eVByb2plY3QpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBlZGl0UHJvamVjdCA9IChwcm9qZWN0OiBEZW1vLlByb2plY3QpID0+IHtcbiAgICBzZXRQcm9qZWN0KHsgLi4ucHJvamVjdCB9KTtcbiAgICBzZXRQcm9qZWN0RGlhbG9nKHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IGNvbmZpcm1EZWxldGVQcm9qZWN0ID0gKHByb2plY3Q6IERlbW8uUHJvamVjdCkgPT4ge1xuICAgIHNldFByb2plY3QocHJvamVjdCk7XG4gICAgc2V0RGVsZXRlUHJvamVjdERpYWxvZyh0cnVlKTtcbiAgfTtcblxuICBjb25zdCBkZWxldGVQcm9qZWN0ID0gKCkgPT4ge1xuICAgIGxldCBfcHJvamVjdHMgPSBwcm9qZWN0cy5maWx0ZXIoKHZhbCkgPT4gdmFsLmlkICE9PSBwcm9qZWN0LmlkKTtcbiAgICBzZXRQcm9qZWN0cyhfcHJvamVjdHMpO1xuICAgIHNldERlbGV0ZVByb2plY3REaWFsb2coZmFsc2UpO1xuICAgIHNldFByb2plY3QoZW1wdHlQcm9qZWN0KTtcbiAgICB0b2FzdC5jdXJyZW50Py5zaG93KHsgc2V2ZXJpdHk6ICdzdWNjZXNzJywgc3VtbWFyeTogJ1N1Y2Nlc3NmdWwnLCBkZXRhaWw6ICdQcm9qZWN0IERlbGV0ZWQnLCBsaWZlOiAzMDAwIH0pO1xuICB9O1xuXG4gIGNvbnN0IGZpbmRJbmRleEJ5SWQgPSAoaWQ6IHN0cmluZykgPT4ge1xuICAgIGxldCBpbmRleCA9IC0xO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwcm9qZWN0c1tpXS5pZCA9PT0gaWQpIHtcbiAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW5kZXg7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlSWQgPSAoKSA9PiB7XG4gICAgbGV0IGlkID0gJyc7XG4gICAgbGV0IGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgaWQgKz0gY2hhcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCkpO1xuICAgIH1cbiAgICByZXR1cm4gaWQ7XG4gIH07XG5cbiAgY29uc3QgZXhwb3J0Q1NWID0gKCkgPT4ge1xuICAgIGR0LmN1cnJlbnQ/LmV4cG9ydENTVigpO1xuICB9O1xuXG4gIGNvbnN0IGNvbmZpcm1EZWxldGVTZWxlY3RlZCA9ICgpID0+IHtcbiAgICBzZXREZWxldGVQcm9qZWN0RGlhbG9nKHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IGRlbGV0ZVNlbGVjdGVkUHJvamVjdHMgPSAoKSA9PiB7XG4gICAgbGV0IF9wcm9qZWN0cyA9IHByb2plY3RzLmZpbHRlcigodmFsKSA9PiAhc2VsZWN0ZWRQcm9qZWN0cz8uaW5jbHVkZXModmFsKSk7XG4gICAgc2V0UHJvamVjdHMoX3Byb2plY3RzKTtcbiAgICBzZXREZWxldGVQcm9qZWN0c0RpYWxvZyhmYWxzZSk7XG4gICAgc2V0U2VsZWN0ZWRQcm9qZWN0cyhbXSk7XG4gICAgdG9hc3QuY3VycmVudD8uc2hvdyh7IHNldmVyaXR5OiAnc3VjY2VzcycsIHN1bW1hcnk6ICdTdWNjZXNzZnVsJywgZGV0YWlsOiAnUHJvamVjdHMgRGVsZXRlZCcsIGxpZmU6IDMwMDAgfSk7XG4gIH07XG5cbiAgY29uc3Qgb25TdGF0dXNDaGFuZ2UgPSAoZTogUmFkaW9CdXR0b25DaGFuZ2VFdmVudCkgPT4ge1xuICAgIGxldCBfcHJvamVjdCA9IHsgLi4ucHJvamVjdCB9O1xuICAgIF9wcm9qZWN0WydzdGF0dXMnXSA9IGUudmFsdWU7XG4gICAgc2V0UHJvamVjdChfcHJvamVjdCk7XG4gIH07XG5cbiAgY29uc3Qgb25JbnB1dENoYW5nZSA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFRleHRBcmVhRWxlbWVudD4sIG5hbWU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHZhbCA9IChlLnRhcmdldCAmJiBlLnRhcmdldC52YWx1ZSkgfHwgJyc7XG4gICAgbGV0IF9wcm9qZWN0ID0geyAuLi5wcm9qZWN0IH07XG4gICAgX3Byb2plY3RbYCR7bmFtZX1gXSA9IHZhbDtcblxuICAgIHNldFByb2plY3QoX3Byb2plY3QpO1xuICB9O1xuXG4gIGNvbnN0IG9uSW5wdXROdW1iZXJDaGFuZ2UgPSAoZTogSW5wdXROdW1iZXJWYWx1ZUNoYW5nZUV2ZW50LCBuYW1lOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCB2YWwgPSBlLnZhbHVlIHx8IDA7XG4gICAgbGV0IF9wcm9qZWN0ID0geyAuLi5wcm9qZWN0IH07XG4gICAgX3Byb2plY3RbYCR7bmFtZX1gXSA9IHZhbDtcblxuICAgIHNldFByb2plY3QoX3Byb2plY3QpO1xuICB9O1xuXG4gIGNvbnN0IGxlZnRUb29sYmFyVGVtcGxhdGUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteS0yXCI+XG4gICAgICAgICAgPEJ1dHRvbiBsYWJlbD1cIk5ld1wiIGljb249XCJwaSBwaS1wbHVzXCIgc2V2ZXJpdHk9XCJzdWNjZXNzXCIgY2xhc3NOYW1lPVwiIG1yLTJcIiBvbkNsaWNrPXtvcGVuTmV3fSAvPlxuICAgICAgICAgIDxCdXR0b24gbGFiZWw9XCJEZWxldGVcIiBpY29uPVwicGkgcGktdHJhc2hcIiBzZXZlcml0eT1cImRhbmdlclwiIG9uQ2xpY2s9e2NvbmZpcm1EZWxldGVTZWxlY3RlZH0gZGlzYWJsZWQ9eyFzZWxlY3RlZFByb2plY3RzIHx8ICFzZWxlY3RlZFByb2plY3RzLmxlbmd0aH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgcmlnaHRUb29sYmFyVGVtcGxhdGUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPEZpbGVVcGxvYWQgbW9kZT1cImJhc2ljXCIgYWNjZXB0PVwiaW1hZ2UvKlwiIG1heEZpbGVTaXplPXsxMDAwMDAwfSBjaG9vc2VMYWJlbD1cIkltcG9ydFwiIGNsYXNzTmFtZT1cIm1yLTIgaW5saW5lLWJsb2NrXCIgLz5cbiAgICAgICAgPEJ1dHRvbiBsYWJlbD1cIkV4cG9ydFwiIGljb249XCJwaSBwaS11cGxvYWRcIiBzZXZlcml0eT1cImhlbHBcIiBvbkNsaWNrPXtleHBvcnRDU1Z9IC8+XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH07XG5cblxuICBjb25zdCBuYW1lQm9keVRlbXBsYXRlID0gKHJvd0RhdGE6IERlbW8uUHJvamVjdCkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJwLWNvbHVtbi10aXRsZVwiPk5hbWU8L3NwYW4+XG4gICAgICAgIHtyb3dEYXRhLm5hbWV9XG4gICAgICA8Lz5cbiAgICApO1xuICB9O1xuXG5cbiAgY29uc3Qgc3RhdHVzQm9keVRlbXBsYXRlID0gKHJvd0RhdGE6IERlbW8uUHJvamVjdCkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJwLWNvbHVtbi10aXRsZVwiPlN0YXR1czwvc3Bhbj5cbiAgICAgICAge3Jvd0RhdGEuc3RhdHVzfVxuICAgICAgPC8+XG4gICAgKTtcbiAgfTtcblxuICBjb25zdCBkZXNjcmlwdGlvbkJvZHlUZW1wbGF0ZSA9IChyb3dEYXRhOiBEZW1vLlByb2plY3QpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicC1jb2x1bW4tdGl0bGVcIj5SZXZpZXdzPC9zcGFuPlxuICAgICAgICB7cm93RGF0YS5kZXNjcmlwdGlvbn1cbiAgICAgIDwvPlxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgYWN0aW9uQm9keVRlbXBsYXRlID0gKHJvd0RhdGE6IERlbW8uUHJvamVjdCkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICA8QnV0dG9uIGljb249XCJwaSBwaS1wZW5jaWxcIiByb3VuZGVkIHNldmVyaXR5PVwic3VjY2Vzc1wiIGNsYXNzTmFtZT1cIm1yLTJcIiBvbkNsaWNrPXsoKSA9PiBlZGl0UHJvamVjdChyb3dEYXRhKX0gLz5cbiAgICAgICAgPEJ1dHRvbiBpY29uPVwicGkgcGktdHJhc2hcIiByb3VuZGVkIHNldmVyaXR5PVwid2FybmluZ1wiIG9uQ2xpY2s9eygpID0+IGNvbmZpcm1EZWxldGVQcm9qZWN0KHJvd0RhdGEpfSAvPlxuICAgICAgPC8+XG4gICAgKTtcbiAgfTtcblxuICBjb25zdCBoZWFkZXIgPSAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sdW1uIG1kOmZsZXgtcm93IG1kOmp1c3RpZnktY29udGVudC1iZXR3ZWVuIG1kOmFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgPGg1IGNsYXNzTmFtZT1cIm0tMFwiPk1hbmFnZSBQcm9qZWN0czwvaDU+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJibG9jayBtdC0yIG1kOm10LTAgcC1pbnB1dC1pY29uLWxlZnRcIj5cbiAgICAgICAgPGkgY2xhc3NOYW1lPVwicGkgcGktc2VhcmNoXCIgLz5cbiAgICAgICAgPElucHV0VGV4dCB0eXBlPVwic2VhcmNoXCIgb25JbnB1dD17KGUpID0+IHNldEdsb2JhbEZpbHRlcihlLmN1cnJlbnRUYXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cIlNlYXJjaC4uLlwiIC8+XG4gICAgICA8L3NwYW4+XG4gICAgPC9kaXY+XG4gICk7XG5cbiAgY29uc3QgcHJvamVjdERpYWxvZ0Zvb3RlciA9IChcbiAgICA8PlxuICAgICAgPEJ1dHRvbiBsYWJlbD1cIkNhbmNlbFwiIGljb249XCJwaSBwaS10aW1lc1wiIHRleHQgb25DbGljaz17aGlkZURpYWxvZ30gLz5cbiAgICAgIDxCdXR0b24gbGFiZWw9XCJTYXZlXCIgaWNvbj1cInBpIHBpLWNoZWNrXCIgdGV4dCBvbkNsaWNrPXtzYXZlUHJvamVjdH0gLz5cbiAgICA8Lz5cbiAgKTtcbiAgY29uc3QgZGVsZXRlUHJvamVjdERpYWxvZ0Zvb3RlciA9IChcbiAgICA8PlxuICAgICAgPEJ1dHRvbiBsYWJlbD1cIk5vXCIgaWNvbj1cInBpIHBpLXRpbWVzXCIgdGV4dCBvbkNsaWNrPXtoaWRlRGVsZXRlUHJvamVjdERpYWxvZ30gLz5cbiAgICAgIDxCdXR0b24gbGFiZWw9XCJZZXNcIiBpY29uPVwicGkgcGktY2hlY2tcIiB0ZXh0IG9uQ2xpY2s9e2RlbGV0ZVByb2plY3R9IC8+XG4gICAgPC8+XG4gICk7XG4gIGNvbnN0IGRlbGV0ZVByb2plY3RzRGlhbG9nRm9vdGVyID0gKFxuICAgIDw+XG4gICAgICA8QnV0dG9uIGxhYmVsPVwiTm9cIiBpY29uPVwicGkgcGktdGltZXNcIiB0ZXh0IG9uQ2xpY2s9e2hpZGVEZWxldGVQcm9qZWN0c0RpYWxvZ30gLz5cbiAgICAgIDxCdXR0b24gbGFiZWw9XCJZZXNcIiBpY29uPVwicGkgcGktY2hlY2tcIiB0ZXh0IG9uQ2xpY2s9e2RlbGV0ZVNlbGVjdGVkUHJvamVjdHN9IC8+XG4gICAgPC8+XG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgY3J1ZC1kZW1vXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIj5cbiAgICAgICAgICA8VG9hc3QgcmVmPXt0b2FzdH0gLz5cbiAgICAgICAgICA8VG9vbGJhciBjbGFzc05hbWU9XCJtYi00XCIgbGVmdD17bGVmdFRvb2xiYXJUZW1wbGF0ZX0gcmlnaHQ9e3JpZ2h0VG9vbGJhclRlbXBsYXRlfT48L1Rvb2xiYXI+XG5cbiAgICAgICAgICA8RGF0YVRhYmxlXG4gICAgICAgICAgICByZWY9e2R0fVxuICAgICAgICAgICAgdmFsdWU9e3Byb2plY3RzfVxuICAgICAgICAgICAgc2VsZWN0aW9uPXtzZWxlY3RlZFByb2plY3RzfVxuICAgICAgICAgICAgb25TZWxlY3Rpb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWxlY3RlZFByb2plY3RzKGUudmFsdWUgYXMgRGVtby5Qcm9qZWN0W10pfVxuICAgICAgICAgICAgZGF0YUtleT1cImlkXCJcbiAgICAgICAgICAgIHBhZ2luYXRvclxuICAgICAgICAgICAgcm93cz17MTB9XG4gICAgICAgICAgICByb3dzUGVyUGFnZU9wdGlvbnM9e1s1LCAxMCwgMjVdfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZGF0YXRhYmxlLXJlc3BvbnNpdmVcIlxuICAgICAgICAgICAgcGFnaW5hdG9yVGVtcGxhdGU9XCJGaXJzdFBhZ2VMaW5rIFByZXZQYWdlTGluayBQYWdlTGlua3MgTmV4dFBhZ2VMaW5rIExhc3RQYWdlTGluayBDdXJyZW50UGFnZVJlcG9ydCBSb3dzUGVyUGFnZURyb3Bkb3duXCJcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlUmVwb3J0VGVtcGxhdGU9XCJTaG93aW5nIHtmaXJzdH0gdG8ge2xhc3R9IG9mIHt0b3RhbFJlY29yZHN9IHByb2plY3RzXCJcbiAgICAgICAgICAgIGdsb2JhbEZpbHRlcj17Z2xvYmFsRmlsdGVyfVxuICAgICAgICAgICAgZW1wdHlNZXNzYWdlPVwiTm8gcHJvamVjdHMgZm91bmQuXCJcbiAgICAgICAgICAgIGhlYWRlcj17aGVhZGVyfVxuICAgICAgICAgICAgcmVzcG9uc2l2ZUxheW91dD1cInNjcm9sbFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPENvbHVtbiBzZWxlY3Rpb25Nb2RlPVwibXVsdGlwbGVcIiBoZWFkZXJTdHlsZT17eyB3aWR0aDogJzRyZW0nIH19PjwvQ29sdW1uPlxuICAgICAgICAgICAgPENvbHVtbiBmaWVsZD1cIm5hbWVcIiBoZWFkZXI9XCJOYW1lXCIgc29ydGFibGUgYm9keT17bmFtZUJvZHlUZW1wbGF0ZX0gaGVhZGVyU3R5bGU9e3sgbWluV2lkdGg6ICcxNXJlbScgfX0+PC9Db2x1bW4+XG4gICAgICAgICAgICA8Q29sdW1uIGZpZWxkPVwiaW52ZW50b3J5RGVzY3JpcHRpb25cIiBoZWFkZXI9XCJEZXNjcmlwdGlvblwiIGJvZHk9e2Rlc2NyaXB0aW9uQm9keVRlbXBsYXRlfSBzb3J0YWJsZSBoZWFkZXJTdHlsZT17eyBtaW5XaWR0aDogJzEwcmVtJyB9fT48L0NvbHVtbj5cbiAgICAgICAgICAgIDxDb2x1bW4gZmllbGQ9XCJzdGF0dXNcIiBoZWFkZXI9XCJTdGF0dXNcIiBzb3J0YWJsZSBib2R5PXtzdGF0dXNCb2R5VGVtcGxhdGV9IGhlYWRlclN0eWxlPXt7IG1pbldpZHRoOiAnMTByZW0nIH19PjwvQ29sdW1uPlxuICAgICAgICAgICAgPENvbHVtbiBib2R5PXthY3Rpb25Cb2R5VGVtcGxhdGV9IGhlYWRlclN0eWxlPXt7IG1pbldpZHRoOiAnMTByZW0nIH19PjwvQ29sdW1uPlxuICAgICAgICAgIDwvRGF0YVRhYmxlPlxuXG4gICAgICAgICAgPERpYWxvZyB2aXNpYmxlPXtwcm9qZWN0RGlhbG9nfSBzdHlsZT17eyB3aWR0aDogJzQ1MHB4JyB9fSBoZWFkZXI9XCJQcm9qZWN0IERldGFpbHNcIiBtb2RhbCBjbGFzc05hbWU9XCJwLWZsdWlkXCIgZm9vdGVyPXtwcm9qZWN0RGlhbG9nRm9vdGVyfSBvbkhpZGU9e2hpZGVEaWFsb2d9PlxuICAgICAgICAgICAge3Byb2plY3QuaW1hZ2UgJiYgPGltZyBzcmM9e2AvZGVtby9pbWFnZXMvcHJvamVjdC8ke3Byb2plY3QuaW1hZ2V9YH0gYWx0PXtwcm9qZWN0LmltYWdlfSB3aWR0aD1cIjE1MFwiIGNsYXNzTmFtZT1cIm10LTAgbXgtYXV0byBtYi01IGJsb2NrIHNoYWRvdy0yXCIgLz59XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpZWxkXCI+XG4gICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwibmFtZVwiPk5hbWU8L2xhYmVsPlxuICAgICAgICAgICAgICA8SW5wdXRUZXh0IGlkPVwibmFtZVwiIHZhbHVlPXtwcm9qZWN0Lm5hbWV9IG9uQ2hhbmdlPXsoZSkgPT4gb25JbnB1dENoYW5nZShlLCAnbmFtZScpfSByZXF1aXJlZCBhdXRvRm9jdXMgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHsgJ3AtaW52YWxpZCc6IHN1Ym1pdHRlZCAmJiAhcHJvamVjdC5uYW1lIH0pfSAvPlxuICAgICAgICAgICAgICB7c3VibWl0dGVkICYmICFwcm9qZWN0Lm5hbWUgJiYgPHNtYWxsIGNsYXNzTmFtZT1cInAtaW52YWxpZFwiPk5hbWUgaXMgcmVxdWlyZWQuPC9zbWFsbD59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmllbGRcIj5cbiAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJkZXNjcmlwdGlvblwiPkRlc2NyaXB0aW9uPC9sYWJlbD5cbiAgICAgICAgICAgICAgPElucHV0VGV4dGFyZWEgaWQ9XCJkZXNjcmlwdGlvblwiIHZhbHVlPXtwcm9qZWN0LmRlc2NyaXB0aW9ufSBvbkNoYW5nZT17KGUpID0+IG9uSW5wdXRDaGFuZ2UoZSwgJ2Rlc2NyaXB0aW9uJyl9IHJlcXVpcmVkIHJvd3M9ezN9IGNvbHM9ezIwfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmllbGRcIj5cbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cIm1iLTNcIj5TdGF0dXM8L2xhYmVsPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm1ncmlkIGdyaWRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpZWxkLXJhZGlvYnV0dG9uIGNvbC02XCI+XG4gICAgICAgICAgICAgICAgICA8UmFkaW9CdXR0b24gaW5wdXRJZD1cInN0YXR1czFcIiBuYW1lPVwic3RhdHVzXCIgdmFsdWU9XCJOZXdcIiBvbkNoYW5nZT17b25TdGF0dXNDaGFuZ2V9IGNoZWNrZWQ9e3Byb2plY3Quc3RhdHVzID09PSAnTmV3J30gLz5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwic3RhdHVzMVwiPk5ldzwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWVsZC1yYWRpb2J1dHRvbiBjb2wtNlwiPlxuICAgICAgICAgICAgICAgICAgPFJhZGlvQnV0dG9uIGlucHV0SWQ9XCJzdGF0dXMyXCIgbmFtZT1cInN0YXR1c1wiIHZhbHVlPVwiSW4gUHJvZ3Jlc3NcIiBvbkNoYW5nZT17b25TdGF0dXNDaGFuZ2V9IGNoZWNrZWQ9e3Byb2plY3Quc3RhdHVzID09PSAnSW4gUHJvZ3Jlc3MnfSAvPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJzdGF0dXMyXCI+SW4gUHJvZ3Jlc3M8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmllbGQtcmFkaW9idXR0b24gY29sLTZcIj5cbiAgICAgICAgICAgICAgICAgIDxSYWRpb0J1dHRvbiBpbnB1dElkPVwic3RhdHVzM1wiIG5hbWU9XCJzdGF0dXNcIiB2YWx1ZT1cIkNvbXBsZXRlZFwiIG9uQ2hhbmdlPXtvblN0YXR1c0NoYW5nZX0gY2hlY2tlZD17cHJvamVjdC5zdGF0dXMgPT09ICdDb21wbGV0ZWQnfSAvPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJzdGF0dXMzXCI+Q29tcGxldGVkPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpZWxkLXJhZGlvYnV0dG9uIGNvbC02XCI+XG4gICAgICAgICAgICAgICAgICA8UmFkaW9CdXR0b24gaW5wdXRJZD1cInN0YXR1czRcIiBuYW1lPVwic3RhdHVzXCIgdmFsdWU9XCJDYW5jZWxsZWRcIiBvbkNoYW5nZT17b25TdGF0dXNDaGFuZ2V9IGNoZWNrZWQ9e3Byb2plY3Quc3RhdHVzID09PSAnQ2FuY2VsbGVkJ30gLz5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwic3RhdHVzNFwiPkNhbmNlbGxlZDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9EaWFsb2c+XG5cbiAgICAgICAgICA8RGlhbG9nIHZpc2libGU9e2RlbGV0ZVByb2plY3REaWFsb2d9IHN0eWxlPXt7IHdpZHRoOiAnNDUwcHgnIH19IGhlYWRlcj1cIkNvbmZpcm1cIiBtb2RhbCBmb290ZXI9e2RlbGV0ZVByb2plY3REaWFsb2dGb290ZXJ9IG9uSGlkZT17aGlkZURlbGV0ZVByb2plY3REaWFsb2d9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cInBpIHBpLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlIG1yLTNcIiBzdHlsZT17eyBmb250U2l6ZTogJzJyZW0nIH19IC8+XG4gICAgICAgICAgICAgIHtwcm9qZWN0ICYmIChcbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgPGI+e3Byb2plY3QubmFtZX08L2I+P1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRGlhbG9nPlxuXG4gICAgICAgICAgPERpYWxvZyB2aXNpYmxlPXtkZWxldGVQcm9qZWN0c0RpYWxvZ30gc3R5bGU9e3sgd2lkdGg6ICc0NTBweCcgfX0gaGVhZGVyPVwiQ29uZmlybVwiIG1vZGFsIGZvb3Rlcj17ZGVsZXRlUHJvamVjdHNEaWFsb2dGb290ZXJ9IG9uSGlkZT17aGlkZURlbGV0ZVByb2plY3RzRGlhbG9nfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJwaSBwaS1leGNsYW1hdGlvbi10cmlhbmdsZSBtci0zXCIgc3R5bGU9e3sgZm9udFNpemU6ICcycmVtJyB9fSAvPlxuICAgICAgICAgICAgICB7cHJvamVjdCAmJiA8c3Bhbj5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoZSBzZWxlY3RlZCBwcm9qZWN0cz88L3NwYW4+fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9EaWFsb2c+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDcnVkO1xuXG5cbi8vIFBhdGg6ICcvY3J1ZCciXSwibmFtZXMiOlsiQnV0dG9uIiwiQ29sdW1uIiwiRGF0YVRhYmxlIiwiRGlhbG9nIiwiRmlsZVVwbG9hZCIsIklucHV0VGV4dCIsIklucHV0VGV4dGFyZWEiLCJSYWRpb0J1dHRvbiIsIlRvYXN0IiwiVG9vbGJhciIsImNsYXNzTmFtZXMiLCJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiQ3J1ZCIsImVtcHR5UHJvamVjdCIsImlkIiwibmFtZSIsImRlc2NyaXB0aW9uIiwic3RhdHVzIiwicHJvamVjdHMiLCJzZXRQcm9qZWN0cyIsInByb2plY3REaWFsb2ciLCJzZXRQcm9qZWN0RGlhbG9nIiwiZGVsZXRlUHJvamVjdERpYWxvZyIsInNldERlbGV0ZVByb2plY3REaWFsb2ciLCJkZWxldGVQcm9qZWN0c0RpYWxvZyIsInNldERlbGV0ZVByb2plY3RzRGlhbG9nIiwicHJvamVjdCIsInNldFByb2plY3QiLCJzZWxlY3RlZFByb2plY3RzIiwic2V0U2VsZWN0ZWRQcm9qZWN0cyIsInN1Ym1pdHRlZCIsInNldFN1Ym1pdHRlZCIsImdsb2JhbEZpbHRlciIsInNldEdsb2JhbEZpbHRlciIsInRvYXN0IiwiZHQiLCJmb3JtYXRDdXJyZW5jeSIsInZhbHVlIiwidG9Mb2NhbGVTdHJpbmciLCJzdHlsZSIsImN1cnJlbmN5Iiwib3Blbk5ldyIsImhpZGVEaWFsb2ciLCJoaWRlRGVsZXRlUHJvamVjdERpYWxvZyIsImhpZGVEZWxldGVQcm9qZWN0c0RpYWxvZyIsInNhdmVQcm9qZWN0IiwidHJpbSIsIl9wcm9qZWN0cyIsIl9wcm9qZWN0IiwiaW5kZXgiLCJmaW5kSW5kZXhCeUlkIiwiY3VycmVudCIsInNob3ciLCJzZXZlcml0eSIsInN1bW1hcnkiLCJkZXRhaWwiLCJsaWZlIiwiY3JlYXRlSWQiLCJpbWFnZSIsInB1c2giLCJlZGl0UHJvamVjdCIsImNvbmZpcm1EZWxldGVQcm9qZWN0IiwiZGVsZXRlUHJvamVjdCIsImZpbHRlciIsInZhbCIsImkiLCJsZW5ndGgiLCJjaGFycyIsImNoYXJBdCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImV4cG9ydENTViIsImNvbmZpcm1EZWxldGVTZWxlY3RlZCIsImRlbGV0ZVNlbGVjdGVkUHJvamVjdHMiLCJpbmNsdWRlcyIsIm9uU3RhdHVzQ2hhbmdlIiwiZSIsIm9uSW5wdXRDaGFuZ2UiLCJ0YXJnZXQiLCJvbklucHV0TnVtYmVyQ2hhbmdlIiwibGVmdFRvb2xiYXJUZW1wbGF0ZSIsIkZyYWdtZW50IiwiZGl2IiwiY2xhc3NOYW1lIiwibGFiZWwiLCJpY29uIiwib25DbGljayIsImRpc2FibGVkIiwicmlnaHRUb29sYmFyVGVtcGxhdGUiLCJtb2RlIiwiYWNjZXB0IiwibWF4RmlsZVNpemUiLCJjaG9vc2VMYWJlbCIsIm5hbWVCb2R5VGVtcGxhdGUiLCJyb3dEYXRhIiwic3BhbiIsInN0YXR1c0JvZHlUZW1wbGF0ZSIsImRlc2NyaXB0aW9uQm9keVRlbXBsYXRlIiwiYWN0aW9uQm9keVRlbXBsYXRlIiwicm91bmRlZCIsImhlYWRlciIsImg1IiwidHlwZSIsIm9uSW5wdXQiLCJjdXJyZW50VGFyZ2V0IiwicGxhY2Vob2xkZXIiLCJwcm9qZWN0RGlhbG9nRm9vdGVyIiwidGV4dCIsImRlbGV0ZVByb2plY3REaWFsb2dGb290ZXIiLCJkZWxldGVQcm9qZWN0c0RpYWxvZ0Zvb3RlciIsInJlZiIsImxlZnQiLCJyaWdodCIsInNlbGVjdGlvbiIsIm9uU2VsZWN0aW9uQ2hhbmdlIiwiZGF0YUtleSIsInBhZ2luYXRvciIsInJvd3MiLCJyb3dzUGVyUGFnZU9wdGlvbnMiLCJwYWdpbmF0b3JUZW1wbGF0ZSIsImN1cnJlbnRQYWdlUmVwb3J0VGVtcGxhdGUiLCJlbXB0eU1lc3NhZ2UiLCJyZXNwb25zaXZlTGF5b3V0Iiwic2VsZWN0aW9uTW9kZSIsImhlYWRlclN0eWxlIiwid2lkdGgiLCJmaWVsZCIsInNvcnRhYmxlIiwiYm9keSIsIm1pbldpZHRoIiwidmlzaWJsZSIsIm1vZGFsIiwiZm9vdGVyIiwib25IaWRlIiwiaW1nIiwic3JjIiwiYWx0IiwiaHRtbEZvciIsIm9uQ2hhbmdlIiwicmVxdWlyZWQiLCJhdXRvRm9jdXMiLCJzbWFsbCIsImNvbHMiLCJpbnB1dElkIiwiY2hlY2tlZCIsImZvbnRTaXplIiwiYiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/index.tsx\n"));

/***/ }),

/***/ "./node_modules/primereact/column/column.esm.js":
/*!******************************************************!*\
  !*** ./node_modules/primereact/column/column.esm.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Column\": function() { return /* binding */ Column; }\n/* harmony export */ });\nvar Column = function Column() {};\nColumn.displayName = 'Column';\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9jb2x1bW4vY29sdW1uLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTs7QUFFa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3ByaW1lcmVhY3QvY29sdW1uL2NvbHVtbi5lc20uanM/ODMxMyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQ29sdW1uID0gZnVuY3Rpb24gQ29sdW1uKCkge307XG5Db2x1bW4uZGlzcGxheU5hbWUgPSAnQ29sdW1uJztcblxuZXhwb3J0IHsgQ29sdW1uIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/primereact/column/column.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/datatable/datatable.esm.js":
/*!************************************************************!*\
  !*** ./node_modules/primereact/datatable/datatable.esm.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DataTable\": function() { return /* binding */ DataTable; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/api */ \"./node_modules/primereact/api/api.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_paginator__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! primereact/paginator */ \"./node_modules/primereact/paginator/paginator.esm.js\");\n/* harmony import */ var primereact_virtualscroller__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! primereact/virtualscroller */ \"./node_modules/primereact/virtualscroller/virtualscroller.esm.js\");\n/* harmony import */ var primereact_overlayservice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/overlayservice */ \"./node_modules/primereact/overlayservice/overlayservice.esm.js\");\n/* harmony import */ var primereact_ripple__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/ripple */ \"./node_modules/primereact/ripple/ripple.esm.js\");\n/* harmony import */ var primereact_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! primereact/button */ \"./node_modules/primereact/button/button.esm.js\");\n/* harmony import */ var primereact_csstransition__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! primereact/csstransition */ \"./node_modules/primereact/csstransition/csstransition.esm.js\");\n/* harmony import */ var primereact_dropdown__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! primereact/dropdown */ \"./node_modules/primereact/dropdown/dropdown.esm.js\");\n/* harmony import */ var primereact_inputtext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/inputtext */ \"./node_modules/primereact/inputtext/inputtext.esm.js\");\n/* harmony import */ var primereact_portal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! primereact/portal */ \"./node_modules/primereact/portal/portal.esm.js\");\n/* harmony import */ var primereact_tooltip__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! primereact/tooltip */ \"./node_modules/primereact/tooltip/tooltip.esm.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar ColumnBase = {\n  defaultProps: {\n    __TYPE: 'Column',\n    align: null,\n    alignFrozen: 'left',\n    alignHeader: null,\n    body: null,\n    bodyClassName: null,\n    bodyStyle: null,\n    cellEditValidator: null,\n    cellEditValidatorEvent: 'click',\n    className: null,\n    colSpan: null,\n    columnKey: null,\n    dataType: 'text',\n    editor: null,\n    excludeGlobalFilter: false,\n    expander: false,\n    exportField: null,\n    exportable: true,\n    field: null,\n    filter: false,\n    filterApply: null,\n    filterClear: null,\n    filterElement: null,\n    filterField: null,\n    filterFooter: null,\n    filterFunction: null,\n    filterHeader: null,\n    filterHeaderClassName: null,\n    filterHeaderStyle: null,\n    filterMatchMode: null,\n    filterMatchModeOptions: null,\n    filterMaxLength: null,\n    filterMenuClassName: null,\n    filterMenuStyle: null,\n    filterPlaceholder: null,\n    filterType: 'text',\n    footer: null,\n    footerClassName: null,\n    footerStyle: null,\n    frozen: false,\n    header: null,\n    headerClassName: null,\n    headerStyle: null,\n    headerTooltip: null,\n    headerTooltipOptions: null,\n    hidden: false,\n    maxConstraints: 2,\n    onBeforeCellEditHide: null,\n    onBeforeCellEditShow: null,\n    onCellEditCancel: null,\n    onCellEditComplete: null,\n    onCellEditInit: null,\n    onFilterApplyClick: null,\n    onFilterClear: null,\n    onFilterConstraintAdd: null,\n    onFilterConstraintRemove: null,\n    onFilterMatchModeChange: null,\n    onFilterOperatorChange: null,\n    reorderable: true,\n    resizeable: true,\n    rowEditor: false,\n    rowReorder: false,\n    rowReorderIcon: 'pi pi-bars',\n    rowSpan: null,\n    selectionMode: null,\n    showAddButton: true,\n    showApplyButton: true,\n    showClearButton: true,\n    showFilterMatchModes: true,\n    showFilterMenu: true,\n    showFilterMenuOptions: true,\n    showFilterOperator: true,\n    sortField: null,\n    sortFunction: null,\n    sortable: false,\n    sortableDisabled: false,\n    style: null,\n    children: undefined\n  },\n  getCProp: function getCProp(column, name) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getComponentProp(column, name, ColumnBase.defaultProps);\n  },\n  getCProps: function getCProps(column) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getComponentProps(column, ColumnBase.defaultProps);\n  },\n  getCOtherProps: function getCOtherProps(column) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getComponentDiffProps(column, ColumnBase.defaultProps);\n  }\n};\n\nvar DataTableBase = {\n  defaultProps: {\n    __TYPE: 'DataTable',\n    alwaysShowPaginator: true,\n    breakpoint: '960px',\n    cellClassName: null,\n    cellSelection: false,\n    className: null,\n    collapsedRowIcon: 'pi pi-chevron-right',\n    columnResizeMode: 'fit',\n    compareSelectionBy: 'deepEquals',\n    contextMenuSelection: null,\n    csvSeparator: ',',\n    currentPageReportTemplate: '({currentPage} of {totalPages})',\n    customRestoreState: null,\n    customSaveState: null,\n    dataKey: null,\n    defaultSortOrder: 1,\n    dragSelection: false,\n    editMode: 'cell',\n    editingRows: null,\n    emptyMessage: null,\n    expandableRowGroups: false,\n    expandedRowIcon: 'pi pi-chevron-down',\n    expandedRows: null,\n    exportFilename: 'download',\n    exportFunction: null,\n    filterDelay: 300,\n    filterDisplay: 'menu',\n    filterLocale: undefined,\n    filters: null,\n    first: 0,\n    footer: null,\n    footerColumnGroup: null,\n    frozenValue: null,\n    frozenWidth: null,\n    globalFilter: null,\n    globalFilterFields: null,\n    globalFilterMatchMode: primereact_api__WEBPACK_IMPORTED_MODULE_2__.FilterMatchMode.CONTAINS,\n    groupRowsBy: null,\n    header: null,\n    headerColumnGroup: null,\n    id: null,\n    isDataSelectable: null,\n    lazy: false,\n    loading: false,\n    loadingIcon: 'pi pi-spinner',\n    metaKeySelection: true,\n    multiSortMeta: null,\n    onAllRowsSelect: null,\n    onAllRowsUnselect: null,\n    onCellClick: null,\n    onCellSelect: null,\n    onCellUnselect: null,\n    onColReorder: null,\n    onColumnResizeEnd: null,\n    onColumnResizerClick: null,\n    onColumnResizerDoubleClick: null,\n    onContextMenu: null,\n    onContextMenuSelectionChange: null,\n    onFilter: null,\n    onPage: null,\n    onRowClick: null,\n    onRowMouseEnter: null,\n    onRowMouseLeave: null,\n    onRowCollapse: null,\n    onRowDoubleClick: null,\n    onRowEditCancel: null,\n    onRowEditChange: null,\n    onRowEditComplete: null,\n    onRowEditInit: null,\n    onRowEditSave: null,\n    onRowExpand: null,\n    onRowReorder: null,\n    onRowSelect: null,\n    onRowToggle: null,\n    onRowUnselect: null,\n    onSelectAllChange: null,\n    onSelectionChange: null,\n    onSort: null,\n    onStateRestore: null,\n    onStateSave: null,\n    onValueChange: null,\n    pageLinkSize: 5,\n    paginator: false,\n    paginatorClassName: null,\n    paginatorDropdownAppendTo: null,\n    paginatorLeft: null,\n    paginatorPosition: 'bottom',\n    paginatorRight: null,\n    paginatorTemplate: 'FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown',\n    removableSort: false,\n    reorderableColumns: false,\n    reorderableRows: false,\n    resizableColumns: false,\n    responsiveLayout: 'scroll',\n    rowClassName: null,\n    rowEditValidator: null,\n    rowExpansionTemplate: null,\n    rowGroupFooterTemplate: null,\n    rowGroupHeaderTemplate: null,\n    rowGroupMode: null,\n    rowHover: false,\n    rows: null,\n    rowsPerPageOptions: null,\n    scrollHeight: null,\n    scrollable: false,\n    selectAll: false,\n    selectOnEdit: true,\n    selection: null,\n    selectionAriaLabel: null,\n    selectionAutoFocus: true,\n    selectionMode: null,\n    selectionPageOnly: false,\n    showGridlines: false,\n    showRowReorderElement: null,\n    showSelectAll: true,\n    showSelectionElement: null,\n    size: 'normal',\n    sortField: null,\n    sortMode: 'single',\n    sortOrder: null,\n    stateKey: null,\n    stateStorage: 'session',\n    stripedRows: false,\n    style: null,\n    tabIndex: 0,\n    tableClassName: null,\n    tableStyle: null,\n    totalRecords: null,\n    value: null,\n    virtualScrollerOptions: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, DataTableBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, DataTableBase.defaultProps);\n  }\n};\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\n\nvar RowCheckbox = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    focusedState = _React$useState2[0],\n    setFocusedState = _React$useState2[1];\n  var onFocus = function onFocus() {\n    setFocusedState(true);\n  };\n  var onBlur = function onBlur() {\n    setFocusedState(false);\n  };\n  var onClick = function onClick(event) {\n    if (!props.disabled) {\n      setFocusedState(true);\n      props.onChange(event);\n    }\n  };\n  var onKeyDown = function onKeyDown(event) {\n    if (event.code === 'Space' || event.key === ' ') {\n      // event.key is for Android support\n      onClick(event);\n      event.preventDefault();\n    }\n  };\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-checkbox p-component', {\n    'p-checkbox-focused': focusedState\n  });\n  var boxClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-checkbox-box p-component', {\n    'p-highlight': props.checked,\n    'p-disabled': props.disabled,\n    'p-focus': focusedState\n  });\n  var iconClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-checkbox-icon', {\n    'pi pi-check': props.checked\n  });\n  var tabIndex = props.disabled ? null : '0';\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: className,\n    onClick: onClick\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: boxClassName,\n    role: \"checkbox\",\n    \"aria-checked\": props.checked,\n    tabIndex: tabIndex,\n    onKeyDown: onKeyDown,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    \"aria-label\": props.ariaLabel\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: iconClassName\n  })));\n});\nRowCheckbox.displayName = 'RowCheckbox';\n\nvar RowRadioButton = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    focusedState = _React$useState2[0],\n    setFocusedState = _React$useState2[1];\n  var inputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var onFocus = function onFocus() {\n    setFocusedState(true);\n  };\n  var onBlur = function onBlur() {\n    setFocusedState(false);\n  };\n  var onClick = function onClick(event) {\n    if (!props.disabled) {\n      props.onChange(event);\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.focus(inputRef.current);\n    }\n  };\n  var onKeyDown = function onKeyDown(event) {\n    if (event.code === 'Space' || event.key === ' ') {\n      // event.key is for Android support\n      onClick(event);\n      event.preventDefault();\n    }\n  };\n  var onChange = function onChange(event) {\n    onClick(event);\n  };\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-radiobutton p-component', {\n    'p-radiobutton-focused': focusedState\n  });\n  var boxClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-radiobutton-box p-component', {\n    'p-highlight': props.checked,\n    'p-focus': focusedState,\n    'p-disabled': props.disabled\n  });\n  var name = \"\".concat(props.tableSelector, \"_dt_radio\");\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: className\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-hidden-accessible\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n    name: name,\n    ref: inputRef,\n    type: \"radio\",\n    checked: props.checked,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onChange: onChange,\n    onKeyDown: onKeyDown,\n    \"aria-label\": props.ariaLabel\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: boxClassName,\n    onClick: onClick,\n    role: \"radio\",\n    \"aria-checked\": props.checked\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-radiobutton-icon\"\n  })));\n});\nRowRadioButton.displayName = 'RowRadioButton';\n\nfunction ownKeys$7(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$7(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$7(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$7(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar BodyCell = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.editing),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    editingState = _React$useState2[0],\n    setEditingState = _React$useState2[1];\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.rowData),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    editingRowDataState = _React$useState4[0],\n    setEditingRowDataState = _React$useState4[1];\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0__.useState({}),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    styleObjectState = _React$useState6[0],\n    setStyleObjectState = _React$useState6[1];\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var keyHelperRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var overlayEventListener = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var selfClick = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var tabindexTimeout = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var initFocusTimeout = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var getColumnProp = function getColumnProp(name) {\n    return ColumnBase.getCProp(props.column, name);\n  };\n  var field = getColumnProp('field') || \"field_\".concat(props.index);\n  var editingKey = props.dataKey ? props.rowData && props.rowData[props.dataKey] || props.rowIndex : props.rowIndex;\n  var _useEventListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useEventListener)({\n      type: 'click',\n      listener: function listener(e) {\n        if (!selfClick.current && isOutsideClicked(e.target)) {\n          switchCellToViewMode(e, true);\n        }\n        selfClick.current = false;\n      },\n      options: true\n    }),\n    _useEventListener2 = _slicedToArray(_useEventListener, 2),\n    bindDocumentClickListener = _useEventListener2[0],\n    unbindDocumentClickListener = _useEventListener2[1];\n  if (props.editMode === 'row' && props.editing !== editingState) {\n    setEditingState(props.editing);\n  }\n  var isEditable = function isEditable() {\n    return getColumnProp('editor');\n  };\n  var isSelected = function isSelected() {\n    return props.selection ? props.selection instanceof Array ? findIndex(props.selection) > -1 : equals(props.selection) : false;\n  };\n  var equalsData = function equalsData(data) {\n    return props.compareSelectionBy === 'equals' ? data === props.rowData : primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.equals(data, props.rowData, props.dataKey);\n  };\n  var equals = function equals(selectedCell) {\n    return selectedCell && (selectedCell.rowIndex === props.rowIndex || equalsData(selectedCell.rowData)) && (selectedCell.field === field || selectedCell.cellIndex === props.index);\n  };\n  var isOutsideClicked = function isOutsideClicked(target) {\n    return elementRef.current && !(elementRef.current.isSameNode(target) || elementRef.current.contains(target));\n  };\n  var getVirtualScrollerOption = function getVirtualScrollerOption(option) {\n    return props.virtualScrollerOptions ? props.virtualScrollerOptions[option] : null;\n  };\n  var getStyle = function getStyle() {\n    var bodyStyle = getColumnProp('bodyStyle');\n    var columnStyle = getColumnProp('style');\n    return getColumnProp('frozen') ? Object.assign({}, columnStyle, bodyStyle, styleObjectState) : Object.assign({}, columnStyle, bodyStyle);\n  };\n  var getCellParams = function getCellParams() {\n    return {\n      value: resolveFieldData(),\n      field: field,\n      rowData: props.rowData,\n      rowIndex: props.rowIndex,\n      cellIndex: props.index,\n      selected: isSelected(),\n      column: props.column,\n      props: props\n    };\n  };\n  var getCellCallbackParams = function getCellCallbackParams(event) {\n    var params = getCellParams();\n    return _objectSpread$7({\n      originalEvent: event\n    }, params);\n  };\n  var resolveFieldData = function resolveFieldData(data) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(data || props.rowData, field);\n  };\n  var getEditingRowData = function getEditingRowData() {\n    return props.editingMeta && props.editingMeta[editingKey] ? props.editingMeta[editingKey].data : props.rowData;\n  };\n  var getTabIndex = function getTabIndex(cellSelected) {\n    return props.allowCellSelection ? cellSelected ? 0 : props.rowIndex === 0 && props.index === 0 ? props.tabIndex : -1 : null;\n  };\n  var findIndex = function findIndex(collection) {\n    return (collection || []).findIndex(function (data) {\n      return equals(data);\n    });\n  };\n  var closeCell = function closeCell(event) {\n    var params = getCellCallbackParams(event);\n    var onBeforeCellEditHide = getColumnProp('onBeforeCellEditHide');\n    if (onBeforeCellEditHide) {\n      onBeforeCellEditHide(params);\n    }\n\n    /* When using the 'tab' key, the focus event of the next cell is not called in IE. */\n    setTimeout(function () {\n      setEditingState(false);\n      unbindDocumentClickListener();\n      primereact_overlayservice__WEBPACK_IMPORTED_MODULE_4__.OverlayService.off('overlay-click', overlayEventListener.current);\n      overlayEventListener.current = null;\n      selfClick.current = false;\n    }, 1);\n  };\n  var switchCellToViewMode = function switchCellToViewMode(event, submit) {\n    var callbackParams = getCellCallbackParams(event);\n    var newRowData = editingRowDataState;\n    var newValue = resolveFieldData(newRowData);\n    var params = _objectSpread$7(_objectSpread$7({}, callbackParams), {}, {\n      newRowData: newRowData,\n      newValue: newValue\n    });\n    var onCellEditCancel = getColumnProp('onCellEditCancel');\n    var cellEditValidator = getColumnProp('cellEditValidator');\n    var onCellEditComplete = getColumnProp('onCellEditComplete');\n    if (!submit && onCellEditCancel) {\n      onCellEditCancel(params);\n    }\n    var valid = true;\n    if (cellEditValidator) {\n      valid = cellEditValidator(params);\n    }\n    if (valid) {\n      if (submit && onCellEditComplete) {\n        onCellEditComplete(params);\n      }\n      closeCell(event);\n    } else {\n      event.preventDefault();\n    }\n  };\n  var findNextSelectableCell = function findNextSelectableCell(cell) {\n    var nextCell = cell.nextElementSibling;\n    return nextCell ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(nextCell, 'p-selectable-cell') ? nextCell : findNextSelectableCell(nextCell) : null;\n  };\n  var findPrevSelectableCell = function findPrevSelectableCell(cell) {\n    var prevCell = cell.previousElementSibling;\n    return prevCell ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(prevCell, 'p-selectable-cell') ? prevCell : findPrevSelectableCell(prevCell) : null;\n  };\n  var findDownSelectableCell = function findDownSelectableCell(cell) {\n    var downRow = cell.parentElement.nextElementSibling;\n    var downCell = downRow ? downRow.children[props.index] : null;\n    return downRow && downCell ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(downRow, 'p-selectable-row') && primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(downCell, 'p-selectable-cell') ? downCell : findDownSelectableCell(downCell) : null;\n  };\n  var findUpSelectableCell = function findUpSelectableCell(cell) {\n    var upRow = cell.parentElement.previousElementSibling;\n    var upCell = upRow ? upRow.children[props.index] : null;\n    return upRow && upCell ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(upRow, 'p-selectable-row') && primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(upCell, 'p-selectable-cell') ? upCell : findUpSelectableCell(upCell) : null;\n  };\n  var changeTabIndex = function changeTabIndex(currentCell, nextCell) {\n    if (currentCell && nextCell) {\n      currentCell.tabIndex = -1;\n      nextCell.tabIndex = props.tabIndex;\n    }\n  };\n  var focusOnElement = function focusOnElement() {\n    clearTimeout(tabindexTimeout.current);\n    tabindexTimeout.current = setTimeout(function () {\n      if (editingState) {\n        var focusableEl = props.editMode === 'cell' ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getFirstFocusableElement(elementRef.current, ':not(.p-cell-editor-key-helper)') : primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.findSingle(elementRef.current, '.p-row-editor-save');\n        focusableEl && focusableEl.focus();\n      }\n      keyHelperRef.current && (keyHelperRef.current.tabIndex = editingState ? -1 : 0);\n    }, 1);\n  };\n  var focusOnInit = function focusOnInit() {\n    clearTimeout(initFocusTimeout.current);\n    initFocusTimeout.current = setTimeout(function () {\n      var focusableEl = props.editMode === 'row' ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.findSingle(elementRef.current, '.p-row-editor-init') : null;\n      focusableEl && focusableEl.focus();\n    }, 1);\n  };\n  var updateStickyPosition = function updateStickyPosition() {\n    if (getColumnProp('frozen')) {\n      var styleObject = _objectSpread$7({}, styleObjectState);\n      var align = getColumnProp('alignFrozen');\n      if (align === 'right') {\n        var right = 0;\n        var next = elementRef.current && elementRef.current.nextElementSibling;\n        if (next) {\n          right = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOuterWidth(next) + parseFloat(next.style.right || 0);\n        }\n        styleObject['right'] = right + 'px';\n      } else {\n        var left = 0;\n        var prev = elementRef.current && elementRef.current.previousElementSibling;\n        if (prev) {\n          left = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOuterWidth(prev) + parseFloat(prev.style.left || 0);\n        }\n        styleObject['left'] = left + 'px';\n      }\n      var isSameStyle = styleObjectState['left'] === styleObject['left'] && styleObjectState['right'] === styleObject['right'];\n      !isSameStyle && setStyleObjectState(styleObject);\n    }\n  };\n  var editorCallback = function editorCallback(val) {\n    var editingRowData = _objectSpread$7({}, editingRowDataState);\n    editingRowData[field] = val;\n    setEditingRowDataState(editingRowData);\n\n    // update editing meta for complete methods on row mode\n    var currentData = getEditingRowData();\n    if (currentData) {\n      currentData[field] = val;\n    }\n  };\n  var onClick = function onClick(event) {\n    var params = getCellCallbackParams(event);\n    if (props.editMode !== 'row' && isEditable() && !editingState && (props.selectOnEdit || !props.selectOnEdit && props.selected)) {\n      selfClick.current = true;\n      var onBeforeCellEditShow = getColumnProp('onBeforeCellEditShow');\n      var onCellEditInit = getColumnProp('onCellEditInit');\n      var cellEditValidatorEvent = getColumnProp('cellEditValidatorEvent');\n      if (onBeforeCellEditShow) {\n        onBeforeCellEditShow(params);\n      }\n\n      // If the data is sorted using sort icon, it has been added to wait for the sort operation when any cell is wanted to be opened.\n      setTimeout(function () {\n        setEditingState(true);\n        if (onCellEditInit) {\n          onCellEditInit(params);\n        }\n        if (cellEditValidatorEvent === 'click') {\n          bindDocumentClickListener();\n          overlayEventListener.current = function (e) {\n            if (!isOutsideClicked(e.target)) {\n              selfClick.current = true;\n            }\n          };\n          primereact_overlayservice__WEBPACK_IMPORTED_MODULE_4__.OverlayService.on('overlay-click', overlayEventListener.current);\n        }\n      }, 1);\n    }\n    if (props.allowCellSelection && props.onClick) {\n      props.onClick(params);\n    }\n  };\n  var onMouseDown = function onMouseDown(event) {\n    var params = getCellCallbackParams(event);\n    props.onMouseDown && props.onMouseDown(params);\n  };\n  var onMouseUp = function onMouseUp(event) {\n    var params = getCellCallbackParams(event);\n    props.onMouseUp && props.onMouseUp(params);\n  };\n  var onKeyDown = function onKeyDown(event) {\n    if (props.editMode !== 'row') {\n      if (event.which === 13 || event.which === 9) {\n        // tab || enter\n        switchCellToViewMode(event, true);\n      }\n      if (event.which === 27) {\n        // escape\n        switchCellToViewMode(event, false);\n      }\n    }\n    if (props.allowCellSelection) {\n      var target = event.target,\n        cell = event.currentTarget;\n      switch (event.which) {\n        //left arrow\n        case 37:\n          var prevCell = findPrevSelectableCell(cell);\n          if (prevCell) {\n            changeTabIndex(cell, prevCell);\n            prevCell.focus();\n          }\n          event.preventDefault();\n          break;\n\n        //right arrow\n        case 39:\n          var nextCell = findNextSelectableCell(cell);\n          if (nextCell) {\n            changeTabIndex(cell, nextCell);\n            nextCell.focus();\n          }\n          event.preventDefault();\n          break;\n\n        //up arrow\n        case 38:\n          var upCell = findUpSelectableCell(cell);\n          if (upCell) {\n            changeTabIndex(cell, upCell);\n            upCell.focus();\n          }\n          event.preventDefault();\n          break;\n\n        //down arrow\n        case 40:\n          var downCell = findDownSelectableCell(cell);\n          if (downCell) {\n            changeTabIndex(cell, downCell);\n            downCell.focus();\n          }\n          event.preventDefault();\n          break;\n\n        //enter\n        case 13:\n          // @deprecated\n          if (!primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.isClickable(target)) {\n            onClick(event);\n            event.preventDefault();\n          }\n          break;\n\n        //space\n        case 32:\n          if (!primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.isClickable(target) && !target.readOnly) {\n            onClick(event);\n            event.preventDefault();\n          }\n          break;\n      }\n    }\n  };\n  var onBlur = function onBlur(event) {\n    selfClick.current = false;\n    if (props.editMode !== 'row' && editingState && getColumnProp('cellEditValidatorEvent') === 'blur') {\n      switchCellToViewMode(event, true);\n    }\n  };\n  var onEditorFocus = function onEditorFocus(event) {\n    onClick(event);\n  };\n  var onRadioChange = function onRadioChange(event) {\n    props.onRadioChange({\n      originalEvent: event,\n      data: props.rowData,\n      index: props.rowIndex\n    });\n  };\n  var onCheckboxChange = function onCheckboxChange(event) {\n    props.onCheckboxChange({\n      originalEvent: event,\n      data: props.rowData,\n      index: props.rowIndex\n    });\n  };\n  var onRowToggle = function onRowToggle(event) {\n    props.onRowToggle({\n      originalEvent: event,\n      data: props.rowData\n    });\n    event.preventDefault();\n  };\n  var onRowEditInit = function onRowEditInit(event) {\n    props.onRowEditInit({\n      originalEvent: event,\n      data: props.rowData,\n      newData: getEditingRowData(),\n      field: field,\n      index: props.rowIndex\n    });\n  };\n  var onRowEditSave = function onRowEditSave(event) {\n    props.onRowEditSave({\n      originalEvent: event,\n      data: props.rowData,\n      newData: getEditingRowData(),\n      field: field,\n      index: props.rowIndex\n    });\n    focusOnInit();\n  };\n  var onRowEditCancel = function onRowEditCancel(event) {\n    props.onRowEditCancel({\n      originalEvent: event,\n      data: props.rowData,\n      newData: getEditingRowData(),\n      field: field,\n      index: props.rowIndex\n    });\n    focusOnInit();\n  };\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    if (getColumnProp('frozen')) {\n      updateStickyPosition();\n    }\n    if (props.editMode === 'cell' || props.editMode === 'row') {\n      focusOnElement();\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUpdateEffect)(function () {\n    if (props.editMode === 'cell' || props.editMode === 'row') {\n      setEditingRowDataState(getEditingRowData());\n    }\n  }, [props.editingMeta]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    if (props.editMode === 'cell' || props.editMode === 'row') {\n      var callbackParams = getCellCallbackParams();\n      var params = _objectSpread$7(_objectSpread$7({}, callbackParams), {}, {\n        editing: editingState,\n        editingKey: editingKey\n      });\n      props.onEditingMetaChange(params);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editingState]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUnmountEffect)(function () {\n    if (overlayEventListener.current) {\n      primereact_overlayservice__WEBPACK_IMPORTED_MODULE_4__.OverlayService.off('overlay-click', overlayEventListener.current);\n      overlayEventListener.current = null;\n    }\n  });\n  var createLoading = function createLoading() {\n    var options = getVirtualScrollerOption('getLoaderOptions')(props.rowIndex, {\n      cellIndex: props.index,\n      cellFirst: props.index === 0,\n      cellLast: props.index === getVirtualScrollerOption('columns').length - 1,\n      cellEven: props.index % 2 === 0,\n      cellOdd: props.index % 2 !== 0,\n      column: props.column,\n      field: field\n    });\n    var content = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(getVirtualScrollerOption('loadingTemplate'), options);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", null, content);\n  };\n  var createElement = function createElement() {\n    var content, editorKeyHelper;\n    var cellSelected = props.allowCellSelection && isSelected();\n    var isRowEditor = props.editMode === 'row';\n    var tabIndex = getTabIndex(cellSelected);\n    var selectionMode = getColumnProp('selectionMode');\n    var rowReorder = getColumnProp('rowReorder');\n    var rowEditor = getColumnProp('rowEditor');\n    var header = getColumnProp('header');\n    var body = getColumnProp('body');\n    var editor = getColumnProp('editor');\n    var frozen = getColumnProp('frozen');\n    var align = getColumnProp('align');\n    var value = resolveFieldData();\n    var columnBodyOptions = {\n      column: props.column,\n      field: field,\n      rowIndex: props.rowIndex,\n      frozenRow: props.frozenRow,\n      props: props.tableProps\n    };\n    var expander = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getPropValue(getColumnProp('expander'), props.rowData, columnBodyOptions);\n    var cellClassName = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getPropValue(props.cellClassName, value, columnBodyOptions);\n    var bodyClassName = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getPropValue(getColumnProp('bodyClassName'), props.rowData, columnBodyOptions);\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)(bodyClassName, getColumnProp('className'), cellClassName, _defineProperty({\n      'p-selection-column': selectionMode !== null,\n      'p-editable-column': editor,\n      'p-cell-editing': editor && editingState,\n      'p-frozen-column': frozen,\n      'p-selectable-cell': props.allowCellSelection && props.isSelectable({\n        data: getCellParams(),\n        index: props.rowIndex\n      }),\n      'p-highlight': cellSelected\n    }, \"p-align-\".concat(align), !!align));\n    var style = getStyle();\n    var title = props.responsiveLayout === 'stack' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"p-column-title\"\n    }, primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(header, {\n      props: props.tableProps\n    }));\n    if (selectionMode) {\n      var showSelection = props.showSelectionElement ? props.showSelectionElement(props.rowData, {\n        rowIndex: props.rowIndex,\n        props: props.tableProps\n      }) : true;\n      var label;\n      if (showSelection) {\n        var ariaLabelField = props.selectionAriaLabel || props.tableProps.dataKey;\n        var ariaLabelText = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(props.rowData, ariaLabelField);\n        label = \"\".concat(props.selected ? (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.ariaLabel)('unselectLabel') : (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.ariaLabel)('selectLabel'), \" \").concat(ariaLabelText);\n      }\n      content = showSelection && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, selectionMode === 'single' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(RowRadioButton, {\n        checked: props.selected,\n        onChange: onRadioChange,\n        tabIndex: props.tabIndex,\n        tableSelector: props.tableSelector,\n        ariaLabel: label\n      }), selectionMode === 'multiple' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(RowCheckbox, {\n        checked: props.selected,\n        onChange: onCheckboxChange,\n        tabIndex: props.tabIndex,\n        ariaLabel: label\n      }));\n    } else if (rowReorder) {\n      var showReorder = props.showRowReorderElement ? props.showRowReorderElement(props.rowData, {\n        rowIndex: props.rowIndex,\n        props: props.tableProps\n      }) : true;\n      content = showReorder && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-datatable-reorderablerow-handle', getColumnProp('rowReorderIcon'))\n      });\n    } else if (expander) {\n      var iconClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-row-toggler-icon', props.expanded ? props.expandedRowIcon : props.collapsedRowIcon);\n      var ariaControls = \"\".concat(props.tableSelector, \"_content_\").concat(props.rowIndex, \"_expanded\");\n      var _ariaLabelField = props.selectionAriaLabel || props.tableProps.dataKey;\n      var _ariaLabelText = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(props.rowData, _ariaLabelField);\n      var _label = \"\".concat(props.expanded ? (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.ariaLabel)('collapseLabel') : (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.ariaLabel)('expandLabel'), \" \").concat(_ariaLabelText);\n      var expanderProps = {\n        onClick: onRowToggle,\n        className: 'p-row-toggler p-link',\n        iconClassName: iconClassName\n      };\n      content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        className: expanderProps.className,\n        onClick: expanderProps.onClick,\n        type: \"button\",\n        \"aria-expanded\": props.expanded,\n        \"aria-controls\": ariaControls,\n        tabIndex: props.tabIndex,\n        \"aria-label\": _label\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: expanderProps.iconClassName,\n        \"aria-hidden\": \"true\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_5__.Ripple, null));\n      if (body) {\n        expanderProps['element'] = content;\n        content = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(body, props.rowData, {\n          column: props.column,\n          field: field,\n          rowIndex: props.rowIndex,\n          frozenRow: props.frozenRow,\n          props: props.tableProps,\n          expander: expanderProps\n        });\n      }\n    } else if (isRowEditor && rowEditor) {\n      var rowEditorProps = {};\n      if (editingState) {\n        rowEditorProps = {\n          editing: true,\n          onSaveClick: onRowEditSave,\n          saveClassName: 'p-row-editor-save p-link',\n          saveIconClassName: 'p-row-editor-save-icon pi pi-fw pi-check',\n          onCancelClick: onRowEditCancel,\n          cancelClassName: 'p-row-editor-cancel p-link',\n          cancelIconClassName: 'p-row-editor-cancel-icon pi pi-fw pi-times'\n        };\n        content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n          type: \"button\",\n          name: \"row-save\",\n          onClick: rowEditorProps.onSaveClick,\n          className: rowEditorProps.saveClassName,\n          tabIndex: props.tabIndex\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n          className: rowEditorProps.saveIconClassName\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_5__.Ripple, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n          type: \"button\",\n          name: \"row-cancel\",\n          onClick: rowEditorProps.onCancelClick,\n          className: rowEditorProps.cancelClassName,\n          tabIndex: props.tabIndex\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n          className: rowEditorProps.cancelIconClassName\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_5__.Ripple, null)));\n      } else {\n        rowEditorProps = {\n          editing: false,\n          onInitClick: onRowEditInit,\n          initClassName: 'p-row-editor-init p-link',\n          initIconClassName: 'p-row-editor-init-icon pi pi-fw pi-pencil'\n        };\n        content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n          type: \"button\",\n          name: \"row-edit\",\n          onClick: rowEditorProps.onInitClick,\n          className: rowEditorProps.initClassName,\n          tabIndex: props.tabIndex\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n          className: rowEditorProps.initIconClassName\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_5__.Ripple, null));\n      }\n      if (body) {\n        rowEditorProps['element'] = content;\n        content = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(body, props.rowData, {\n          column: props.column,\n          field: field,\n          rowIndex: props.rowIndex,\n          frozenRow: props.frozenRow,\n          props: props.tableProps,\n          rowEditor: rowEditorProps\n        });\n      }\n    } else if (body && (!editingState || !editor)) {\n      content = body ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(body, props.rowData, {\n        column: props.column,\n        field: field,\n        rowIndex: props.rowIndex,\n        frozenRow: props.frozenRow,\n        props: props.tableProps\n      }) : value;\n    } else if (editor && editingState) {\n      content = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(editor, {\n        rowData: editingRowDataState,\n        value: resolveFieldData(editingRowDataState),\n        column: props.column,\n        field: field,\n        rowIndex: props.rowIndex,\n        frozenRow: props.frozenRow,\n        props: props.tableProps,\n        editorCallback: editorCallback\n      });\n    } else {\n      content = value;\n    }\n    content = typeof content == 'boolean' ? content.toString() : content;\n    if (!isRowEditor && editor) {\n      /* eslint-disable */\n      editorKeyHelper = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", {\n        tabIndex: \"0\",\n        ref: keyHelperRef,\n        className: \"p-cell-editor-key-helper p-hidden-accessible\",\n        onFocus: onEditorFocus\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null));\n      /* eslint-enable */\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n      ref: elementRef,\n      style: style,\n      className: className,\n      rowSpan: props.rowSpan,\n      tabIndex: tabIndex,\n      role: \"cell\",\n      onClick: onClick,\n      onKeyDown: onKeyDown,\n      onBlur: onBlur,\n      onMouseDown: onMouseDown,\n      onMouseUp: onMouseUp\n    }, editorKeyHelper, title, content);\n  };\n  return getVirtualScrollerOption('loading') ? createLoading() : createElement();\n});\nBodyCell.displayName = 'BodyCell';\n\nfunction ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$6(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar BodyRow = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    editingState = _React$useState2[0],\n    setEditingState = _React$useState2[1];\n  var editing = props.onRowEditChange ? props.editing : editingState;\n  var getColumnProp = function getColumnProp(column, name) {\n    return ColumnBase.getCProp(column, name);\n  };\n  var isFocusable = function isFocusable() {\n    return props.selectionMode && props.selectionModeInColumn !== 'single' && props.selectionModeInColumn !== 'multiple';\n  };\n  var isGrouped = function isGrouped(column) {\n    var columnField = getColumnProp(column, 'field');\n    if (props.groupRowsBy && columnField) {\n      return Array.isArray(props.groupRowsBy) ? props.groupRowsBy.indexOf(columnField) > -1 : props.groupRowsBy === columnField;\n    }\n    return false;\n  };\n  var equals = function equals(data1, data2) {\n    return props.compareSelectionBy === 'equals' ? data1 === data2 : primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.equals(data1, data2, props.dataKey);\n  };\n  var getTabIndex = function getTabIndex() {\n    return isFocusable() && !props.allowCellSelection ? props.rowIndex === 0 ? props.tabIndex : -1 : null;\n  };\n  var findIndex = function findIndex(collection, rowData) {\n    return (collection || []).findIndex(function (data) {\n      return equals(rowData, data);\n    });\n  };\n  var changeTabIndex = function changeTabIndex(currentRow, nextRow) {\n    if (currentRow && nextRow) {\n      currentRow.tabIndex = -1;\n      nextRow.tabIndex = props.tabIndex;\n    }\n  };\n  var findNextSelectableRow = function findNextSelectableRow(row) {\n    var nextRow = row.nextElementSibling;\n    return nextRow ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(nextRow, 'p-selectable-row') ? nextRow : findNextSelectableRow(nextRow) : null;\n  };\n  var findPrevSelectableRow = function findPrevSelectableRow(row) {\n    var prevRow = row.previousElementSibling;\n    return prevRow ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(prevRow, 'p-selectable-row') ? prevRow : findPrevSelectableRow(prevRow) : null;\n  };\n  var shouldRenderBodyCell = function shouldRenderBodyCell(value, column, i) {\n    if (getColumnProp(column, 'hidden')) {\n      return false;\n    } else if (props.rowGroupMode && props.rowGroupMode === 'rowspan' && isGrouped(column)) {\n      var prevRowData = value[i - 1];\n      if (prevRowData) {\n        var currentRowFieldData = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(value[i], getColumnProp(column, 'field'));\n        var previousRowFieldData = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(prevRowData, getColumnProp(column, 'field'));\n        return currentRowFieldData !== previousRowFieldData;\n      }\n    }\n    return true;\n  };\n  var calculateRowGroupSize = function calculateRowGroupSize(value, column, index) {\n    if (isGrouped(column)) {\n      var currentRowFieldData = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(value[index], getColumnProp(column, 'field'));\n      var nextRowFieldData = currentRowFieldData;\n      var groupRowSpan = 0;\n      while (currentRowFieldData === nextRowFieldData) {\n        groupRowSpan++;\n        var nextRowData = value[++index];\n        if (nextRowData) {\n          nextRowFieldData = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(nextRowData, getColumnProp(column, 'field'));\n        } else {\n          break;\n        }\n      }\n      return groupRowSpan === 1 ? null : groupRowSpan;\n    } else {\n      return null;\n    }\n  };\n  var onClick = function onClick(event) {\n    props.onRowClick({\n      originalEvent: event,\n      data: props.rowData,\n      index: props.rowIndex\n    });\n  };\n  var onDoubleClick = function onDoubleClick(event) {\n    props.onRowDoubleClick({\n      originalEvent: event,\n      data: props.rowData,\n      index: props.rowIndex\n    });\n  };\n  var onRightClick = function onRightClick(event) {\n    props.onRowRightClick({\n      originalEvent: event,\n      data: props.rowData,\n      index: props.rowIndex\n    });\n  };\n  var onMouseEnter = function onMouseEnter(event) {\n    props.onRowMouseEnter({\n      originalEvent: event,\n      data: props.rowData,\n      index: props.rowIndex\n    });\n  };\n  var onMouseLeave = function onMouseLeave(event) {\n    props.onRowMouseLeave({\n      originalEvent: event,\n      data: props.rowData,\n      index: props.rowIndex\n    });\n  };\n  var onTouchEnd = function onTouchEnd(event) {\n    props.onRowTouchEnd(event);\n  };\n  var onKeyDown = function onKeyDown(event) {\n    if (isFocusable() && !props.allowCellSelection) {\n      var target = event.target,\n        row = event.currentTarget;\n      switch (event.which) {\n        //down arrow\n        case 40:\n          var nextRow = findNextSelectableRow(row);\n          if (nextRow) {\n            changeTabIndex(row, nextRow);\n            nextRow.focus();\n          }\n          event.preventDefault();\n          break;\n\n        //up arrow\n        case 38:\n          var prevRow = findPrevSelectableRow(row);\n          if (prevRow) {\n            changeTabIndex(row, prevRow);\n            prevRow.focus();\n          }\n          event.preventDefault();\n          break;\n\n        //enter\n        case 13:\n          // @deprecated\n          if (!primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.isClickable(target)) {\n            onClick(event);\n            event.preventDefault();\n          }\n          break;\n\n        //space\n        case 32:\n          if (!primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.isClickable(target) && !target.readOnly) {\n            onClick(event);\n            event.preventDefault();\n          }\n          break;\n      }\n    }\n  };\n  var onMouseDown = function onMouseDown(event) {\n    props.onRowMouseDown({\n      originalEvent: event,\n      data: props.rowData,\n      index: props.rowIndex\n    });\n  };\n  var onMouseUp = function onMouseUp(event) {\n    props.onRowMouseUp({\n      originalEvent: event,\n      data: props.rowData,\n      index: props.rowIndex\n    });\n  };\n  var onDragStart = function onDragStart(event) {\n    props.onRowDragStart({\n      originalEvent: event,\n      data: props.rowData,\n      index: props.rowIndex\n    });\n  };\n  var onDragOver = function onDragOver(event) {\n    props.onRowDragOver({\n      originalEvent: event,\n      data: props.rowData,\n      index: props.rowIndex\n    });\n  };\n  var onDragLeave = function onDragLeave(event) {\n    props.onRowDragLeave({\n      originalEvent: event,\n      data: props.rowData,\n      index: props.rowIndex\n    });\n  };\n  var onDragEnd = function onDragEnd(event) {\n    props.onRowDragEnd({\n      originalEvent: event,\n      data: props.rowData,\n      index: props.rowIndex\n    });\n  };\n  var onDrop = function onDrop(event) {\n    props.onRowDrop({\n      originalEvent: event,\n      data: props.rowData,\n      index: props.rowIndex\n    });\n  };\n  var onEditChange = function onEditChange(e, isEditing) {\n    if (props.onRowEditChange) {\n      var editingRows;\n      var dataKey = props.dataKey;\n      var originalEvent = e.originalEvent,\n        data = e.data,\n        index = e.index,\n        newData = e.newData;\n      if (dataKey) {\n        var dataKeyValue = String(primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(data, dataKey));\n        editingRows = props.editingRows ? _objectSpread$6({}, props.editingRows) : {};\n        if (!isEditing) {\n          delete editingRows[dataKeyValue];\n          // if the key value was changed, stop editing for the new key value too\n          var newDataKeyValue = String(primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(newData, dataKey));\n          delete editingRows[newDataKeyValue];\n        } else {\n          editingRows[dataKeyValue] = true;\n        }\n      } else {\n        var editingRowIndex = findIndex(props.editingRows, data);\n        editingRows = props.editingRows ? _toConsumableArray(props.editingRows) : [];\n        if (editingRowIndex !== -1) editingRows = editingRows.filter(function (val, i) {\n          return i !== editingRowIndex;\n        });else editingRows.push(data);\n      }\n      props.onRowEditChange({\n        originalEvent: originalEvent,\n        data: editingRows,\n        index: index\n      });\n    } else {\n      setEditingState(isEditing);\n    }\n  };\n  var onEditInit = function onEditInit(e) {\n    var event = e.originalEvent;\n    if (props.onRowEditInit) {\n      props.onRowEditInit({\n        originalEvent: event,\n        data: props.rowData,\n        index: props.rowIndex\n      });\n    }\n    onEditChange(e, true);\n    event.preventDefault();\n  };\n  var onEditSave = function onEditSave(e) {\n    var event = e.originalEvent,\n      newData = e.newData;\n    var valid = props.rowEditValidator ? props.rowEditValidator(newData, {\n      props: props.tableProps\n    }) : true;\n    if (props.onRowEditSave) {\n      props.onRowEditSave({\n        originalEvent: event,\n        data: props.rowData,\n        index: props.rowIndex,\n        valid: valid\n      });\n    }\n    if (valid) {\n      if (props.onRowEditComplete) {\n        props.onRowEditComplete(e);\n      }\n      onEditChange(e, false);\n    }\n    event.preventDefault();\n  };\n  var onEditCancel = function onEditCancel(e) {\n    var event = e.originalEvent;\n    if (props.onRowEditCancel) {\n      props.onRowEditCancel({\n        originalEvent: event,\n        data: props.rowData,\n        index: props.rowIndex\n      });\n    }\n    onEditChange(e, false);\n    event.preventDefault();\n  };\n  var createContent = function createContent() {\n    return props.columns.map(function (col, i) {\n      if (shouldRenderBodyCell(props.value, col, props.index)) {\n        var key = \"\".concat(getColumnProp(col, 'columnKey') || getColumnProp(col, 'field'), \"_\").concat(i);\n        var rowSpan = props.rowGroupMode === 'rowspan' ? calculateRowGroupSize(props.value, col, props.index) : null;\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(BodyCell, {\n          key: key,\n          value: props.value,\n          tableProps: props.tableProps,\n          tableSelector: props.tableSelector,\n          column: col,\n          rowData: props.rowData,\n          rowIndex: props.rowIndex,\n          index: i,\n          rowSpan: rowSpan,\n          dataKey: props.dataKey,\n          editing: editing,\n          editingMeta: props.editingMeta,\n          editMode: props.editMode,\n          onRowEditInit: onEditInit,\n          onRowEditSave: onEditSave,\n          onRowEditCancel: onEditCancel,\n          onEditingMetaChange: props.onEditingMetaChange,\n          onRowToggle: props.onRowToggle,\n          selection: props.selection,\n          selectionAriaLabel: props.tableProps.selectionAriaLabel,\n          allowCellSelection: props.allowCellSelection,\n          compareSelectionBy: props.compareSelectionBy,\n          selectOnEdit: props.selectOnEdit,\n          selected: props.selected,\n          onClick: props.onCellClick,\n          onMouseDown: props.onCellMouseDown,\n          onMouseUp: props.onCellMouseUp,\n          tabIndex: props.tabIndex,\n          cellClassName: props.cellClassName,\n          responsiveLayout: props.responsiveLayout,\n          frozenRow: props.frozenRow,\n          isSelectable: props.isSelectable,\n          showSelectionElement: props.showSelectionElement,\n          showRowReorderElement: props.showRowReorderElement,\n          onRadioChange: props.onRadioChange,\n          onCheckboxChange: props.onCheckboxChange,\n          expanded: props.expanded,\n          expandedRowIcon: props.expandedRowIcon,\n          collapsedRowIcon: props.collapsedRowIcon,\n          virtualScrollerOptions: props.virtualScrollerOptions\n        });\n      }\n      return null;\n    });\n  };\n  var rowClassName = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getPropValue(props.rowClassName, props.rowData, {\n    props: props.tableProps\n  });\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)(rowClassName, {\n    'p-highlight': !props.allowCellSelection && props.selected || props.contextMenuSelected,\n    'p-highlight-contextmenu': props.contextMenuSelected,\n    'p-selectable-row': props.allowRowSelection && props.isSelectable({\n      data: props.rowData,\n      index: props.rowIndex\n    }),\n    'p-row-odd': props.rowIndex % 2 !== 0\n  });\n  var style = {\n    height: props.virtualScrollerOptions ? props.virtualScrollerOptions.itemSize : undefined\n  };\n  var content = createContent();\n  var tabIndex = getTabIndex();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", {\n    role: \"row\",\n    tabIndex: tabIndex,\n    className: className,\n    style: style,\n    onMouseDown: onMouseDown,\n    onMouseUp: onMouseUp,\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onClick: onClick,\n    onDoubleClick: onDoubleClick,\n    onContextMenu: onRightClick,\n    onTouchEnd: onTouchEnd,\n    onKeyDown: onKeyDown,\n    onDragStart: onDragStart,\n    onDragOver: onDragOver,\n    onDragLeave: onDragLeave,\n    onDragEnd: onDragEnd,\n    onDrop: onDrop\n  }, content);\n});\nBodyRow.displayName = 'BodyRow';\n\nvar RowTogglerButton = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var onClick = function onClick(event) {\n    props.onClick({\n      originalEvent: event,\n      data: props.rowData\n    });\n  };\n  var iconClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-row-toggler-icon', props.expanded ? props.expandedRowIcon : props.collapsedRowIcon);\n  var label = props.expanded ? (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.ariaLabel)('collapseLabel') : (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.ariaLabel)('expandLabel');\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n    type: \"button\",\n    onClick: onClick,\n    className: \"p-row-toggler p-link\",\n    tabIndex: props.tabIndex,\n    \"aria-label\": label\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: iconClassName,\n    \"aria-hidden\": \"true\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_5__.Ripple, null));\n});\nRowTogglerButton.displayName = 'RowTogglerButton';\n\nvar _excluded = [\"originalEvent\"];\nfunction ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$5(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar TableBody = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState({}),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    rowGroupHeaderStyleObjectState = _React$useState2[0],\n    setRowGroupHeaderStyleObjectState = _React$useState2[1];\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var refCallback = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (el) {\n    elementRef.current = el;\n    props.virtualScrollerContentRef && props.virtualScrollerContentRef(el);\n  }, [props]);\n  var dragSelectionHelper = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var initialDragPosition = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var anchorRowIndex = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var anchorCellIndex = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var rangeRowIndex = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var anchorRowFirst = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var rowTouched = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var rowDragging = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var draggedRowIndex = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var droppedRowIndex = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var isSubheaderGrouping = props.rowGroupMode && props.rowGroupMode === 'subheader';\n  var isRadioSelectionMode = props.selectionMode === 'radiobutton';\n  var isCheckboxSelectionMode = props.selectionMode === 'checkbox';\n  var isRadioSelectionModeInColumn = props.selectionModeInColumn === 'single';\n  var isCheckboxSelectionModeInColumn = props.selectionModeInColumn === 'multiple';\n  var equals = function equals(data1, data2) {\n    if (allowCellSelection()) return (data1.rowIndex === data2.rowIndex || data1.rowData === data2.rowData) && (data1.field === data2.field || data1.cellIndex === data2.cellIndex);else return props.compareSelectionBy === 'equals' ? data1 === data2 : primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.equals(data1, data2, props.dataKey);\n  };\n  var isSelectionEnabled = function isSelectionEnabled() {\n    return props.selectionMode || props.selectionModeInColumn !== null || props.columns && props.columns.some(function (col) {\n      return col && !!getColumnProp(col, 'selectionMode');\n    });\n  };\n  var isSingleSelection = function isSingleSelection() {\n    return props.selectionMode === 'single' && !isCheckboxSelectionModeInColumn || !isRadioSelectionMode && isRadioSelectionModeInColumn;\n  };\n  var isMultipleSelection = function isMultipleSelection() {\n    return props.selectionMode === 'multiple' && !isRadioSelectionModeInColumn || isCheckboxSelectionModeInColumn;\n  };\n  var isRadioOnlySelection = function isRadioOnlySelection() {\n    return isRadioSelectionMode && isRadioSelectionModeInColumn;\n  };\n  var isCheckboxOnlySelection = function isCheckboxOnlySelection() {\n    return isCheckboxSelectionMode && isCheckboxSelectionModeInColumn;\n  };\n  var isSelected = function isSelected(rowData) {\n    if (rowData && props.selection) {\n      return props.selection instanceof Array ? findIndex(props.selection, rowData) > -1 : equals(rowData, props.selection);\n    }\n    return false;\n  };\n  var isContextMenuSelected = function isContextMenuSelected(rowData) {\n    if (rowData && props.contextMenuSelection) {\n      return equals(rowData, props.contextMenuSelection);\n    }\n    return false;\n  };\n  var isSelectable = function isSelectable(options) {\n    return props.isDataSelectable ? props.isDataSelectable(options) : true;\n  };\n  var isRowExpanded = function isRowExpanded(rowData) {\n    if (rowData && props.expandedRows) {\n      if (isSubheaderGrouping && props.expandableRowGroups) {\n        return isRowGroupExpanded(rowData);\n      } else {\n        if (props.dataKey) return props.expandedRows ? props.expandedRows[primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(rowData, props.dataKey)] !== undefined : false;else return findIndex(props.expandedRows, rowData) !== -1;\n      }\n    }\n    return false;\n  };\n  var isRowGroupExpanded = function isRowGroupExpanded(rowData) {\n    if (props.dataKey === props.groupRowsBy) return Object.keys(props.expandedRows).some(function (data) {\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.equals(data, primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(rowData, props.dataKey));\n    });else return props.expandedRows.some(function (data) {\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.equals(data, rowData, props.groupRowsBy);\n    });\n  };\n  var isRowEditing = function isRowEditing(rowData) {\n    if (props.editMode === 'row' && rowData && props.editingRows) {\n      if (props.dataKey) return props.editingRows ? props.editingRows[primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(rowData, props.dataKey)] !== undefined : false;else return findIndex(props.editingRows, rowData) !== -1;\n    }\n    return false;\n  };\n  var allowDrag = function allowDrag(event) {\n    return props.dragSelection && isMultipleSelection() && !event.originalEvent.shiftKey;\n  };\n  var allowRowDrag = function allowRowDrag(event) {\n    return !allowCellSelection() && allowDrag(event) || props.reorderableRows;\n  };\n  var allowCellDrag = function allowCellDrag(event) {\n    return allowCellSelection() && allowDrag(event);\n  };\n  var allowSelection = function allowSelection(event) {\n    return !primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.isClickable(event.originalEvent.target);\n  };\n  var allowMetaKeySelection = function allowMetaKeySelection(event) {\n    return !rowTouched.current && (!props.metaKeySelection || props.metaKeySelection && (event.originalEvent.metaKey || event.originalEvent.ctrlKey));\n  };\n  var allowRangeSelection = function allowRangeSelection(event) {\n    return isMultipleSelection() && event.originalEvent.shiftKey && anchorRowIndex.current !== null;\n  };\n  var allowRowSelection = function allowRowSelection() {\n    return (props.selectionMode || props.selectionModeInColumn) && !isRadioOnlySelection() && !isCheckboxOnlySelection();\n  };\n  var allowCellSelection = function allowCellSelection() {\n    return props.cellSelection && !isRadioSelectionModeInColumn && !isCheckboxSelectionModeInColumn;\n  };\n  var getColumnsLength = function getColumnsLength() {\n    return props.columns ? props.columns.length : 0;\n  };\n  var getColumnProp = function getColumnProp(column, name) {\n    return ColumnBase.getCProp(column, name);\n  };\n  var getVirtualScrollerOption = function getVirtualScrollerOption(option, options) {\n    options = options || props.virtualScrollerOptions;\n    return options ? options[option] : null;\n  };\n  var findIndex = function findIndex(collection, rowData) {\n    return (collection || []).findIndex(function (data) {\n      return equals(rowData, data);\n    });\n  };\n  var rowGroupHeaderStyle = function rowGroupHeaderStyle() {\n    if (props.scrollable) {\n      return {\n        top: rowGroupHeaderStyleObjectState['top']\n      };\n    }\n    return null;\n  };\n  var getRowKey = function getRowKey(rowData, index) {\n    return props.dataKey ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(rowData, props.dataKey) : index;\n  };\n  var shouldRenderRowGroupHeader = function shouldRenderRowGroupHeader(value, rowData, i) {\n    var currentRowFieldData = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(rowData, props.groupRowsBy);\n    var prevRowData = value[i - 1];\n    if (prevRowData) {\n      var previousRowFieldData = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(prevRowData, props.groupRowsBy);\n      return currentRowFieldData !== previousRowFieldData;\n    } else {\n      return true;\n    }\n  };\n  var shouldRenderRowGroupFooter = function shouldRenderRowGroupFooter(value, rowData, i, expanded) {\n    if (props.expandableRowGroups && !expanded) {\n      return false;\n    } else {\n      var currentRowFieldData = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(rowData, props.groupRowsBy);\n      var nextRowData = value[i + 1];\n      if (nextRowData) {\n        var nextRowFieldData = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(nextRowData, props.groupRowsBy);\n        return currentRowFieldData !== nextRowFieldData;\n      } else {\n        return true;\n      }\n    }\n  };\n  var updateFrozenRowStickyPosition = function updateFrozenRowStickyPosition() {\n    elementRef.current.style.top = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOuterHeight(elementRef.current.previousElementSibling) + 'px';\n  };\n  var updateFrozenRowGroupHeaderStickyPosition = function updateFrozenRowGroupHeaderStickyPosition() {\n    var tableHeaderHeight = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOuterHeight(elementRef.current.previousElementSibling);\n    var top = tableHeaderHeight + 'px';\n    if (rowGroupHeaderStyleObjectState.top !== top) {\n      setRowGroupHeaderStyleObjectState({\n        top: top\n      });\n    }\n  };\n  var onSingleSelection = function onSingleSelection(_ref) {\n    var originalEvent = _ref.originalEvent,\n      data = _ref.data,\n      index = _ref.index,\n      toggleable = _ref.toggleable,\n      type = _ref.type;\n    if (!isSelectable({\n      data: data,\n      index: index\n    })) {\n      return;\n    }\n    var selected = isSelected(data);\n    var selection = props.selection;\n    if (selected) {\n      if (toggleable) {\n        selection = null;\n        onUnselect({\n          originalEvent: originalEvent,\n          data: data,\n          type: type\n        });\n      }\n    } else {\n      selection = data;\n      onSelect({\n        originalEvent: originalEvent,\n        data: data,\n        type: type\n      });\n    }\n    focusOnElement(originalEvent, true);\n    if (props.onSelectionChange && selection !== props.selection) {\n      props.onSelectionChange({\n        originalEvent: originalEvent,\n        value: selection,\n        type: type\n      });\n    }\n  };\n  var onMultipleSelection = function onMultipleSelection(_ref2) {\n    var originalEvent = _ref2.originalEvent,\n      data = _ref2.data,\n      index = _ref2.index,\n      toggleable = _ref2.toggleable,\n      type = _ref2.type;\n    if (!isSelectable({\n      data: data,\n      index: index\n    })) {\n      return;\n    }\n    var selected = isSelected(data);\n    var selection = props.selection || [];\n    if (selected) {\n      if (toggleable) {\n        var selectionIndex = findIndex(selection, data);\n        selection = props.selection.filter(function (val, i) {\n          return i !== selectionIndex;\n        });\n        onUnselect({\n          originalEvent: originalEvent,\n          data: data,\n          type: type\n        });\n      } else if (selection.length) {\n        props.selection.forEach(function (d) {\n          return onUnselect({\n            originalEvent: originalEvent,\n            data: d,\n            type: type\n          });\n        });\n        selection = [data];\n        onSelect({\n          originalEvent: originalEvent,\n          data: data,\n          type: type\n        });\n      }\n    } else {\n      selection = toggleable && isMultipleSelection() ? [].concat(_toConsumableArray(selection), [data]) : [data];\n      onSelect({\n        originalEvent: originalEvent,\n        data: data,\n        type: type\n      });\n    }\n    focusOnElement(originalEvent, true);\n    if (props.onSelectionChange && selection !== props.selection) {\n      props.onSelectionChange({\n        originalEvent: originalEvent,\n        value: selection,\n        type: type\n      });\n    }\n  };\n  var onRangeSelection = function onRangeSelection(event, type) {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.clearSelection();\n    rangeRowIndex.current = allowCellSelection() ? event.rowIndex : event.index;\n    var selection = selectRange(event);\n    if (props.onSelectionChange && selection !== props.selection) {\n      props.onSelectionChange({\n        originalEvent: event.originalEvent,\n        value: selection,\n        type: type\n      });\n    }\n    anchorRowIndex.current = rangeRowIndex.current;\n    anchorCellIndex.current = event.cellIndex;\n    focusOnElement(event.originalEvent, false);\n  };\n  var selectRange = function selectRange(event) {\n    var rangeStart, rangeEnd;\n    if (rangeRowIndex.current > anchorRowIndex.current) {\n      rangeStart = anchorRowIndex.current;\n      rangeEnd = rangeRowIndex.current;\n    } else if (rangeRowIndex.current < anchorRowIndex.current) {\n      rangeStart = rangeRowIndex.current;\n      rangeEnd = anchorRowIndex.current;\n    } else {\n      rangeStart = rangeEnd = rangeRowIndex.current;\n    }\n    if (props.paginator) {\n      rangeStart = Math.max(rangeStart - props.first, 0);\n      rangeEnd -= props.first;\n    }\n    return allowCellSelection() ? selectRangeOnCell(event, rangeStart, rangeEnd) : selectRangeOnRow(event, rangeStart, rangeEnd);\n  };\n  var selectRangeOnRow = function selectRangeOnRow(event, rowRangeStart, rowRangeEnd) {\n    var value = props.value;\n    var selection = [];\n    for (var i = rowRangeStart; i <= rowRangeEnd; i++) {\n      var rangeRowData = value[i];\n      if (!isSelectable({\n        data: rangeRowData,\n        index: i\n      })) {\n        continue;\n      }\n      selection.push(rangeRowData);\n      onSelect({\n        originalEvent: event.originalEvent,\n        data: rangeRowData,\n        type: 'row'\n      });\n    }\n    return selection;\n  };\n  var selectRangeOnCell = function selectRangeOnCell(event, rowRangeStart, rowRangeEnd) {\n    var cellRangeStart,\n      cellRangeEnd,\n      cellIndex = event.cellIndex;\n    if (cellIndex > anchorCellIndex.current) {\n      cellRangeStart = anchorCellIndex.current;\n      cellRangeEnd = cellIndex;\n    } else if (cellIndex < anchorCellIndex.current) {\n      cellRangeStart = cellIndex;\n      cellRangeEnd = anchorCellIndex.current;\n    } else {\n      cellRangeStart = cellRangeEnd = cellIndex;\n    }\n    var value = props.value;\n    var selection = [];\n    for (var i = rowRangeStart; i <= rowRangeEnd; i++) {\n      var rowData = value[i];\n      var columns = props.columns;\n      var rowIndex = props.paginator ? i + props.first : i;\n      for (var j = cellRangeStart; j <= cellRangeEnd; j++) {\n        var field = getColumnProp(columns[j], 'field');\n        var _value = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(rowData, field);\n        var rangeRowData = {\n          value: _value,\n          field: field,\n          rowData: rowData,\n          rowIndex: rowIndex,\n          cellIndex: j,\n          selected: true\n        };\n        if (!isSelectable({\n          data: rangeRowData,\n          index: i\n        })) {\n          continue;\n        }\n        selection.push(rangeRowData);\n        onSelect({\n          originalEvent: event.originalEvent,\n          data: rangeRowData,\n          type: 'cell'\n        });\n      }\n    }\n    return selection;\n  };\n  var onSelect = function onSelect(event) {\n    if (allowCellSelection()) props.onCellSelect && props.onCellSelect(_objectSpread$5(_objectSpread$5({\n      originalEvent: event.originalEvent\n    }, event.data), {}, {\n      type: event.type\n    }));else props.onRowSelect && props.onRowSelect(event);\n  };\n  var onUnselect = function onUnselect(event) {\n    if (allowCellSelection()) props.onCellUnselect && props.onCellUnselect(_objectSpread$5(_objectSpread$5({\n      originalEvent: event.originalEvent\n    }, event.data), {}, {\n      type: event.type\n    }));else props.onRowUnselect && props.onRowUnselect(event);\n  };\n  var enableDragSelection = function enableDragSelection(event) {\n    if (props.dragSelection && !dragSelectionHelper.current) {\n      dragSelectionHelper.current = document.createElement('div');\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.addClass(dragSelectionHelper.current, 'p-datatable-drag-selection-helper');\n      initialDragPosition.current = {\n        x: event.clientX,\n        y: event.clientY\n      };\n      dragSelectionHelper.current.style.top = \"\".concat(event.pageY, \"px\");\n      dragSelectionHelper.current.style.left = \"\".concat(event.pageX, \"px\");\n      bindDragSelectionEvents();\n    }\n  };\n  var focusOnElement = function focusOnElement(event, isFocused) {\n    var target = event.currentTarget;\n    if (!allowCellSelection() && props.selectionAutoFocus) {\n      if (isCheckboxSelectionModeInColumn) {\n        var checkbox = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.findSingle(target, 'td.p-selection-column .p-checkbox-box');\n        checkbox && checkbox.focus();\n      } else if (isRadioSelectionModeInColumn) {\n        var radio = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.findSingle(target, 'td.p-selection-column input[type=\"radio\"]');\n        radio && radio.focus();\n      }\n    }\n    !isFocused && target && target.focus();\n  };\n  var changeTabIndex = function changeTabIndex(event, type) {\n    var target = event.currentTarget;\n    var isSelectable = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(target, type === 'cell' ? 'p-selectable-cell' : 'p-selectable-row');\n    if (isSelectable) {\n      var selector = type === 'cell' ? 'tr > td' : 'tr';\n      var tabbableEl = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.findSingle(elementRef.current, \"\".concat(selector, \"[tabindex=\\\"\").concat(props.tabIndex, \"\\\"]\"));\n      if (tabbableEl && target) {\n        tabbableEl.tabIndex = -1;\n        target.tabIndex = props.tabIndex;\n      }\n    }\n  };\n  var onRowClick = function onRowClick(event) {\n    if (allowCellSelection() || !allowSelection(event)) {\n      return;\n    }\n    props.onRowClick && props.onRowClick(event);\n    if (allowRowSelection()) {\n      if (allowRangeSelection(event)) {\n        onRangeSelection(event, 'row');\n      } else {\n        var toggleable = isRadioSelectionModeInColumn || isCheckboxSelectionModeInColumn || allowMetaKeySelection(event);\n        anchorRowIndex.current = event.index;\n        rangeRowIndex.current = event.index;\n        anchorRowFirst.current = props.first;\n        if (isSingleSelection()) {\n          onSingleSelection(_objectSpread$5(_objectSpread$5({}, event), {}, {\n            toggleable: toggleable,\n            type: 'row'\n          }));\n        } else {\n          onMultipleSelection(_objectSpread$5(_objectSpread$5({}, event), {}, {\n            toggleable: toggleable,\n            type: 'row'\n          }));\n        }\n      }\n      changeTabIndex(event.originalEvent, 'row');\n    } else {\n      focusOnElement(event.originalEvent);\n    }\n    rowTouched.current = false;\n  };\n  var onRowDoubleClick = function onRowDoubleClick(e) {\n    var event = e.originalEvent;\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.isClickable(event.target)) {\n      return;\n    }\n    if (props.onRowDoubleClick) {\n      props.onRowDoubleClick(e);\n    }\n  };\n  var onRowRightClick = function onRowRightClick(event) {\n    if (props.onContextMenu || props.onContextMenuSelectionChange) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.clearSelection();\n      if (props.onContextMenuSelectionChange) {\n        props.onContextMenuSelectionChange({\n          originalEvent: event.originalEvent,\n          value: event.data\n        });\n      }\n      if (props.onContextMenu) {\n        props.onContextMenu({\n          originalEvent: event.originalEvent,\n          data: event.data\n        });\n      }\n      event.originalEvent.preventDefault();\n    }\n  };\n  var onRowMouseEnter = function onRowMouseEnter(event) {\n    props.onRowMouseEnter && props.onRowMouseEnter(event);\n  };\n  var onRowMouseLeave = function onRowMouseLeave(event) {\n    props.onRowMouseLeave && props.onRowMouseLeave(event);\n  };\n  var onRowTouchEnd = function onRowTouchEnd() {\n    rowTouched.current = true;\n  };\n  var onRowMouseDown = function onRowMouseDown(e) {\n    var event = e.originalEvent;\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(event.target, 'p-datatable-reorderablerow-handle')) event.currentTarget.draggable = true;else event.currentTarget.draggable = false;\n    if (allowRowDrag(e)) {\n      enableDragSelection(event);\n      anchorRowIndex.current = e.index;\n      rangeRowIndex.current = e.index;\n      anchorRowFirst.current = props.first;\n    }\n  };\n  var onRowMouseUp = function onRowMouseUp(event) {\n    var isSameRow = event.index === anchorRowIndex.current;\n    if (allowRowDrag(event) && !isSameRow) {\n      onRangeSelection(event, 'row');\n    }\n  };\n  var onRowToggle = function onRowToggle(event) {\n    var expandedRows;\n    var dataKey = props.dataKey;\n    var hasDataKey = props.groupRowsBy ? dataKey === props.groupRowsBy : !!dataKey;\n    if (hasDataKey) {\n      var dataKeyValue = String(primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(event.data, dataKey));\n      expandedRows = props.expandedRows ? _objectSpread$5({}, props.expandedRows) : {};\n      if (expandedRows[dataKeyValue] != null) {\n        delete expandedRows[dataKeyValue];\n        if (props.onRowCollapse) {\n          props.onRowCollapse({\n            originalEvent: event,\n            data: event.data\n          });\n        }\n      } else {\n        expandedRows[dataKeyValue] = true;\n        if (props.onRowExpand) {\n          props.onRowExpand({\n            originalEvent: event,\n            data: event.data\n          });\n        }\n      }\n    } else {\n      var expandedRowIndex = findIndex(props.expandedRows, event.data);\n      expandedRows = props.expandedRows ? _toConsumableArray(props.expandedRows) : [];\n      if (expandedRowIndex !== -1) {\n        expandedRows = expandedRows.filter(function (_, i) {\n          return i !== expandedRowIndex;\n        });\n        if (props.onRowCollapse) {\n          props.onRowCollapse({\n            originalEvent: event,\n            data: event.data\n          });\n        }\n      } else {\n        expandedRows.push(event.data);\n        if (props.onRowExpand) {\n          props.onRowExpand({\n            originalEvent: event,\n            data: event.data\n          });\n        }\n      }\n    }\n    if (props.onRowToggle) {\n      props.onRowToggle({\n        data: expandedRows\n      });\n    }\n  };\n  var onRowDragStart = function onRowDragStart(e) {\n    var event = e.originalEvent,\n      index = e.index;\n    if (allowRowDrag(event)) {\n      rowDragging.current = true;\n      draggedRowIndex.current = index;\n      event.dataTransfer.setData('text', 'b'); // For firefox\n    }\n  };\n\n  var onRowDragOver = function onRowDragOver(e) {\n    var event = e.originalEvent,\n      index = e.index;\n    if (rowDragging.current && draggedRowIndex.current !== index) {\n      var rowElement = event.currentTarget;\n      var rowY = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOffset(rowElement).top + primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getWindowScrollTop();\n      var pageY = event.pageY + window.scrollY;\n      var rowMidY = rowY + primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOuterHeight(rowElement) / 2;\n      var prevRowElement = rowElement.previousElementSibling;\n      if (pageY < rowMidY) {\n        primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(rowElement, 'p-datatable-dragpoint-bottom');\n        droppedRowIndex.current = index;\n        if (prevRowElement) primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.addClass(prevRowElement, 'p-datatable-dragpoint-bottom');else primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.addClass(rowElement, 'p-datatable-dragpoint-top');\n      } else {\n        if (prevRowElement) primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(prevRowElement, 'p-datatable-dragpoint-bottom');else primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.addClass(rowElement, 'p-datatable-dragpoint-top');\n        droppedRowIndex.current = index + 1;\n        primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.addClass(rowElement, 'p-datatable-dragpoint-bottom');\n      }\n    }\n    event.preventDefault();\n  };\n  var onRowDragLeave = function onRowDragLeave(e) {\n    var event = e.originalEvent;\n    var rowElement = event.currentTarget;\n    var prevRowElement = rowElement.previousElementSibling;\n    if (prevRowElement) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(prevRowElement, 'p-datatable-dragpoint-bottom');\n    }\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(rowElement, 'p-datatable-dragpoint-bottom');\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(rowElement, 'p-datatable-dragpoint-top');\n  };\n  var onRowDragEnd = function onRowDragEnd(e) {\n    var event = e.originalEvent;\n    rowDragging.current = false;\n    draggedRowIndex.current = null;\n    droppedRowIndex.current = null;\n    event.currentTarget.draggable = false;\n  };\n  var onRowDrop = function onRowDrop(e) {\n    var event = e.originalEvent;\n    if (droppedRowIndex.current != null) {\n      var dropIndex = draggedRowIndex.current > droppedRowIndex.current ? droppedRowIndex.current : droppedRowIndex.current === 0 ? 0 : droppedRowIndex.current - 1;\n      var val = _toConsumableArray(props.tableProps.value);\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.reorderArray(val, draggedRowIndex.current, dropIndex);\n      if (props.onRowReorder) {\n        props.onRowReorder({\n          originalEvent: event,\n          value: val,\n          dragIndex: draggedRowIndex.current,\n          dropIndex: dropIndex\n        });\n      }\n    }\n\n    //cleanup\n    onRowDragLeave(e);\n    onRowDragEnd(e);\n    event.preventDefault();\n  };\n  var onRadioChange = function onRadioChange(event) {\n    onSingleSelection(_objectSpread$5(_objectSpread$5({}, event), {}, {\n      toggleable: true,\n      type: 'radio'\n    }));\n  };\n  var onCheckboxChange = function onCheckboxChange(event) {\n    onMultipleSelection(_objectSpread$5(_objectSpread$5({}, event), {}, {\n      toggleable: true,\n      type: 'checkbox'\n    }));\n  };\n  var onDragSelectionMouseMove = function onDragSelectionMouseMove(event) {\n    var _initialDragPosition$ = initialDragPosition.current,\n      x = _initialDragPosition$.x,\n      y = _initialDragPosition$.y;\n    var dx = event.clientX - x;\n    var dy = event.clientY - y;\n    if (dy < 0) dragSelectionHelper.current.style.top = \"\".concat(event.pageY + 5, \"px\");\n    if (dx < 0) dragSelectionHelper.current.style.left = \"\".concat(event.pageX + 5, \"px\");\n    dragSelectionHelper.current.style.height = \"\".concat(Math.abs(dy), \"px\");\n    dragSelectionHelper.current.style.width = \"\".concat(Math.abs(dx), \"px\");\n    event.preventDefault();\n  };\n  var onDragSelectionMouseUp = function onDragSelectionMouseUp() {\n    if (dragSelectionHelper.current) {\n      dragSelectionHelper.current.remove();\n      dragSelectionHelper.current = null;\n    }\n    document.removeEventListener('mousemove', onDragSelectionMouseMove);\n    document.removeEventListener('mouseup', onDragSelectionMouseUp);\n  };\n  var onCellClick = function onCellClick(event) {\n    if (!allowSelection(event)) {\n      return;\n    }\n    props.onCellClick && props.onCellClick(event);\n    if (allowCellSelection()) {\n      if (allowRangeSelection(event)) {\n        onRangeSelection(event, 'cell');\n      } else {\n        var toggleable = allowMetaKeySelection(event);\n        var originalEvent = event.originalEvent,\n          data = _objectWithoutProperties(event, _excluded);\n        anchorRowIndex.current = event.rowIndex;\n        rangeRowIndex.current = event.rowIndex;\n        anchorRowFirst.current = props.first;\n        anchorCellIndex.current = event.cellIndex;\n        if (isSingleSelection()) {\n          onSingleSelection({\n            originalEvent: originalEvent,\n            data: data,\n            index: event.rowIndex,\n            toggleable: toggleable,\n            type: 'cell'\n          });\n        } else {\n          onMultipleSelection({\n            originalEvent: originalEvent,\n            data: data,\n            index: event.rowIndex,\n            toggleable: toggleable,\n            type: 'cell'\n          });\n        }\n      }\n      changeTabIndex(event.originalEvent, 'cell');\n    }\n    rowTouched.current = false;\n  };\n  var onCellMouseDown = function onCellMouseDown(event) {\n    if (allowCellDrag(event)) {\n      enableDragSelection(event.originalEvent);\n      anchorRowIndex.current = event.rowIndex;\n      rangeRowIndex.current = event.rowIndex;\n      anchorRowFirst.current = props.first;\n      anchorCellIndex.current = event.cellIndex;\n    }\n  };\n  var onCellMouseUp = function onCellMouseUp(event) {\n    var isSameCell = event.rowIndex === anchorRowIndex.current && event.cellIndex === anchorCellIndex.current;\n    if (allowCellDrag(event) && !isSameCell) {\n      onRangeSelection(event, 'cell');\n    }\n  };\n  var bindDragSelectionEvents = function bindDragSelectionEvents() {\n    document.addEventListener('mousemove', onDragSelectionMouseMove);\n    document.addEventListener('mouseup', onDragSelectionMouseUp);\n    document.body.appendChild(dragSelectionHelper.current);\n  };\n  var unbindDragSelectionEvents = function unbindDragSelectionEvents() {\n    onDragSelectionMouseUp();\n  };\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    if (props.frozenRow) {\n      updateFrozenRowStickyPosition();\n    }\n    if (props.scrollable && props.rowGroupMode === 'subheader') {\n      updateFrozenRowGroupHeaderStickyPosition();\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUpdateEffect)(function () {\n    if (props.paginator && isMultipleSelection()) {\n      anchorRowIndex.current = null;\n    }\n  }, [props.first]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUnmountEffect)(function () {\n    if (props.dragSelection) {\n      unbindDragSelectionEvents();\n    }\n  });\n  var createEmptyContent = function createEmptyContent() {\n    if (!props.loading) {\n      var colSpan = getColumnsLength();\n      var _content = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.emptyMessage, {\n        props: props.tableProps,\n        frozen: props.frozenRow\n      }) || (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.localeOption)('emptyMessage');\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", {\n        className: \"p-datatable-emptymessage\",\n        role: \"row\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n        colSpan: colSpan,\n        role: \"cell\"\n      }, _content));\n    }\n    return null;\n  };\n  var createGroupHeader = function createGroupHeader(rowData, rowIndex, expanded, colSpan) {\n    if (isSubheaderGrouping && shouldRenderRowGroupHeader(props.value, rowData, rowIndex - props.first)) {\n      var style = rowGroupHeaderStyle();\n      var toggler = props.expandableRowGroups && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(RowTogglerButton, {\n        onClick: onRowToggle,\n        rowData: rowData,\n        expanded: expanded,\n        expandedRowIcon: props.expandedRowIcon,\n        collapsedRowIcon: props.collapsedRowIcon\n      });\n      var options = {\n        index: rowIndex,\n        props: props.tableProps,\n        customRendering: false\n      };\n      var _content2 = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.rowGroupHeaderTemplate, rowData, options);\n\n      // check if the user wants complete control of the rendering\n      if (!options.customRendering) {\n        _content2 = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n          colSpan: colSpan\n        }, toggler, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n          className: \"p-rowgroup-header-name\"\n        }, _content2));\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", {\n        className: \"p-rowgroup-header\",\n        style: style,\n        role: \"row\"\n      }, _content2);\n    }\n    return null;\n  };\n  var createRow = function createRow(rowData, rowIndex, index, expanded) {\n    if (!props.expandableRowGroups || expanded) {\n      var selected = isSelectionEnabled() ? isSelected(rowData) : false;\n      var contextMenuSelected = isContextMenuSelected(rowData);\n      var _allowRowSelection = allowRowSelection();\n      var _allowCellSelection = allowCellSelection();\n      var editing = isRowEditing(rowData);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(BodyRow, {\n        tableProps: props.tableProps,\n        tableSelector: props.tableSelector,\n        value: props.value,\n        columns: props.columns,\n        rowData: rowData,\n        rowIndex: rowIndex,\n        index: index,\n        selected: selected,\n        contextMenuSelected: contextMenuSelected,\n        onRowClick: onRowClick,\n        onRowDoubleClick: onRowDoubleClick,\n        onRowRightClick: onRowRightClick,\n        onRowMouseEnter: onRowMouseEnter,\n        onRowMouseLeave: onRowMouseLeave,\n        tabIndex: props.tabIndex,\n        isSelectable: isSelectable,\n        onRowTouchEnd: onRowTouchEnd,\n        onRowMouseDown: onRowMouseDown,\n        onRowMouseUp: onRowMouseUp,\n        onRowToggle: onRowToggle,\n        onRowDragStart: onRowDragStart,\n        onRowDragOver: onRowDragOver,\n        onRowDragLeave: onRowDragLeave,\n        onRowDragEnd: onRowDragEnd,\n        onRowDrop: onRowDrop,\n        onRadioChange: onRadioChange,\n        onCheckboxChange: onCheckboxChange,\n        onCellClick: onCellClick,\n        onCellMouseDown: onCellMouseDown,\n        onCellMouseUp: onCellMouseUp,\n        editing: editing,\n        editingRows: props.editingRows,\n        editingMeta: props.editingMeta,\n        editMode: props.editMode,\n        onRowEditChange: props.onRowEditChange,\n        onEditingMetaChange: props.onEditingMetaChange,\n        groupRowsBy: props.groupRowsBy,\n        compareSelectionBy: props.compareSelectionBy,\n        dataKey: props.dataKey,\n        rowGroupMode: props.rowGroupMode,\n        onRowEditInit: props.onRowEditInit,\n        rowEditValidator: props.rowEditValidator,\n        onRowEditSave: props.onRowEditSave,\n        onRowEditComplete: props.onRowEditComplete,\n        onRowEditCancel: props.onRowEditCancel,\n        selection: props.selection,\n        allowRowSelection: _allowRowSelection,\n        allowCellSelection: _allowCellSelection,\n        selectOnEdit: props.selectOnEdit,\n        selectionMode: props.selectionMode,\n        selectionModeInColumn: props.selectionModeInColumn,\n        cellClassName: props.cellClassName,\n        responsiveLayout: props.responsiveLayout,\n        frozenRow: props.frozenRow,\n        showSelectionElement: props.showSelectionElement,\n        showRowReorderElement: props.showRowReorderElement,\n        expanded: expanded,\n        expandedRowIcon: props.expandedRowIcon,\n        collapsedRowIcon: props.collapsedRowIcon,\n        rowClassName: props.rowClassName,\n        virtualScrollerOptions: props.virtualScrollerOptions\n      });\n    }\n  };\n  var createExpansion = function createExpansion(rowData, rowIndex, expanded, colSpan) {\n    if (expanded && !(isSubheaderGrouping && props.expandableRowGroups)) {\n      var id = \"\".concat(props.tableSelector, \"_content_\").concat(rowIndex, \"_expanded\");\n      var options = {\n        index: rowIndex,\n        customRendering: false\n      };\n      var _content3 = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.rowExpansionTemplate, rowData, options);\n\n      // check if the user wants complete control of the rendering\n      if (!options.customRendering) {\n        _content3 = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n          role: \"cell\",\n          colSpan: colSpan\n        }, _content3);\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", {\n        id: id,\n        className: \"p-datatable-row-expansion\",\n        role: \"row\"\n      }, _content3);\n    }\n    return null;\n  };\n  var createGroupFooter = function createGroupFooter(rowData, rowIndex, expanded, colSpan) {\n    if (isSubheaderGrouping && shouldRenderRowGroupFooter(props.value, rowData, rowIndex - props.first, expanded)) {\n      var _content4 = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.rowGroupFooterTemplate, rowData, {\n        index: rowIndex,\n        colSpan: colSpan,\n        props: props.tableProps\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", {\n        className: \"p-rowgroup-footer\",\n        role: \"row\"\n      }, _content4);\n    }\n    return null;\n  };\n  var createContent = function createContent() {\n    return props.value && props.value.map(function (rowData, index) {\n      var rowIndex = getVirtualScrollerOption('getItemOptions') ? getVirtualScrollerOption('getItemOptions')(index).index : props.first + index;\n      var key = getRowKey(rowData, rowIndex);\n      var expanded = isRowExpanded(rowData);\n      var colSpan = getColumnsLength();\n      var groupHeader = createGroupHeader(rowData, rowIndex, expanded, colSpan);\n      var row = createRow(rowData, rowIndex, index, expanded);\n      var expansion = createExpansion(rowData, rowIndex, expanded, colSpan);\n      var groupFooter = createGroupFooter(rowData, rowIndex, expanded, colSpan);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        key: key\n      }, groupHeader, row, expansion, groupFooter);\n    });\n  };\n  var content = props.empty ? createEmptyContent() : createContent();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tbody\", {\n    ref: refCallback,\n    style: props.style,\n    className: props.className\n  }, content);\n}));\nTableBody.displayName = 'TableBody';\n\nvar ColumnGroupBase = {\n  defaultProps: {\n    __TYPE: 'ColumnGroup',\n    children: undefined\n  },\n  getCProp: function getCProp(group, name) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getComponentProp(group, name, ColumnGroupBase.defaultProps);\n  },\n  getCProps: function getCProps(group) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getComponentProps(group, ColumnGroupBase.defaultProps);\n  }\n};\n\nvar RowBase = {\n  defaultProps: {\n    __TYPE: 'Row',\n    style: null,\n    className: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, RowBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, RowBase.defaultProps);\n  },\n  getCProp: function getCProp(row, name) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getComponentProp(row, name, RowBase.defaultProps);\n  }\n};\n\nfunction ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$4(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar FooterCell = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState({}),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    styleObjectState = _React$useState2[0],\n    setStyleObjectState = _React$useState2[1];\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var getColumnProp = function getColumnProp(name) {\n    return ColumnBase.getCProp(props.column, name);\n  };\n  var getStyle = function getStyle() {\n    var footerStyle = getColumnProp('footerStyle');\n    var columnStyle = getColumnProp('style');\n    return getColumnProp('frozen') ? Object.assign({}, columnStyle, footerStyle, styleObjectState) : Object.assign({}, columnStyle, footerStyle);\n  };\n  var updateStickyPosition = function updateStickyPosition() {\n    if (getColumnProp('frozen')) {\n      var styleObject = _objectSpread$4({}, styleObjectState);\n      var _align = getColumnProp('alignFrozen');\n      if (_align === 'right') {\n        var right = 0;\n        var next = elementRef.current.nextElementSibling;\n        if (next) {\n          right = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOuterWidth(next) + parseFloat(next.style.right || 0);\n        }\n        styleObject['right'] = right + 'px';\n      } else {\n        var left = 0;\n        var prev = elementRef.current.previousElementSibling;\n        if (prev) {\n          left = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOuterWidth(prev) + parseFloat(prev.style.left || 0);\n        }\n        styleObject['left'] = left + 'px';\n      }\n      var isSameStyle = styleObjectState['left'] === styleObject['left'] && styleObjectState['right'] === styleObject['right'];\n      !isSameStyle && setStyleObjectState(styleObject);\n    }\n  };\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    if (getColumnProp('frozen')) {\n      updateStickyPosition();\n    }\n  });\n  var style = getStyle();\n  var align = getColumnProp('align');\n  var colSpan = getColumnProp('colSpan');\n  var rowSpan = getColumnProp('rowSpan');\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)(getColumnProp('footerClassName'), getColumnProp('className'), _defineProperty({\n    'p-frozen-column': getColumnProp('frozen')\n  }, \"p-align-\".concat(align), !!align));\n  var content = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(getColumnProp('footer'), {\n    props: props.tableProps\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    ref: elementRef,\n    style: style,\n    className: className,\n    role: \"cell\",\n    colSpan: colSpan,\n    rowSpan: rowSpan\n  }, content);\n});\nFooterCell.displayName = 'FooterCell';\n\nvar TableFooter = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var hasFooter = function hasFooter() {\n    return props.footerColumnGroup ? true : props.columns ? props.columns.some(function (col) {\n      return col && getColumnProp(col, 'footer');\n    }) : false;\n  };\n  var getColumnProp = function getColumnProp(column, name) {\n    return ColumnBase.getCProp(column, name);\n  };\n  var createGroupFooterCells = function createGroupFooterCells(row) {\n    var columns = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(RowBase.getCProp(row, 'children'));\n    return createFooterCells(columns);\n  };\n  var createFooterCells = function createFooterCells(columns) {\n    return react__WEBPACK_IMPORTED_MODULE_0__.Children.map(columns, function (col, i) {\n      var isVisible = col ? !getColumnProp(col, 'hidden') : true;\n      var key = col ? getColumnProp(col, 'columnKey') || getColumnProp(col, 'field') || i : i;\n      return isVisible && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(FooterCell, {\n        key: key,\n        tableProps: props.tableProps,\n        column: col\n      });\n    });\n  };\n  var createContent = function createContent() {\n    if (props.footerColumnGroup) {\n      var rows = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(ColumnGroupBase.getCProp(props.footerColumnGroup, 'children'));\n      return rows.map(function (row, i) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", {\n          key: i,\n          role: \"row\"\n        }, createGroupFooterCells(row));\n      });\n    }\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", {\n      role: \"row\"\n    }, createFooterCells(props.columns));\n  };\n  if (hasFooter()) {\n    var content = createContent();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tfoot\", {\n      className: \"p-datatable-tfoot\"\n    }, content);\n  }\n  return null;\n});\nTableFooter.displayName = 'TableFooter';\n\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$3(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar ColumnFilter = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    overlayVisibleState = _React$useState2[0],\n    setOverlayVisibleState = _React$useState2[1];\n  var overlayRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var iconRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var selfClick = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var overlayEventListener = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var getColumnProp = function getColumnProp(name) {\n    return ColumnBase.getCProp(props.column, name);\n  };\n  var field = getColumnProp('filterField') || getColumnProp('field');\n  var filterModel = props.filters[field];\n  var filterStoreModel = props.filtersStore && props.filtersStore[field];\n  var _useOverlayListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useOverlayListener)({\n      target: iconRef,\n      overlay: overlayRef,\n      listener: function listener(event, _ref) {\n        var type = _ref.type,\n          valid = _ref.valid;\n        if (valid) {\n          type === 'outside' ? !selfClick.current && !isTargetClicked(event.target) && hide() : hide();\n        }\n        selfClick.current = false;\n      },\n      when: overlayVisibleState\n    }),\n    _useOverlayListener2 = _slicedToArray(_useOverlayListener, 2),\n    bindOverlayListener = _useOverlayListener2[0],\n    unbindOverlayListener = _useOverlayListener2[1];\n  var hasFilter = function hasFilter() {\n    if (!filterStoreModel || !filterModel) return false;\n    return filterStoreModel.operator ? !isFilterBlank(filterModel.constraints[0].value) : !isFilterBlank(filterModel.value);\n  };\n  var hasRowFilter = function hasRowFilter() {\n    return filterModel && !isFilterBlank(filterModel.value);\n  };\n  var isFilterBlank = function isFilterBlank(filter) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isEmpty(filter);\n  };\n  var isRowMatchModeSelected = function isRowMatchModeSelected(matchMode) {\n    return filterModel && filterModel.matchMode === matchMode;\n  };\n  var showMenuButton = function showMenuButton() {\n    return getColumnProp('showFilterMenu') && (props.display === 'row' ? getColumnProp('dataType') !== 'boolean' : true);\n  };\n  var matchModes = function matchModes() {\n    return getColumnProp('filterMatchModeOptions') || primereact_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].filterMatchModeOptions[findDataType()].map(function (key) {\n      return {\n        label: (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.localeOption)(key),\n        value: key\n      };\n    });\n  };\n  var isShowMatchModes = function isShowMatchModes() {\n    return getColumnProp('dataType') !== 'boolean' && getColumnProp('showFilterMatchModes') && matchModes() && getColumnProp('showFilterMenuOptions');\n  };\n  var isShowOperator = function isShowOperator() {\n    return getColumnProp('showFilterOperator') && filterModel && filterModel.operator && getColumnProp('showFilterMenuOptions');\n  };\n  var showRemoveIcon = function showRemoveIcon() {\n    return fieldConstraints().length > 1;\n  };\n  var isShowAddConstraint = function isShowAddConstraint() {\n    return getColumnProp('showAddButton') && filterModel && filterModel.operator && fieldConstraints() && fieldConstraints().length < getColumnProp('maxConstraints') && getColumnProp('showFilterMenuOptions');\n  };\n  var isOutsideClicked = function isOutsideClicked(target) {\n    return !isTargetClicked(target) && overlayRef.current && !(overlayRef.current.isSameNode(target) || overlayRef.current.contains(target));\n  };\n  var isTargetClicked = function isTargetClicked(target) {\n    return iconRef.current && (iconRef.current.isSameNode(target) || iconRef.current.contains(target));\n  };\n  var getDefaultConstraint = function getDefaultConstraint() {\n    if (filterStoreModel) {\n      if (filterStoreModel.operator) {\n        return {\n          matchMode: filterStoreModel.constraints[0].matchMode,\n          operator: filterStoreModel.operator\n        };\n      } else {\n        return {\n          matchMode: filterStoreModel.matchMode\n        };\n      }\n    }\n  };\n  var findDataType = function findDataType() {\n    var dataType = getColumnProp('dataType');\n    var matchMode = getColumnProp('filterMatchMode');\n    var hasMatchMode = function hasMatchMode(key) {\n      return primereact_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].filterMatchModeOptions[key].some(function (mode) {\n        return mode === matchMode;\n      });\n    };\n    if (matchMode === 'custom' && !hasMatchMode(dataType)) {\n      primereact_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].filterMatchModeOptions[dataType].push(primereact_api__WEBPACK_IMPORTED_MODULE_2__.FilterMatchMode.CUSTOM);\n      return dataType;\n    } else if (matchMode) {\n      return Object.keys(primereact_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].filterMatchModeOptions).find(function (key) {\n        return hasMatchMode(key);\n      }) || dataType;\n    }\n    return dataType;\n  };\n  var clearFilter = function clearFilter() {\n    var filterClearCallback = getColumnProp('onFilterClear');\n    var defaultConstraint = getDefaultConstraint();\n    var filters = _objectSpread$3({}, props.filters);\n    if (filters[field].operator) {\n      filters[field].constraints.splice(1);\n      filters[field].operator = defaultConstraint.operator;\n      filters[field].constraints[0] = {\n        value: null,\n        matchMode: defaultConstraint.matchMode\n      };\n    } else {\n      filters[field].value = null;\n      filters[field].matchMode = defaultConstraint.matchMode;\n    }\n    filterClearCallback && filterClearCallback();\n    props.onFilterChange(filters);\n    props.onFilterApply();\n    hide();\n  };\n  var applyFilter = function applyFilter() {\n    var filterApplyClickCallback = getColumnProp('onFilterApplyClick');\n    filterApplyClickCallback && filterApplyClickCallback({\n      field: field,\n      constraints: filterModel\n    });\n    props.onFilterApply();\n    hide();\n  };\n  var toggleMenu = function toggleMenu() {\n    setOverlayVisibleState(function (prevVisible) {\n      return !prevVisible;\n    });\n  };\n  var onToggleButtonKeyDown = function onToggleButtonKeyDown(event) {\n    switch (event.key) {\n      case 'Escape':\n      case 'Tab':\n        hide();\n        break;\n      case 'ArrowDown':\n        if (overlayVisibleState) {\n          var focusable = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getFirstFocusableElement(overlayRef.current);\n          focusable && focusable.focus();\n          event.preventDefault();\n        } else if (event.altKey) {\n          setOverlayVisibleState(true);\n          event.preventDefault();\n        }\n        break;\n    }\n  };\n  var onContentKeyDown = function onContentKeyDown(event) {\n    if (event.key === 'Escape') {\n      hide();\n      iconRef.current && iconRef.current.focus();\n    }\n  };\n  var onInputChange = function onInputChange(event, index) {\n    var filters = _objectSpread$3({}, props.filters);\n    var value = event.target.value;\n    if (props.display === 'menu') {\n      filters[field].constraints[index].value = value;\n    } else {\n      filters[field].value = value;\n    }\n    props.onFilterChange(filters);\n    if (!getColumnProp('showApplyButton') || props.display === 'row') {\n      props.onFilterApply();\n    }\n  };\n  var onInputKeydown = function onInputKeydown(event, _index) {\n    if (event.key === 'Enter') {\n      if (!getColumnProp('showApplyButton') || props.display === 'menu') {\n        applyFilter();\n      }\n    }\n  };\n  var onRowMatchModeChange = function onRowMatchModeChange(matchMode) {\n    var filterMatchModeChangeCallback = getColumnProp('onFilterMatchModeChange');\n    var filters = _objectSpread$3({}, props.filters);\n    filters[field].matchMode = matchMode;\n    filterMatchModeChangeCallback && filterMatchModeChangeCallback({\n      field: field,\n      matchMode: matchMode\n    });\n    props.onFilterChange(filters);\n    props.onFilterApply();\n    hide();\n  };\n  var onRowMatchModeKeyDown = function onRowMatchModeKeyDown(event, matchMode, clear) {\n    var item = event.target;\n    switch (event.key) {\n      case 'ArrowDown':\n        var nextItem = findNextItem(item);\n        if (nextItem) {\n          item.removeAttribute('tabindex');\n          nextItem.tabIndex = 0;\n          nextItem.focus();\n        }\n        event.preventDefault();\n        break;\n      case 'ArrowUp':\n        var prevItem = findPrevItem(item);\n        if (prevItem) {\n          item.removeAttribute('tabindex');\n          prevItem.tabIndex = 0;\n          prevItem.focus();\n        }\n        event.preventDefault();\n        break;\n      case 'Enter':\n        clear ? clearFilter() : onRowMatchModeChange(matchMode.value);\n        event.preventDefault();\n        break;\n    }\n  };\n  var onOperatorChange = function onOperatorChange(e) {\n    var filterOperationChangeCallback = getColumnProp('onFilterOperatorChange');\n    var value = e.value;\n    var filters = _objectSpread$3({}, props.filters);\n    filters[field].operator = value;\n    props.onFilterChange(filters);\n    filterOperationChangeCallback && filterOperationChangeCallback({\n      field: field,\n      operator: value\n    });\n    if (!getColumnProp('showApplyButton')) {\n      props.onFilterApply();\n    }\n  };\n  var onMenuMatchModeChange = function onMenuMatchModeChange(value, index) {\n    var filterMatchModeChangeCallback = getColumnProp('onFilterMatchModeChange');\n    var filters = _objectSpread$3({}, props.filters);\n    filters[field].constraints[index].matchMode = value;\n    props.onFilterChange(filters);\n    filterMatchModeChangeCallback && filterMatchModeChangeCallback({\n      field: field,\n      matchMode: value,\n      index: index\n    });\n    if (!getColumnProp('showApplyButton')) {\n      props.onFilterApply();\n    }\n  };\n  var addConstraint = function addConstraint() {\n    var filterConstraintAddCallback = getColumnProp('onFilterConstraintAdd');\n    var defaultConstraint = getDefaultConstraint();\n    var filters = _objectSpread$3({}, props.filters);\n    var newConstraint = {\n      value: null,\n      matchMode: defaultConstraint.matchMode\n    };\n    filters[field].constraints.push(newConstraint);\n    filterConstraintAddCallback && filterConstraintAddCallback({\n      field: field,\n      constraint: newConstraint\n    });\n    props.onFilterChange(filters);\n    if (!getColumnProp('showApplyButton')) {\n      props.onFilterApply();\n    }\n  };\n  var removeConstraint = function removeConstraint(index) {\n    var filterConstraintRemoveCallback = getColumnProp('onFilterConstraintRemove');\n    var filters = _objectSpread$3({}, props.filters);\n    var removedConstraint = filters[field].constraints.splice(index, 1);\n    filterConstraintRemoveCallback && filterConstraintRemoveCallback({\n      field: field,\n      constraint: removedConstraint\n    });\n    props.onFilterChange(filters);\n    if (!getColumnProp('showApplyButton')) {\n      props.onFilterApply();\n    }\n  };\n  var findNextItem = function findNextItem(item) {\n    var nextItem = item.nextElementSibling;\n    return nextItem ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(nextItem, 'p-column-filter-separator') ? findNextItem(nextItem) : nextItem : item.parentElement.firstElementChild;\n  };\n  var findPrevItem = function findPrevItem(item) {\n    var prevItem = item.previousElementSibling;\n    return prevItem ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(prevItem, 'p-column-filter-separator') ? findPrevItem(prevItem) : prevItem : item.parentElement.lastElementChild;\n  };\n  var hide = function hide() {\n    setOverlayVisibleState(false);\n  };\n  var onContentClick = function onContentClick(event) {\n    selfClick.current = true;\n    primereact_overlayservice__WEBPACK_IMPORTED_MODULE_4__.OverlayService.emit('overlay-click', {\n      originalEvent: event,\n      target: overlayRef.current\n    });\n  };\n  var onContentMouseDown = function onContentMouseDown() {\n    selfClick.current = true;\n  };\n  var onOverlayEnter = function onOverlayEnter() {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ZIndexUtils.set('overlay', overlayRef.current, primereact_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].autoZIndex, primereact_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].zIndex.overlay);\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.alignOverlay(overlayRef.current, iconRef.current, primereact_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].appendTo, false);\n    overlayEventListener.current = function (e) {\n      if (!isOutsideClicked(e.target)) {\n        selfClick.current = true;\n      }\n    };\n    primereact_overlayservice__WEBPACK_IMPORTED_MODULE_4__.OverlayService.on('overlay-click', overlayEventListener.current);\n  };\n  var onOverlayEntered = function onOverlayEntered() {\n    bindOverlayListener();\n  };\n  var onOverlayExit = function onOverlayExit() {\n    onOverlayHide();\n  };\n  var onOverlayExited = function onOverlayExited() {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ZIndexUtils.clear(overlayRef.current);\n  };\n  var onOverlayHide = function onOverlayHide() {\n    unbindOverlayListener();\n    primereact_overlayservice__WEBPACK_IMPORTED_MODULE_4__.OverlayService.off('overlay-click', overlayEventListener.current);\n    overlayEventListener.current = null;\n    selfClick.current = false;\n  };\n  var fieldConstraints = function fieldConstraints() {\n    return filterModel ? filterModel.constraints || [filterModel] : [];\n  };\n  var operator = function operator() {\n    return filterModel.operator;\n  };\n  var operatorOptions = function operatorOptions() {\n    return [{\n      label: (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.localeOption)('matchAll'),\n      value: primereact_api__WEBPACK_IMPORTED_MODULE_2__.FilterOperator.AND\n    }, {\n      label: (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.localeOption)('matchAny'),\n      value: primereact_api__WEBPACK_IMPORTED_MODULE_2__.FilterOperator.OR\n    }];\n  };\n  var filterLabel = function filterLabel() {\n    return (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.localeOption)('filter');\n  };\n  var noFilterLabel = function noFilterLabel() {\n    return (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.localeOption)('noFilter');\n  };\n  var removeRuleButtonLabel = function removeRuleButtonLabel() {\n    return (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.localeOption)('removeRule');\n  };\n  var addRuleButtonLabel = function addRuleButtonLabel() {\n    return (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.localeOption)('addRule');\n  };\n  var clearButtonLabel = function clearButtonLabel() {\n    return (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.localeOption)('clear');\n  };\n  var applyButtonLabel = function applyButtonLabel() {\n    return (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.localeOption)('apply');\n  };\n  var filterCallback = function filterCallback(value) {\n    var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var filters = _objectSpread$3({}, props.filters);\n    var meta = filters[field];\n    props.display === 'menu' && meta && meta.operator ? filters[field].constraints[index].value = value : filters[field].value = value;\n    props.onFilterChange(filters);\n  };\n  var filterApplyCallback = function filterApplyCallback() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    args && filterCallback(args[0], args[1]);\n    props.onFilterApply();\n  };\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUpdateEffect)(function () {\n    if (props.display === 'menu' && overlayVisibleState) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.alignOverlay(overlayRef.current, iconRef.current, primereact_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].appendTo, false);\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUnmountEffect)(function () {\n    if (overlayEventListener.current) {\n      primereact_overlayservice__WEBPACK_IMPORTED_MODULE_4__.OverlayService.off('overlay-click', overlayEventListener.current);\n      overlayEventListener.current = null;\n    }\n    if (overlayRef.current) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ZIndexUtils.clear(overlayRef.current);\n      onOverlayHide();\n    }\n  });\n  var createFilterElement = function createFilterElement(model, index) {\n    var value = model ? model.value : null;\n    return getColumnProp('filterElement') ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(getColumnProp('filterElement'), {\n      field: field,\n      index: index,\n      filterModel: model,\n      value: value,\n      filterApplyCallback: filterApplyCallback,\n      filterCallback: filterCallback\n    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_inputtext__WEBPACK_IMPORTED_MODULE_6__.InputText, {\n      type: getColumnProp('filterType'),\n      value: value || '',\n      onChange: function onChange(e) {\n        return onInputChange(e, index);\n      },\n      onKeyDown: function onKeyDown(e) {\n        return onInputKeydown(e);\n      },\n      className: \"p-column-filter\",\n      placeholder: getColumnProp('filterPlaceholder'),\n      maxLength: getColumnProp('filterMaxLength')\n    });\n  };\n  var createRowFilterElement = function createRowFilterElement() {\n    if (props.display === 'row') {\n      var content = createFilterElement(filterModel, 0);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-fluid p-column-filter-element\"\n      }, content);\n    }\n    return null;\n  };\n  var createMenuFilterElement = function createMenuFilterElement(fieldConstraint, index) {\n    return props.display === 'menu' ? createFilterElement(fieldConstraint, index) : null;\n  };\n  var createMenuButton = function createMenuButton() {\n    if (showMenuButton()) {\n      var _className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-column-filter-menu-button p-link', {\n        'p-column-filter-menu-button-open': overlayVisibleState,\n        'p-column-filter-menu-button-active': hasFilter()\n      });\n      var label = filterLabel();\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        ref: iconRef,\n        type: \"button\",\n        className: _className,\n        \"aria-haspopup\": true,\n        \"aria-expanded\": overlayVisibleState,\n        onClick: toggleMenu,\n        onKeyDown: onToggleButtonKeyDown,\n        \"aria-label\": label\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"pi pi-filter-icon pi-filter\",\n        \"aria-hidden\": \"true\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_5__.Ripple, null));\n    }\n    return null;\n  };\n  var createClearButton = function createClearButton() {\n    if (getColumnProp('showClearButton') && props.display === 'row') {\n      var _className2 = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-column-filter-clear-button p-link', {\n        'p-hidden-space': !hasRowFilter()\n      });\n      var clearLabel = clearButtonLabel();\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        className: _className2,\n        type: \"button\",\n        onClick: clearFilter,\n        \"aria-label\": clearLabel\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"pi pi-filter-slash\",\n        \"aria-hidden\": \"true\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_5__.Ripple, null));\n    }\n    return null;\n  };\n  var createRowItems = function createRowItems() {\n    if (isShowMatchModes()) {\n      var _matchModes = matchModes();\n      var _noFilterLabel = noFilterLabel();\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", {\n        className: \"p-column-filter-row-items\"\n      }, _matchModes.map(function (matchMode, i) {\n        var value = matchMode.value,\n          label = matchMode.label;\n        var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-column-filter-row-item', {\n          'p-highlight': isRowMatchModeSelected(value)\n        });\n        var tabIndex = i === 0 ? 0 : null;\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n          className: className,\n          key: label,\n          onClick: function onClick() {\n            return onRowMatchModeChange(value);\n          },\n          onKeyDown: function onKeyDown(e) {\n            return onRowMatchModeKeyDown(e, matchMode);\n          },\n          tabIndex: tabIndex\n        }, label);\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n        className: \"p-column-filter-separator\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n        className: \"p-column-filter-row-item\",\n        onClick: clearFilter,\n        onKeyDown: function onKeyDown(e) {\n          return onRowMatchModeKeyDown(e, null, true);\n        }\n      }, _noFilterLabel));\n    }\n    return null;\n  };\n  var createOperator = function createOperator() {\n    if (isShowOperator()) {\n      var options = operatorOptions();\n      var value = operator();\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-column-filter-operator\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_dropdown__WEBPACK_IMPORTED_MODULE_7__.Dropdown, {\n        options: options,\n        value: value,\n        onChange: onOperatorChange,\n        className: \"p-column-filter-operator-dropdown\"\n      }));\n    }\n    return null;\n  };\n  var createMatchModeDropdown = function createMatchModeDropdown(constraint, index) {\n    if (isShowMatchModes()) {\n      var options = matchModes();\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_dropdown__WEBPACK_IMPORTED_MODULE_7__.Dropdown, {\n        options: options,\n        value: constraint.matchMode,\n        onChange: function onChange(e) {\n          return onMenuMatchModeChange(e.value, index);\n        },\n        className: \"p-column-filter-matchmode-dropdown\"\n      });\n    }\n    return null;\n  };\n  var createRemoveButton = function createRemoveButton(index) {\n    if (showRemoveIcon()) {\n      var removeRuleLabel = removeRuleButtonLabel();\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_button__WEBPACK_IMPORTED_MODULE_8__.Button, {\n        type: \"button\",\n        icon: \"pi pi-trash\",\n        className: \"p-column-filter-remove-button p-button-text p-button-danger p-button-sm\",\n        onClick: function onClick() {\n          return removeConstraint(index);\n        },\n        label: removeRuleLabel\n      });\n    }\n    return null;\n  };\n  var createConstraints = function createConstraints() {\n    var _fieldConstraints = fieldConstraints();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-column-filter-constraints\"\n    }, _fieldConstraints.map(function (fieldConstraint, i) {\n      var matchModeDropdown = createMatchModeDropdown(fieldConstraint, i);\n      var menuFilterElement = createMenuFilterElement(fieldConstraint, i);\n      var removeButton = createRemoveButton(i);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        key: i,\n        className: \"p-column-filter-constraint\"\n      }, matchModeDropdown, menuFilterElement, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, removeButton));\n    }));\n  };\n  var createAddRule = function createAddRule() {\n    if (isShowAddConstraint()) {\n      var addRuleLabel = addRuleButtonLabel();\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-column-filter-add-rule\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_button__WEBPACK_IMPORTED_MODULE_8__.Button, {\n        type: \"button\",\n        label: addRuleLabel,\n        icon: \"pi pi-plus\",\n        className: \"p-column-filter-add-button p-button-text p-button-sm\",\n        onClick: addConstraint\n      }));\n    }\n    return null;\n  };\n  var createFilterClearButton = function createFilterClearButton() {\n    if (getColumnProp('showClearButton')) {\n      if (!getColumnProp('filterClear')) {\n        var clearLabel = clearButtonLabel();\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_button__WEBPACK_IMPORTED_MODULE_8__.Button, {\n          type: \"button\",\n          className: \"p-button-outlined p-button-sm\",\n          onClick: clearFilter,\n          label: clearLabel\n        });\n      }\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(getColumnProp('filterClear'), {\n        field: field,\n        filterModel: filterModel,\n        filterClearCallback: clearFilter\n      });\n    }\n    return null;\n  };\n  var createFilterApplyButton = function createFilterApplyButton() {\n    if (getColumnProp('showApplyButton')) {\n      if (!getColumnProp('filterApply')) {\n        var applyLabel = applyButtonLabel();\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_button__WEBPACK_IMPORTED_MODULE_8__.Button, {\n          type: \"button\",\n          className: \"p-button-sm\",\n          onClick: applyFilter,\n          label: applyLabel\n        });\n      }\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(getColumnProp('filterApply'), {\n        field: field,\n        filterModel: filterModel,\n        filterApplyCallback: applyFilter\n      });\n    }\n    return null;\n  };\n  var createButtonBar = function createButtonBar() {\n    var clearButton = createFilterClearButton();\n    var applyButton = createFilterApplyButton();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-column-filter-buttonbar\"\n    }, clearButton, applyButton);\n  };\n  var createItems = function createItems() {\n    var operator = createOperator();\n    var constraints = createConstraints();\n    var addRule = createAddRule();\n    var buttonBar = createButtonBar();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, operator, constraints, addRule, buttonBar);\n  };\n  var createOverlay = function createOverlay() {\n    var style = getColumnProp('filterMenuStyle');\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-column-filter-overlay p-component p-fluid', getColumnProp('filterMenuClassName'), {\n      'p-column-filter-overlay-menu': props.display === 'menu',\n      'p-input-filled': primereact_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].inputStyle === 'filled',\n      'p-ripple-disabled': primereact_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].ripple === false\n    });\n    var filterHeader = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(getColumnProp('filterHeader'), {\n      field: field,\n      filterModel: filterModel,\n      filterApplyCallback: filterApplyCallback\n    });\n    var filterFooter = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(getColumnProp('filterFooter'), {\n      field: field,\n      filterModel: filterModel,\n      filterApplyCallback: filterApplyCallback\n    });\n    var items = props.display === 'row' ? createRowItems() : createItems();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_portal__WEBPACK_IMPORTED_MODULE_9__.Portal, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_csstransition__WEBPACK_IMPORTED_MODULE_10__.CSSTransition, {\n      nodeRef: overlayRef,\n      classNames: \"p-connected-overlay\",\n      \"in\": overlayVisibleState,\n      timeout: {\n        enter: 120,\n        exit: 100\n      },\n      unmountOnExit: true,\n      onEnter: onOverlayEnter,\n      onEntered: onOverlayEntered,\n      onExit: onOverlayExit,\n      onExited: onOverlayExited\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      ref: overlayRef,\n      style: style,\n      className: className,\n      onKeyDown: onContentKeyDown,\n      onClick: onContentClick,\n      onMouseDown: onContentMouseDown\n    }, filterHeader, items, filterFooter)));\n  };\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-column-filter p-fluid', {\n    'p-column-filter-row': props.display === 'row',\n    'p-column-filter-menu': props.display === 'menu'\n  });\n  var rowFilterElement = createRowFilterElement();\n  var menuButton = createMenuButton();\n  var clearButton = createClearButton();\n  var overlay = createOverlay();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: className\n  }, rowFilterElement, menuButton, clearButton, overlay);\n});\nColumnFilter.displayName = 'ColumnFilter';\n\nvar HeaderCheckbox = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    focusedState = _React$useState2[0],\n    setFocusedState = _React$useState2[1];\n  var onFocus = function onFocus() {\n    setFocusedState(true);\n  };\n  var onBlur = function onBlur() {\n    setFocusedState(false);\n  };\n  var onClick = function onClick(event) {\n    if (!props.disabled) {\n      setFocusedState(true);\n      props.onChange({\n        originalEvent: event,\n        checked: !props.checked\n      });\n    }\n  };\n  var onKeyDown = function onKeyDown(event) {\n    if (event.code === 'Space' || event.key === ' ') {\n      // event.key is for Android support\n      onClick(event);\n      event.preventDefault();\n    }\n  };\n  var boxClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-checkbox-box p-component', {\n    'p-highlight': props.checked,\n    'p-disabled': props.disabled,\n    'p-focus': focusedState\n  });\n  var iconClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-checkbox-icon', {\n    'pi pi-check': props.checked\n  });\n  var tabIndex = props.disabled ? null : 0;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-checkbox p-component\",\n    onClick: onClick\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: boxClassName,\n    role: \"checkbox\",\n    \"aria-checked\": props.checked,\n    tabIndex: tabIndex,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: iconClassName\n  })));\n});\nHeaderCheckbox.displayName = 'HeaderCheckbox';\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar HeaderCell = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState({}),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    styleObjectState = _React$useState2[0],\n    setStyleObjectState = _React$useState2[1];\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var prevColumn = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.usePrevious)(props.column);\n  var isBadgeVisible = function isBadgeVisible() {\n    return props.multiSortMeta && props.multiSortMeta.length > 1;\n  };\n  var isSortableDisabled = function isSortableDisabled() {\n    return !getColumnProp('sortable') || getColumnProp('sortable') && (props.allSortableDisabled || getColumnProp('sortableDisabled'));\n  };\n  var getColumnProp = function getColumnProp() {\n    return props.column ? typeof (arguments.length <= 0 ? undefined : arguments[0]) === 'string' ? ColumnBase.getCProp(props.column, arguments.length <= 0 ? undefined : arguments[0]) : ColumnBase.getCProp((arguments.length <= 0 ? undefined : arguments[0]) || props.column, arguments.length <= 1 ? undefined : arguments[1]) : null;\n  };\n  var getStyle = function getStyle() {\n    var headerStyle = getColumnProp('headerStyle');\n    var columnStyle = getColumnProp('style');\n    return getColumnProp('frozen') ? Object.assign({}, columnStyle, headerStyle, styleObjectState) : Object.assign({}, columnStyle, headerStyle);\n  };\n  var getMultiSortMetaIndex = function getMultiSortMetaIndex() {\n    return props.multiSortMeta.findIndex(function (meta) {\n      return meta.field === getColumnProp('field') || meta.field === getColumnProp('sortField');\n    });\n  };\n  var getSortMeta = function getSortMeta() {\n    var sorted = false;\n    var sortOrder = 0;\n    var metaIndex = -1;\n    if (props.sortMode === 'single') {\n      sorted = props.sortField && (props.sortField === getColumnProp('field') || props.sortField === getColumnProp('sortField'));\n      sortOrder = sorted ? props.sortOrder : 0;\n    } else if (props.sortMode === 'multiple') {\n      metaIndex = getMultiSortMetaIndex();\n      if (metaIndex > -1) {\n        sorted = true;\n        sortOrder = props.multiSortMeta[metaIndex].order;\n      }\n    }\n    return {\n      sorted: sorted,\n      sortOrder: sortOrder,\n      metaIndex: metaIndex\n    };\n  };\n  var getAriaSort = function getAriaSort(_ref) {\n    var sorted = _ref.sorted,\n      sortOrder = _ref.sortOrder;\n    if (getColumnProp('sortable')) {\n      var sortIcon = sorted ? sortOrder < 0 ? 'pi-sort-amount-down' : 'pi-sort-amount-up-alt' : 'pi-sort-alt';\n      if (sortIcon === 'pi-sort-amount-down') return 'descending';else if (sortIcon === 'pi-sort-amount-up-alt') return 'ascending';else return 'none';\n    }\n    return null;\n  };\n  var updateStickyPosition = function updateStickyPosition() {\n    if (getColumnProp('frozen')) {\n      var styleObject = _objectSpread$2({}, styleObjectState);\n      var align = getColumnProp('alignFrozen');\n      if (align === 'right') {\n        var right = 0;\n        var next = elementRef.current.nextElementSibling;\n        if (next) {\n          right = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOuterWidth(next) + parseFloat(next.style.right || 0);\n        }\n        styleObject['right'] = right + 'px';\n      } else {\n        var left = 0;\n        var prev = elementRef.current.previousElementSibling;\n        if (prev) {\n          left = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOuterWidth(prev) + parseFloat(prev.style.left || 0);\n        }\n        styleObject['left'] = left + 'px';\n      }\n      var filterRow = elementRef.current.parentElement.nextElementSibling;\n      if (filterRow) {\n        var index = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.index(elementRef.current);\n        filterRow.children[index].style.left = styleObject['left'];\n        filterRow.children[index].style.right = styleObject['right'];\n      }\n      var isSameStyle = styleObjectState['left'] === styleObject['left'] && styleObjectState['right'] === styleObject['right'];\n      !isSameStyle && setStyleObjectState(styleObject);\n    }\n  };\n  var updateSortableDisabled = function updateSortableDisabled(prevColumn) {\n    if (getColumnProp(prevColumn, 'sortableDisabled') !== getColumnProp('sortableDisabled') || getColumnProp(prevColumn, 'sortable') !== getColumnProp('sortable')) {\n      props.onSortableChange();\n    }\n  };\n  var onClick = function onClick(event) {\n    if (!isSortableDisabled()) {\n      var targetNode = event.target;\n      if (primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(targetNode, 'p-sortable-column') || primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(targetNode, 'p-column-title') || primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(targetNode, 'p-column-header-content') || primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(targetNode, 'p-sortable-column-icon') || primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(targetNode.parentElement, 'p-sortable-column-icon')) {\n        primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.clearSelection();\n        props.onSortChange({\n          originalEvent: event,\n          column: props.column,\n          sortableDisabledFields: props.sortableDisabledFields\n        });\n      }\n    }\n  };\n  var onMouseDown = function onMouseDown(event) {\n    props.onColumnMouseDown({\n      originalEvent: event,\n      column: props.column\n    });\n  };\n  var onKeyDown = function onKeyDown(event) {\n    if (event.key === 'Enter' && event.currentTarget === elementRef.current && primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(event.currentTarget, 'p-sortable-column')) {\n      onClick(event);\n      event.preventDefault();\n    }\n  };\n  var onDragStart = function onDragStart(event) {\n    props.onColumnDragStart({\n      originalEvent: event,\n      column: props.column\n    });\n  };\n  var onDragOver = function onDragOver(event) {\n    props.onColumnDragOver({\n      originalEvent: event,\n      column: props.column\n    });\n  };\n  var onDragLeave = function onDragLeave(event) {\n    props.onColumnDragLeave({\n      originalEvent: event,\n      column: props.column\n    });\n  };\n  var onDrop = function onDrop(event) {\n    props.onColumnDrop({\n      originalEvent: event,\n      column: props.column\n    });\n  };\n  var onResizerMouseDown = function onResizerMouseDown(event) {\n    props.onColumnResizeStart({\n      originalEvent: event,\n      column: props.column\n    });\n  };\n  var onResizerClick = function onResizerClick(event) {\n    if (props.onColumnResizerClick) {\n      props.onColumnResizerClick({\n        originalEvent: event,\n        element: event.currentTarget.parentElement,\n        column: props.column\n      });\n      event.preventDefault();\n    }\n  };\n  var onResizerDoubleClick = function onResizerDoubleClick(event) {\n    if (props.onColumnResizerDoubleClick) {\n      props.onColumnResizerDoubleClick({\n        originalEvent: event,\n        element: event.currentTarget.parentElement,\n        column: props.column\n      });\n      event.preventDefault();\n    }\n  };\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    if (getColumnProp('frozen')) {\n      updateStickyPosition();\n    }\n    updateSortableDisabled(prevColumn);\n  });\n  var createResizer = function createResizer() {\n    if (props.resizableColumns && !getColumnProp('frozen')) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-column-resizer\",\n        onMouseDown: onResizerMouseDown,\n        onClick: onResizerClick,\n        onDoubleClick: onResizerDoubleClick\n      });\n    }\n    return null;\n  };\n  var createTitle = function createTitle() {\n    var title = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(getColumnProp('header'), {\n      props: props.tableProps\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"p-column-title\"\n    }, title);\n  };\n  var createSortIcon = function createSortIcon(_ref2) {\n    var sorted = _ref2.sorted,\n      sortOrder = _ref2.sortOrder;\n    if (getColumnProp('sortable')) {\n      var sortIcon = sorted ? sortOrder < 0 ? 'pi-sort-amount-down' : 'pi-sort-amount-up-alt' : 'pi-sort-alt';\n      var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-sortable-column-icon pi pi-fw', sortIcon);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: className\n      });\n    }\n    return null;\n  };\n  var createBadge = function createBadge(_ref3) {\n    var metaIndex = _ref3.metaIndex;\n    if (metaIndex !== -1 && isBadgeVisible()) {\n      var value = props.groupRowsBy && props.groupRowsBy === props.groupRowSortField ? metaIndex : metaIndex + 1;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-sortable-column-badge\"\n      }, value);\n    }\n    return null;\n  };\n  var createCheckbox = function createCheckbox() {\n    if (props.showSelectAll && getColumnProp('selectionMode') === 'multiple' && props.filterDisplay !== 'row') {\n      var allRowsSelected = props.allRowsSelected(props.value);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(HeaderCheckbox, {\n        checked: allRowsSelected,\n        onChange: props.onColumnCheckboxChange,\n        disabled: props.empty\n      });\n    }\n    return null;\n  };\n  var createFilter = function createFilter() {\n    if (props.filterDisplay === 'menu' && getColumnProp('filter')) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(ColumnFilter, {\n        display: \"menu\",\n        column: props.column,\n        filters: props.filters,\n        onFilterChange: props.onFilterChange,\n        onFilterApply: props.onFilterApply,\n        filtersStore: props.filtersStore\n      });\n    }\n    return null;\n  };\n  var createHeader = function createHeader(sortMeta) {\n    var title = createTitle();\n    var sortIcon = createSortIcon(sortMeta);\n    var badge = createBadge(sortMeta);\n    var checkbox = createCheckbox();\n    var filter = createFilter();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-column-header-content\"\n    }, title, sortIcon, badge, checkbox, filter);\n  };\n  var createElement = function createElement() {\n    var _isSortableDisabled = isSortableDisabled();\n    var sortMeta = getSortMeta();\n    var style = getStyle();\n    var align = getColumnProp('alignHeader') || getColumnProp('align');\n    var frozen = getColumnProp('frozen');\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)(getColumnProp('headerClassName'), getColumnProp('className'), _defineProperty({\n      'p-sortable-column': getColumnProp('sortable'),\n      'p-resizable-column': props.resizableColumns && getColumnProp('resizeable'),\n      'p-highlight': sortMeta.sorted,\n      'p-frozen-column': frozen,\n      'p-selection-column': getColumnProp('selectionMode'),\n      'p-sortable-disabled': getColumnProp('sortable') && _isSortableDisabled,\n      'p-reorderable-column': props.reorderableColumns && getColumnProp('reorderable') && !frozen\n    }, \"p-align-\".concat(align), !!align));\n    var tabIndex = getColumnProp('sortable') && !_isSortableDisabled ? props.tabIndex : null;\n    var colSpan = getColumnProp('colSpan');\n    var rowSpan = getColumnProp('rowSpan');\n    var ariaSort = getAriaSort(sortMeta);\n    var headerTooltip = getColumnProp('headerTooltip');\n    var hasTooltip = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(headerTooltip);\n    var headerTooltipOptions = getColumnProp('headerTooltipOptions');\n    var resizer = createResizer();\n    var header = createHeader(sortMeta);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"th\", {\n      ref: elementRef,\n      style: style,\n      className: className,\n      tabIndex: tabIndex,\n      role: \"columnheader\",\n      onClick: onClick,\n      onKeyDown: onKeyDown,\n      onMouseDown: onMouseDown,\n      onDragStart: onDragStart,\n      onDragOver: onDragOver,\n      onDragLeave: onDragLeave,\n      onDrop: onDrop,\n      colSpan: colSpan,\n      rowSpan: rowSpan,\n      \"aria-sort\": ariaSort\n    }, resizer, header), hasTooltip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_tooltip__WEBPACK_IMPORTED_MODULE_11__.Tooltip, _extends({\n      target: elementRef,\n      content: headerTooltip\n    }, headerTooltipOptions)));\n  };\n  var element = createElement();\n  return element;\n});\nHeaderCell.displayName = 'HeaderCell';\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar TableHeader = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    sortableDisabledFieldsState = _React$useState2[0],\n    setSortableDisabledFieldsState = _React$useState2[1];\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    allSortableDisabledState = _React$useState4[0],\n    setAllSortableDisabledState = _React$useState4[1];\n  var isSingleSort = props.sortMode === 'single';\n  var isMultipleSort = props.sortMode === 'multiple';\n  var isAllSortableDisabled = isSingleSort && allSortableDisabledState;\n  var getColumnProp = function getColumnProp(column, name) {\n    return ColumnBase.getCProp(column, name);\n  };\n  var isColumnSorted = function isColumnSorted(column) {\n    return props.sortField !== null ? getColumnProp(column, 'field') === props.sortField || getColumnProp(column, 'sortField') === props.sortField : false;\n  };\n  var updateSortableDisabled = function updateSortableDisabled() {\n    if (isSingleSort || isMultipleSort && props.onSortChange) {\n      var sortableDisabledFields = [];\n      var allSortableDisabled = false;\n      props.columns.forEach(function (column) {\n        if (getColumnProp(column, 'sortableDisabled')) {\n          sortableDisabledFields.push(getColumnProp(column, 'sortField') || getColumnProp(column, 'field'));\n          if (!allSortableDisabled && isColumnSorted(column)) {\n            allSortableDisabled = true;\n          }\n        }\n      });\n      setSortableDisabledFieldsState(sortableDisabledFields);\n      setAllSortableDisabledState(allSortableDisabled);\n    }\n  };\n  var onSortableChange = function onSortableChange() {\n    updateSortableDisabled();\n  };\n  var onCheckboxChange = function onCheckboxChange(e) {\n    props.onColumnCheckboxChange(e, props.value);\n  };\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useMountEffect)(function () {\n    updateSortableDisabled();\n  });\n  var createGroupHeaderCells = function createGroupHeaderCells(row) {\n    var columns = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(RowBase.getCProp(row, 'children'));\n    return createHeaderCells(columns);\n  };\n  var createHeaderCells = function createHeaderCells(columns) {\n    return react__WEBPACK_IMPORTED_MODULE_0__.Children.map(columns, function (col, i) {\n      var isVisible = col ? !getColumnProp(col, 'hidden') : true;\n      var key = col ? getColumnProp(col, 'columnKey') || getColumnProp(col, 'field') || i : i;\n      return isVisible && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(HeaderCell, {\n        key: key,\n        value: props.value,\n        tableProps: props.tableProps,\n        column: col,\n        tabIndex: props.tabIndex,\n        empty: props.empty,\n        resizableColumns: props.resizableColumns,\n        groupRowsBy: props.groupRowsBy,\n        groupRowSortField: props.groupRowSortField,\n        sortMode: props.sortMode,\n        sortField: props.sortField,\n        sortOrder: props.sortOrder,\n        multiSortMeta: props.multiSortMeta,\n        allSortableDisabled: isAllSortableDisabled,\n        onSortableChange: onSortableChange,\n        sortableDisabledFields: sortableDisabledFieldsState,\n        filterDisplay: props.filterDisplay,\n        filters: props.filters,\n        filtersStore: props.filtersStore,\n        onFilterChange: props.onFilterChange,\n        onFilterApply: props.onFilterApply,\n        onColumnMouseDown: props.onColumnMouseDown,\n        onColumnDragStart: props.onColumnDragStart,\n        onColumnDragOver: props.onColumnDragOver,\n        onColumnDragLeave: props.onColumnDragLeave,\n        onColumnDrop: props.onColumnDrop,\n        onColumnResizeStart: props.onColumnResizeStart,\n        onColumnResizerClick: props.onColumnResizerClick,\n        onColumnResizerDoubleClick: props.onColumnResizerDoubleClick,\n        showSelectAll: props.showSelectAll,\n        allRowsSelected: props.allRowsSelected,\n        onColumnCheckboxChange: onCheckboxChange,\n        reorderableColumns: props.reorderableColumns,\n        onSortChange: props.onSortChange\n      });\n    });\n  };\n  var createCheckbox = function createCheckbox(selectionMode) {\n    if (props.showSelectAll && selectionMode === 'multiple') {\n      var allRowsSelected = props.allRowsSelected(props.value);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(HeaderCheckbox, {\n        checked: allRowsSelected,\n        onChange: onCheckboxChange,\n        disabled: props.empty\n      });\n    }\n    return null;\n  };\n  var createFilter = function createFilter(column, filter) {\n    if (filter) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(ColumnFilter, {\n        display: \"row\",\n        column: column,\n        filters: props.filters,\n        filtersStore: props.filtersStore,\n        onFilterChange: props.onFilterChange,\n        onFilterApply: props.onFilterApply\n      });\n    }\n    return null;\n  };\n  var createFilterCells = function createFilterCells() {\n    return react__WEBPACK_IMPORTED_MODULE_0__.Children.map(props.columns, function (col, i) {\n      var isVisible = !getColumnProp(col, 'hidden');\n      if (isVisible) {\n        var _ColumnBase$getCProps = ColumnBase.getCProps(col),\n          filterHeaderStyle = _ColumnBase$getCProps.filterHeaderStyle,\n          style = _ColumnBase$getCProps.style,\n          filterHeaderClassName = _ColumnBase$getCProps.filterHeaderClassName,\n          className = _ColumnBase$getCProps.className,\n          frozen = _ColumnBase$getCProps.frozen,\n          columnKey = _ColumnBase$getCProps.columnKey,\n          field = _ColumnBase$getCProps.field,\n          selectionMode = _ColumnBase$getCProps.selectionMode,\n          filter = _ColumnBase$getCProps.filter;\n        var colStyle = _objectSpread$1(_objectSpread$1({}, filterHeaderStyle || {}), style || {});\n        var colClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-filter-column', filterHeaderClassName, className, {\n          'p-frozen-column': frozen\n        });\n        var colKey = columnKey || field || i;\n        var checkbox = createCheckbox(selectionMode);\n        var filterRow = createFilter(col, filter);\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"th\", {\n          key: colKey,\n          style: colStyle,\n          className: colClassName\n        }, checkbox, filterRow);\n      }\n      return null;\n    });\n  };\n  var createContent = function createContent() {\n    if (props.headerColumnGroup) {\n      var rows = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(ColumnGroupBase.getCProp(props.headerColumnGroup, 'children'));\n      return rows.map(function (row, i) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", {\n          key: i,\n          role: \"row\"\n        }, createGroupHeaderCells(row));\n      });\n    } else {\n      var headerRow = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", {\n        role: \"row\"\n      }, createHeaderCells(props.columns));\n      var filterRow = props.filterDisplay === 'row' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", {\n        role: \"row\"\n      }, createFilterCells());\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, headerRow, filterRow);\n    }\n  };\n  var content = createContent();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"thead\", {\n    className: \"p-datatable-thead\"\n  }, content);\n});\nTableHeader.displayName = 'TableHeader';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar DataTable = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (inProps, ref) {\n  var props = DataTableBase.getProps(inProps);\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.first),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    firstState = _React$useState2[0],\n    setFirstState = _React$useState2[1];\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.rows),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    rowsState = _React$useState4[0],\n    setRowsState = _React$useState4[1];\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.sortField),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    sortFieldState = _React$useState6[0],\n    setSortFieldState = _React$useState6[1];\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.sortOrder),\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\n    sortOrderState = _React$useState8[0],\n    setSortOrderState = _React$useState8[1];\n  var _React$useState9 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.multiSortMeta),\n    _React$useState10 = _slicedToArray(_React$useState9, 2),\n    multiSortMetaState = _React$useState10[0],\n    setMultiSortMetaState = _React$useState10[1];\n  var _React$useState11 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.filters),\n    _React$useState12 = _slicedToArray(_React$useState11, 2),\n    filtersState = _React$useState12[0],\n    setFiltersState = _React$useState12[1];\n  var _React$useState13 = react__WEBPACK_IMPORTED_MODULE_0__.useState([]),\n    _React$useState14 = _slicedToArray(_React$useState13, 2),\n    columnOrderState = _React$useState14[0],\n    setColumnOrderState = _React$useState14[1];\n  var _React$useState15 = react__WEBPACK_IMPORTED_MODULE_0__.useState(null),\n    _React$useState16 = _slicedToArray(_React$useState15, 2),\n    groupRowsSortMetaState = _React$useState16[0],\n    setGroupRowsSortMetaState = _React$useState16[1];\n  var _React$useState17 = react__WEBPACK_IMPORTED_MODULE_0__.useState({}),\n    _React$useState18 = _slicedToArray(_React$useState17, 2),\n    editingMetaState = _React$useState18[0],\n    setEditingMetaState = _React$useState18[1];\n  var _React$useState19 = react__WEBPACK_IMPORTED_MODULE_0__.useState(null),\n    _React$useState20 = _slicedToArray(_React$useState19, 2),\n    attributeSelectorState = _React$useState20[0],\n    setAttributeSelectorState = _React$useState20[1];\n  var _React$useState21 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.rows),\n    _React$useState22 = _slicedToArray(_React$useState21, 2),\n    d_rowsState = _React$useState22[0],\n    setD_rowsState = _React$useState22[1];\n  var _React$useState23 = react__WEBPACK_IMPORTED_MODULE_0__.useState({}),\n    _React$useState24 = _slicedToArray(_React$useState23, 2),\n    d_filtersState = _React$useState24[0],\n    setD_filtersState = _React$useState24[1];\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var tableRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var wrapperRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var bodyRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var frozenBodyRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var virtualScrollerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var reorderIndicatorUpRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var reorderIndicatorDownRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var colReorderIconWidth = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var colReorderIconHeight = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var resizeHelperRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var draggedColumnElement = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var draggedColumn = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var dropPosition = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var styleElement = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var responsiveStyleElement = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var columnWidthsState = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var tableWidthState = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var resizeColumn = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var resizeColumnElement = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var columnResizing = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var lastResizeHelperX = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var columnSortable = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var columnSortFunction = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var columnField = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var filterTimeout = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  if (props.rows !== d_rowsState && !props.onPage) {\n    setRowsState(props.rows);\n    setD_rowsState(props.rows);\n  }\n  var _useEventListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useEventListener)({\n      type: 'mousemove',\n      listener: function listener(event) {\n        if (columnResizing.current) {\n          onColumnResize(event);\n        }\n      }\n    }),\n    _useEventListener2 = _slicedToArray(_useEventListener, 2),\n    bindDocumentMouseMoveListener = _useEventListener2[0],\n    unbindDocumentMouseMoveListener = _useEventListener2[1];\n  var _useEventListener3 = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useEventListener)({\n      type: 'mouseup',\n      listener: function listener() {\n        if (columnResizing.current) {\n          columnResizing.current = false;\n          onColumnResizeEnd();\n        }\n      }\n    }),\n    _useEventListener4 = _slicedToArray(_useEventListener3, 2),\n    bindDocumentMouseUpListener = _useEventListener4[0],\n    unbindDocumentMouseUpListener = _useEventListener4[1];\n  var isCustomStateStorage = function isCustomStateStorage() {\n    return props.stateStorage === 'custom';\n  };\n  var isStateful = function isStateful() {\n    return props.stateKey != null || isCustomStateStorage();\n  };\n  var isVirtualScrollerDisabled = function isVirtualScrollerDisabled() {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isEmpty(props.virtualScrollerOptions) || !props.scrollable;\n  };\n  var isEquals = function isEquals(data1, data2) {\n    return props.compareSelectionBy === 'equals' ? data1 === data2 : primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.equals(data1, data2, props.dataKey);\n  };\n  var hasFilter = function hasFilter() {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(getFilters()) || props.globalFilter;\n  };\n  var getFirst = function getFirst() {\n    return props.onPage ? props.first : firstState;\n  };\n  var getRows = function getRows() {\n    return props.onPage ? props.rows : rowsState;\n  };\n  var getSortField = function getSortField() {\n    return props.onSort ? props.sortField : sortFieldState;\n  };\n  var getSortOrder = function getSortOrder() {\n    return props.onSort ? props.sortOrder : sortOrderState;\n  };\n  var getMultiSortMeta = function getMultiSortMeta() {\n    return (props.onSort ? props.multiSortMeta : multiSortMetaState) || [];\n  };\n  var getFilters = function getFilters() {\n    return props.onFilter ? props.filters : filtersState;\n  };\n  var getColumnProp = function getColumnProp(column, name) {\n    return ColumnBase.getCProp(column, name);\n  };\n  var getColumns = function getColumns(ignoreReorderable) {\n    var columns = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(props.children);\n    if (!columns) {\n      return null;\n    }\n    if (!ignoreReorderable && props.reorderableColumns && columnOrderState) {\n      var orderedColumns = columnOrderState.reduce(function (arr, columnKey) {\n        var column = findColumnByKey(columns, columnKey);\n        column && arr.push(column);\n        return arr;\n      }, []);\n      return [].concat(_toConsumableArray(orderedColumns), _toConsumableArray(columns.filter(function (col) {\n        return orderedColumns.indexOf(col) < 0;\n      })));\n    }\n    return columns;\n  };\n  var getStorage = function getStorage() {\n    switch (props.stateStorage) {\n      case 'local':\n        return window.localStorage;\n      case 'session':\n        return window.sessionStorage;\n      case 'custom':\n        return null;\n      default:\n        throw new Error(props.stateStorage + ' is not a valid value for the state storage, supported values are \"local\", \"session\" and \"custom\".');\n    }\n  };\n  var saveState = function saveState() {\n    var state = {};\n    if (props.paginator) {\n      state.first = getFirst();\n      state.rows = getRows();\n    }\n    var sortField = getSortField();\n    if (sortField) {\n      state.sortField = sortField;\n      state.sortOrder = getSortOrder();\n    }\n    var multiSortMeta = getMultiSortMeta();\n    if (multiSortMeta) {\n      state.multiSortMeta = multiSortMeta;\n    }\n    if (hasFilter()) {\n      state.filters = getFilters();\n    }\n    if (props.resizableColumns) {\n      saveColumnWidths(state);\n    }\n    if (props.reorderableColumns) {\n      state.columnOrder = columnOrderState;\n    }\n    if (props.expandedRows) {\n      state.expandedRows = props.expandedRows;\n    }\n    if (props.selection && props.onSelectionChange) {\n      state.selection = props.selection;\n    }\n    if (isCustomStateStorage()) {\n      if (props.customSaveState) {\n        props.customSaveState(state);\n      }\n    } else {\n      var storage = getStorage();\n      if (primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(state)) {\n        storage.setItem(props.stateKey, JSON.stringify(state));\n      }\n    }\n    if (props.onStateSave) {\n      props.onStateSave(state);\n    }\n  };\n  var clearState = function clearState() {\n    var storage = getStorage();\n    if (storage && props.stateKey) {\n      storage.removeItem(props.stateKey);\n    }\n  };\n  var restoreState = function restoreState() {\n    var restoredState = {};\n    if (isCustomStateStorage()) {\n      if (props.customRestoreState) {\n        restoredState = props.customRestoreState();\n      }\n    } else {\n      var storage = getStorage();\n      var stateString = storage.getItem(props.stateKey);\n      var dateFormat = /\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z/;\n      var reviver = function reviver(key, value) {\n        return typeof value === 'string' && dateFormat.test(value) ? new Date(value) : value;\n      };\n      if (stateString) {\n        restoredState = JSON.parse(stateString, reviver);\n      }\n    }\n    _restoreState(restoredState);\n  };\n  var restoreTableState = function restoreTableState(restoredState) {\n    _restoreState(restoredState);\n  };\n  var _restoreState = function _restoreState() {\n    var restoredState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(restoredState)) {\n      if (props.paginator) {\n        if (props.onPage) {\n          var getOnPageParams = function getOnPageParams(first, rows) {\n            var totalRecords = getTotalRecords(processedData());\n            var pageCount = Math.ceil(totalRecords / rows) || 1;\n            var page = Math.floor(first / rows);\n            return {\n              first: first,\n              rows: rows,\n              page: page,\n              pageCount: pageCount\n            };\n          };\n          props.onPage(createEvent(getOnPageParams(restoredState.first, restoredState.rows)));\n        } else {\n          setFirstState(restoredState.first);\n          setRowsState(restoredState.rows);\n        }\n      }\n      if (restoredState.sortField) {\n        if (props.onSort) {\n          props.onSort(createEvent({\n            sortField: restoredState.sortField,\n            sortOrder: restoredState.sortOrder\n          }));\n        } else {\n          setSortFieldState(restoredState.sortField);\n          setSortOrderState(restoredState.sortOrder);\n        }\n      }\n      if (restoredState.multiSortMeta) {\n        if (props.onSort) {\n          props.onSort(createEvent({\n            multiSortMeta: restoredState.multiSortMeta\n          }));\n        } else {\n          setMultiSortMetaState(restoredState.multiSortMeta);\n        }\n      }\n      if (restoredState.filters) {\n        setD_filtersState(cloneFilters(restoredState.filters));\n        if (props.onFilter) {\n          props.onFilter(createEvent({\n            filters: restoredState.filters\n          }));\n        } else {\n          setFiltersState(cloneFilters(restoredState.filters));\n        }\n      }\n      if (props.resizableColumns) {\n        columnWidthsState.current = restoredState.columnWidths;\n        tableWidthState.current = restoredState.tableWidth;\n        restoreColumnWidths();\n      }\n      if (props.reorderableColumns) {\n        setColumnOrderState(restoredState.columnOrder);\n      }\n      if (restoredState.expandedRows && props.onRowToggle) {\n        props.onRowToggle({\n          data: restoredState.expandedRows\n        });\n      }\n      if (restoredState.selection && props.onSelectionChange) {\n        props.onSelectionChange({\n          value: restoredState.selection\n        });\n      }\n      if (props.onStateRestore) {\n        props.onStateRestore(restoredState);\n      }\n    }\n  };\n  var saveColumnWidths = function saveColumnWidths(state) {\n    var widths = [];\n    var headers = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.find(elementRef.current, '.p-datatable-thead > tr > th');\n    headers.forEach(function (header) {\n      return widths.push(primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOuterWidth(header));\n    });\n    state.columnWidths = widths.join(',');\n    if (props.columnResizeMode === 'expand') {\n      state.tableWidth = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOuterWidth(tableRef.current) + 'px';\n    }\n  };\n  var restoreColumnWidths = function restoreColumnWidths() {\n    if (columnWidthsState.current) {\n      var widths = columnWidthsState.current.split(',');\n      if (props.columnResizeMode === 'expand' && tableWidthState.current) {\n        tableRef.current.style.width = tableWidthState.current;\n        tableRef.current.style.minWidth = tableWidthState.current;\n        elementRef.current.style.width = tableWidthState.current;\n      }\n      if (primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(widths)) {\n        createStyleElement();\n        var innerHTML = '';\n        var selector = \".p-datatable[\".concat(attributeSelectorState, \"] > .p-datatable-wrapper \").concat(isVirtualScrollerDisabled() ? '' : '> .p-virtualscroller', \" > .p-datatable-table\");\n        widths.forEach(function (width, index) {\n          var style = \"width: \".concat(width, \"px !important; max-width: \").concat(width, \"px !important\");\n          innerHTML += \"\\n                        \".concat(selector, \" > .p-datatable-thead > tr > th:nth-child(\").concat(index + 1, \"),\\n                        \").concat(selector, \" > .p-datatable-tbody > tr > td:nth-child(\").concat(index + 1, \"),\\n                        \").concat(selector, \" > .p-datatable-tfoot > tr > td:nth-child(\").concat(index + 1, \") {\\n                            \").concat(style, \"\\n                        }\\n                    \");\n        });\n        styleElement.current.innerHTML = innerHTML;\n      }\n    }\n  };\n  var findParentHeader = function findParentHeader(element) {\n    if (element.nodeName === 'TH') {\n      return element;\n    } else {\n      var parent = element.parentElement;\n      while (parent.nodeName !== 'TH') {\n        parent = parent.parentElement;\n        if (!parent) break;\n      }\n      return parent;\n    }\n  };\n  var getGroupRowSortField = function getGroupRowSortField() {\n    return props.sortMode === 'single' ? props.sortField : groupRowsSortMetaState ? groupRowsSortMetaState.field : null;\n  };\n  var getSelectableData = function getSelectableData(val) {\n    if (props.showSelectionElement || props.isDataSelectable) {\n      return val.filter(function (data, index) {\n        var isSelectable = true;\n        if (props.showSelectionElement) isSelectable = props.showSelectionElement({\n          rowIndex: index,\n          props: props\n        });\n        if (props.isDataSelectable && isSelectable) isSelectable = props.isDataSelectable({\n          data: data,\n          index: index\n        });\n        return isSelectable;\n      });\n    }\n    return val;\n  };\n  var allRowsSelected = function allRowsSelected(processedData) {\n    if (props.onSelectAllChange) {\n      return props.selectAll;\n    } else {\n      var _data = props.selectionPageOnly ? dataToRender(processedData) : processedData;\n      var val = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(props.frozenValue) ? [].concat(_toConsumableArray(props.frozenValue), _toConsumableArray(_data)) : _data;\n      var selectableVal = getSelectableData(val);\n      return selectableVal && props.selection && selectableVal.every(function (sv) {\n        return props.selection.some(function (s) {\n          return isEquals(s, sv);\n        });\n      });\n    }\n  };\n  var getSelectionModeInColumn = function getSelectionModeInColumn(columns) {\n    if (columns) {\n      var col = columns.find(function (c) {\n        return !!getColumnProp(c, 'selectionMode');\n      });\n      return col ? getColumnProp(col, 'selectionMode') : null;\n    }\n    return null;\n  };\n  var findColumnByKey = function findColumnByKey(columns, key) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(columns) ? columns.find(function (col) {\n      return getColumnProp(col, 'columnKey') === key || getColumnProp(col, 'field') === key;\n    }) : null;\n  };\n  var getTotalRecords = function getTotalRecords(data) {\n    return props.lazy ? props.totalRecords : data ? data.length : 0;\n  };\n  var onEditingMetaChange = function onEditingMetaChange(e) {\n    var rowData = e.rowData,\n      field = e.field,\n      editingKey = e.editingKey;\n      e.rowIndex;\n      var editing = e.editing;\n    var editingMeta = _objectSpread({}, editingMetaState);\n    var meta = editingMeta[editingKey];\n    if (editing) {\n      !meta && (meta = editingMeta[editingKey] = {\n        data: _objectSpread({}, rowData),\n        fields: []\n      });\n      meta['fields'].push(field);\n    } else if (meta) {\n      var fields = meta['fields'].filter(function (f) {\n        return f !== field;\n      });\n      !fields.length ? delete editingMeta[editingKey] : meta['fields'] = fields;\n    }\n    setEditingMetaState(editingMeta);\n  };\n  var clearEditingMetaData = function clearEditingMetaData() {\n    if (props.editMode && primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(editingMetaState)) {\n      setEditingMetaState({});\n    }\n  };\n  var onColumnResizeStart = function onColumnResizeStart(e) {\n    var event = e.originalEvent,\n      column = e.column;\n    var containerLeft = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOffset(elementRef.current).left;\n    resizeColumn.current = column;\n    resizeColumnElement.current = event.currentTarget.parentElement;\n    columnResizing.current = true;\n    lastResizeHelperX.current = event.pageX - containerLeft + elementRef.current.scrollLeft;\n    bindColumnResizeEvents();\n  };\n  var onColumnResize = function onColumnResize(event) {\n    var containerLeft = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOffset(elementRef.current).left;\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.addClass(elementRef.current, 'p-unselectable-text');\n    resizeHelperRef.current.style.height = elementRef.current.offsetHeight + 'px';\n    resizeHelperRef.current.style.top = 0 + 'px';\n    resizeHelperRef.current.style.left = event.pageX - containerLeft + elementRef.current.scrollLeft + 'px';\n    resizeHelperRef.current.style.display = 'block';\n  };\n  var onColumnResizeEnd = function onColumnResizeEnd() {\n    var delta = resizeHelperRef.current.offsetLeft - lastResizeHelperX.current;\n    var columnWidth = resizeColumnElement.current.offsetWidth;\n    var newColumnWidth = columnWidth + delta;\n    var minWidth = resizeColumnElement.current.style.minWidth || 15;\n    if (columnWidth + delta > parseInt(minWidth, 10)) {\n      if (props.columnResizeMode === 'fit') {\n        var nextColumn = resizeColumnElement.current.nextElementSibling;\n        var nextColumnWidth = nextColumn.offsetWidth - delta;\n        if (newColumnWidth > 15 && nextColumnWidth > 15) {\n          resizeTableCells(newColumnWidth, nextColumnWidth);\n        }\n      } else if (props.columnResizeMode === 'expand') {\n        var tableWidth = tableRef.current.offsetWidth + delta + 'px';\n        var updateTableWidth = function updateTableWidth(el) {\n          !!el && (el.style.width = el.style.minWidth = tableWidth);\n        };\n        updateTableWidth(tableRef.current);\n        if (!isVirtualScrollerDisabled()) {\n          updateTableWidth(bodyRef.current);\n          updateTableWidth(frozenBodyRef.current);\n          if (wrapperRef.current) {\n            updateTableWidth(primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.findSingle(wrapperRef.current, '.p-virtualscroller-content'));\n          }\n        }\n        resizeTableCells(newColumnWidth);\n      }\n      if (props.onColumnResizeEnd) {\n        props.onColumnResizeEnd({\n          element: resizeColumnElement.current,\n          column: resizeColumn.current,\n          delta: delta\n        });\n      }\n      if (isStateful()) {\n        saveState();\n      }\n    }\n    resizeHelperRef.current.style.display = 'none';\n    resizeColumn.current = null;\n    resizeColumnElement.current = null;\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(elementRef.current, 'p-unselectable-text');\n    unbindColumnResizeEvents();\n  };\n  var resizeTableCells = function resizeTableCells(newColumnWidth, nextColumnWidth) {\n    var widths = [];\n    var colIndex = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.index(resizeColumnElement.current);\n    var headers = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.find(tableRef.current, '.p-datatable-thead > tr > th');\n    headers.forEach(function (header) {\n      return widths.push(primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOuterWidth(header));\n    });\n    destroyStyleElement();\n    createStyleElement();\n    var innerHTML = '';\n    var selector = \".p-datatable[\".concat(attributeSelectorState, \"] > .p-datatable-wrapper \").concat(isVirtualScrollerDisabled() ? '' : '> .p-virtualscroller', \" > .p-datatable-table\");\n    widths.forEach(function (width, index) {\n      var colWidth = index === colIndex ? newColumnWidth : nextColumnWidth && index === colIndex + 1 ? nextColumnWidth : width;\n      var style = \"width: \".concat(colWidth, \"px !important; max-width: \").concat(colWidth, \"px !important\");\n      innerHTML += \"\\n                \".concat(selector, \" > .p-datatable-thead > tr > th:nth-child(\").concat(index + 1, \"),\\n                \").concat(selector, \" > .p-datatable-tbody > tr > td:nth-child(\").concat(index + 1, \"),\\n                \").concat(selector, \" > .p-datatable-tfoot > tr > td:nth-child(\").concat(index + 1, \") {\\n                    \").concat(style, \"\\n                }\\n            \");\n    });\n    styleElement.current.innerHTML = innerHTML;\n  };\n  var bindColumnResizeEvents = function bindColumnResizeEvents() {\n    bindDocumentMouseMoveListener();\n    bindDocumentMouseUpListener();\n  };\n  var unbindColumnResizeEvents = function unbindColumnResizeEvents() {\n    unbindDocumentMouseMoveListener();\n    unbindDocumentMouseUpListener();\n  };\n  var onColumnHeaderMouseDown = function onColumnHeaderMouseDown(e) {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.clearSelection();\n    var event = e.originalEvent,\n      column = e.column;\n    if (props.reorderableColumns && getColumnProp(column, 'reorderable') !== false && !getColumnProp(column, 'frozen')) {\n      if (event.target.nodeName === 'INPUT' || event.target.nodeName === 'TEXTAREA' || primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(event.target, 'p-column-resizer')) event.currentTarget.draggable = false;else event.currentTarget.draggable = true;\n    }\n  };\n  var onColumnHeaderCheckboxChange = function onColumnHeaderCheckboxChange(e, processedData) {\n    if (props.onSelectAllChange) {\n      props.onSelectAllChange(e);\n    } else {\n      var originalEvent = e.originalEvent,\n        checked = e.checked;\n      var _data2 = props.selectionPageOnly ? dataToRender(processedData) : processedData;\n      var selection = props.selectionPageOnly && props.selection ? props.selection.filter(function (s) {\n        return !_data2.some(function (d) {\n          return isEquals(s, d);\n        });\n      }) : [];\n      if (checked) {\n        selection = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(props.frozenValue) ? [].concat(_toConsumableArray(selection), _toConsumableArray(props.frozenValue), _toConsumableArray(_data2)) : [].concat(_toConsumableArray(selection), _toConsumableArray(_data2));\n        selection = getSelectableData(selection);\n        props.onAllRowsSelect && props.onAllRowsSelect({\n          originalEvent: originalEvent,\n          data: selection,\n          type: 'all'\n        });\n      } else {\n        props.onAllRowsUnselect && props.onAllRowsUnselect({\n          originalEvent: originalEvent,\n          data: selection,\n          type: 'all'\n        });\n      }\n      if (props.onSelectionChange) {\n        props.onSelectionChange({\n          originalEvent: originalEvent,\n          value: selection,\n          type: 'all'\n        });\n      }\n    }\n  };\n  var onColumnHeaderDragStart = function onColumnHeaderDragStart(e) {\n    var event = e.originalEvent,\n      column = e.column;\n    if (columnResizing.current) {\n      event.preventDefault();\n      return;\n    }\n    if (!props.reorderableColumns) return;\n    colReorderIconWidth.current = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getHiddenElementOuterWidth(reorderIndicatorUpRef.current);\n    colReorderIconHeight.current = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getHiddenElementOuterHeight(reorderIndicatorUpRef.current);\n    draggedColumn.current = column;\n    draggedColumnElement.current = findParentHeader(event.currentTarget);\n    event.dataTransfer.setData('text', 'b'); // Firefox requires this to make dragging possible\n  };\n\n  var onColumnHeaderDragOver = function onColumnHeaderDragOver(e) {\n    var event = e.originalEvent,\n      column = e.column;\n    var dropHeader = findParentHeader(event.currentTarget);\n    if (props.reorderableColumns && draggedColumnElement.current && dropHeader && !getColumnProp(column, 'frozen')) {\n      event.preventDefault();\n      if (draggedColumnElement.current !== dropHeader) {\n        var containerOffset = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOffset(elementRef.current);\n        var dropHeaderOffset = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOffset(dropHeader);\n        var targetLeft = dropHeaderOffset.left - containerOffset.left;\n        var columnCenter = dropHeaderOffset.left + dropHeader.offsetWidth / 2;\n        reorderIndicatorUpRef.current.style.top = dropHeaderOffset.top - containerOffset.top - (colReorderIconHeight.current - 1) + 'px';\n        reorderIndicatorDownRef.current.style.top = dropHeaderOffset.top - containerOffset.top + dropHeader.offsetHeight + 'px';\n        if (event.pageX > columnCenter) {\n          reorderIndicatorUpRef.current.style.left = targetLeft + dropHeader.offsetWidth - Math.ceil(colReorderIconWidth.current / 2) + 'px';\n          reorderIndicatorDownRef.current.style.left = targetLeft + dropHeader.offsetWidth - Math.ceil(colReorderIconWidth.current / 2) + 'px';\n          dropPosition.current = 1;\n        } else {\n          reorderIndicatorUpRef.current.style.left = targetLeft - Math.ceil(colReorderIconWidth.current / 2) + 'px';\n          reorderIndicatorDownRef.current.style.left = targetLeft - Math.ceil(colReorderIconWidth.current / 2) + 'px';\n          dropPosition.current = -1;\n        }\n        reorderIndicatorUpRef.current.style.display = 'block';\n        reorderIndicatorDownRef.current.style.display = 'block';\n      }\n    }\n  };\n  var onColumnHeaderDragLeave = function onColumnHeaderDragLeave(e) {\n    var event = e.originalEvent;\n    if (props.reorderableColumns && draggedColumnElement.current) {\n      event.preventDefault();\n      reorderIndicatorUpRef.current.style.display = 'none';\n      reorderIndicatorDownRef.current.style.display = 'none';\n    }\n  };\n  var onColumnHeaderDrop = function onColumnHeaderDrop(e) {\n    var event = e.originalEvent,\n      column = e.column;\n    event.preventDefault();\n    if (draggedColumnElement.current) {\n      var dragIndex = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.index(draggedColumnElement.current);\n      var dropIndex = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.index(findParentHeader(event.currentTarget));\n      var allowDrop = dragIndex !== dropIndex;\n      if (allowDrop && (dropIndex - dragIndex === 1 && dropPosition.current === -1 || dragIndex - dropIndex === 1 && dropPosition.current === 1)) {\n        allowDrop = false;\n      }\n      if (allowDrop) {\n        var _columns = getColumns();\n        var isSameColumn = function isSameColumn(col1, col2) {\n          return getColumnProp(col1, 'columnKey') || getColumnProp(col2, 'columnKey') ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.equals(col1.props, col2.props, 'columnKey') : primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.equals(col1.props, col2.props, 'field');\n        };\n        var dragColIndex = _columns.findIndex(function (child) {\n          return isSameColumn(child, draggedColumn.current);\n        });\n        var dropColIndex = _columns.findIndex(function (child) {\n          return isSameColumn(child, column);\n        });\n        if (dropColIndex < dragColIndex && dropPosition.current === 1) {\n          dropColIndex++;\n        }\n        if (dropColIndex > dragColIndex && dropPosition.current === -1) {\n          dropColIndex--;\n        }\n        primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.reorderArray(_columns, dragColIndex, dropColIndex);\n        var columnOrder = _columns.reduce(function (orders, col) {\n          orders.push(getColumnProp(col, 'columnKey') || getColumnProp(col, 'field'));\n          return orders;\n        }, []);\n        setColumnOrderState(columnOrder);\n        if (props.onColReorder) {\n          props.onColReorder({\n            originalEvent: event,\n            dragIndex: dragColIndex,\n            dropIndex: dropColIndex,\n            columns: _columns\n          });\n        }\n      }\n      reorderIndicatorUpRef.current.style.display = 'none';\n      reorderIndicatorDownRef.current.style.display = 'none';\n      draggedColumnElement.current.draggable = false;\n      draggedColumnElement.current = null;\n      draggedColumn.current = null;\n      dropPosition.current = null;\n    }\n  };\n  var createStyleElement = function createStyleElement() {\n    styleElement.current = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.createInlineStyle(primereact_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].nonce);\n  };\n  var createResponsiveStyle = function createResponsiveStyle() {\n    if (!responsiveStyleElement.current) {\n      responsiveStyleElement.current = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.createInlineStyle(primereact_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].nonce);\n      var tableSelector = \".p-datatable-wrapper \".concat(isVirtualScrollerDisabled() ? '' : '> .p-virtualscroller', \" > .p-datatable-table\");\n      var selector = \".p-datatable[\".concat(attributeSelectorState, \"] > \").concat(tableSelector);\n      var gridLinesSelector = \".p-datatable[\".concat(attributeSelectorState, \"].p-datatable-gridlines > \").concat(tableSelector);\n      var innerHTML = \"\\n@media screen and (max-width: \".concat(props.breakpoint, \") {\\n    \").concat(selector, \" > .p-datatable-thead > tr > th,\\n    \").concat(selector, \" > .p-datatable-tfoot > tr > td {\\n        display: none !important;\\n    }\\n\\n    \").concat(selector, \" > .p-datatable-tbody > tr > td {\\n        display: flex;\\n        width: 100% !important;\\n        align-items: center;\\n        justify-content: space-between;\\n    }\\n\\n    \").concat(selector, \" > .p-datatable-tbody > tr > td:not(:last-child) {\\n        border: 0 none;\\n    }\\n\\n    \").concat(gridLinesSelector, \" > .p-datatable-tbody > tr > td:last-child {\\n        border-top: 0;\\n        border-right: 0;\\n        border-left: 0;\\n    }\\n\\n    \").concat(selector, \" > .p-datatable-tbody > tr > td > .p-column-title {\\n        display: block;\\n    }\\n}\\n\");\n      responsiveStyleElement.current.innerHTML = innerHTML;\n    }\n  };\n  var destroyResponsiveStyle = function destroyResponsiveStyle() {\n    responsiveStyleElement.current = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeInlineStyle(responsiveStyleElement.current);\n  };\n  var destroyStyleElement = function destroyStyleElement() {\n    styleElement.current = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeInlineStyle(styleElement.current);\n  };\n  var onPageChange = function onPageChange(e) {\n    clearEditingMetaData();\n    if (props.onPage) {\n      props.onPage(createEvent(e));\n    } else {\n      setFirstState(e.first);\n      setRowsState(e.rows);\n    }\n    if (props.onValueChange) {\n      props.onValueChange(processedData());\n    }\n  };\n  var onSortChange = function onSortChange(e) {\n    clearEditingMetaData();\n    var event = e.originalEvent,\n      column = e.column,\n      sortableDisabledFields = e.sortableDisabledFields;\n    var sortField = getColumnProp(column, 'sortField') || getColumnProp(column, 'field');\n    var sortOrder = props.defaultSortOrder;\n    var multiSortMeta;\n    var eventMeta;\n    columnSortable.current = getColumnProp(column, 'sortable');\n    columnSortFunction.current = getColumnProp(column, 'sortFunction');\n    columnField.current = sortField;\n    if (props.sortMode === 'multiple') {\n      var metaKey = event.metaKey || event.ctrlKey;\n      multiSortMeta = _toConsumableArray(getMultiSortMeta());\n      var sortMeta = multiSortMeta.find(function (sortMeta) {\n        return sortMeta.field === sortField;\n      });\n      sortOrder = sortMeta ? getCalculatedSortOrder(sortMeta.order) : sortOrder;\n      var newMetaData = {\n        field: sortField,\n        order: sortOrder\n      };\n      if (sortOrder) {\n        multiSortMeta = metaKey ? multiSortMeta : multiSortMeta.filter(function (meta) {\n          return sortableDisabledFields.some(function (field) {\n            return field === meta.field;\n          });\n        });\n        addSortMeta(newMetaData, multiSortMeta);\n      } else if (props.removableSort) {\n        removeSortMeta(newMetaData, multiSortMeta);\n      }\n      eventMeta = {\n        multiSortMeta: multiSortMeta\n      };\n    } else {\n      sortOrder = getSortField() === sortField ? getCalculatedSortOrder(getSortOrder()) : sortOrder;\n      if (props.removableSort) {\n        sortField = sortOrder ? sortField : null;\n      }\n      eventMeta = {\n        sortField: sortField,\n        sortOrder: sortOrder\n      };\n    }\n    if (props.onSort) {\n      props.onSort(createEvent(eventMeta));\n    } else {\n      setFirstState(0);\n      setSortFieldState(eventMeta.sortField);\n      setSortOrderState(eventMeta.sortOrder);\n      setMultiSortMetaState(eventMeta.multiSortMeta);\n    }\n    if (props.onValueChange) {\n      props.onValueChange(processedData({\n        sortField: sortField,\n        sortOrder: sortOrder,\n        multiSortMeta: multiSortMeta\n      }));\n    }\n  };\n  var getCalculatedSortOrder = function getCalculatedSortOrder(currentOrder) {\n    return props.removableSort ? props.defaultSortOrder === currentOrder ? currentOrder * -1 : 0 : currentOrder * -1;\n  };\n  var compareValuesOnSort = function compareValuesOnSort(value1, value2, order) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.sort(value1, value2, order, primereact_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].locale, primereact_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].nullSortOrder);\n  };\n  var addSortMeta = function addSortMeta(meta, multiSortMeta) {\n    var index = multiSortMeta.findIndex(function (sortMeta) {\n      return sortMeta.field === meta.field;\n    });\n    if (index >= 0) multiSortMeta[index] = meta;else multiSortMeta.push(meta);\n  };\n  var removeSortMeta = function removeSortMeta(meta, multiSortMeta) {\n    var index = multiSortMeta.findIndex(function (sortMeta) {\n      return sortMeta.field === meta.field;\n    });\n    if (index >= 0) {\n      multiSortMeta.splice(index, 1);\n    }\n    multiSortMeta = multiSortMeta.length > 0 ? multiSortMeta : null;\n  };\n  var sortSingle = function sortSingle(data, field, order) {\n    if (props.groupRowsBy && props.groupRowsBy === props.sortField) {\n      var multiSortMeta = [{\n        field: props.sortField,\n        order: props.sortOrder || props.defaultSortOrder\n      }];\n      props.sortField !== field && multiSortMeta.push({\n        field: field,\n        order: order\n      });\n      return sortMultiple(data, multiSortMeta);\n    }\n    var value = _toConsumableArray(data);\n    if (columnSortable.current && columnSortFunction.current) {\n      value = columnSortFunction.current({\n        data: data,\n        field: field,\n        order: order\n      });\n    } else {\n      value.sort(function (data1, data2) {\n        var value1 = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(data1, field);\n        var value2 = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(data2, field);\n        return compareValuesOnSort(value1, value2, order);\n      });\n    }\n    return value;\n  };\n  var sortMultiple = function sortMultiple(data) {\n    var multiSortMeta = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    if (props.groupRowsBy && (groupRowsSortMetaState || multiSortMeta.length && props.groupRowsBy === multiSortMeta[0].field)) {\n      var groupRowsSortMeta = groupRowsSortMetaState;\n      var firstSortMeta = multiSortMeta[0];\n      if (!groupRowsSortMeta) {\n        groupRowsSortMeta = firstSortMeta;\n        setGroupRowsSortMetaState(groupRowsSortMeta);\n      }\n      if (firstSortMeta.field !== groupRowsSortMeta.field) {\n        multiSortMeta = [groupRowsSortMeta].concat(_toConsumableArray(multiSortMeta));\n      }\n    }\n    var value = _toConsumableArray(data);\n    if (columnSortable.current && columnSortFunction.current) {\n      var meta = multiSortMeta.find(function (meta) {\n        return meta.field === columnField.current;\n      });\n      var field = columnField.current;\n      var order = meta ? meta.order : props.defaultSortOrder;\n      value = columnSortFunction.current({\n        data: data,\n        field: field,\n        order: order,\n        multiSortMeta: multiSortMeta\n      });\n    } else {\n      value.sort(function (data1, data2) {\n        return multisortField(data1, data2, multiSortMeta, 0);\n      });\n    }\n    return value;\n  };\n  var multisortField = function multisortField(data1, data2, multiSortMeta, index) {\n    var value1 = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(data1, multiSortMeta[index].field);\n    var value2 = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(data2, multiSortMeta[index].field);\n\n    // check if they are equal handling dates and locales\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.compare(value1, value2, primereact_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].locale) === 0) {\n      return multiSortMeta.length - 1 > index ? multisortField(data1, data2, multiSortMeta, index + 1) : 0;\n    }\n    return compareValuesOnSort(value1, value2, multiSortMeta[index].order);\n  };\n  var onFilterChange = function onFilterChange(filters) {\n    clearEditingMetaData();\n    setD_filtersState(filters);\n  };\n  var onFilterApply = function onFilterApply(filtersToApply) {\n    clearTimeout(filterTimeout.current);\n    filterTimeout.current = setTimeout(function () {\n      var filters = cloneFilters(filtersToApply || d_filtersState);\n      if (props.onFilter) {\n        props.onFilter(createEvent({\n          filters: filters\n        }));\n      } else {\n        setFirstState(0);\n        setFiltersState(filters);\n      }\n      if (props.onValueChange) {\n        props.onValueChange(processedData({\n          filters: filters\n        }));\n      }\n    }, props.filterDelay);\n  };\n  var filterLocal = function filterLocal(data, filters) {\n    if (!data) return;\n    filters = filters || {};\n    var columns = getColumns();\n    var filteredValue = [];\n    var isGlobalFilter = filters['global'] || props.globalFilter;\n    var globalFilterFieldsArray;\n    if (isGlobalFilter) {\n      globalFilterFieldsArray = props.globalFilterFields || columns.filter(function (col) {\n        return !getColumnProp(col, 'excludeGlobalFilter');\n      }).map(function (col) {\n        return getColumnProp(col, 'filterField') || getColumnProp(col, 'field');\n      });\n    }\n    for (var i = 0; i < data.length; i++) {\n      var localMatch = true;\n      var globalMatch = false;\n      var localFiltered = false;\n      for (var prop in filters) {\n        if (prop === 'null') {\n          continue;\n        }\n        if (Object.prototype.hasOwnProperty.call(filters, prop) && prop !== 'global') {\n          localFiltered = true;\n          var filterField = prop;\n          var filterMeta = filters[filterField];\n          if (filterMeta.operator) {\n            for (var j = 0; j < filterMeta.constraints.length; j++) {\n              var filterConstraint = filterMeta.constraints[j];\n              localMatch = executeLocalFilter(filterField, data[i], filterConstraint, j);\n              if (filterMeta.operator === primereact_api__WEBPACK_IMPORTED_MODULE_2__.FilterOperator.OR && localMatch || filterMeta.operator === primereact_api__WEBPACK_IMPORTED_MODULE_2__.FilterOperator.AND && !localMatch) {\n                break;\n              }\n            }\n          } else {\n            localMatch = executeLocalFilter(filterField, data[i], filterMeta, 0);\n          }\n          if (!localMatch) {\n            break;\n          }\n        }\n      }\n      if (isGlobalFilter && !globalMatch && globalFilterFieldsArray) {\n        for (var _j = 0; _j < globalFilterFieldsArray.length; _j++) {\n          var globalFilterField = globalFilterFieldsArray[_j];\n          var matchMode = filters['global'] ? filters['global'].matchMode : props.globalFilterMatchMode;\n          var value = filters['global'] ? filters['global'].value : props.globalFilter;\n          globalMatch = primereact_api__WEBPACK_IMPORTED_MODULE_2__.FilterService.filters[matchMode](primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(data[i], globalFilterField), value, props.filterLocale);\n          if (globalMatch) {\n            break;\n          }\n        }\n      }\n      var matches = void 0;\n      if (isGlobalFilter) {\n        matches = localFiltered ? localFiltered && localMatch && globalMatch : globalMatch;\n      } else {\n        matches = localFiltered && localMatch;\n      }\n      if (matches) {\n        filteredValue.push(data[i]);\n      }\n    }\n    if (filteredValue.length === props.value.length) {\n      filteredValue = data;\n    }\n    return filteredValue;\n  };\n  var executeLocalFilter = function executeLocalFilter(field, rowData, filterMeta, index) {\n    var filterValue = filterMeta.value;\n    var filterMatchMode = filterMeta.matchMode === 'custom' ? \"custom_\".concat(field) : filterMeta.matchMode || primereact_api__WEBPACK_IMPORTED_MODULE_2__.FilterMatchMode.STARTS_WITH;\n    var dataFieldValue = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(rowData, field);\n    var filterConstraint = primereact_api__WEBPACK_IMPORTED_MODULE_2__.FilterService.filters[filterMatchMode];\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isFunction(filterConstraint) && filterConstraint(dataFieldValue, filterValue, props.filterLocale, index);\n  };\n  var cloneFilters = function cloneFilters(filters) {\n    filters = filters || props.filters;\n    var cloned = {};\n    if (filters) {\n      Object.entries(filters).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n          prop = _ref2[0],\n          value = _ref2[1];\n        cloned[prop] = value.operator ? {\n          operator: value.operator,\n          constraints: value.constraints.map(function (constraint) {\n            return _objectSpread({}, constraint);\n          })\n        } : _objectSpread({}, value);\n      });\n    } else {\n      var _columns2 = getColumns();\n      cloned = _columns2.reduce(function (filters, col) {\n        var field = getColumnProp(col, 'filterField') || getColumnProp(col, 'field');\n        var filterFunction = getColumnProp(col, 'filterFunction');\n        var dataType = getColumnProp(col, 'dataType');\n        var matchMode = getColumnProp(col, 'filterMatchMode') || (primereact_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].filterMatchModeOptions[dataType] ? primereact_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].filterMatchModeOptions[dataType][0] : primereact_api__WEBPACK_IMPORTED_MODULE_2__.FilterMatchMode.STARTS_WITH);\n        var constraint = {\n          value: null,\n          matchMode: matchMode\n        };\n        if (filterFunction) {\n          primereact_api__WEBPACK_IMPORTED_MODULE_2__.FilterService.register(\"custom_\".concat(field), function () {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n            return filterFunction.apply(void 0, args.concat([{\n              column: col\n            }]));\n          });\n        }\n        filters[field] = props.filterDisplay === 'menu' ? {\n          operator: primereact_api__WEBPACK_IMPORTED_MODULE_2__.FilterOperator.AND,\n          constraints: [constraint]\n        } : constraint;\n        return filters;\n      }, {});\n    }\n    return cloned;\n  };\n  var filter = function filter(value, field, matchMode) {\n    var index = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    var filters = _objectSpread({}, d_filtersState);\n    var meta = filters[field];\n    var constraint = meta && meta.operator ? meta.constraints[index] : meta;\n    constraint = meta ? {\n      value: value,\n      matchMode: matchMode || constraint.matchMode\n    } : {\n      value: value,\n      matchMode: matchMode\n    };\n    props.filterDisplay === 'menu' && meta && meta.operator ? filters[field].constraints[index] = constraint : filters[field] = constraint;\n    setD_filtersState(filters);\n    onFilterApply(filters);\n  };\n  var reset = function reset() {\n    setD_rowsState(props.rows);\n    setD_filtersState(cloneFilters(props.filters));\n    setGroupRowsSortMetaState(null);\n    setEditingMetaState({});\n    if (!props.onPage) {\n      setFirstState(props.first);\n      setRowsState(props.rows);\n    }\n    if (!props.onSort) {\n      setSortFieldState(props.sortField);\n      setSortOrderState(props.sortOrder);\n      setMultiSortMetaState(props.multiSortMeta);\n    }\n    if (!props.onFilter) {\n      setFiltersState(props.filters);\n    }\n    resetColumnOrder();\n  };\n  var resetScroll = function resetScroll() {\n    if (wrapperRef.current) {\n      var scrollableContainer = !isVirtualScrollerDisabled() ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.findSingle(wrapperRef.current, '.p-virtualscroller') : wrapperRef.current;\n      scrollableContainer.scrollTo(0, 0);\n    }\n  };\n  var resetColumnOrder = function resetColumnOrder() {\n    var columns = getColumns(true);\n    var columnOrder = [];\n    if (columns) {\n      columnOrder = columns.reduce(function (orders, col) {\n        orders.push(getColumnProp(col, 'columnKey') || getColumnProp(col, 'field'));\n        return orders;\n      }, []);\n    }\n    setColumnOrderState(columnOrder);\n  };\n  var exportCSV = function exportCSV(options) {\n    var data;\n    var csv = \"\\uFEFF\";\n    var columns = getColumns();\n    if (options && options.selectionOnly) {\n      data = props.selection || [];\n    } else {\n      data = [].concat(_toConsumableArray(props.frozenValue || []), _toConsumableArray(processedData() || []));\n    }\n\n    //headers\n    columns.forEach(function (column, i) {\n      var _ref3 = [getColumnProp(column, 'field'), getColumnProp(column, 'header'), getColumnProp(column, 'exportable')],\n        field = _ref3[0],\n        header = _ref3[1],\n        exportable = _ref3[2];\n      if (exportable && field) {\n        var columnHeader = String(header || field).replace(/\"/g, '\"\"').replace(/\\n/g, \"\\u2028\");\n        csv += '\"' + columnHeader + '\"';\n        if (i < columns.length - 1) {\n          csv += props.csvSeparator;\n        }\n      }\n    });\n\n    //body\n    data.forEach(function (record) {\n      csv += '\\n';\n      columns.forEach(function (column, i) {\n        var _ref4 = [getColumnProp(column, 'field'), getColumnProp(column, 'exportField'), getColumnProp(column, 'exportable')],\n          colField = _ref4[0],\n          exportField = _ref4[1],\n          exportable = _ref4[2];\n        var field = exportField || colField;\n        if (exportable && field) {\n          var cellData = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(record, field);\n          if (cellData != null) {\n            if (props.exportFunction) {\n              cellData = props.exportFunction({\n                data: cellData,\n                field: field,\n                rowData: record,\n                column: column\n              });\n            } else {\n              cellData = String(cellData).replace(/\"/g, '\"\"').replace(/\\n/g, \"\\u2028\");\n            }\n          } else cellData = '';\n          csv += '\"' + cellData + '\"';\n          if (i < columns.length - 1) {\n            csv += props.csvSeparator;\n          }\n        }\n      });\n    });\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.exportCSV(csv, props.exportFilename);\n  };\n  var closeEditingCell = function closeEditingCell() {\n    if (props.editMode !== 'row') {\n      document.body.click();\n    }\n  };\n  var createEvent = function createEvent(event) {\n    return _objectSpread({\n      first: getFirst(),\n      rows: getRows(),\n      sortField: getSortField(),\n      sortOrder: getSortOrder(),\n      multiSortMeta: getMultiSortMeta(),\n      filters: getFilters()\n    }, event);\n  };\n  var processedData = function processedData(localState) {\n    var data = props.value || [];\n    if (!props.lazy) {\n      if (data && data.length) {\n        var filters = localState && localState.filters || getFilters();\n        var sortField = localState && localState.sortField || getSortField();\n        var sortOrder = localState && localState.sortOrder || getSortOrder();\n        var multiSortMeta = localState && localState.multiSortMeta || getMultiSortMeta();\n        var _columns3 = getColumns();\n        var sortColumn = _columns3.find(function (col) {\n          return getColumnProp(col, 'field') === sortField;\n        });\n        if (sortColumn) {\n          columnSortable.current = getColumnProp(sortColumn, 'sortable');\n          columnSortFunction.current = getColumnProp(sortColumn, 'sortFunction');\n        }\n        if (primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(filters) || props.globalFilter) {\n          data = filterLocal(data, filters);\n        }\n        if (sortField || primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(multiSortMeta)) {\n          if (props.sortMode === 'single') data = sortSingle(data, sortField, sortOrder);else if (props.sortMode === 'multiple') data = sortMultiple(data, multiSortMeta);\n        }\n      }\n    }\n    return data;\n  };\n  var dataToRender = function dataToRender(data) {\n    if (data && props.paginator) {\n      var first = props.lazy ? 0 : getFirst();\n      return data.slice(first, first + getRows());\n    }\n    return data;\n  };\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useMountEffect)(function () {\n    !attributeSelectorState && setAttributeSelectorState((0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.UniqueComponentId)());\n    setFiltersState(cloneFilters(props.filters));\n    setD_filtersState(cloneFilters(props.filters));\n    if (isStateful()) {\n      restoreState();\n      if (props.resizableColumns) {\n        restoreColumnWidths();\n      }\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUpdateEffect)(function () {\n    if (attributeSelectorState) {\n      elementRef.current.setAttribute(attributeSelectorState, '');\n      if (props.responsiveLayout === 'stack' && !props.scrollable) {\n        createResponsiveStyle();\n      }\n    }\n    return function () {\n      destroyResponsiveStyle();\n    };\n  }, [attributeSelectorState, props.breakpoint]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUpdateEffect)(function () {\n    var filters = cloneFilters(props.filters);\n    setFiltersState(filters);\n    setD_filtersState(cloneFilters(props.filters));\n    if (props.onValueChange) {\n      props.onValueChange(processedData({\n        filters: filters\n      }));\n    }\n  }, [props.filters]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUpdateEffect)(function () {\n    if (isStateful()) {\n      saveState();\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUpdateEffect)(function () {\n    destroyResponsiveStyle();\n    if (props.responsiveLayout === 'stack' && !props.scrollable) {\n      createResponsiveStyle();\n    }\n  }, [props.responsiveLayout, props.scrollable]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUpdateEffect)(function () {\n    if (props.globalFilter) {\n      filter(props.globalFilter, 'global', props.globalFilterMatchMode);\n    } else {\n      // #3819 was filtering but now reset filter state\n      setFiltersState(props.filters);\n    }\n  }, [props.globalFilter, props.globalFilterMatchMode]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUnmountEffect)(function () {\n    unbindColumnResizeEvents();\n    destroyStyleElement();\n    destroyResponsiveStyle();\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      clearState: clearState,\n      closeEditingCell: closeEditingCell,\n      exportCSV: exportCSV,\n      filter: filter,\n      reset: reset,\n      resetColumnOrder: resetColumnOrder,\n      resetScroll: resetScroll,\n      restoreColumnWidths: restoreColumnWidths,\n      restoreState: restoreState,\n      restoreTableState: restoreTableState,\n      saveState: saveState,\n      getElement: function getElement() {\n        return elementRef.current;\n      },\n      getTable: function getTable() {\n        return tableRef.current;\n      },\n      getVirtualScroller: function getVirtualScroller() {\n        return virtualScrollerRef.current;\n      }\n    };\n  });\n  var createLoader = function createLoader() {\n    if (props.loading) {\n      var iconClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-datatable-loading-icon pi-spin', props.loadingIcon);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-datatable-loading-overlay p-component-overlay\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: iconClassName\n      }));\n    }\n    return null;\n  };\n  var createHeader = function createHeader() {\n    if (props.header) {\n      var _content = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.header, {\n        props: props\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-datatable-header\"\n      }, _content);\n    }\n    return null;\n  };\n  var createTableHeader = function createTableHeader(options, empty, _isVirtualScrollerDisabled) {\n    var sortField = getSortField();\n    var sortOrder = getSortOrder();\n    var multiSortMeta = _toConsumableArray(getMultiSortMeta());\n    var groupRowSortField = getGroupRowSortField();\n    var filters = d_filtersState;\n    var filtersStore = !props.onFilter && props.filters || getFilters();\n    var processedData = options.items,\n      virtualScrollerProps = options.props,\n      columns = options.columns;\n    var data = _isVirtualScrollerDisabled || virtualScrollerProps.lazy ? processedData : virtualScrollerProps.items;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(TableHeader, {\n      value: data,\n      tableProps: props,\n      columns: columns,\n      tabIndex: props.tabIndex,\n      empty: empty,\n      headerColumnGroup: props.headerColumnGroup,\n      resizableColumns: props.resizableColumns,\n      onColumnResizeStart: onColumnResizeStart,\n      onColumnResizerClick: props.onColumnResizerClick,\n      onColumnResizerDoubleClick: props.onColumnResizerDoubleClick,\n      sortMode: props.sortMode,\n      sortField: sortField,\n      sortOrder: sortOrder,\n      multiSortMeta: multiSortMeta,\n      groupRowsBy: props.groupRowsBy,\n      groupRowSortField: groupRowSortField,\n      onSortChange: onSortChange,\n      filterDisplay: props.filterDisplay,\n      filters: filters,\n      filtersStore: filtersStore,\n      onFilterChange: onFilterChange,\n      onFilterApply: onFilterApply,\n      showSelectAll: props.showSelectAll,\n      allRowsSelected: allRowsSelected,\n      onColumnCheckboxChange: onColumnHeaderCheckboxChange,\n      onColumnMouseDown: onColumnHeaderMouseDown,\n      onColumnDragStart: onColumnHeaderDragStart,\n      onColumnDragOver: onColumnHeaderDragOver,\n      onColumnDragLeave: onColumnHeaderDragLeave,\n      onColumnDrop: onColumnHeaderDrop,\n      rowGroupMode: props.rowGroupMode,\n      reorderableColumns: props.reorderableColumns\n    });\n  };\n  var createTableBody = function createTableBody(options, selectionModeInColumn, empty, isVirtualScrollerDisabled) {\n    var first = getFirst();\n    var rows = options.rows,\n      columns = options.columns,\n      contentRef = options.contentRef,\n      style = options.style,\n      className = options.className,\n      spacerStyle = options.spacerStyle,\n      itemSize = options.itemSize;\n    var frozenBody = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(props.frozenValue) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(TableBody, {\n      ref: frozenBodyRef,\n      value: props.frozenValue,\n      className: \"p-datatable-tbody p-datatable-frozen-tbody\",\n      frozenRow: true,\n      tableProps: props,\n      tableSelector: attributeSelectorState,\n      columns: columns,\n      selectionModeInColumn: selectionModeInColumn,\n      first: first,\n      editingMeta: editingMetaState,\n      onEditingMetaChange: onEditingMetaChange,\n      tabIndex: props.tabIndex,\n      onRowClick: props.onRowClick,\n      onRowDoubleClick: props.onRowDoubleClick,\n      onRowMouseEnter: props.onRowMouseEnter,\n      onRowMouseLeave: props.onRowMouseLeave,\n      onCellClick: props.onCellClick,\n      selection: props.selection,\n      onSelectionChange: props.onSelectionChange,\n      lazy: props.lazy,\n      paginator: props.paginator,\n      onCellSelect: props.onCellSelect,\n      onCellUnselect: props.onCellUnselect,\n      onRowSelect: props.onRowSelect,\n      onRowUnselect: props.onRowUnselect,\n      dragSelection: props.dragSelection,\n      onContextMenu: props.onContextMenu,\n      onContextMenuSelectionChange: props.onContextMenuSelectionChange,\n      metaKeySelection: props.metaKeySelection,\n      selectionMode: props.selectionMode,\n      cellSelection: props.cellSelection,\n      contextMenuSelection: props.contextMenuSelection,\n      dataKey: props.dataKey,\n      expandedRows: props.expandedRows,\n      onRowCollapse: props.onRowCollapse,\n      onRowExpand: props.onRowExpand,\n      onRowToggle: props.onRowToggle,\n      editMode: props.editMode,\n      editingRows: props.editingRows,\n      onRowReorder: props.onRowReorder,\n      reorderableRows: props.reorderableRows,\n      scrollable: props.scrollable,\n      rowGroupMode: props.rowGroupMode,\n      groupRowsBy: props.groupRowsBy,\n      expandableRowGroups: props.expandableRowGroups,\n      loading: props.loading,\n      emptyMessage: props.emptyMessage,\n      rowGroupHeaderTemplate: props.rowGroupHeaderTemplate,\n      rowExpansionTemplate: props.rowExpansionTemplate,\n      rowGroupFooterTemplate: props.rowGroupFooterTemplate,\n      onRowEditChange: props.onRowEditChange,\n      compareSelectionBy: props.compareSelectionBy,\n      selectOnEdit: props.selectOnEdit,\n      onRowEditInit: props.onRowEditInit,\n      rowEditValidator: props.rowEditValidator,\n      onRowEditSave: props.onRowEditSave,\n      onRowEditComplete: props.onRowEditComplete,\n      onRowEditCancel: props.onRowEditCancel,\n      cellClassName: props.cellClassName,\n      responsiveLayout: props.responsiveLayout,\n      selectionAutoFocus: props.selectionAutoFocus,\n      isDataSelectable: props.isDataSelectable,\n      showSelectionElement: props.showSelectionElement,\n      showRowReorderElement: props.showRowReorderElement,\n      expandedRowIcon: props.expandedRowIcon,\n      collapsedRowIcon: props.collapsedRowIcon,\n      rowClassName: props.rowClassName,\n      virtualScrollerOptions: options,\n      isVirtualScrollerDisabled: true\n    });\n    var body = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(TableBody, {\n      ref: bodyRef,\n      value: dataToRender(rows),\n      style: style,\n      className: (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-datatable-tbody', className),\n      empty: empty,\n      frozenRow: false,\n      tableProps: props,\n      tableSelector: attributeSelectorState,\n      columns: columns,\n      selectionModeInColumn: selectionModeInColumn,\n      first: first,\n      editingMeta: editingMetaState,\n      onEditingMetaChange: onEditingMetaChange,\n      tabIndex: props.tabIndex,\n      onRowClick: props.onRowClick,\n      onRowDoubleClick: props.onRowDoubleClick,\n      onRowMouseEnter: props.onRowMouseEnter,\n      onRowMouseLeave: props.onRowMouseLeave,\n      onCellClick: props.onCellClick,\n      selection: props.selection,\n      onSelectionChange: props.onSelectionChange,\n      lazy: props.lazy,\n      paginator: props.paginator,\n      onCellSelect: props.onCellSelect,\n      onCellUnselect: props.onCellUnselect,\n      onRowSelect: props.onRowSelect,\n      onRowUnselect: props.onRowUnselect,\n      dragSelection: props.dragSelection,\n      onContextMenu: props.onContextMenu,\n      onContextMenuSelectionChange: props.onContextMenuSelectionChange,\n      metaKeySelection: props.metaKeySelection,\n      selectionMode: props.selectionMode,\n      cellSelection: props.cellSelection,\n      contextMenuSelection: props.contextMenuSelection,\n      dataKey: props.dataKey,\n      expandedRows: props.expandedRows,\n      onRowCollapse: props.onRowCollapse,\n      onRowExpand: props.onRowExpand,\n      onRowToggle: props.onRowToggle,\n      editMode: props.editMode,\n      editingRows: props.editingRows,\n      onRowReorder: props.onRowReorder,\n      reorderableRows: props.reorderableRows,\n      scrollable: props.scrollable,\n      rowGroupMode: props.rowGroupMode,\n      groupRowsBy: props.groupRowsBy,\n      expandableRowGroups: props.expandableRowGroups,\n      loading: props.loading,\n      emptyMessage: props.emptyMessage,\n      rowGroupHeaderTemplate: props.rowGroupHeaderTemplate,\n      rowExpansionTemplate: props.rowExpansionTemplate,\n      rowGroupFooterTemplate: props.rowGroupFooterTemplate,\n      onRowEditChange: props.onRowEditChange,\n      compareSelectionBy: props.compareSelectionBy,\n      selectOnEdit: props.selectOnEdit,\n      onRowEditInit: props.onRowEditInit,\n      rowEditValidator: props.rowEditValidator,\n      onRowEditSave: props.onRowEditSave,\n      onRowEditComplete: props.onRowEditComplete,\n      onRowEditCancel: props.onRowEditCancel,\n      cellClassName: props.cellClassName,\n      responsiveLayout: props.responsiveLayout,\n      selectionAutoFocus: props.selectionAutoFocus,\n      isDataSelectable: props.isDataSelectable,\n      showSelectionElement: props.showSelectionElement,\n      showRowReorderElement: props.showRowReorderElement,\n      expandedRowIcon: props.expandedRowIcon,\n      collapsedRowIcon: props.collapsedRowIcon,\n      rowClassName: props.rowClassName,\n      virtualScrollerContentRef: contentRef,\n      virtualScrollerOptions: options,\n      isVirtualScrollerDisabled: isVirtualScrollerDisabled\n    });\n    var spacerBody = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(spacerStyle) ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(TableBody, {\n      style: {\n        height: \"calc(\".concat(spacerStyle.height, \" - \").concat(rows.length * itemSize, \"px)\")\n      },\n      className: \"p-datatable-virtualscroller-spacer\"\n    }) : null;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, frozenBody, body, spacerBody);\n  };\n  var createTableFooter = function createTableFooter(options) {\n    var columns = options.columns;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(TableFooter, {\n      tableProps: props,\n      columns: columns,\n      footerColumnGroup: props.footerColumnGroup\n    });\n  };\n  var createContent = function createContent(processedData, columns, selectionModeInColumn, empty) {\n    if (!columns) return;\n    var _isVirtualScrollerDisabled = isVirtualScrollerDisabled();\n    var virtualScrollerOptions = props.virtualScrollerOptions || {};\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      ref: wrapperRef,\n      className: \"p-datatable-wrapper\",\n      style: {\n        maxHeight: _isVirtualScrollerDisabled ? props.scrollHeight : null\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_virtualscroller__WEBPACK_IMPORTED_MODULE_12__.VirtualScroller, _extends({\n      ref: virtualScrollerRef\n    }, virtualScrollerOptions, {\n      items: processedData,\n      columns: columns,\n      style: _objectSpread(_objectSpread({}, virtualScrollerOptions.style), {\n        height: props.scrollHeight !== 'flex' ? props.scrollHeight : undefined\n      }),\n      scrollHeight: props.scrollHeight !== 'flex' ? undefined : '100%',\n      disabled: _isVirtualScrollerDisabled,\n      loaderDisabled: true,\n      inline: true,\n      autoSize: true,\n      showSpacer: false,\n      contentTemplate: function contentTemplate(options) {\n        var ref = function ref(el) {\n          tableRef.current = el;\n          options.spacerRef && options.spacerRef(el);\n        };\n        var tableClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-datatable-table', {\n          'p-datatable-scrollable-table': props.scrollable,\n          'p-datatable-resizable-table': props.resizableColumns,\n          'p-datatable-resizable-table-fit': props.resizableColumns && props.columnResizeMode === 'fit'\n        }, props.tableClassName);\n        var tableHeader = createTableHeader(options, empty, _isVirtualScrollerDisabled);\n        var tableBody = createTableBody(options, selectionModeInColumn, empty, _isVirtualScrollerDisabled);\n        var tableFooter = createTableFooter(options);\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n          ref: ref,\n          style: props.tableStyle,\n          className: tableClassName,\n          role: \"table\"\n        }, tableHeader, tableBody, tableFooter);\n      }\n    })));\n  };\n  var createFooter = function createFooter() {\n    if (props.footer) {\n      var _content2 = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.footer, {\n        props: props\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-datatable-footer\"\n      }, _content2);\n    }\n    return null;\n  };\n  var createPaginator = function createPaginator(position, totalRecords) {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-paginator-' + position, props.paginatorClassName);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_paginator__WEBPACK_IMPORTED_MODULE_13__.Paginator, {\n      first: getFirst(),\n      rows: getRows(),\n      pageLinkSize: props.pageLinkSize,\n      className: className,\n      onPageChange: onPageChange,\n      template: props.paginatorTemplate,\n      totalRecords: totalRecords,\n      rowsPerPageOptions: props.rowsPerPageOptions,\n      currentPageReportTemplate: props.currentPageReportTemplate,\n      leftContent: props.paginatorLeft,\n      rightContent: props.paginatorRight,\n      alwaysShow: props.alwaysShowPaginator,\n      dropdownAppendTo: props.paginatorDropdownAppendTo\n    });\n  };\n  var createPaginatorTop = function createPaginatorTop(totalRecords) {\n    if (props.paginator && props.paginatorPosition !== 'bottom') {\n      return createPaginator('top', totalRecords);\n    }\n    return null;\n  };\n  var createPaginatorBottom = function createPaginatorBottom(totalRecords) {\n    if (props.paginator && props.paginatorPosition !== 'top') {\n      return createPaginator('bottom', totalRecords);\n    }\n    return null;\n  };\n  var createResizeHelper = function createResizeHelper() {\n    if (props.resizableColumns) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: resizeHelperRef,\n        className: \"p-column-resizer-helper\",\n        style: {\n          display: 'none'\n        }\n      });\n    }\n    return null;\n  };\n  var createReorderIndicators = function createReorderIndicators() {\n    if (props.reorderableColumns) {\n      var style = {\n        position: 'absolute',\n        display: 'none'\n      };\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        ref: reorderIndicatorUpRef,\n        className: \"pi pi-arrow-down p-datatable-reorder-indicator-up\",\n        style: style\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        ref: reorderIndicatorDownRef,\n        className: \"pi pi-arrow-up p-datatable-reorder-indicator-down\",\n        style: style\n      }));\n    }\n    return null;\n  };\n  var data = processedData();\n  var columns = getColumns();\n  var totalRecords = getTotalRecords(data);\n  var empty = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isEmpty(data);\n  var selectionModeInColumn = getSelectionModeInColumn(columns);\n  var selectable = props.selectionMode || selectionModeInColumn;\n  var otherProps = DataTableBase.getOtherProps(props);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-datatable p-component', {\n    'p-datatable-hoverable-rows': props.rowHover,\n    'p-datatable-selectable': selectable && !props.cellSelection,\n    'p-datatable-selectable-cell': selectable && props.cellSelection,\n    'p-datatable-resizable': props.resizableColumns,\n    'p-datatable-resizable-fit': props.resizableColumns && props.columnResizeMode === 'fit',\n    'p-datatable-scrollable': props.scrollable,\n    'p-datatable-flex-scrollable': props.scrollable && props.scrollHeight === 'flex',\n    'p-datatable-responsive-stack': props.responsiveLayout === 'stack',\n    'p-datatable-responsive-scroll': props.responsiveLayout === 'scroll',\n    'p-datatable-striped': props.stripedRows,\n    'p-datatable-gridlines': props.showGridlines,\n    'p-datatable-grouped-header': props.headerColumnGroup != null,\n    'p-datatable-grouped-footer': props.footerColumnGroup != null,\n    'p-datatable-sm': props.size === 'small',\n    'p-datatable-lg': props.size === 'large'\n  }, props.className);\n  var loader = createLoader();\n  var header = createHeader();\n  var paginatorTop = createPaginatorTop(totalRecords);\n  var content = createContent(data, columns, selectionModeInColumn, empty);\n  var paginatorBottom = createPaginatorBottom(totalRecords);\n  var footer = createFooter();\n  var resizeHelper = createResizeHelper();\n  var reorderIndicators = createReorderIndicators();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n    ref: elementRef,\n    id: props.id,\n    className: className,\n    style: props.style\n  }, otherProps, {\n    \"data-scrollselectors\": \".p-datatable-wrapper\"\n  }), loader, header, paginatorTop, content, paginatorBottom, footer, resizeHelper, reorderIndicators);\n});\nDataTable.displayName = 'DataTable';\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9kYXRhdGFibGUvZGF0YXRhYmxlLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStCO0FBQ3NGO0FBQ2Q7QUFDaUM7QUFDdkY7QUFDWTtBQUNGO0FBQ2hCO0FBQ0E7QUFDYztBQUNWO0FBQ0U7QUFDTjtBQUNFOztBQUU3QztBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUNBQXlDLFNBQVM7QUFDbEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsWUFBWSw2RUFBNkU7QUFDakcsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFdBQVcsMEVBQTRCO0FBQ3ZDLEdBQUc7QUFDSDtBQUNBLFdBQVcsMkVBQTZCO0FBQ3hDLEdBQUc7QUFDSDtBQUNBLFdBQVcsK0VBQWlDO0FBQzVDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsYUFBYSxJQUFJLFdBQVc7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG9FQUF3QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Q0E7QUFDQSxlQUFlLG9FQUFzQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMEVBQTRCO0FBQzlELDREQUE0RDtBQUM1RDtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsMEVBQTRCO0FBQ25FO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLEVBQUU7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixnREFBbUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QTtBQUNBLHNCQUFzQixnREFBbUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEOztBQUVxQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9kYXRhdGFibGUvZGF0YXRhYmxlLmVzbS5qcz84MzlmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcmltZVJlYWN0LCB7IEZpbHRlck1hdGNoTW9kZSwgYXJpYUxhYmVsLCBsb2NhbGVPcHRpb24sIEZpbHRlck9wZXJhdG9yLCBGaWx0ZXJTZXJ2aWNlIH0gZnJvbSAncHJpbWVyZWFjdC9hcGknO1xuaW1wb3J0IHsgT2JqZWN0VXRpbHMsIGNsYXNzTmFtZXMsIERvbUhhbmRsZXIsIFpJbmRleFV0aWxzLCBVbmlxdWVDb21wb25lbnRJZCB9IGZyb20gJ3ByaW1lcmVhY3QvdXRpbHMnO1xuaW1wb3J0IHsgdXNlRXZlbnRMaXN0ZW5lciwgdXNlVXBkYXRlRWZmZWN0LCB1c2VVbm1vdW50RWZmZWN0LCB1c2VPdmVybGF5TGlzdGVuZXIsIHVzZVByZXZpb3VzLCB1c2VNb3VudEVmZmVjdCB9IGZyb20gJ3ByaW1lcmVhY3QvaG9va3MnO1xuaW1wb3J0IHsgUGFnaW5hdG9yIH0gZnJvbSAncHJpbWVyZWFjdC9wYWdpbmF0b3InO1xuaW1wb3J0IHsgVmlydHVhbFNjcm9sbGVyIH0gZnJvbSAncHJpbWVyZWFjdC92aXJ0dWFsc2Nyb2xsZXInO1xuaW1wb3J0IHsgT3ZlcmxheVNlcnZpY2UgfSBmcm9tICdwcmltZXJlYWN0L292ZXJsYXlzZXJ2aWNlJztcbmltcG9ydCB7IFJpcHBsZSB9IGZyb20gJ3ByaW1lcmVhY3QvcmlwcGxlJztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ3ByaW1lcmVhY3QvYnV0dG9uJztcbmltcG9ydCB7IENTU1RyYW5zaXRpb24gfSBmcm9tICdwcmltZXJlYWN0L2Nzc3RyYW5zaXRpb24nO1xuaW1wb3J0IHsgRHJvcGRvd24gfSBmcm9tICdwcmltZXJlYWN0L2Ryb3Bkb3duJztcbmltcG9ydCB7IElucHV0VGV4dCB9IGZyb20gJ3ByaW1lcmVhY3QvaW5wdXR0ZXh0JztcbmltcG9ydCB7IFBvcnRhbCB9IGZyb20gJ3ByaW1lcmVhY3QvcG9ydGFsJztcbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICdwcmltZXJlYWN0L3Rvb2x0aXAnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gIH0sIF90eXBlb2Yob2JqKTtcbn1cblxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7XG4gIGlmIChfdHlwZW9mKGlucHV0KSAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0O1xuICB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07XG4gIGlmIChwcmltICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTtcbiAgICBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTtcbiAgfVxuICByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTtcbn1cblxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7XG4gIHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTtcbiAgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgdmFyIF9pID0gbnVsbCA9PSBhcnIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07XG4gIGlmIChudWxsICE9IF9pKSB7XG4gICAgdmFyIF9zLFxuICAgICAgX2UsXG4gICAgICBfeCxcbiAgICAgIF9yLFxuICAgICAgX2FyciA9IFtdLFxuICAgICAgX24gPSAhMCxcbiAgICAgIF9kID0gITE7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChfeCA9IChfaSA9IF9pLmNhbGwoYXJyKSkubmV4dCwgMCA9PT0gaSkge1xuICAgICAgICBpZiAoT2JqZWN0KF9pKSAhPT0gX2kpIHJldHVybjtcbiAgICAgICAgX24gPSAhMTtcbiAgICAgIH0gZWxzZSBmb3IgKDsgIShfbiA9IChfcyA9IF94LmNhbGwoX2kpKS5kb25lKSAmJiAoX2Fyci5wdXNoKF9zLnZhbHVlKSwgX2Fyci5sZW5ndGggIT09IGkpOyBfbiA9ICEwKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kID0gITAsIF9lID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9uICYmIG51bGwgIT0gX2lbXCJyZXR1cm5cIl0gJiYgKF9yID0gX2lbXCJyZXR1cm5cIl0oKSwgT2JqZWN0KF9yKSAhPT0gX3IpKSByZXR1cm47XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX2FycjtcbiAgfVxufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcbn1cblxudmFyIENvbHVtbkJhc2UgPSB7XG4gIGRlZmF1bHRQcm9wczoge1xuICAgIF9fVFlQRTogJ0NvbHVtbicsXG4gICAgYWxpZ246IG51bGwsXG4gICAgYWxpZ25Gcm96ZW46ICdsZWZ0JyxcbiAgICBhbGlnbkhlYWRlcjogbnVsbCxcbiAgICBib2R5OiBudWxsLFxuICAgIGJvZHlDbGFzc05hbWU6IG51bGwsXG4gICAgYm9keVN0eWxlOiBudWxsLFxuICAgIGNlbGxFZGl0VmFsaWRhdG9yOiBudWxsLFxuICAgIGNlbGxFZGl0VmFsaWRhdG9yRXZlbnQ6ICdjbGljaycsXG4gICAgY2xhc3NOYW1lOiBudWxsLFxuICAgIGNvbFNwYW46IG51bGwsXG4gICAgY29sdW1uS2V5OiBudWxsLFxuICAgIGRhdGFUeXBlOiAndGV4dCcsXG4gICAgZWRpdG9yOiBudWxsLFxuICAgIGV4Y2x1ZGVHbG9iYWxGaWx0ZXI6IGZhbHNlLFxuICAgIGV4cGFuZGVyOiBmYWxzZSxcbiAgICBleHBvcnRGaWVsZDogbnVsbCxcbiAgICBleHBvcnRhYmxlOiB0cnVlLFxuICAgIGZpZWxkOiBudWxsLFxuICAgIGZpbHRlcjogZmFsc2UsXG4gICAgZmlsdGVyQXBwbHk6IG51bGwsXG4gICAgZmlsdGVyQ2xlYXI6IG51bGwsXG4gICAgZmlsdGVyRWxlbWVudDogbnVsbCxcbiAgICBmaWx0ZXJGaWVsZDogbnVsbCxcbiAgICBmaWx0ZXJGb290ZXI6IG51bGwsXG4gICAgZmlsdGVyRnVuY3Rpb246IG51bGwsXG4gICAgZmlsdGVySGVhZGVyOiBudWxsLFxuICAgIGZpbHRlckhlYWRlckNsYXNzTmFtZTogbnVsbCxcbiAgICBmaWx0ZXJIZWFkZXJTdHlsZTogbnVsbCxcbiAgICBmaWx0ZXJNYXRjaE1vZGU6IG51bGwsXG4gICAgZmlsdGVyTWF0Y2hNb2RlT3B0aW9uczogbnVsbCxcbiAgICBmaWx0ZXJNYXhMZW5ndGg6IG51bGwsXG4gICAgZmlsdGVyTWVudUNsYXNzTmFtZTogbnVsbCxcbiAgICBmaWx0ZXJNZW51U3R5bGU6IG51bGwsXG4gICAgZmlsdGVyUGxhY2Vob2xkZXI6IG51bGwsXG4gICAgZmlsdGVyVHlwZTogJ3RleHQnLFxuICAgIGZvb3RlcjogbnVsbCxcbiAgICBmb290ZXJDbGFzc05hbWU6IG51bGwsXG4gICAgZm9vdGVyU3R5bGU6IG51bGwsXG4gICAgZnJvemVuOiBmYWxzZSxcbiAgICBoZWFkZXI6IG51bGwsXG4gICAgaGVhZGVyQ2xhc3NOYW1lOiBudWxsLFxuICAgIGhlYWRlclN0eWxlOiBudWxsLFxuICAgIGhlYWRlclRvb2x0aXA6IG51bGwsXG4gICAgaGVhZGVyVG9vbHRpcE9wdGlvbnM6IG51bGwsXG4gICAgaGlkZGVuOiBmYWxzZSxcbiAgICBtYXhDb25zdHJhaW50czogMixcbiAgICBvbkJlZm9yZUNlbGxFZGl0SGlkZTogbnVsbCxcbiAgICBvbkJlZm9yZUNlbGxFZGl0U2hvdzogbnVsbCxcbiAgICBvbkNlbGxFZGl0Q2FuY2VsOiBudWxsLFxuICAgIG9uQ2VsbEVkaXRDb21wbGV0ZTogbnVsbCxcbiAgICBvbkNlbGxFZGl0SW5pdDogbnVsbCxcbiAgICBvbkZpbHRlckFwcGx5Q2xpY2s6IG51bGwsXG4gICAgb25GaWx0ZXJDbGVhcjogbnVsbCxcbiAgICBvbkZpbHRlckNvbnN0cmFpbnRBZGQ6IG51bGwsXG4gICAgb25GaWx0ZXJDb25zdHJhaW50UmVtb3ZlOiBudWxsLFxuICAgIG9uRmlsdGVyTWF0Y2hNb2RlQ2hhbmdlOiBudWxsLFxuICAgIG9uRmlsdGVyT3BlcmF0b3JDaGFuZ2U6IG51bGwsXG4gICAgcmVvcmRlcmFibGU6IHRydWUsXG4gICAgcmVzaXplYWJsZTogdHJ1ZSxcbiAgICByb3dFZGl0b3I6IGZhbHNlLFxuICAgIHJvd1Jlb3JkZXI6IGZhbHNlLFxuICAgIHJvd1Jlb3JkZXJJY29uOiAncGkgcGktYmFycycsXG4gICAgcm93U3BhbjogbnVsbCxcbiAgICBzZWxlY3Rpb25Nb2RlOiBudWxsLFxuICAgIHNob3dBZGRCdXR0b246IHRydWUsXG4gICAgc2hvd0FwcGx5QnV0dG9uOiB0cnVlLFxuICAgIHNob3dDbGVhckJ1dHRvbjogdHJ1ZSxcbiAgICBzaG93RmlsdGVyTWF0Y2hNb2RlczogdHJ1ZSxcbiAgICBzaG93RmlsdGVyTWVudTogdHJ1ZSxcbiAgICBzaG93RmlsdGVyTWVudU9wdGlvbnM6IHRydWUsXG4gICAgc2hvd0ZpbHRlck9wZXJhdG9yOiB0cnVlLFxuICAgIHNvcnRGaWVsZDogbnVsbCxcbiAgICBzb3J0RnVuY3Rpb246IG51bGwsXG4gICAgc29ydGFibGU6IGZhbHNlLFxuICAgIHNvcnRhYmxlRGlzYWJsZWQ6IGZhbHNlLFxuICAgIHN0eWxlOiBudWxsLFxuICAgIGNoaWxkcmVuOiB1bmRlZmluZWRcbiAgfSxcbiAgZ2V0Q1Byb3A6IGZ1bmN0aW9uIGdldENQcm9wKGNvbHVtbiwgbmFtZSkge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5nZXRDb21wb25lbnRQcm9wKGNvbHVtbiwgbmFtZSwgQ29sdW1uQmFzZS5kZWZhdWx0UHJvcHMpO1xuICB9LFxuICBnZXRDUHJvcHM6IGZ1bmN0aW9uIGdldENQcm9wcyhjb2x1bW4pIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0Q29tcG9uZW50UHJvcHMoY29sdW1uLCBDb2x1bW5CYXNlLmRlZmF1bHRQcm9wcyk7XG4gIH0sXG4gIGdldENPdGhlclByb3BzOiBmdW5jdGlvbiBnZXRDT3RoZXJQcm9wcyhjb2x1bW4pIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0Q29tcG9uZW50RGlmZlByb3BzKGNvbHVtbiwgQ29sdW1uQmFzZS5kZWZhdWx0UHJvcHMpO1xuICB9XG59O1xuXG52YXIgRGF0YVRhYmxlQmFzZSA9IHtcbiAgZGVmYXVsdFByb3BzOiB7XG4gICAgX19UWVBFOiAnRGF0YVRhYmxlJyxcbiAgICBhbHdheXNTaG93UGFnaW5hdG9yOiB0cnVlLFxuICAgIGJyZWFrcG9pbnQ6ICc5NjBweCcsXG4gICAgY2VsbENsYXNzTmFtZTogbnVsbCxcbiAgICBjZWxsU2VsZWN0aW9uOiBmYWxzZSxcbiAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgY29sbGFwc2VkUm93SWNvbjogJ3BpIHBpLWNoZXZyb24tcmlnaHQnLFxuICAgIGNvbHVtblJlc2l6ZU1vZGU6ICdmaXQnLFxuICAgIGNvbXBhcmVTZWxlY3Rpb25CeTogJ2RlZXBFcXVhbHMnLFxuICAgIGNvbnRleHRNZW51U2VsZWN0aW9uOiBudWxsLFxuICAgIGNzdlNlcGFyYXRvcjogJywnLFxuICAgIGN1cnJlbnRQYWdlUmVwb3J0VGVtcGxhdGU6ICcoe2N1cnJlbnRQYWdlfSBvZiB7dG90YWxQYWdlc30pJyxcbiAgICBjdXN0b21SZXN0b3JlU3RhdGU6IG51bGwsXG4gICAgY3VzdG9tU2F2ZVN0YXRlOiBudWxsLFxuICAgIGRhdGFLZXk6IG51bGwsXG4gICAgZGVmYXVsdFNvcnRPcmRlcjogMSxcbiAgICBkcmFnU2VsZWN0aW9uOiBmYWxzZSxcbiAgICBlZGl0TW9kZTogJ2NlbGwnLFxuICAgIGVkaXRpbmdSb3dzOiBudWxsLFxuICAgIGVtcHR5TWVzc2FnZTogbnVsbCxcbiAgICBleHBhbmRhYmxlUm93R3JvdXBzOiBmYWxzZSxcbiAgICBleHBhbmRlZFJvd0ljb246ICdwaSBwaS1jaGV2cm9uLWRvd24nLFxuICAgIGV4cGFuZGVkUm93czogbnVsbCxcbiAgICBleHBvcnRGaWxlbmFtZTogJ2Rvd25sb2FkJyxcbiAgICBleHBvcnRGdW5jdGlvbjogbnVsbCxcbiAgICBmaWx0ZXJEZWxheTogMzAwLFxuICAgIGZpbHRlckRpc3BsYXk6ICdtZW51JyxcbiAgICBmaWx0ZXJMb2NhbGU6IHVuZGVmaW5lZCxcbiAgICBmaWx0ZXJzOiBudWxsLFxuICAgIGZpcnN0OiAwLFxuICAgIGZvb3RlcjogbnVsbCxcbiAgICBmb290ZXJDb2x1bW5Hcm91cDogbnVsbCxcbiAgICBmcm96ZW5WYWx1ZTogbnVsbCxcbiAgICBmcm96ZW5XaWR0aDogbnVsbCxcbiAgICBnbG9iYWxGaWx0ZXI6IG51bGwsXG4gICAgZ2xvYmFsRmlsdGVyRmllbGRzOiBudWxsLFxuICAgIGdsb2JhbEZpbHRlck1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLkNPTlRBSU5TLFxuICAgIGdyb3VwUm93c0J5OiBudWxsLFxuICAgIGhlYWRlcjogbnVsbCxcbiAgICBoZWFkZXJDb2x1bW5Hcm91cDogbnVsbCxcbiAgICBpZDogbnVsbCxcbiAgICBpc0RhdGFTZWxlY3RhYmxlOiBudWxsLFxuICAgIGxhenk6IGZhbHNlLFxuICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgIGxvYWRpbmdJY29uOiAncGkgcGktc3Bpbm5lcicsXG4gICAgbWV0YUtleVNlbGVjdGlvbjogdHJ1ZSxcbiAgICBtdWx0aVNvcnRNZXRhOiBudWxsLFxuICAgIG9uQWxsUm93c1NlbGVjdDogbnVsbCxcbiAgICBvbkFsbFJvd3NVbnNlbGVjdDogbnVsbCxcbiAgICBvbkNlbGxDbGljazogbnVsbCxcbiAgICBvbkNlbGxTZWxlY3Q6IG51bGwsXG4gICAgb25DZWxsVW5zZWxlY3Q6IG51bGwsXG4gICAgb25Db2xSZW9yZGVyOiBudWxsLFxuICAgIG9uQ29sdW1uUmVzaXplRW5kOiBudWxsLFxuICAgIG9uQ29sdW1uUmVzaXplckNsaWNrOiBudWxsLFxuICAgIG9uQ29sdW1uUmVzaXplckRvdWJsZUNsaWNrOiBudWxsLFxuICAgIG9uQ29udGV4dE1lbnU6IG51bGwsXG4gICAgb25Db250ZXh0TWVudVNlbGVjdGlvbkNoYW5nZTogbnVsbCxcbiAgICBvbkZpbHRlcjogbnVsbCxcbiAgICBvblBhZ2U6IG51bGwsXG4gICAgb25Sb3dDbGljazogbnVsbCxcbiAgICBvblJvd01vdXNlRW50ZXI6IG51bGwsXG4gICAgb25Sb3dNb3VzZUxlYXZlOiBudWxsLFxuICAgIG9uUm93Q29sbGFwc2U6IG51bGwsXG4gICAgb25Sb3dEb3VibGVDbGljazogbnVsbCxcbiAgICBvblJvd0VkaXRDYW5jZWw6IG51bGwsXG4gICAgb25Sb3dFZGl0Q2hhbmdlOiBudWxsLFxuICAgIG9uUm93RWRpdENvbXBsZXRlOiBudWxsLFxuICAgIG9uUm93RWRpdEluaXQ6IG51bGwsXG4gICAgb25Sb3dFZGl0U2F2ZTogbnVsbCxcbiAgICBvblJvd0V4cGFuZDogbnVsbCxcbiAgICBvblJvd1Jlb3JkZXI6IG51bGwsXG4gICAgb25Sb3dTZWxlY3Q6IG51bGwsXG4gICAgb25Sb3dUb2dnbGU6IG51bGwsXG4gICAgb25Sb3dVbnNlbGVjdDogbnVsbCxcbiAgICBvblNlbGVjdEFsbENoYW5nZTogbnVsbCxcbiAgICBvblNlbGVjdGlvbkNoYW5nZTogbnVsbCxcbiAgICBvblNvcnQ6IG51bGwsXG4gICAgb25TdGF0ZVJlc3RvcmU6IG51bGwsXG4gICAgb25TdGF0ZVNhdmU6IG51bGwsXG4gICAgb25WYWx1ZUNoYW5nZTogbnVsbCxcbiAgICBwYWdlTGlua1NpemU6IDUsXG4gICAgcGFnaW5hdG9yOiBmYWxzZSxcbiAgICBwYWdpbmF0b3JDbGFzc05hbWU6IG51bGwsXG4gICAgcGFnaW5hdG9yRHJvcGRvd25BcHBlbmRUbzogbnVsbCxcbiAgICBwYWdpbmF0b3JMZWZ0OiBudWxsLFxuICAgIHBhZ2luYXRvclBvc2l0aW9uOiAnYm90dG9tJyxcbiAgICBwYWdpbmF0b3JSaWdodDogbnVsbCxcbiAgICBwYWdpbmF0b3JUZW1wbGF0ZTogJ0ZpcnN0UGFnZUxpbmsgUHJldlBhZ2VMaW5rIFBhZ2VMaW5rcyBOZXh0UGFnZUxpbmsgTGFzdFBhZ2VMaW5rIFJvd3NQZXJQYWdlRHJvcGRvd24nLFxuICAgIHJlbW92YWJsZVNvcnQ6IGZhbHNlLFxuICAgIHJlb3JkZXJhYmxlQ29sdW1uczogZmFsc2UsXG4gICAgcmVvcmRlcmFibGVSb3dzOiBmYWxzZSxcbiAgICByZXNpemFibGVDb2x1bW5zOiBmYWxzZSxcbiAgICByZXNwb25zaXZlTGF5b3V0OiAnc2Nyb2xsJyxcbiAgICByb3dDbGFzc05hbWU6IG51bGwsXG4gICAgcm93RWRpdFZhbGlkYXRvcjogbnVsbCxcbiAgICByb3dFeHBhbnNpb25UZW1wbGF0ZTogbnVsbCxcbiAgICByb3dHcm91cEZvb3RlclRlbXBsYXRlOiBudWxsLFxuICAgIHJvd0dyb3VwSGVhZGVyVGVtcGxhdGU6IG51bGwsXG4gICAgcm93R3JvdXBNb2RlOiBudWxsLFxuICAgIHJvd0hvdmVyOiBmYWxzZSxcbiAgICByb3dzOiBudWxsLFxuICAgIHJvd3NQZXJQYWdlT3B0aW9uczogbnVsbCxcbiAgICBzY3JvbGxIZWlnaHQ6IG51bGwsXG4gICAgc2Nyb2xsYWJsZTogZmFsc2UsXG4gICAgc2VsZWN0QWxsOiBmYWxzZSxcbiAgICBzZWxlY3RPbkVkaXQ6IHRydWUsXG4gICAgc2VsZWN0aW9uOiBudWxsLFxuICAgIHNlbGVjdGlvbkFyaWFMYWJlbDogbnVsbCxcbiAgICBzZWxlY3Rpb25BdXRvRm9jdXM6IHRydWUsXG4gICAgc2VsZWN0aW9uTW9kZTogbnVsbCxcbiAgICBzZWxlY3Rpb25QYWdlT25seTogZmFsc2UsXG4gICAgc2hvd0dyaWRsaW5lczogZmFsc2UsXG4gICAgc2hvd1Jvd1Jlb3JkZXJFbGVtZW50OiBudWxsLFxuICAgIHNob3dTZWxlY3RBbGw6IHRydWUsXG4gICAgc2hvd1NlbGVjdGlvbkVsZW1lbnQ6IG51bGwsXG4gICAgc2l6ZTogJ25vcm1hbCcsXG4gICAgc29ydEZpZWxkOiBudWxsLFxuICAgIHNvcnRNb2RlOiAnc2luZ2xlJyxcbiAgICBzb3J0T3JkZXI6IG51bGwsXG4gICAgc3RhdGVLZXk6IG51bGwsXG4gICAgc3RhdGVTdG9yYWdlOiAnc2Vzc2lvbicsXG4gICAgc3RyaXBlZFJvd3M6IGZhbHNlLFxuICAgIHN0eWxlOiBudWxsLFxuICAgIHRhYkluZGV4OiAwLFxuICAgIHRhYmxlQ2xhc3NOYW1lOiBudWxsLFxuICAgIHRhYmxlU3R5bGU6IG51bGwsXG4gICAgdG90YWxSZWNvcmRzOiBudWxsLFxuICAgIHZhbHVlOiBudWxsLFxuICAgIHZpcnR1YWxTY3JvbGxlck9wdGlvbnM6IG51bGwsXG4gICAgY2hpbGRyZW46IHVuZGVmaW5lZFxuICB9LFxuICBnZXRQcm9wczogZnVuY3Rpb24gZ2V0UHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0TWVyZ2VkUHJvcHMocHJvcHMsIERhdGFUYWJsZUJhc2UuZGVmYXVsdFByb3BzKTtcbiAgfSxcbiAgZ2V0T3RoZXJQcm9wczogZnVuY3Rpb24gZ2V0T3RoZXJQcm9wcyhwcm9wcykge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5nZXREaWZmUHJvcHMocHJvcHMsIERhdGFUYWJsZUJhc2UuZGVmYXVsdFByb3BzKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTtcbiAgdmFyIGtleSwgaTtcbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTtcbiAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlO1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxudmFyIFJvd0NoZWNrYm94ID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgZm9jdXNlZFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMlswXSxcbiAgICBzZXRGb2N1c2VkU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuICB2YXIgb25Gb2N1cyA9IGZ1bmN0aW9uIG9uRm9jdXMoKSB7XG4gICAgc2V0Rm9jdXNlZFN0YXRlKHRydWUpO1xuICB9O1xuICB2YXIgb25CbHVyID0gZnVuY3Rpb24gb25CbHVyKCkge1xuICAgIHNldEZvY3VzZWRTdGF0ZShmYWxzZSk7XG4gIH07XG4gIHZhciBvbkNsaWNrID0gZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgIGlmICghcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHNldEZvY3VzZWRTdGF0ZSh0cnVlKTtcbiAgICAgIHByb3BzLm9uQ2hhbmdlKGV2ZW50KTtcbiAgICB9XG4gIH07XG4gIHZhciBvbktleURvd24gPSBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuY29kZSA9PT0gJ1NwYWNlJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgLy8gZXZlbnQua2V5IGlzIGZvciBBbmRyb2lkIHN1cHBvcnRcbiAgICAgIG9uQ2xpY2soZXZlbnQpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG4gIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWNoZWNrYm94IHAtY29tcG9uZW50Jywge1xuICAgICdwLWNoZWNrYm94LWZvY3VzZWQnOiBmb2N1c2VkU3RhdGVcbiAgfSk7XG4gIHZhciBib3hDbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWNoZWNrYm94LWJveCBwLWNvbXBvbmVudCcsIHtcbiAgICAncC1oaWdobGlnaHQnOiBwcm9wcy5jaGVja2VkLFxuICAgICdwLWRpc2FibGVkJzogcHJvcHMuZGlzYWJsZWQsXG4gICAgJ3AtZm9jdXMnOiBmb2N1c2VkU3RhdGVcbiAgfSk7XG4gIHZhciBpY29uQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1jaGVja2JveC1pY29uJywge1xuICAgICdwaSBwaS1jaGVjayc6IHByb3BzLmNoZWNrZWRcbiAgfSk7XG4gIHZhciB0YWJJbmRleCA9IHByb3BzLmRpc2FibGVkID8gbnVsbCA6ICcwJztcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICBvbkNsaWNrOiBvbkNsaWNrXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGJveENsYXNzTmFtZSxcbiAgICByb2xlOiBcImNoZWNrYm94XCIsXG4gICAgXCJhcmlhLWNoZWNrZWRcIjogcHJvcHMuY2hlY2tlZCxcbiAgICB0YWJJbmRleDogdGFiSW5kZXgsXG4gICAgb25LZXlEb3duOiBvbktleURvd24sXG4gICAgb25Gb2N1czogb25Gb2N1cyxcbiAgICBvbkJsdXI6IG9uQmx1cixcbiAgICBcImFyaWEtbGFiZWxcIjogcHJvcHMuYXJpYUxhYmVsXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBpY29uQ2xhc3NOYW1lXG4gIH0pKSk7XG59KTtcblJvd0NoZWNrYm94LmRpc3BsYXlOYW1lID0gJ1Jvd0NoZWNrYm94JztcblxudmFyIFJvd1JhZGlvQnV0dG9uID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgZm9jdXNlZFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMlswXSxcbiAgICBzZXRGb2N1c2VkU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuICB2YXIgaW5wdXRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBvbkZvY3VzID0gZnVuY3Rpb24gb25Gb2N1cygpIHtcbiAgICBzZXRGb2N1c2VkU3RhdGUodHJ1ZSk7XG4gIH07XG4gIHZhciBvbkJsdXIgPSBmdW5jdGlvbiBvbkJsdXIoKSB7XG4gICAgc2V0Rm9jdXNlZFN0YXRlKGZhbHNlKTtcbiAgfTtcbiAgdmFyIG9uQ2xpY2sgPSBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgaWYgKCFwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgcHJvcHMub25DaGFuZ2UoZXZlbnQpO1xuICAgICAgRG9tSGFuZGxlci5mb2N1cyhpbnB1dFJlZi5jdXJyZW50KTtcbiAgICB9XG4gIH07XG4gIHZhciBvbktleURvd24gPSBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuY29kZSA9PT0gJ1NwYWNlJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgLy8gZXZlbnQua2V5IGlzIGZvciBBbmRyb2lkIHN1cHBvcnRcbiAgICAgIG9uQ2xpY2soZXZlbnQpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG4gIHZhciBvbkNoYW5nZSA9IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgb25DbGljayhldmVudCk7XG4gIH07XG4gIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLXJhZGlvYnV0dG9uIHAtY29tcG9uZW50Jywge1xuICAgICdwLXJhZGlvYnV0dG9uLWZvY3VzZWQnOiBmb2N1c2VkU3RhdGVcbiAgfSk7XG4gIHZhciBib3hDbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLXJhZGlvYnV0dG9uLWJveCBwLWNvbXBvbmVudCcsIHtcbiAgICAncC1oaWdobGlnaHQnOiBwcm9wcy5jaGVja2VkLFxuICAgICdwLWZvY3VzJzogZm9jdXNlZFN0YXRlLFxuICAgICdwLWRpc2FibGVkJzogcHJvcHMuZGlzYWJsZWRcbiAgfSk7XG4gIHZhciBuYW1lID0gXCJcIi5jb25jYXQocHJvcHMudGFibGVTZWxlY3RvciwgXCJfZHRfcmFkaW9cIik7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJwLWhpZGRlbi1hY2Nlc3NpYmxlXCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgbmFtZTogbmFtZSxcbiAgICByZWY6IGlucHV0UmVmLFxuICAgIHR5cGU6IFwicmFkaW9cIixcbiAgICBjaGVja2VkOiBwcm9wcy5jaGVja2VkLFxuICAgIG9uRm9jdXM6IG9uRm9jdXMsXG4gICAgb25CbHVyOiBvbkJsdXIsXG4gICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuICAgIG9uS2V5RG93bjogb25LZXlEb3duLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBwcm9wcy5hcmlhTGFiZWxcbiAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBib3hDbGFzc05hbWUsXG4gICAgb25DbGljazogb25DbGljayxcbiAgICByb2xlOiBcInJhZGlvXCIsXG4gICAgXCJhcmlhLWNoZWNrZWRcIjogcHJvcHMuY2hlY2tlZFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInAtcmFkaW9idXR0b24taWNvblwiXG4gIH0pKSk7XG59KTtcblJvd1JhZGlvQnV0dG9uLmRpc3BsYXlOYW1lID0gJ1Jvd1JhZGlvQnV0dG9uJztcblxuZnVuY3Rpb24gb3duS2V5cyQ3KG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQ3KHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzJDcoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyQ3KE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciBCb2R5Q2VsbCA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUocHJvcHMuZWRpdGluZyksXG4gICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgZWRpdGluZ1N0YXRlID0gX1JlYWN0JHVzZVN0YXRlMlswXSxcbiAgICBzZXRFZGl0aW5nU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuICB2YXIgX1JlYWN0JHVzZVN0YXRlMyA9IFJlYWN0LnVzZVN0YXRlKHByb3BzLnJvd0RhdGEpLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUzLCAyKSxcbiAgICBlZGl0aW5nUm93RGF0YVN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNFswXSxcbiAgICBzZXRFZGl0aW5nUm93RGF0YVN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNFsxXTtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTUgPSBSZWFjdC51c2VTdGF0ZSh7fSksXG4gICAgX1JlYWN0JHVzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTUsIDIpLFxuICAgIHN0eWxlT2JqZWN0U3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU2WzBdLFxuICAgIHNldFN0eWxlT2JqZWN0U3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU2WzFdO1xuICB2YXIgZWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGtleUhlbHBlclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIG92ZXJsYXlFdmVudExpc3RlbmVyID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgc2VsZkNsaWNrID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgdmFyIHRhYmluZGV4VGltZW91dCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGluaXRGb2N1c1RpbWVvdXQgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBnZXRDb2x1bW5Qcm9wID0gZnVuY3Rpb24gZ2V0Q29sdW1uUHJvcChuYW1lKSB7XG4gICAgcmV0dXJuIENvbHVtbkJhc2UuZ2V0Q1Byb3AocHJvcHMuY29sdW1uLCBuYW1lKTtcbiAgfTtcbiAgdmFyIGZpZWxkID0gZ2V0Q29sdW1uUHJvcCgnZmllbGQnKSB8fCBcImZpZWxkX1wiLmNvbmNhdChwcm9wcy5pbmRleCk7XG4gIHZhciBlZGl0aW5nS2V5ID0gcHJvcHMuZGF0YUtleSA/IHByb3BzLnJvd0RhdGEgJiYgcHJvcHMucm93RGF0YVtwcm9wcy5kYXRhS2V5XSB8fCBwcm9wcy5yb3dJbmRleCA6IHByb3BzLnJvd0luZGV4O1xuICB2YXIgX3VzZUV2ZW50TGlzdGVuZXIgPSB1c2VFdmVudExpc3RlbmVyKHtcbiAgICAgIHR5cGU6ICdjbGljaycsXG4gICAgICBsaXN0ZW5lcjogZnVuY3Rpb24gbGlzdGVuZXIoZSkge1xuICAgICAgICBpZiAoIXNlbGZDbGljay5jdXJyZW50ICYmIGlzT3V0c2lkZUNsaWNrZWQoZS50YXJnZXQpKSB7XG4gICAgICAgICAgc3dpdGNoQ2VsbFRvVmlld01vZGUoZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZkNsaWNrLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIH0sXG4gICAgICBvcHRpb25zOiB0cnVlXG4gICAgfSksXG4gICAgX3VzZUV2ZW50TGlzdGVuZXIyID0gX3NsaWNlZFRvQXJyYXkoX3VzZUV2ZW50TGlzdGVuZXIsIDIpLFxuICAgIGJpbmREb2N1bWVudENsaWNrTGlzdGVuZXIgPSBfdXNlRXZlbnRMaXN0ZW5lcjJbMF0sXG4gICAgdW5iaW5kRG9jdW1lbnRDbGlja0xpc3RlbmVyID0gX3VzZUV2ZW50TGlzdGVuZXIyWzFdO1xuICBpZiAocHJvcHMuZWRpdE1vZGUgPT09ICdyb3cnICYmIHByb3BzLmVkaXRpbmcgIT09IGVkaXRpbmdTdGF0ZSkge1xuICAgIHNldEVkaXRpbmdTdGF0ZShwcm9wcy5lZGl0aW5nKTtcbiAgfVxuICB2YXIgaXNFZGl0YWJsZSA9IGZ1bmN0aW9uIGlzRWRpdGFibGUoKSB7XG4gICAgcmV0dXJuIGdldENvbHVtblByb3AoJ2VkaXRvcicpO1xuICB9O1xuICB2YXIgaXNTZWxlY3RlZCA9IGZ1bmN0aW9uIGlzU2VsZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHByb3BzLnNlbGVjdGlvbiA/IHByb3BzLnNlbGVjdGlvbiBpbnN0YW5jZW9mIEFycmF5ID8gZmluZEluZGV4KHByb3BzLnNlbGVjdGlvbikgPiAtMSA6IGVxdWFscyhwcm9wcy5zZWxlY3Rpb24pIDogZmFsc2U7XG4gIH07XG4gIHZhciBlcXVhbHNEYXRhID0gZnVuY3Rpb24gZXF1YWxzRGF0YShkYXRhKSB7XG4gICAgcmV0dXJuIHByb3BzLmNvbXBhcmVTZWxlY3Rpb25CeSA9PT0gJ2VxdWFscycgPyBkYXRhID09PSBwcm9wcy5yb3dEYXRhIDogT2JqZWN0VXRpbHMuZXF1YWxzKGRhdGEsIHByb3BzLnJvd0RhdGEsIHByb3BzLmRhdGFLZXkpO1xuICB9O1xuICB2YXIgZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKHNlbGVjdGVkQ2VsbCkge1xuICAgIHJldHVybiBzZWxlY3RlZENlbGwgJiYgKHNlbGVjdGVkQ2VsbC5yb3dJbmRleCA9PT0gcHJvcHMucm93SW5kZXggfHwgZXF1YWxzRGF0YShzZWxlY3RlZENlbGwucm93RGF0YSkpICYmIChzZWxlY3RlZENlbGwuZmllbGQgPT09IGZpZWxkIHx8IHNlbGVjdGVkQ2VsbC5jZWxsSW5kZXggPT09IHByb3BzLmluZGV4KTtcbiAgfTtcbiAgdmFyIGlzT3V0c2lkZUNsaWNrZWQgPSBmdW5jdGlvbiBpc091dHNpZGVDbGlja2VkKHRhcmdldCkge1xuICAgIHJldHVybiBlbGVtZW50UmVmLmN1cnJlbnQgJiYgIShlbGVtZW50UmVmLmN1cnJlbnQuaXNTYW1lTm9kZSh0YXJnZXQpIHx8IGVsZW1lbnRSZWYuY3VycmVudC5jb250YWlucyh0YXJnZXQpKTtcbiAgfTtcbiAgdmFyIGdldFZpcnR1YWxTY3JvbGxlck9wdGlvbiA9IGZ1bmN0aW9uIGdldFZpcnR1YWxTY3JvbGxlck9wdGlvbihvcHRpb24pIHtcbiAgICByZXR1cm4gcHJvcHMudmlydHVhbFNjcm9sbGVyT3B0aW9ucyA/IHByb3BzLnZpcnR1YWxTY3JvbGxlck9wdGlvbnNbb3B0aW9uXSA6IG51bGw7XG4gIH07XG4gIHZhciBnZXRTdHlsZSA9IGZ1bmN0aW9uIGdldFN0eWxlKCkge1xuICAgIHZhciBib2R5U3R5bGUgPSBnZXRDb2x1bW5Qcm9wKCdib2R5U3R5bGUnKTtcbiAgICB2YXIgY29sdW1uU3R5bGUgPSBnZXRDb2x1bW5Qcm9wKCdzdHlsZScpO1xuICAgIHJldHVybiBnZXRDb2x1bW5Qcm9wKCdmcm96ZW4nKSA/IE9iamVjdC5hc3NpZ24oe30sIGNvbHVtblN0eWxlLCBib2R5U3R5bGUsIHN0eWxlT2JqZWN0U3RhdGUpIDogT2JqZWN0LmFzc2lnbih7fSwgY29sdW1uU3R5bGUsIGJvZHlTdHlsZSk7XG4gIH07XG4gIHZhciBnZXRDZWxsUGFyYW1zID0gZnVuY3Rpb24gZ2V0Q2VsbFBhcmFtcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHJlc29sdmVGaWVsZERhdGEoKSxcbiAgICAgIGZpZWxkOiBmaWVsZCxcbiAgICAgIHJvd0RhdGE6IHByb3BzLnJvd0RhdGEsXG4gICAgICByb3dJbmRleDogcHJvcHMucm93SW5kZXgsXG4gICAgICBjZWxsSW5kZXg6IHByb3BzLmluZGV4LFxuICAgICAgc2VsZWN0ZWQ6IGlzU2VsZWN0ZWQoKSxcbiAgICAgIGNvbHVtbjogcHJvcHMuY29sdW1uLFxuICAgICAgcHJvcHM6IHByb3BzXG4gICAgfTtcbiAgfTtcbiAgdmFyIGdldENlbGxDYWxsYmFja1BhcmFtcyA9IGZ1bmN0aW9uIGdldENlbGxDYWxsYmFja1BhcmFtcyhldmVudCkge1xuICAgIHZhciBwYXJhbXMgPSBnZXRDZWxsUGFyYW1zKCk7XG4gICAgcmV0dXJuIF9vYmplY3RTcHJlYWQkNyh7XG4gICAgICBvcmlnaW5hbEV2ZW50OiBldmVudFxuICAgIH0sIHBhcmFtcyk7XG4gIH07XG4gIHZhciByZXNvbHZlRmllbGREYXRhID0gZnVuY3Rpb24gcmVzb2x2ZUZpZWxkRGF0YShkYXRhKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEoZGF0YSB8fCBwcm9wcy5yb3dEYXRhLCBmaWVsZCk7XG4gIH07XG4gIHZhciBnZXRFZGl0aW5nUm93RGF0YSA9IGZ1bmN0aW9uIGdldEVkaXRpbmdSb3dEYXRhKCkge1xuICAgIHJldHVybiBwcm9wcy5lZGl0aW5nTWV0YSAmJiBwcm9wcy5lZGl0aW5nTWV0YVtlZGl0aW5nS2V5XSA/IHByb3BzLmVkaXRpbmdNZXRhW2VkaXRpbmdLZXldLmRhdGEgOiBwcm9wcy5yb3dEYXRhO1xuICB9O1xuICB2YXIgZ2V0VGFiSW5kZXggPSBmdW5jdGlvbiBnZXRUYWJJbmRleChjZWxsU2VsZWN0ZWQpIHtcbiAgICByZXR1cm4gcHJvcHMuYWxsb3dDZWxsU2VsZWN0aW9uID8gY2VsbFNlbGVjdGVkID8gMCA6IHByb3BzLnJvd0luZGV4ID09PSAwICYmIHByb3BzLmluZGV4ID09PSAwID8gcHJvcHMudGFiSW5kZXggOiAtMSA6IG51bGw7XG4gIH07XG4gIHZhciBmaW5kSW5kZXggPSBmdW5jdGlvbiBmaW5kSW5kZXgoY29sbGVjdGlvbikge1xuICAgIHJldHVybiAoY29sbGVjdGlvbiB8fCBbXSkuZmluZEluZGV4KGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICByZXR1cm4gZXF1YWxzKGRhdGEpO1xuICAgIH0pO1xuICB9O1xuICB2YXIgY2xvc2VDZWxsID0gZnVuY3Rpb24gY2xvc2VDZWxsKGV2ZW50KSB7XG4gICAgdmFyIHBhcmFtcyA9IGdldENlbGxDYWxsYmFja1BhcmFtcyhldmVudCk7XG4gICAgdmFyIG9uQmVmb3JlQ2VsbEVkaXRIaWRlID0gZ2V0Q29sdW1uUHJvcCgnb25CZWZvcmVDZWxsRWRpdEhpZGUnKTtcbiAgICBpZiAob25CZWZvcmVDZWxsRWRpdEhpZGUpIHtcbiAgICAgIG9uQmVmb3JlQ2VsbEVkaXRIaWRlKHBhcmFtcyk7XG4gICAgfVxuXG4gICAgLyogV2hlbiB1c2luZyB0aGUgJ3RhYicga2V5LCB0aGUgZm9jdXMgZXZlbnQgb2YgdGhlIG5leHQgY2VsbCBpcyBub3QgY2FsbGVkIGluIElFLiAqL1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgc2V0RWRpdGluZ1N0YXRlKGZhbHNlKTtcbiAgICAgIHVuYmluZERvY3VtZW50Q2xpY2tMaXN0ZW5lcigpO1xuICAgICAgT3ZlcmxheVNlcnZpY2Uub2ZmKCdvdmVybGF5LWNsaWNrJywgb3ZlcmxheUV2ZW50TGlzdGVuZXIuY3VycmVudCk7XG4gICAgICBvdmVybGF5RXZlbnRMaXN0ZW5lci5jdXJyZW50ID0gbnVsbDtcbiAgICAgIHNlbGZDbGljay5jdXJyZW50ID0gZmFsc2U7XG4gICAgfSwgMSk7XG4gIH07XG4gIHZhciBzd2l0Y2hDZWxsVG9WaWV3TW9kZSA9IGZ1bmN0aW9uIHN3aXRjaENlbGxUb1ZpZXdNb2RlKGV2ZW50LCBzdWJtaXQpIHtcbiAgICB2YXIgY2FsbGJhY2tQYXJhbXMgPSBnZXRDZWxsQ2FsbGJhY2tQYXJhbXMoZXZlbnQpO1xuICAgIHZhciBuZXdSb3dEYXRhID0gZWRpdGluZ1Jvd0RhdGFTdGF0ZTtcbiAgICB2YXIgbmV3VmFsdWUgPSByZXNvbHZlRmllbGREYXRhKG5ld1Jvd0RhdGEpO1xuICAgIHZhciBwYXJhbXMgPSBfb2JqZWN0U3ByZWFkJDcoX29iamVjdFNwcmVhZCQ3KHt9LCBjYWxsYmFja1BhcmFtcyksIHt9LCB7XG4gICAgICBuZXdSb3dEYXRhOiBuZXdSb3dEYXRhLFxuICAgICAgbmV3VmFsdWU6IG5ld1ZhbHVlXG4gICAgfSk7XG4gICAgdmFyIG9uQ2VsbEVkaXRDYW5jZWwgPSBnZXRDb2x1bW5Qcm9wKCdvbkNlbGxFZGl0Q2FuY2VsJyk7XG4gICAgdmFyIGNlbGxFZGl0VmFsaWRhdG9yID0gZ2V0Q29sdW1uUHJvcCgnY2VsbEVkaXRWYWxpZGF0b3InKTtcbiAgICB2YXIgb25DZWxsRWRpdENvbXBsZXRlID0gZ2V0Q29sdW1uUHJvcCgnb25DZWxsRWRpdENvbXBsZXRlJyk7XG4gICAgaWYgKCFzdWJtaXQgJiYgb25DZWxsRWRpdENhbmNlbCkge1xuICAgICAgb25DZWxsRWRpdENhbmNlbChwYXJhbXMpO1xuICAgIH1cbiAgICB2YXIgdmFsaWQgPSB0cnVlO1xuICAgIGlmIChjZWxsRWRpdFZhbGlkYXRvcikge1xuICAgICAgdmFsaWQgPSBjZWxsRWRpdFZhbGlkYXRvcihwYXJhbXMpO1xuICAgIH1cbiAgICBpZiAodmFsaWQpIHtcbiAgICAgIGlmIChzdWJtaXQgJiYgb25DZWxsRWRpdENvbXBsZXRlKSB7XG4gICAgICAgIG9uQ2VsbEVkaXRDb21wbGV0ZShwYXJhbXMpO1xuICAgICAgfVxuICAgICAgY2xvc2VDZWxsKGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG4gIHZhciBmaW5kTmV4dFNlbGVjdGFibGVDZWxsID0gZnVuY3Rpb24gZmluZE5leHRTZWxlY3RhYmxlQ2VsbChjZWxsKSB7XG4gICAgdmFyIG5leHRDZWxsID0gY2VsbC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgcmV0dXJuIG5leHRDZWxsID8gRG9tSGFuZGxlci5oYXNDbGFzcyhuZXh0Q2VsbCwgJ3Atc2VsZWN0YWJsZS1jZWxsJykgPyBuZXh0Q2VsbCA6IGZpbmROZXh0U2VsZWN0YWJsZUNlbGwobmV4dENlbGwpIDogbnVsbDtcbiAgfTtcbiAgdmFyIGZpbmRQcmV2U2VsZWN0YWJsZUNlbGwgPSBmdW5jdGlvbiBmaW5kUHJldlNlbGVjdGFibGVDZWxsKGNlbGwpIHtcbiAgICB2YXIgcHJldkNlbGwgPSBjZWxsLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgcmV0dXJuIHByZXZDZWxsID8gRG9tSGFuZGxlci5oYXNDbGFzcyhwcmV2Q2VsbCwgJ3Atc2VsZWN0YWJsZS1jZWxsJykgPyBwcmV2Q2VsbCA6IGZpbmRQcmV2U2VsZWN0YWJsZUNlbGwocHJldkNlbGwpIDogbnVsbDtcbiAgfTtcbiAgdmFyIGZpbmREb3duU2VsZWN0YWJsZUNlbGwgPSBmdW5jdGlvbiBmaW5kRG93blNlbGVjdGFibGVDZWxsKGNlbGwpIHtcbiAgICB2YXIgZG93blJvdyA9IGNlbGwucGFyZW50RWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgdmFyIGRvd25DZWxsID0gZG93blJvdyA/IGRvd25Sb3cuY2hpbGRyZW5bcHJvcHMuaW5kZXhdIDogbnVsbDtcbiAgICByZXR1cm4gZG93blJvdyAmJiBkb3duQ2VsbCA/IERvbUhhbmRsZXIuaGFzQ2xhc3MoZG93blJvdywgJ3Atc2VsZWN0YWJsZS1yb3cnKSAmJiBEb21IYW5kbGVyLmhhc0NsYXNzKGRvd25DZWxsLCAncC1zZWxlY3RhYmxlLWNlbGwnKSA/IGRvd25DZWxsIDogZmluZERvd25TZWxlY3RhYmxlQ2VsbChkb3duQ2VsbCkgOiBudWxsO1xuICB9O1xuICB2YXIgZmluZFVwU2VsZWN0YWJsZUNlbGwgPSBmdW5jdGlvbiBmaW5kVXBTZWxlY3RhYmxlQ2VsbChjZWxsKSB7XG4gICAgdmFyIHVwUm93ID0gY2VsbC5wYXJlbnRFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgdmFyIHVwQ2VsbCA9IHVwUm93ID8gdXBSb3cuY2hpbGRyZW5bcHJvcHMuaW5kZXhdIDogbnVsbDtcbiAgICByZXR1cm4gdXBSb3cgJiYgdXBDZWxsID8gRG9tSGFuZGxlci5oYXNDbGFzcyh1cFJvdywgJ3Atc2VsZWN0YWJsZS1yb3cnKSAmJiBEb21IYW5kbGVyLmhhc0NsYXNzKHVwQ2VsbCwgJ3Atc2VsZWN0YWJsZS1jZWxsJykgPyB1cENlbGwgOiBmaW5kVXBTZWxlY3RhYmxlQ2VsbCh1cENlbGwpIDogbnVsbDtcbiAgfTtcbiAgdmFyIGNoYW5nZVRhYkluZGV4ID0gZnVuY3Rpb24gY2hhbmdlVGFiSW5kZXgoY3VycmVudENlbGwsIG5leHRDZWxsKSB7XG4gICAgaWYgKGN1cnJlbnRDZWxsICYmIG5leHRDZWxsKSB7XG4gICAgICBjdXJyZW50Q2VsbC50YWJJbmRleCA9IC0xO1xuICAgICAgbmV4dENlbGwudGFiSW5kZXggPSBwcm9wcy50YWJJbmRleDtcbiAgICB9XG4gIH07XG4gIHZhciBmb2N1c09uRWxlbWVudCA9IGZ1bmN0aW9uIGZvY3VzT25FbGVtZW50KCkge1xuICAgIGNsZWFyVGltZW91dCh0YWJpbmRleFRpbWVvdXQuY3VycmVudCk7XG4gICAgdGFiaW5kZXhUaW1lb3V0LmN1cnJlbnQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChlZGl0aW5nU3RhdGUpIHtcbiAgICAgICAgdmFyIGZvY3VzYWJsZUVsID0gcHJvcHMuZWRpdE1vZGUgPT09ICdjZWxsJyA/IERvbUhhbmRsZXIuZ2V0Rmlyc3RGb2N1c2FibGVFbGVtZW50KGVsZW1lbnRSZWYuY3VycmVudCwgJzpub3QoLnAtY2VsbC1lZGl0b3Ita2V5LWhlbHBlciknKSA6IERvbUhhbmRsZXIuZmluZFNpbmdsZShlbGVtZW50UmVmLmN1cnJlbnQsICcucC1yb3ctZWRpdG9yLXNhdmUnKTtcbiAgICAgICAgZm9jdXNhYmxlRWwgJiYgZm9jdXNhYmxlRWwuZm9jdXMoKTtcbiAgICAgIH1cbiAgICAgIGtleUhlbHBlclJlZi5jdXJyZW50ICYmIChrZXlIZWxwZXJSZWYuY3VycmVudC50YWJJbmRleCA9IGVkaXRpbmdTdGF0ZSA/IC0xIDogMCk7XG4gICAgfSwgMSk7XG4gIH07XG4gIHZhciBmb2N1c09uSW5pdCA9IGZ1bmN0aW9uIGZvY3VzT25Jbml0KCkge1xuICAgIGNsZWFyVGltZW91dChpbml0Rm9jdXNUaW1lb3V0LmN1cnJlbnQpO1xuICAgIGluaXRGb2N1c1RpbWVvdXQuY3VycmVudCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGZvY3VzYWJsZUVsID0gcHJvcHMuZWRpdE1vZGUgPT09ICdyb3cnID8gRG9tSGFuZGxlci5maW5kU2luZ2xlKGVsZW1lbnRSZWYuY3VycmVudCwgJy5wLXJvdy1lZGl0b3ItaW5pdCcpIDogbnVsbDtcbiAgICAgIGZvY3VzYWJsZUVsICYmIGZvY3VzYWJsZUVsLmZvY3VzKCk7XG4gICAgfSwgMSk7XG4gIH07XG4gIHZhciB1cGRhdGVTdGlja3lQb3NpdGlvbiA9IGZ1bmN0aW9uIHVwZGF0ZVN0aWNreVBvc2l0aW9uKCkge1xuICAgIGlmIChnZXRDb2x1bW5Qcm9wKCdmcm96ZW4nKSkge1xuICAgICAgdmFyIHN0eWxlT2JqZWN0ID0gX29iamVjdFNwcmVhZCQ3KHt9LCBzdHlsZU9iamVjdFN0YXRlKTtcbiAgICAgIHZhciBhbGlnbiA9IGdldENvbHVtblByb3AoJ2FsaWduRnJvemVuJyk7XG4gICAgICBpZiAoYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgdmFyIHJpZ2h0ID0gMDtcbiAgICAgICAgdmFyIG5leHQgPSBlbGVtZW50UmVmLmN1cnJlbnQgJiYgZWxlbWVudFJlZi5jdXJyZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICByaWdodCA9IERvbUhhbmRsZXIuZ2V0T3V0ZXJXaWR0aChuZXh0KSArIHBhcnNlRmxvYXQobmV4dC5zdHlsZS5yaWdodCB8fCAwKTtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZU9iamVjdFsncmlnaHQnXSA9IHJpZ2h0ICsgJ3B4JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBsZWZ0ID0gMDtcbiAgICAgICAgdmFyIHByZXYgPSBlbGVtZW50UmVmLmN1cnJlbnQgJiYgZWxlbWVudFJlZi5jdXJyZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgbGVmdCA9IERvbUhhbmRsZXIuZ2V0T3V0ZXJXaWR0aChwcmV2KSArIHBhcnNlRmxvYXQocHJldi5zdHlsZS5sZWZ0IHx8IDApO1xuICAgICAgICB9XG4gICAgICAgIHN0eWxlT2JqZWN0WydsZWZ0J10gPSBsZWZ0ICsgJ3B4JztcbiAgICAgIH1cbiAgICAgIHZhciBpc1NhbWVTdHlsZSA9IHN0eWxlT2JqZWN0U3RhdGVbJ2xlZnQnXSA9PT0gc3R5bGVPYmplY3RbJ2xlZnQnXSAmJiBzdHlsZU9iamVjdFN0YXRlWydyaWdodCddID09PSBzdHlsZU9iamVjdFsncmlnaHQnXTtcbiAgICAgICFpc1NhbWVTdHlsZSAmJiBzZXRTdHlsZU9iamVjdFN0YXRlKHN0eWxlT2JqZWN0KTtcbiAgICB9XG4gIH07XG4gIHZhciBlZGl0b3JDYWxsYmFjayA9IGZ1bmN0aW9uIGVkaXRvckNhbGxiYWNrKHZhbCkge1xuICAgIHZhciBlZGl0aW5nUm93RGF0YSA9IF9vYmplY3RTcHJlYWQkNyh7fSwgZWRpdGluZ1Jvd0RhdGFTdGF0ZSk7XG4gICAgZWRpdGluZ1Jvd0RhdGFbZmllbGRdID0gdmFsO1xuICAgIHNldEVkaXRpbmdSb3dEYXRhU3RhdGUoZWRpdGluZ1Jvd0RhdGEpO1xuXG4gICAgLy8gdXBkYXRlIGVkaXRpbmcgbWV0YSBmb3IgY29tcGxldGUgbWV0aG9kcyBvbiByb3cgbW9kZVxuICAgIHZhciBjdXJyZW50RGF0YSA9IGdldEVkaXRpbmdSb3dEYXRhKCk7XG4gICAgaWYgKGN1cnJlbnREYXRhKSB7XG4gICAgICBjdXJyZW50RGF0YVtmaWVsZF0gPSB2YWw7XG4gICAgfVxuICB9O1xuICB2YXIgb25DbGljayA9IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICB2YXIgcGFyYW1zID0gZ2V0Q2VsbENhbGxiYWNrUGFyYW1zKGV2ZW50KTtcbiAgICBpZiAocHJvcHMuZWRpdE1vZGUgIT09ICdyb3cnICYmIGlzRWRpdGFibGUoKSAmJiAhZWRpdGluZ1N0YXRlICYmIChwcm9wcy5zZWxlY3RPbkVkaXQgfHwgIXByb3BzLnNlbGVjdE9uRWRpdCAmJiBwcm9wcy5zZWxlY3RlZCkpIHtcbiAgICAgIHNlbGZDbGljay5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIHZhciBvbkJlZm9yZUNlbGxFZGl0U2hvdyA9IGdldENvbHVtblByb3AoJ29uQmVmb3JlQ2VsbEVkaXRTaG93Jyk7XG4gICAgICB2YXIgb25DZWxsRWRpdEluaXQgPSBnZXRDb2x1bW5Qcm9wKCdvbkNlbGxFZGl0SW5pdCcpO1xuICAgICAgdmFyIGNlbGxFZGl0VmFsaWRhdG9yRXZlbnQgPSBnZXRDb2x1bW5Qcm9wKCdjZWxsRWRpdFZhbGlkYXRvckV2ZW50Jyk7XG4gICAgICBpZiAob25CZWZvcmVDZWxsRWRpdFNob3cpIHtcbiAgICAgICAgb25CZWZvcmVDZWxsRWRpdFNob3cocGFyYW1zKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlIGRhdGEgaXMgc29ydGVkIHVzaW5nIHNvcnQgaWNvbiwgaXQgaGFzIGJlZW4gYWRkZWQgdG8gd2FpdCBmb3IgdGhlIHNvcnQgb3BlcmF0aW9uIHdoZW4gYW55IGNlbGwgaXMgd2FudGVkIHRvIGJlIG9wZW5lZC5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRFZGl0aW5nU3RhdGUodHJ1ZSk7XG4gICAgICAgIGlmIChvbkNlbGxFZGl0SW5pdCkge1xuICAgICAgICAgIG9uQ2VsbEVkaXRJbml0KHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNlbGxFZGl0VmFsaWRhdG9yRXZlbnQgPT09ICdjbGljaycpIHtcbiAgICAgICAgICBiaW5kRG9jdW1lbnRDbGlja0xpc3RlbmVyKCk7XG4gICAgICAgICAgb3ZlcmxheUV2ZW50TGlzdGVuZXIuY3VycmVudCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoIWlzT3V0c2lkZUNsaWNrZWQoZS50YXJnZXQpKSB7XG4gICAgICAgICAgICAgIHNlbGZDbGljay5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIE92ZXJsYXlTZXJ2aWNlLm9uKCdvdmVybGF5LWNsaWNrJywgb3ZlcmxheUV2ZW50TGlzdGVuZXIuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDEpO1xuICAgIH1cbiAgICBpZiAocHJvcHMuYWxsb3dDZWxsU2VsZWN0aW9uICYmIHByb3BzLm9uQ2xpY2spIHtcbiAgICAgIHByb3BzLm9uQ2xpY2socGFyYW1zKTtcbiAgICB9XG4gIH07XG4gIHZhciBvbk1vdXNlRG93biA9IGZ1bmN0aW9uIG9uTW91c2VEb3duKGV2ZW50KSB7XG4gICAgdmFyIHBhcmFtcyA9IGdldENlbGxDYWxsYmFja1BhcmFtcyhldmVudCk7XG4gICAgcHJvcHMub25Nb3VzZURvd24gJiYgcHJvcHMub25Nb3VzZURvd24ocGFyYW1zKTtcbiAgfTtcbiAgdmFyIG9uTW91c2VVcCA9IGZ1bmN0aW9uIG9uTW91c2VVcChldmVudCkge1xuICAgIHZhciBwYXJhbXMgPSBnZXRDZWxsQ2FsbGJhY2tQYXJhbXMoZXZlbnQpO1xuICAgIHByb3BzLm9uTW91c2VVcCAmJiBwcm9wcy5vbk1vdXNlVXAocGFyYW1zKTtcbiAgfTtcbiAgdmFyIG9uS2V5RG93biA9IGZ1bmN0aW9uIG9uS2V5RG93bihldmVudCkge1xuICAgIGlmIChwcm9wcy5lZGl0TW9kZSAhPT0gJ3JvdycpIHtcbiAgICAgIGlmIChldmVudC53aGljaCA9PT0gMTMgfHwgZXZlbnQud2hpY2ggPT09IDkpIHtcbiAgICAgICAgLy8gdGFiIHx8IGVudGVyXG4gICAgICAgIHN3aXRjaENlbGxUb1ZpZXdNb2RlKGV2ZW50LCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChldmVudC53aGljaCA9PT0gMjcpIHtcbiAgICAgICAgLy8gZXNjYXBlXG4gICAgICAgIHN3aXRjaENlbGxUb1ZpZXdNb2RlKGV2ZW50LCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwcm9wcy5hbGxvd0NlbGxTZWxlY3Rpb24pIHtcbiAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQsXG4gICAgICAgIGNlbGwgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgc3dpdGNoIChldmVudC53aGljaCkge1xuICAgICAgICAvL2xlZnQgYXJyb3dcbiAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICB2YXIgcHJldkNlbGwgPSBmaW5kUHJldlNlbGVjdGFibGVDZWxsKGNlbGwpO1xuICAgICAgICAgIGlmIChwcmV2Q2VsbCkge1xuICAgICAgICAgICAgY2hhbmdlVGFiSW5kZXgoY2VsbCwgcHJldkNlbGwpO1xuICAgICAgICAgICAgcHJldkNlbGwuZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICAvL3JpZ2h0IGFycm93XG4gICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgdmFyIG5leHRDZWxsID0gZmluZE5leHRTZWxlY3RhYmxlQ2VsbChjZWxsKTtcbiAgICAgICAgICBpZiAobmV4dENlbGwpIHtcbiAgICAgICAgICAgIGNoYW5nZVRhYkluZGV4KGNlbGwsIG5leHRDZWxsKTtcbiAgICAgICAgICAgIG5leHRDZWxsLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgLy91cCBhcnJvd1xuICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgIHZhciB1cENlbGwgPSBmaW5kVXBTZWxlY3RhYmxlQ2VsbChjZWxsKTtcbiAgICAgICAgICBpZiAodXBDZWxsKSB7XG4gICAgICAgICAgICBjaGFuZ2VUYWJJbmRleChjZWxsLCB1cENlbGwpO1xuICAgICAgICAgICAgdXBDZWxsLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgLy9kb3duIGFycm93XG4gICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgdmFyIGRvd25DZWxsID0gZmluZERvd25TZWxlY3RhYmxlQ2VsbChjZWxsKTtcbiAgICAgICAgICBpZiAoZG93bkNlbGwpIHtcbiAgICAgICAgICAgIGNoYW5nZVRhYkluZGV4KGNlbGwsIGRvd25DZWxsKTtcbiAgICAgICAgICAgIGRvd25DZWxsLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgLy9lbnRlclxuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIC8vIEBkZXByZWNhdGVkXG4gICAgICAgICAgaWYgKCFEb21IYW5kbGVyLmlzQ2xpY2thYmxlKHRhcmdldCkpIHtcbiAgICAgICAgICAgIG9uQ2xpY2soZXZlbnQpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgLy9zcGFjZVxuICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgIGlmICghRG9tSGFuZGxlci5pc0NsaWNrYWJsZSh0YXJnZXQpICYmICF0YXJnZXQucmVhZE9ubHkpIHtcbiAgICAgICAgICAgIG9uQ2xpY2soZXZlbnQpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICB2YXIgb25CbHVyID0gZnVuY3Rpb24gb25CbHVyKGV2ZW50KSB7XG4gICAgc2VsZkNsaWNrLmN1cnJlbnQgPSBmYWxzZTtcbiAgICBpZiAocHJvcHMuZWRpdE1vZGUgIT09ICdyb3cnICYmIGVkaXRpbmdTdGF0ZSAmJiBnZXRDb2x1bW5Qcm9wKCdjZWxsRWRpdFZhbGlkYXRvckV2ZW50JykgPT09ICdibHVyJykge1xuICAgICAgc3dpdGNoQ2VsbFRvVmlld01vZGUoZXZlbnQsIHRydWUpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uRWRpdG9yRm9jdXMgPSBmdW5jdGlvbiBvbkVkaXRvckZvY3VzKGV2ZW50KSB7XG4gICAgb25DbGljayhldmVudCk7XG4gIH07XG4gIHZhciBvblJhZGlvQ2hhbmdlID0gZnVuY3Rpb24gb25SYWRpb0NoYW5nZShldmVudCkge1xuICAgIHByb3BzLm9uUmFkaW9DaGFuZ2Uoe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgaW5kZXg6IHByb3BzLnJvd0luZGV4XG4gICAgfSk7XG4gIH07XG4gIHZhciBvbkNoZWNrYm94Q2hhbmdlID0gZnVuY3Rpb24gb25DaGVja2JveENoYW5nZShldmVudCkge1xuICAgIHByb3BzLm9uQ2hlY2tib3hDaGFuZ2Uoe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgaW5kZXg6IHByb3BzLnJvd0luZGV4XG4gICAgfSk7XG4gIH07XG4gIHZhciBvblJvd1RvZ2dsZSA9IGZ1bmN0aW9uIG9uUm93VG9nZ2xlKGV2ZW50KSB7XG4gICAgcHJvcHMub25Sb3dUb2dnbGUoe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhXG4gICAgfSk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfTtcbiAgdmFyIG9uUm93RWRpdEluaXQgPSBmdW5jdGlvbiBvblJvd0VkaXRJbml0KGV2ZW50KSB7XG4gICAgcHJvcHMub25Sb3dFZGl0SW5pdCh7XG4gICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgIGRhdGE6IHByb3BzLnJvd0RhdGEsXG4gICAgICBuZXdEYXRhOiBnZXRFZGl0aW5nUm93RGF0YSgpLFxuICAgICAgZmllbGQ6IGZpZWxkLFxuICAgICAgaW5kZXg6IHByb3BzLnJvd0luZGV4XG4gICAgfSk7XG4gIH07XG4gIHZhciBvblJvd0VkaXRTYXZlID0gZnVuY3Rpb24gb25Sb3dFZGl0U2F2ZShldmVudCkge1xuICAgIHByb3BzLm9uUm93RWRpdFNhdmUoe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgbmV3RGF0YTogZ2V0RWRpdGluZ1Jvd0RhdGEoKSxcbiAgICAgIGZpZWxkOiBmaWVsZCxcbiAgICAgIGluZGV4OiBwcm9wcy5yb3dJbmRleFxuICAgIH0pO1xuICAgIGZvY3VzT25Jbml0KCk7XG4gIH07XG4gIHZhciBvblJvd0VkaXRDYW5jZWwgPSBmdW5jdGlvbiBvblJvd0VkaXRDYW5jZWwoZXZlbnQpIHtcbiAgICBwcm9wcy5vblJvd0VkaXRDYW5jZWwoe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgbmV3RGF0YTogZ2V0RWRpdGluZ1Jvd0RhdGEoKSxcbiAgICAgIGZpZWxkOiBmaWVsZCxcbiAgICAgIGluZGV4OiBwcm9wcy5yb3dJbmRleFxuICAgIH0pO1xuICAgIGZvY3VzT25Jbml0KCk7XG4gIH07XG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGdldENvbHVtblByb3AoJ2Zyb3plbicpKSB7XG4gICAgICB1cGRhdGVTdGlja3lQb3NpdGlvbigpO1xuICAgIH1cbiAgICBpZiAocHJvcHMuZWRpdE1vZGUgPT09ICdjZWxsJyB8fCBwcm9wcy5lZGl0TW9kZSA9PT0gJ3JvdycpIHtcbiAgICAgIGZvY3VzT25FbGVtZW50KCk7XG4gICAgfVxuICB9KTtcbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocHJvcHMuZWRpdE1vZGUgPT09ICdjZWxsJyB8fCBwcm9wcy5lZGl0TW9kZSA9PT0gJ3JvdycpIHtcbiAgICAgIHNldEVkaXRpbmdSb3dEYXRhU3RhdGUoZ2V0RWRpdGluZ1Jvd0RhdGEoKSk7XG4gICAgfVxuICB9LCBbcHJvcHMuZWRpdGluZ01ldGFdKTtcbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocHJvcHMuZWRpdE1vZGUgPT09ICdjZWxsJyB8fCBwcm9wcy5lZGl0TW9kZSA9PT0gJ3JvdycpIHtcbiAgICAgIHZhciBjYWxsYmFja1BhcmFtcyA9IGdldENlbGxDYWxsYmFja1BhcmFtcygpO1xuICAgICAgdmFyIHBhcmFtcyA9IF9vYmplY3RTcHJlYWQkNyhfb2JqZWN0U3ByZWFkJDcoe30sIGNhbGxiYWNrUGFyYW1zKSwge30sIHtcbiAgICAgICAgZWRpdGluZzogZWRpdGluZ1N0YXRlLFxuICAgICAgICBlZGl0aW5nS2V5OiBlZGl0aW5nS2V5XG4gICAgICB9KTtcbiAgICAgIHByb3BzLm9uRWRpdGluZ01ldGFDaGFuZ2UocGFyYW1zKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbZWRpdGluZ1N0YXRlXSk7XG4gIHVzZVVubW91bnRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChvdmVybGF5RXZlbnRMaXN0ZW5lci5jdXJyZW50KSB7XG4gICAgICBPdmVybGF5U2VydmljZS5vZmYoJ292ZXJsYXktY2xpY2snLCBvdmVybGF5RXZlbnRMaXN0ZW5lci5jdXJyZW50KTtcbiAgICAgIG92ZXJsYXlFdmVudExpc3RlbmVyLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgfSk7XG4gIHZhciBjcmVhdGVMb2FkaW5nID0gZnVuY3Rpb24gY3JlYXRlTG9hZGluZygpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGdldFZpcnR1YWxTY3JvbGxlck9wdGlvbignZ2V0TG9hZGVyT3B0aW9ucycpKHByb3BzLnJvd0luZGV4LCB7XG4gICAgICBjZWxsSW5kZXg6IHByb3BzLmluZGV4LFxuICAgICAgY2VsbEZpcnN0OiBwcm9wcy5pbmRleCA9PT0gMCxcbiAgICAgIGNlbGxMYXN0OiBwcm9wcy5pbmRleCA9PT0gZ2V0VmlydHVhbFNjcm9sbGVyT3B0aW9uKCdjb2x1bW5zJykubGVuZ3RoIC0gMSxcbiAgICAgIGNlbGxFdmVuOiBwcm9wcy5pbmRleCAlIDIgPT09IDAsXG4gICAgICBjZWxsT2RkOiBwcm9wcy5pbmRleCAlIDIgIT09IDAsXG4gICAgICBjb2x1bW46IHByb3BzLmNvbHVtbixcbiAgICAgIGZpZWxkOiBmaWVsZFxuICAgIH0pO1xuICAgIHZhciBjb250ZW50ID0gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChnZXRWaXJ0dWFsU2Nyb2xsZXJPcHRpb24oJ2xvYWRpbmdUZW1wbGF0ZScpLCBvcHRpb25zKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCBudWxsLCBjb250ZW50KTtcbiAgfTtcbiAgdmFyIGNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KCkge1xuICAgIHZhciBjb250ZW50LCBlZGl0b3JLZXlIZWxwZXI7XG4gICAgdmFyIGNlbGxTZWxlY3RlZCA9IHByb3BzLmFsbG93Q2VsbFNlbGVjdGlvbiAmJiBpc1NlbGVjdGVkKCk7XG4gICAgdmFyIGlzUm93RWRpdG9yID0gcHJvcHMuZWRpdE1vZGUgPT09ICdyb3cnO1xuICAgIHZhciB0YWJJbmRleCA9IGdldFRhYkluZGV4KGNlbGxTZWxlY3RlZCk7XG4gICAgdmFyIHNlbGVjdGlvbk1vZGUgPSBnZXRDb2x1bW5Qcm9wKCdzZWxlY3Rpb25Nb2RlJyk7XG4gICAgdmFyIHJvd1Jlb3JkZXIgPSBnZXRDb2x1bW5Qcm9wKCdyb3dSZW9yZGVyJyk7XG4gICAgdmFyIHJvd0VkaXRvciA9IGdldENvbHVtblByb3AoJ3Jvd0VkaXRvcicpO1xuICAgIHZhciBoZWFkZXIgPSBnZXRDb2x1bW5Qcm9wKCdoZWFkZXInKTtcbiAgICB2YXIgYm9keSA9IGdldENvbHVtblByb3AoJ2JvZHknKTtcbiAgICB2YXIgZWRpdG9yID0gZ2V0Q29sdW1uUHJvcCgnZWRpdG9yJyk7XG4gICAgdmFyIGZyb3plbiA9IGdldENvbHVtblByb3AoJ2Zyb3plbicpO1xuICAgIHZhciBhbGlnbiA9IGdldENvbHVtblByb3AoJ2FsaWduJyk7XG4gICAgdmFyIHZhbHVlID0gcmVzb2x2ZUZpZWxkRGF0YSgpO1xuICAgIHZhciBjb2x1bW5Cb2R5T3B0aW9ucyA9IHtcbiAgICAgIGNvbHVtbjogcHJvcHMuY29sdW1uLFxuICAgICAgZmllbGQ6IGZpZWxkLFxuICAgICAgcm93SW5kZXg6IHByb3BzLnJvd0luZGV4LFxuICAgICAgZnJvemVuUm93OiBwcm9wcy5mcm96ZW5Sb3csXG4gICAgICBwcm9wczogcHJvcHMudGFibGVQcm9wc1xuICAgIH07XG4gICAgdmFyIGV4cGFuZGVyID0gT2JqZWN0VXRpbHMuZ2V0UHJvcFZhbHVlKGdldENvbHVtblByb3AoJ2V4cGFuZGVyJyksIHByb3BzLnJvd0RhdGEsIGNvbHVtbkJvZHlPcHRpb25zKTtcbiAgICB2YXIgY2VsbENsYXNzTmFtZSA9IE9iamVjdFV0aWxzLmdldFByb3BWYWx1ZShwcm9wcy5jZWxsQ2xhc3NOYW1lLCB2YWx1ZSwgY29sdW1uQm9keU9wdGlvbnMpO1xuICAgIHZhciBib2R5Q2xhc3NOYW1lID0gT2JqZWN0VXRpbHMuZ2V0UHJvcFZhbHVlKGdldENvbHVtblByb3AoJ2JvZHlDbGFzc05hbWUnKSwgcHJvcHMucm93RGF0YSwgY29sdW1uQm9keU9wdGlvbnMpO1xuICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKGJvZHlDbGFzc05hbWUsIGdldENvbHVtblByb3AoJ2NsYXNzTmFtZScpLCBjZWxsQ2xhc3NOYW1lLCBfZGVmaW5lUHJvcGVydHkoe1xuICAgICAgJ3Atc2VsZWN0aW9uLWNvbHVtbic6IHNlbGVjdGlvbk1vZGUgIT09IG51bGwsXG4gICAgICAncC1lZGl0YWJsZS1jb2x1bW4nOiBlZGl0b3IsXG4gICAgICAncC1jZWxsLWVkaXRpbmcnOiBlZGl0b3IgJiYgZWRpdGluZ1N0YXRlLFxuICAgICAgJ3AtZnJvemVuLWNvbHVtbic6IGZyb3plbixcbiAgICAgICdwLXNlbGVjdGFibGUtY2VsbCc6IHByb3BzLmFsbG93Q2VsbFNlbGVjdGlvbiAmJiBwcm9wcy5pc1NlbGVjdGFibGUoe1xuICAgICAgICBkYXRhOiBnZXRDZWxsUGFyYW1zKCksXG4gICAgICAgIGluZGV4OiBwcm9wcy5yb3dJbmRleFxuICAgICAgfSksXG4gICAgICAncC1oaWdobGlnaHQnOiBjZWxsU2VsZWN0ZWRcbiAgICB9LCBcInAtYWxpZ24tXCIuY29uY2F0KGFsaWduKSwgISFhbGlnbikpO1xuICAgIHZhciBzdHlsZSA9IGdldFN0eWxlKCk7XG4gICAgdmFyIHRpdGxlID0gcHJvcHMucmVzcG9uc2l2ZUxheW91dCA9PT0gJ3N0YWNrJyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInAtY29sdW1uLXRpdGxlXCJcbiAgICB9LCBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KGhlYWRlciwge1xuICAgICAgcHJvcHM6IHByb3BzLnRhYmxlUHJvcHNcbiAgICB9KSk7XG4gICAgaWYgKHNlbGVjdGlvbk1vZGUpIHtcbiAgICAgIHZhciBzaG93U2VsZWN0aW9uID0gcHJvcHMuc2hvd1NlbGVjdGlvbkVsZW1lbnQgPyBwcm9wcy5zaG93U2VsZWN0aW9uRWxlbWVudChwcm9wcy5yb3dEYXRhLCB7XG4gICAgICAgIHJvd0luZGV4OiBwcm9wcy5yb3dJbmRleCxcbiAgICAgICAgcHJvcHM6IHByb3BzLnRhYmxlUHJvcHNcbiAgICAgIH0pIDogdHJ1ZTtcbiAgICAgIHZhciBsYWJlbDtcbiAgICAgIGlmIChzaG93U2VsZWN0aW9uKSB7XG4gICAgICAgIHZhciBhcmlhTGFiZWxGaWVsZCA9IHByb3BzLnNlbGVjdGlvbkFyaWFMYWJlbCB8fCBwcm9wcy50YWJsZVByb3BzLmRhdGFLZXk7XG4gICAgICAgIHZhciBhcmlhTGFiZWxUZXh0ID0gT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShwcm9wcy5yb3dEYXRhLCBhcmlhTGFiZWxGaWVsZCk7XG4gICAgICAgIGxhYmVsID0gXCJcIi5jb25jYXQocHJvcHMuc2VsZWN0ZWQgPyBhcmlhTGFiZWwoJ3Vuc2VsZWN0TGFiZWwnKSA6IGFyaWFMYWJlbCgnc2VsZWN0TGFiZWwnKSwgXCIgXCIpLmNvbmNhdChhcmlhTGFiZWxUZXh0KTtcbiAgICAgIH1cbiAgICAgIGNvbnRlbnQgPSBzaG93U2VsZWN0aW9uICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBzZWxlY3Rpb25Nb2RlID09PSAnc2luZ2xlJyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSb3dSYWRpb0J1dHRvbiwge1xuICAgICAgICBjaGVja2VkOiBwcm9wcy5zZWxlY3RlZCxcbiAgICAgICAgb25DaGFuZ2U6IG9uUmFkaW9DaGFuZ2UsXG4gICAgICAgIHRhYkluZGV4OiBwcm9wcy50YWJJbmRleCxcbiAgICAgICAgdGFibGVTZWxlY3RvcjogcHJvcHMudGFibGVTZWxlY3RvcixcbiAgICAgICAgYXJpYUxhYmVsOiBsYWJlbFxuICAgICAgfSksIHNlbGVjdGlvbk1vZGUgPT09ICdtdWx0aXBsZScgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUm93Q2hlY2tib3gsIHtcbiAgICAgICAgY2hlY2tlZDogcHJvcHMuc2VsZWN0ZWQsXG4gICAgICAgIG9uQ2hhbmdlOiBvbkNoZWNrYm94Q2hhbmdlLFxuICAgICAgICB0YWJJbmRleDogcHJvcHMudGFiSW5kZXgsXG4gICAgICAgIGFyaWFMYWJlbDogbGFiZWxcbiAgICAgIH0pKTtcbiAgICB9IGVsc2UgaWYgKHJvd1Jlb3JkZXIpIHtcbiAgICAgIHZhciBzaG93UmVvcmRlciA9IHByb3BzLnNob3dSb3dSZW9yZGVyRWxlbWVudCA/IHByb3BzLnNob3dSb3dSZW9yZGVyRWxlbWVudChwcm9wcy5yb3dEYXRhLCB7XG4gICAgICAgIHJvd0luZGV4OiBwcm9wcy5yb3dJbmRleCxcbiAgICAgICAgcHJvcHM6IHByb3BzLnRhYmxlUHJvcHNcbiAgICAgIH0pIDogdHJ1ZTtcbiAgICAgIGNvbnRlbnQgPSBzaG93UmVvcmRlciAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlcIiwge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoJ3AtZGF0YXRhYmxlLXJlb3JkZXJhYmxlcm93LWhhbmRsZScsIGdldENvbHVtblByb3AoJ3Jvd1Jlb3JkZXJJY29uJykpXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGV4cGFuZGVyKSB7XG4gICAgICB2YXIgaWNvbkNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3Atcm93LXRvZ2dsZXItaWNvbicsIHByb3BzLmV4cGFuZGVkID8gcHJvcHMuZXhwYW5kZWRSb3dJY29uIDogcHJvcHMuY29sbGFwc2VkUm93SWNvbik7XG4gICAgICB2YXIgYXJpYUNvbnRyb2xzID0gXCJcIi5jb25jYXQocHJvcHMudGFibGVTZWxlY3RvciwgXCJfY29udGVudF9cIikuY29uY2F0KHByb3BzLnJvd0luZGV4LCBcIl9leHBhbmRlZFwiKTtcbiAgICAgIHZhciBfYXJpYUxhYmVsRmllbGQgPSBwcm9wcy5zZWxlY3Rpb25BcmlhTGFiZWwgfHwgcHJvcHMudGFibGVQcm9wcy5kYXRhS2V5O1xuICAgICAgdmFyIF9hcmlhTGFiZWxUZXh0ID0gT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShwcm9wcy5yb3dEYXRhLCBfYXJpYUxhYmVsRmllbGQpO1xuICAgICAgdmFyIF9sYWJlbCA9IFwiXCIuY29uY2F0KHByb3BzLmV4cGFuZGVkID8gYXJpYUxhYmVsKCdjb2xsYXBzZUxhYmVsJykgOiBhcmlhTGFiZWwoJ2V4cGFuZExhYmVsJyksIFwiIFwiKS5jb25jYXQoX2FyaWFMYWJlbFRleHQpO1xuICAgICAgdmFyIGV4cGFuZGVyUHJvcHMgPSB7XG4gICAgICAgIG9uQ2xpY2s6IG9uUm93VG9nZ2xlLFxuICAgICAgICBjbGFzc05hbWU6ICdwLXJvdy10b2dnbGVyIHAtbGluaycsXG4gICAgICAgIGljb25DbGFzc05hbWU6IGljb25DbGFzc05hbWVcbiAgICAgIH07XG4gICAgICBjb250ZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICBjbGFzc05hbWU6IGV4cGFuZGVyUHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICBvbkNsaWNrOiBleHBhbmRlclByb3BzLm9uQ2xpY2ssXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIFwiYXJpYS1leHBhbmRlZFwiOiBwcm9wcy5leHBhbmRlZCxcbiAgICAgICAgXCJhcmlhLWNvbnRyb2xzXCI6IGFyaWFDb250cm9scyxcbiAgICAgICAgdGFiSW5kZXg6IHByb3BzLnRhYkluZGV4LFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogX2xhYmVsXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IGV4cGFuZGVyUHJvcHMuaWNvbkNsYXNzTmFtZSxcbiAgICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIlxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJpcHBsZSwgbnVsbCkpO1xuICAgICAgaWYgKGJvZHkpIHtcbiAgICAgICAgZXhwYW5kZXJQcm9wc1snZWxlbWVudCddID0gY29udGVudDtcbiAgICAgICAgY29udGVudCA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQoYm9keSwgcHJvcHMucm93RGF0YSwge1xuICAgICAgICAgIGNvbHVtbjogcHJvcHMuY29sdW1uLFxuICAgICAgICAgIGZpZWxkOiBmaWVsZCxcbiAgICAgICAgICByb3dJbmRleDogcHJvcHMucm93SW5kZXgsXG4gICAgICAgICAgZnJvemVuUm93OiBwcm9wcy5mcm96ZW5Sb3csXG4gICAgICAgICAgcHJvcHM6IHByb3BzLnRhYmxlUHJvcHMsXG4gICAgICAgICAgZXhwYW5kZXI6IGV4cGFuZGVyUHJvcHNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1Jvd0VkaXRvciAmJiByb3dFZGl0b3IpIHtcbiAgICAgIHZhciByb3dFZGl0b3JQcm9wcyA9IHt9O1xuICAgICAgaWYgKGVkaXRpbmdTdGF0ZSkge1xuICAgICAgICByb3dFZGl0b3JQcm9wcyA9IHtcbiAgICAgICAgICBlZGl0aW5nOiB0cnVlLFxuICAgICAgICAgIG9uU2F2ZUNsaWNrOiBvblJvd0VkaXRTYXZlLFxuICAgICAgICAgIHNhdmVDbGFzc05hbWU6ICdwLXJvdy1lZGl0b3Itc2F2ZSBwLWxpbmsnLFxuICAgICAgICAgIHNhdmVJY29uQ2xhc3NOYW1lOiAncC1yb3ctZWRpdG9yLXNhdmUtaWNvbiBwaSBwaS1mdyBwaS1jaGVjaycsXG4gICAgICAgICAgb25DYW5jZWxDbGljazogb25Sb3dFZGl0Q2FuY2VsLFxuICAgICAgICAgIGNhbmNlbENsYXNzTmFtZTogJ3Atcm93LWVkaXRvci1jYW5jZWwgcC1saW5rJyxcbiAgICAgICAgICBjYW5jZWxJY29uQ2xhc3NOYW1lOiAncC1yb3ctZWRpdG9yLWNhbmNlbC1pY29uIHBpIHBpLWZ3IHBpLXRpbWVzJ1xuICAgICAgICB9O1xuICAgICAgICBjb250ZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgIG5hbWU6IFwicm93LXNhdmVcIixcbiAgICAgICAgICBvbkNsaWNrOiByb3dFZGl0b3JQcm9wcy5vblNhdmVDbGljayxcbiAgICAgICAgICBjbGFzc05hbWU6IHJvd0VkaXRvclByb3BzLnNhdmVDbGFzc05hbWUsXG4gICAgICAgICAgdGFiSW5kZXg6IHByb3BzLnRhYkluZGV4XG4gICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiByb3dFZGl0b3JQcm9wcy5zYXZlSWNvbkNsYXNzTmFtZVxuICAgICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmlwcGxlLCBudWxsKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgIG5hbWU6IFwicm93LWNhbmNlbFwiLFxuICAgICAgICAgIG9uQ2xpY2s6IHJvd0VkaXRvclByb3BzLm9uQ2FuY2VsQ2xpY2ssXG4gICAgICAgICAgY2xhc3NOYW1lOiByb3dFZGl0b3JQcm9wcy5jYW5jZWxDbGFzc05hbWUsXG4gICAgICAgICAgdGFiSW5kZXg6IHByb3BzLnRhYkluZGV4XG4gICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiByb3dFZGl0b3JQcm9wcy5jYW5jZWxJY29uQ2xhc3NOYW1lXG4gICAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSaXBwbGUsIG51bGwpKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb3dFZGl0b3JQcm9wcyA9IHtcbiAgICAgICAgICBlZGl0aW5nOiBmYWxzZSxcbiAgICAgICAgICBvbkluaXRDbGljazogb25Sb3dFZGl0SW5pdCxcbiAgICAgICAgICBpbml0Q2xhc3NOYW1lOiAncC1yb3ctZWRpdG9yLWluaXQgcC1saW5rJyxcbiAgICAgICAgICBpbml0SWNvbkNsYXNzTmFtZTogJ3Atcm93LWVkaXRvci1pbml0LWljb24gcGkgcGktZncgcGktcGVuY2lsJ1xuICAgICAgICB9O1xuICAgICAgICBjb250ZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgbmFtZTogXCJyb3ctZWRpdFwiLFxuICAgICAgICAgIG9uQ2xpY2s6IHJvd0VkaXRvclByb3BzLm9uSW5pdENsaWNrLFxuICAgICAgICAgIGNsYXNzTmFtZTogcm93RWRpdG9yUHJvcHMuaW5pdENsYXNzTmFtZSxcbiAgICAgICAgICB0YWJJbmRleDogcHJvcHMudGFiSW5kZXhcbiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IHJvd0VkaXRvclByb3BzLmluaXRJY29uQ2xhc3NOYW1lXG4gICAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSaXBwbGUsIG51bGwpKTtcbiAgICAgIH1cbiAgICAgIGlmIChib2R5KSB7XG4gICAgICAgIHJvd0VkaXRvclByb3BzWydlbGVtZW50J10gPSBjb250ZW50O1xuICAgICAgICBjb250ZW50ID0gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChib2R5LCBwcm9wcy5yb3dEYXRhLCB7XG4gICAgICAgICAgY29sdW1uOiBwcm9wcy5jb2x1bW4sXG4gICAgICAgICAgZmllbGQ6IGZpZWxkLFxuICAgICAgICAgIHJvd0luZGV4OiBwcm9wcy5yb3dJbmRleCxcbiAgICAgICAgICBmcm96ZW5Sb3c6IHByb3BzLmZyb3plblJvdyxcbiAgICAgICAgICBwcm9wczogcHJvcHMudGFibGVQcm9wcyxcbiAgICAgICAgICByb3dFZGl0b3I6IHJvd0VkaXRvclByb3BzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYm9keSAmJiAoIWVkaXRpbmdTdGF0ZSB8fCAhZWRpdG9yKSkge1xuICAgICAgY29udGVudCA9IGJvZHkgPyBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KGJvZHksIHByb3BzLnJvd0RhdGEsIHtcbiAgICAgICAgY29sdW1uOiBwcm9wcy5jb2x1bW4sXG4gICAgICAgIGZpZWxkOiBmaWVsZCxcbiAgICAgICAgcm93SW5kZXg6IHByb3BzLnJvd0luZGV4LFxuICAgICAgICBmcm96ZW5Sb3c6IHByb3BzLmZyb3plblJvdyxcbiAgICAgICAgcHJvcHM6IHByb3BzLnRhYmxlUHJvcHNcbiAgICAgIH0pIDogdmFsdWU7XG4gICAgfSBlbHNlIGlmIChlZGl0b3IgJiYgZWRpdGluZ1N0YXRlKSB7XG4gICAgICBjb250ZW50ID0gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChlZGl0b3IsIHtcbiAgICAgICAgcm93RGF0YTogZWRpdGluZ1Jvd0RhdGFTdGF0ZSxcbiAgICAgICAgdmFsdWU6IHJlc29sdmVGaWVsZERhdGEoZWRpdGluZ1Jvd0RhdGFTdGF0ZSksXG4gICAgICAgIGNvbHVtbjogcHJvcHMuY29sdW1uLFxuICAgICAgICBmaWVsZDogZmllbGQsXG4gICAgICAgIHJvd0luZGV4OiBwcm9wcy5yb3dJbmRleCxcbiAgICAgICAgZnJvemVuUm93OiBwcm9wcy5mcm96ZW5Sb3csXG4gICAgICAgIHByb3BzOiBwcm9wcy50YWJsZVByb3BzLFxuICAgICAgICBlZGl0b3JDYWxsYmFjazogZWRpdG9yQ2FsbGJhY2tcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZW50ID0gdmFsdWU7XG4gICAgfVxuICAgIGNvbnRlbnQgPSB0eXBlb2YgY29udGVudCA9PSAnYm9vbGVhbicgPyBjb250ZW50LnRvU3RyaW5nKCkgOiBjb250ZW50O1xuICAgIGlmICghaXNSb3dFZGl0b3IgJiYgZWRpdG9yKSB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgZWRpdG9yS2V5SGVscGVyID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtcbiAgICAgICAgdGFiSW5kZXg6IFwiMFwiLFxuICAgICAgICByZWY6IGtleUhlbHBlclJlZixcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtY2VsbC1lZGl0b3Ita2V5LWhlbHBlciBwLWhpZGRlbi1hY2Nlc3NpYmxlXCIsXG4gICAgICAgIG9uRm9jdXM6IG9uRWRpdG9yRm9jdXNcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsKSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgfVxuXG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwge1xuICAgICAgcmVmOiBlbGVtZW50UmVmLFxuICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICByb3dTcGFuOiBwcm9wcy5yb3dTcGFuLFxuICAgICAgdGFiSW5kZXg6IHRhYkluZGV4LFxuICAgICAgcm9sZTogXCJjZWxsXCIsXG4gICAgICBvbkNsaWNrOiBvbkNsaWNrLFxuICAgICAgb25LZXlEb3duOiBvbktleURvd24sXG4gICAgICBvbkJsdXI6IG9uQmx1cixcbiAgICAgIG9uTW91c2VEb3duOiBvbk1vdXNlRG93bixcbiAgICAgIG9uTW91c2VVcDogb25Nb3VzZVVwXG4gICAgfSwgZWRpdG9yS2V5SGVscGVyLCB0aXRsZSwgY29udGVudCk7XG4gIH07XG4gIHJldHVybiBnZXRWaXJ0dWFsU2Nyb2xsZXJPcHRpb24oJ2xvYWRpbmcnKSA/IGNyZWF0ZUxvYWRpbmcoKSA6IGNyZWF0ZUVsZW1lbnQoKTtcbn0pO1xuQm9keUNlbGwuZGlzcGxheU5hbWUgPSAnQm9keUNlbGwnO1xuXG5mdW5jdGlvbiBvd25LZXlzJDYob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDYodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMkNihPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzJDYoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIEJvZHlSb3cgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyhmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKSxcbiAgICBfUmVhY3QkdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlLCAyKSxcbiAgICBlZGl0aW5nU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgIHNldEVkaXRpbmdTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG4gIHZhciBlZGl0aW5nID0gcHJvcHMub25Sb3dFZGl0Q2hhbmdlID8gcHJvcHMuZWRpdGluZyA6IGVkaXRpbmdTdGF0ZTtcbiAgdmFyIGdldENvbHVtblByb3AgPSBmdW5jdGlvbiBnZXRDb2x1bW5Qcm9wKGNvbHVtbiwgbmFtZSkge1xuICAgIHJldHVybiBDb2x1bW5CYXNlLmdldENQcm9wKGNvbHVtbiwgbmFtZSk7XG4gIH07XG4gIHZhciBpc0ZvY3VzYWJsZSA9IGZ1bmN0aW9uIGlzRm9jdXNhYmxlKCkge1xuICAgIHJldHVybiBwcm9wcy5zZWxlY3Rpb25Nb2RlICYmIHByb3BzLnNlbGVjdGlvbk1vZGVJbkNvbHVtbiAhPT0gJ3NpbmdsZScgJiYgcHJvcHMuc2VsZWN0aW9uTW9kZUluQ29sdW1uICE9PSAnbXVsdGlwbGUnO1xuICB9O1xuICB2YXIgaXNHcm91cGVkID0gZnVuY3Rpb24gaXNHcm91cGVkKGNvbHVtbikge1xuICAgIHZhciBjb2x1bW5GaWVsZCA9IGdldENvbHVtblByb3AoY29sdW1uLCAnZmllbGQnKTtcbiAgICBpZiAocHJvcHMuZ3JvdXBSb3dzQnkgJiYgY29sdW1uRmllbGQpIHtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHByb3BzLmdyb3VwUm93c0J5KSA/IHByb3BzLmdyb3VwUm93c0J5LmluZGV4T2YoY29sdW1uRmllbGQpID4gLTEgOiBwcm9wcy5ncm91cFJvd3NCeSA9PT0gY29sdW1uRmllbGQ7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgdmFyIGVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhkYXRhMSwgZGF0YTIpIHtcbiAgICByZXR1cm4gcHJvcHMuY29tcGFyZVNlbGVjdGlvbkJ5ID09PSAnZXF1YWxzJyA/IGRhdGExID09PSBkYXRhMiA6IE9iamVjdFV0aWxzLmVxdWFscyhkYXRhMSwgZGF0YTIsIHByb3BzLmRhdGFLZXkpO1xuICB9O1xuICB2YXIgZ2V0VGFiSW5kZXggPSBmdW5jdGlvbiBnZXRUYWJJbmRleCgpIHtcbiAgICByZXR1cm4gaXNGb2N1c2FibGUoKSAmJiAhcHJvcHMuYWxsb3dDZWxsU2VsZWN0aW9uID8gcHJvcHMucm93SW5kZXggPT09IDAgPyBwcm9wcy50YWJJbmRleCA6IC0xIDogbnVsbDtcbiAgfTtcbiAgdmFyIGZpbmRJbmRleCA9IGZ1bmN0aW9uIGZpbmRJbmRleChjb2xsZWN0aW9uLCByb3dEYXRhKSB7XG4gICAgcmV0dXJuIChjb2xsZWN0aW9uIHx8IFtdKS5maW5kSW5kZXgoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHJldHVybiBlcXVhbHMocm93RGF0YSwgZGF0YSk7XG4gICAgfSk7XG4gIH07XG4gIHZhciBjaGFuZ2VUYWJJbmRleCA9IGZ1bmN0aW9uIGNoYW5nZVRhYkluZGV4KGN1cnJlbnRSb3csIG5leHRSb3cpIHtcbiAgICBpZiAoY3VycmVudFJvdyAmJiBuZXh0Um93KSB7XG4gICAgICBjdXJyZW50Um93LnRhYkluZGV4ID0gLTE7XG4gICAgICBuZXh0Um93LnRhYkluZGV4ID0gcHJvcHMudGFiSW5kZXg7XG4gICAgfVxuICB9O1xuICB2YXIgZmluZE5leHRTZWxlY3RhYmxlUm93ID0gZnVuY3Rpb24gZmluZE5leHRTZWxlY3RhYmxlUm93KHJvdykge1xuICAgIHZhciBuZXh0Um93ID0gcm93Lm5leHRFbGVtZW50U2libGluZztcbiAgICByZXR1cm4gbmV4dFJvdyA/IERvbUhhbmRsZXIuaGFzQ2xhc3MobmV4dFJvdywgJ3Atc2VsZWN0YWJsZS1yb3cnKSA/IG5leHRSb3cgOiBmaW5kTmV4dFNlbGVjdGFibGVSb3cobmV4dFJvdykgOiBudWxsO1xuICB9O1xuICB2YXIgZmluZFByZXZTZWxlY3RhYmxlUm93ID0gZnVuY3Rpb24gZmluZFByZXZTZWxlY3RhYmxlUm93KHJvdykge1xuICAgIHZhciBwcmV2Um93ID0gcm93LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgcmV0dXJuIHByZXZSb3cgPyBEb21IYW5kbGVyLmhhc0NsYXNzKHByZXZSb3csICdwLXNlbGVjdGFibGUtcm93JykgPyBwcmV2Um93IDogZmluZFByZXZTZWxlY3RhYmxlUm93KHByZXZSb3cpIDogbnVsbDtcbiAgfTtcbiAgdmFyIHNob3VsZFJlbmRlckJvZHlDZWxsID0gZnVuY3Rpb24gc2hvdWxkUmVuZGVyQm9keUNlbGwodmFsdWUsIGNvbHVtbiwgaSkge1xuICAgIGlmIChnZXRDb2x1bW5Qcm9wKGNvbHVtbiwgJ2hpZGRlbicpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChwcm9wcy5yb3dHcm91cE1vZGUgJiYgcHJvcHMucm93R3JvdXBNb2RlID09PSAncm93c3BhbicgJiYgaXNHcm91cGVkKGNvbHVtbikpIHtcbiAgICAgIHZhciBwcmV2Um93RGF0YSA9IHZhbHVlW2kgLSAxXTtcbiAgICAgIGlmIChwcmV2Um93RGF0YSkge1xuICAgICAgICB2YXIgY3VycmVudFJvd0ZpZWxkRGF0YSA9IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEodmFsdWVbaV0sIGdldENvbHVtblByb3AoY29sdW1uLCAnZmllbGQnKSk7XG4gICAgICAgIHZhciBwcmV2aW91c1Jvd0ZpZWxkRGF0YSA9IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEocHJldlJvd0RhdGEsIGdldENvbHVtblByb3AoY29sdW1uLCAnZmllbGQnKSk7XG4gICAgICAgIHJldHVybiBjdXJyZW50Um93RmllbGREYXRhICE9PSBwcmV2aW91c1Jvd0ZpZWxkRGF0YTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIHZhciBjYWxjdWxhdGVSb3dHcm91cFNpemUgPSBmdW5jdGlvbiBjYWxjdWxhdGVSb3dHcm91cFNpemUodmFsdWUsIGNvbHVtbiwgaW5kZXgpIHtcbiAgICBpZiAoaXNHcm91cGVkKGNvbHVtbikpIHtcbiAgICAgIHZhciBjdXJyZW50Um93RmllbGREYXRhID0gT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YSh2YWx1ZVtpbmRleF0sIGdldENvbHVtblByb3AoY29sdW1uLCAnZmllbGQnKSk7XG4gICAgICB2YXIgbmV4dFJvd0ZpZWxkRGF0YSA9IGN1cnJlbnRSb3dGaWVsZERhdGE7XG4gICAgICB2YXIgZ3JvdXBSb3dTcGFuID0gMDtcbiAgICAgIHdoaWxlIChjdXJyZW50Um93RmllbGREYXRhID09PSBuZXh0Um93RmllbGREYXRhKSB7XG4gICAgICAgIGdyb3VwUm93U3BhbisrO1xuICAgICAgICB2YXIgbmV4dFJvd0RhdGEgPSB2YWx1ZVsrK2luZGV4XTtcbiAgICAgICAgaWYgKG5leHRSb3dEYXRhKSB7XG4gICAgICAgICAgbmV4dFJvd0ZpZWxkRGF0YSA9IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEobmV4dFJvd0RhdGEsIGdldENvbHVtblByb3AoY29sdW1uLCAnZmllbGQnKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBncm91cFJvd1NwYW4gPT09IDEgPyBudWxsIDogZ3JvdXBSb3dTcGFuO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG4gIHZhciBvbkNsaWNrID0gZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgIHByb3BzLm9uUm93Q2xpY2soe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgaW5kZXg6IHByb3BzLnJvd0luZGV4XG4gICAgfSk7XG4gIH07XG4gIHZhciBvbkRvdWJsZUNsaWNrID0gZnVuY3Rpb24gb25Eb3VibGVDbGljayhldmVudCkge1xuICAgIHByb3BzLm9uUm93RG91YmxlQ2xpY2soe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgaW5kZXg6IHByb3BzLnJvd0luZGV4XG4gICAgfSk7XG4gIH07XG4gIHZhciBvblJpZ2h0Q2xpY2sgPSBmdW5jdGlvbiBvblJpZ2h0Q2xpY2soZXZlbnQpIHtcbiAgICBwcm9wcy5vblJvd1JpZ2h0Q2xpY2soe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgaW5kZXg6IHByb3BzLnJvd0luZGV4XG4gICAgfSk7XG4gIH07XG4gIHZhciBvbk1vdXNlRW50ZXIgPSBmdW5jdGlvbiBvbk1vdXNlRW50ZXIoZXZlbnQpIHtcbiAgICBwcm9wcy5vblJvd01vdXNlRW50ZXIoe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgaW5kZXg6IHByb3BzLnJvd0luZGV4XG4gICAgfSk7XG4gIH07XG4gIHZhciBvbk1vdXNlTGVhdmUgPSBmdW5jdGlvbiBvbk1vdXNlTGVhdmUoZXZlbnQpIHtcbiAgICBwcm9wcy5vblJvd01vdXNlTGVhdmUoe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgaW5kZXg6IHByb3BzLnJvd0luZGV4XG4gICAgfSk7XG4gIH07XG4gIHZhciBvblRvdWNoRW5kID0gZnVuY3Rpb24gb25Ub3VjaEVuZChldmVudCkge1xuICAgIHByb3BzLm9uUm93VG91Y2hFbmQoZXZlbnQpO1xuICB9O1xuICB2YXIgb25LZXlEb3duID0gZnVuY3Rpb24gb25LZXlEb3duKGV2ZW50KSB7XG4gICAgaWYgKGlzRm9jdXNhYmxlKCkgJiYgIXByb3BzLmFsbG93Q2VsbFNlbGVjdGlvbikge1xuICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldCxcbiAgICAgICAgcm93ID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgIHN3aXRjaCAoZXZlbnQud2hpY2gpIHtcbiAgICAgICAgLy9kb3duIGFycm93XG4gICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgdmFyIG5leHRSb3cgPSBmaW5kTmV4dFNlbGVjdGFibGVSb3cocm93KTtcbiAgICAgICAgICBpZiAobmV4dFJvdykge1xuICAgICAgICAgICAgY2hhbmdlVGFiSW5kZXgocm93LCBuZXh0Um93KTtcbiAgICAgICAgICAgIG5leHRSb3cuZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICAvL3VwIGFycm93XG4gICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgdmFyIHByZXZSb3cgPSBmaW5kUHJldlNlbGVjdGFibGVSb3cocm93KTtcbiAgICAgICAgICBpZiAocHJldlJvdykge1xuICAgICAgICAgICAgY2hhbmdlVGFiSW5kZXgocm93LCBwcmV2Um93KTtcbiAgICAgICAgICAgIHByZXZSb3cuZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICAvL2VudGVyXG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgLy8gQGRlcHJlY2F0ZWRcbiAgICAgICAgICBpZiAoIURvbUhhbmRsZXIuaXNDbGlja2FibGUodGFyZ2V0KSkge1xuICAgICAgICAgICAgb25DbGljayhldmVudCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICAvL3NwYWNlXG4gICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgaWYgKCFEb21IYW5kbGVyLmlzQ2xpY2thYmxlKHRhcmdldCkgJiYgIXRhcmdldC5yZWFkT25seSkge1xuICAgICAgICAgICAgb25DbGljayhldmVudCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBvbk1vdXNlRG93biA9IGZ1bmN0aW9uIG9uTW91c2VEb3duKGV2ZW50KSB7XG4gICAgcHJvcHMub25Sb3dNb3VzZURvd24oe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgaW5kZXg6IHByb3BzLnJvd0luZGV4XG4gICAgfSk7XG4gIH07XG4gIHZhciBvbk1vdXNlVXAgPSBmdW5jdGlvbiBvbk1vdXNlVXAoZXZlbnQpIHtcbiAgICBwcm9wcy5vblJvd01vdXNlVXAoe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgaW5kZXg6IHByb3BzLnJvd0luZGV4XG4gICAgfSk7XG4gIH07XG4gIHZhciBvbkRyYWdTdGFydCA9IGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGV2ZW50KSB7XG4gICAgcHJvcHMub25Sb3dEcmFnU3RhcnQoe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgaW5kZXg6IHByb3BzLnJvd0luZGV4XG4gICAgfSk7XG4gIH07XG4gIHZhciBvbkRyYWdPdmVyID0gZnVuY3Rpb24gb25EcmFnT3ZlcihldmVudCkge1xuICAgIHByb3BzLm9uUm93RHJhZ092ZXIoe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgaW5kZXg6IHByb3BzLnJvd0luZGV4XG4gICAgfSk7XG4gIH07XG4gIHZhciBvbkRyYWdMZWF2ZSA9IGZ1bmN0aW9uIG9uRHJhZ0xlYXZlKGV2ZW50KSB7XG4gICAgcHJvcHMub25Sb3dEcmFnTGVhdmUoe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgaW5kZXg6IHByb3BzLnJvd0luZGV4XG4gICAgfSk7XG4gIH07XG4gIHZhciBvbkRyYWdFbmQgPSBmdW5jdGlvbiBvbkRyYWdFbmQoZXZlbnQpIHtcbiAgICBwcm9wcy5vblJvd0RyYWdFbmQoe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgaW5kZXg6IHByb3BzLnJvd0luZGV4XG4gICAgfSk7XG4gIH07XG4gIHZhciBvbkRyb3AgPSBmdW5jdGlvbiBvbkRyb3AoZXZlbnQpIHtcbiAgICBwcm9wcy5vblJvd0Ryb3Aoe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgaW5kZXg6IHByb3BzLnJvd0luZGV4XG4gICAgfSk7XG4gIH07XG4gIHZhciBvbkVkaXRDaGFuZ2UgPSBmdW5jdGlvbiBvbkVkaXRDaGFuZ2UoZSwgaXNFZGl0aW5nKSB7XG4gICAgaWYgKHByb3BzLm9uUm93RWRpdENoYW5nZSkge1xuICAgICAgdmFyIGVkaXRpbmdSb3dzO1xuICAgICAgdmFyIGRhdGFLZXkgPSBwcm9wcy5kYXRhS2V5O1xuICAgICAgdmFyIG9yaWdpbmFsRXZlbnQgPSBlLm9yaWdpbmFsRXZlbnQsXG4gICAgICAgIGRhdGEgPSBlLmRhdGEsXG4gICAgICAgIGluZGV4ID0gZS5pbmRleCxcbiAgICAgICAgbmV3RGF0YSA9IGUubmV3RGF0YTtcbiAgICAgIGlmIChkYXRhS2V5KSB7XG4gICAgICAgIHZhciBkYXRhS2V5VmFsdWUgPSBTdHJpbmcoT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShkYXRhLCBkYXRhS2V5KSk7XG4gICAgICAgIGVkaXRpbmdSb3dzID0gcHJvcHMuZWRpdGluZ1Jvd3MgPyBfb2JqZWN0U3ByZWFkJDYoe30sIHByb3BzLmVkaXRpbmdSb3dzKSA6IHt9O1xuICAgICAgICBpZiAoIWlzRWRpdGluZykge1xuICAgICAgICAgIGRlbGV0ZSBlZGl0aW5nUm93c1tkYXRhS2V5VmFsdWVdO1xuICAgICAgICAgIC8vIGlmIHRoZSBrZXkgdmFsdWUgd2FzIGNoYW5nZWQsIHN0b3AgZWRpdGluZyBmb3IgdGhlIG5ldyBrZXkgdmFsdWUgdG9vXG4gICAgICAgICAgdmFyIG5ld0RhdGFLZXlWYWx1ZSA9IFN0cmluZyhPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKG5ld0RhdGEsIGRhdGFLZXkpKTtcbiAgICAgICAgICBkZWxldGUgZWRpdGluZ1Jvd3NbbmV3RGF0YUtleVZhbHVlXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlZGl0aW5nUm93c1tkYXRhS2V5VmFsdWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGVkaXRpbmdSb3dJbmRleCA9IGZpbmRJbmRleChwcm9wcy5lZGl0aW5nUm93cywgZGF0YSk7XG4gICAgICAgIGVkaXRpbmdSb3dzID0gcHJvcHMuZWRpdGluZ1Jvd3MgPyBfdG9Db25zdW1hYmxlQXJyYXkocHJvcHMuZWRpdGluZ1Jvd3MpIDogW107XG4gICAgICAgIGlmIChlZGl0aW5nUm93SW5kZXggIT09IC0xKSBlZGl0aW5nUm93cyA9IGVkaXRpbmdSb3dzLmZpbHRlcihmdW5jdGlvbiAodmFsLCBpKSB7XG4gICAgICAgICAgcmV0dXJuIGkgIT09IGVkaXRpbmdSb3dJbmRleDtcbiAgICAgICAgfSk7ZWxzZSBlZGl0aW5nUm93cy5wdXNoKGRhdGEpO1xuICAgICAgfVxuICAgICAgcHJvcHMub25Sb3dFZGl0Q2hhbmdlKHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogb3JpZ2luYWxFdmVudCxcbiAgICAgICAgZGF0YTogZWRpdGluZ1Jvd3MsXG4gICAgICAgIGluZGV4OiBpbmRleFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEVkaXRpbmdTdGF0ZShpc0VkaXRpbmcpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uRWRpdEluaXQgPSBmdW5jdGlvbiBvbkVkaXRJbml0KGUpIHtcbiAgICB2YXIgZXZlbnQgPSBlLm9yaWdpbmFsRXZlbnQ7XG4gICAgaWYgKHByb3BzLm9uUm93RWRpdEluaXQpIHtcbiAgICAgIHByb3BzLm9uUm93RWRpdEluaXQoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgZGF0YTogcHJvcHMucm93RGF0YSxcbiAgICAgICAgaW5kZXg6IHByb3BzLnJvd0luZGV4XG4gICAgICB9KTtcbiAgICB9XG4gICAgb25FZGl0Q2hhbmdlKGUsIHRydWUpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG4gIHZhciBvbkVkaXRTYXZlID0gZnVuY3Rpb24gb25FZGl0U2F2ZShlKSB7XG4gICAgdmFyIGV2ZW50ID0gZS5vcmlnaW5hbEV2ZW50LFxuICAgICAgbmV3RGF0YSA9IGUubmV3RGF0YTtcbiAgICB2YXIgdmFsaWQgPSBwcm9wcy5yb3dFZGl0VmFsaWRhdG9yID8gcHJvcHMucm93RWRpdFZhbGlkYXRvcihuZXdEYXRhLCB7XG4gICAgICBwcm9wczogcHJvcHMudGFibGVQcm9wc1xuICAgIH0pIDogdHJ1ZTtcbiAgICBpZiAocHJvcHMub25Sb3dFZGl0U2F2ZSkge1xuICAgICAgcHJvcHMub25Sb3dFZGl0U2F2ZSh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgICBpbmRleDogcHJvcHMucm93SW5kZXgsXG4gICAgICAgIHZhbGlkOiB2YWxpZFxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh2YWxpZCkge1xuICAgICAgaWYgKHByb3BzLm9uUm93RWRpdENvbXBsZXRlKSB7XG4gICAgICAgIHByb3BzLm9uUm93RWRpdENvbXBsZXRlKGUpO1xuICAgICAgfVxuICAgICAgb25FZGl0Q2hhbmdlKGUsIGZhbHNlKTtcbiAgICB9XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfTtcbiAgdmFyIG9uRWRpdENhbmNlbCA9IGZ1bmN0aW9uIG9uRWRpdENhbmNlbChlKSB7XG4gICAgdmFyIGV2ZW50ID0gZS5vcmlnaW5hbEV2ZW50O1xuICAgIGlmIChwcm9wcy5vblJvd0VkaXRDYW5jZWwpIHtcbiAgICAgIHByb3BzLm9uUm93RWRpdENhbmNlbCh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgICBpbmRleDogcHJvcHMucm93SW5kZXhcbiAgICAgIH0pO1xuICAgIH1cbiAgICBvbkVkaXRDaGFuZ2UoZSwgZmFsc2UpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG4gIHZhciBjcmVhdGVDb250ZW50ID0gZnVuY3Rpb24gY3JlYXRlQ29udGVudCgpIHtcbiAgICByZXR1cm4gcHJvcHMuY29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbCwgaSkge1xuICAgICAgaWYgKHNob3VsZFJlbmRlckJvZHlDZWxsKHByb3BzLnZhbHVlLCBjb2wsIHByb3BzLmluZGV4KSkge1xuICAgICAgICB2YXIga2V5ID0gXCJcIi5jb25jYXQoZ2V0Q29sdW1uUHJvcChjb2wsICdjb2x1bW5LZXknKSB8fCBnZXRDb2x1bW5Qcm9wKGNvbCwgJ2ZpZWxkJyksIFwiX1wiKS5jb25jYXQoaSk7XG4gICAgICAgIHZhciByb3dTcGFuID0gcHJvcHMucm93R3JvdXBNb2RlID09PSAncm93c3BhbicgPyBjYWxjdWxhdGVSb3dHcm91cFNpemUocHJvcHMudmFsdWUsIGNvbCwgcHJvcHMuaW5kZXgpIDogbnVsbDtcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJvZHlDZWxsLCB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgdmFsdWU6IHByb3BzLnZhbHVlLFxuICAgICAgICAgIHRhYmxlUHJvcHM6IHByb3BzLnRhYmxlUHJvcHMsXG4gICAgICAgICAgdGFibGVTZWxlY3RvcjogcHJvcHMudGFibGVTZWxlY3RvcixcbiAgICAgICAgICBjb2x1bW46IGNvbCxcbiAgICAgICAgICByb3dEYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgICAgIHJvd0luZGV4OiBwcm9wcy5yb3dJbmRleCxcbiAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICByb3dTcGFuOiByb3dTcGFuLFxuICAgICAgICAgIGRhdGFLZXk6IHByb3BzLmRhdGFLZXksXG4gICAgICAgICAgZWRpdGluZzogZWRpdGluZyxcbiAgICAgICAgICBlZGl0aW5nTWV0YTogcHJvcHMuZWRpdGluZ01ldGEsXG4gICAgICAgICAgZWRpdE1vZGU6IHByb3BzLmVkaXRNb2RlLFxuICAgICAgICAgIG9uUm93RWRpdEluaXQ6IG9uRWRpdEluaXQsXG4gICAgICAgICAgb25Sb3dFZGl0U2F2ZTogb25FZGl0U2F2ZSxcbiAgICAgICAgICBvblJvd0VkaXRDYW5jZWw6IG9uRWRpdENhbmNlbCxcbiAgICAgICAgICBvbkVkaXRpbmdNZXRhQ2hhbmdlOiBwcm9wcy5vbkVkaXRpbmdNZXRhQ2hhbmdlLFxuICAgICAgICAgIG9uUm93VG9nZ2xlOiBwcm9wcy5vblJvd1RvZ2dsZSxcbiAgICAgICAgICBzZWxlY3Rpb246IHByb3BzLnNlbGVjdGlvbixcbiAgICAgICAgICBzZWxlY3Rpb25BcmlhTGFiZWw6IHByb3BzLnRhYmxlUHJvcHMuc2VsZWN0aW9uQXJpYUxhYmVsLFxuICAgICAgICAgIGFsbG93Q2VsbFNlbGVjdGlvbjogcHJvcHMuYWxsb3dDZWxsU2VsZWN0aW9uLFxuICAgICAgICAgIGNvbXBhcmVTZWxlY3Rpb25CeTogcHJvcHMuY29tcGFyZVNlbGVjdGlvbkJ5LFxuICAgICAgICAgIHNlbGVjdE9uRWRpdDogcHJvcHMuc2VsZWN0T25FZGl0LFxuICAgICAgICAgIHNlbGVjdGVkOiBwcm9wcy5zZWxlY3RlZCxcbiAgICAgICAgICBvbkNsaWNrOiBwcm9wcy5vbkNlbGxDbGljayxcbiAgICAgICAgICBvbk1vdXNlRG93bjogcHJvcHMub25DZWxsTW91c2VEb3duLFxuICAgICAgICAgIG9uTW91c2VVcDogcHJvcHMub25DZWxsTW91c2VVcCxcbiAgICAgICAgICB0YWJJbmRleDogcHJvcHMudGFiSW5kZXgsXG4gICAgICAgICAgY2VsbENsYXNzTmFtZTogcHJvcHMuY2VsbENsYXNzTmFtZSxcbiAgICAgICAgICByZXNwb25zaXZlTGF5b3V0OiBwcm9wcy5yZXNwb25zaXZlTGF5b3V0LFxuICAgICAgICAgIGZyb3plblJvdzogcHJvcHMuZnJvemVuUm93LFxuICAgICAgICAgIGlzU2VsZWN0YWJsZTogcHJvcHMuaXNTZWxlY3RhYmxlLFxuICAgICAgICAgIHNob3dTZWxlY3Rpb25FbGVtZW50OiBwcm9wcy5zaG93U2VsZWN0aW9uRWxlbWVudCxcbiAgICAgICAgICBzaG93Um93UmVvcmRlckVsZW1lbnQ6IHByb3BzLnNob3dSb3dSZW9yZGVyRWxlbWVudCxcbiAgICAgICAgICBvblJhZGlvQ2hhbmdlOiBwcm9wcy5vblJhZGlvQ2hhbmdlLFxuICAgICAgICAgIG9uQ2hlY2tib3hDaGFuZ2U6IHByb3BzLm9uQ2hlY2tib3hDaGFuZ2UsXG4gICAgICAgICAgZXhwYW5kZWQ6IHByb3BzLmV4cGFuZGVkLFxuICAgICAgICAgIGV4cGFuZGVkUm93SWNvbjogcHJvcHMuZXhwYW5kZWRSb3dJY29uLFxuICAgICAgICAgIGNvbGxhcHNlZFJvd0ljb246IHByb3BzLmNvbGxhcHNlZFJvd0ljb24sXG4gICAgICAgICAgdmlydHVhbFNjcm9sbGVyT3B0aW9uczogcHJvcHMudmlydHVhbFNjcm9sbGVyT3B0aW9uc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pO1xuICB9O1xuICB2YXIgcm93Q2xhc3NOYW1lID0gT2JqZWN0VXRpbHMuZ2V0UHJvcFZhbHVlKHByb3BzLnJvd0NsYXNzTmFtZSwgcHJvcHMucm93RGF0YSwge1xuICAgIHByb3BzOiBwcm9wcy50YWJsZVByb3BzXG4gIH0pO1xuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcyhyb3dDbGFzc05hbWUsIHtcbiAgICAncC1oaWdobGlnaHQnOiAhcHJvcHMuYWxsb3dDZWxsU2VsZWN0aW9uICYmIHByb3BzLnNlbGVjdGVkIHx8IHByb3BzLmNvbnRleHRNZW51U2VsZWN0ZWQsXG4gICAgJ3AtaGlnaGxpZ2h0LWNvbnRleHRtZW51JzogcHJvcHMuY29udGV4dE1lbnVTZWxlY3RlZCxcbiAgICAncC1zZWxlY3RhYmxlLXJvdyc6IHByb3BzLmFsbG93Um93U2VsZWN0aW9uICYmIHByb3BzLmlzU2VsZWN0YWJsZSh7XG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhLFxuICAgICAgaW5kZXg6IHByb3BzLnJvd0luZGV4XG4gICAgfSksXG4gICAgJ3Atcm93LW9kZCc6IHByb3BzLnJvd0luZGV4ICUgMiAhPT0gMFxuICB9KTtcbiAgdmFyIHN0eWxlID0ge1xuICAgIGhlaWdodDogcHJvcHMudmlydHVhbFNjcm9sbGVyT3B0aW9ucyA/IHByb3BzLnZpcnR1YWxTY3JvbGxlck9wdGlvbnMuaXRlbVNpemUgOiB1bmRlZmluZWRcbiAgfTtcbiAgdmFyIGNvbnRlbnQgPSBjcmVhdGVDb250ZW50KCk7XG4gIHZhciB0YWJJbmRleCA9IGdldFRhYkluZGV4KCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIHtcbiAgICByb2xlOiBcInJvd1wiLFxuICAgIHRhYkluZGV4OiB0YWJJbmRleCxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICBzdHlsZTogc3R5bGUsXG4gICAgb25Nb3VzZURvd246IG9uTW91c2VEb3duLFxuICAgIG9uTW91c2VVcDogb25Nb3VzZVVwLFxuICAgIG9uTW91c2VFbnRlcjogb25Nb3VzZUVudGVyLFxuICAgIG9uTW91c2VMZWF2ZTogb25Nb3VzZUxlYXZlLFxuICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXG4gICAgb25Eb3VibGVDbGljazogb25Eb3VibGVDbGljayxcbiAgICBvbkNvbnRleHRNZW51OiBvblJpZ2h0Q2xpY2ssXG4gICAgb25Ub3VjaEVuZDogb25Ub3VjaEVuZCxcbiAgICBvbktleURvd246IG9uS2V5RG93bixcbiAgICBvbkRyYWdTdGFydDogb25EcmFnU3RhcnQsXG4gICAgb25EcmFnT3Zlcjogb25EcmFnT3ZlcixcbiAgICBvbkRyYWdMZWF2ZTogb25EcmFnTGVhdmUsXG4gICAgb25EcmFnRW5kOiBvbkRyYWdFbmQsXG4gICAgb25Ecm9wOiBvbkRyb3BcbiAgfSwgY29udGVudCk7XG59KTtcbkJvZHlSb3cuZGlzcGxheU5hbWUgPSAnQm9keVJvdyc7XG5cbnZhciBSb3dUb2dnbGVyQnV0dG9uID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBvbkNsaWNrID0gZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgIHByb3BzLm9uQ2xpY2soe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBkYXRhOiBwcm9wcy5yb3dEYXRhXG4gICAgfSk7XG4gIH07XG4gIHZhciBpY29uQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1yb3ctdG9nZ2xlci1pY29uJywgcHJvcHMuZXhwYW5kZWQgPyBwcm9wcy5leHBhbmRlZFJvd0ljb24gOiBwcm9wcy5jb2xsYXBzZWRSb3dJY29uKTtcbiAgdmFyIGxhYmVsID0gcHJvcHMuZXhwYW5kZWQgPyBhcmlhTGFiZWwoJ2NvbGxhcHNlTGFiZWwnKSA6IGFyaWFMYWJlbCgnZXhwYW5kTGFiZWwnKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXG4gICAgY2xhc3NOYW1lOiBcInAtcm93LXRvZ2dsZXIgcC1saW5rXCIsXG4gICAgdGFiSW5kZXg6IHByb3BzLnRhYkluZGV4LFxuICAgIFwiYXJpYS1sYWJlbFwiOiBsYWJlbFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogaWNvbkNsYXNzTmFtZSxcbiAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSaXBwbGUsIG51bGwpKTtcbn0pO1xuUm93VG9nZ2xlckJ1dHRvbi5kaXNwbGF5TmFtZSA9ICdSb3dUb2dnbGVyQnV0dG9uJztcblxudmFyIF9leGNsdWRlZCA9IFtcIm9yaWdpbmFsRXZlbnRcIl07XG5mdW5jdGlvbiBvd25LZXlzJDUob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDUodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMkNShPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzJDUoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIFRhYmxlQm9keSA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKCAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoe30pLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLFxuICAgIHJvd0dyb3VwSGVhZGVyU3R5bGVPYmplY3RTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgc2V0Um93R3JvdXBIZWFkZXJTdHlsZU9iamVjdFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcbiAgdmFyIGVsZW1lbnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciByZWZDYWxsYmFjayA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChlbCkge1xuICAgIGVsZW1lbnRSZWYuY3VycmVudCA9IGVsO1xuICAgIHByb3BzLnZpcnR1YWxTY3JvbGxlckNvbnRlbnRSZWYgJiYgcHJvcHMudmlydHVhbFNjcm9sbGVyQ29udGVudFJlZihlbCk7XG4gIH0sIFtwcm9wc10pO1xuICB2YXIgZHJhZ1NlbGVjdGlvbkhlbHBlciA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGluaXRpYWxEcmFnUG9zaXRpb24gPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBhbmNob3JSb3dJbmRleCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGFuY2hvckNlbGxJbmRleCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHJhbmdlUm93SW5kZXggPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBhbmNob3JSb3dGaXJzdCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHJvd1RvdWNoZWQgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICB2YXIgcm93RHJhZ2dpbmcgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICB2YXIgZHJhZ2dlZFJvd0luZGV4ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgZHJvcHBlZFJvd0luZGV4ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgaXNTdWJoZWFkZXJHcm91cGluZyA9IHByb3BzLnJvd0dyb3VwTW9kZSAmJiBwcm9wcy5yb3dHcm91cE1vZGUgPT09ICdzdWJoZWFkZXInO1xuICB2YXIgaXNSYWRpb1NlbGVjdGlvbk1vZGUgPSBwcm9wcy5zZWxlY3Rpb25Nb2RlID09PSAncmFkaW9idXR0b24nO1xuICB2YXIgaXNDaGVja2JveFNlbGVjdGlvbk1vZGUgPSBwcm9wcy5zZWxlY3Rpb25Nb2RlID09PSAnY2hlY2tib3gnO1xuICB2YXIgaXNSYWRpb1NlbGVjdGlvbk1vZGVJbkNvbHVtbiA9IHByb3BzLnNlbGVjdGlvbk1vZGVJbkNvbHVtbiA9PT0gJ3NpbmdsZSc7XG4gIHZhciBpc0NoZWNrYm94U2VsZWN0aW9uTW9kZUluQ29sdW1uID0gcHJvcHMuc2VsZWN0aW9uTW9kZUluQ29sdW1uID09PSAnbXVsdGlwbGUnO1xuICB2YXIgZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKGRhdGExLCBkYXRhMikge1xuICAgIGlmIChhbGxvd0NlbGxTZWxlY3Rpb24oKSkgcmV0dXJuIChkYXRhMS5yb3dJbmRleCA9PT0gZGF0YTIucm93SW5kZXggfHwgZGF0YTEucm93RGF0YSA9PT0gZGF0YTIucm93RGF0YSkgJiYgKGRhdGExLmZpZWxkID09PSBkYXRhMi5maWVsZCB8fCBkYXRhMS5jZWxsSW5kZXggPT09IGRhdGEyLmNlbGxJbmRleCk7ZWxzZSByZXR1cm4gcHJvcHMuY29tcGFyZVNlbGVjdGlvbkJ5ID09PSAnZXF1YWxzJyA/IGRhdGExID09PSBkYXRhMiA6IE9iamVjdFV0aWxzLmVxdWFscyhkYXRhMSwgZGF0YTIsIHByb3BzLmRhdGFLZXkpO1xuICB9O1xuICB2YXIgaXNTZWxlY3Rpb25FbmFibGVkID0gZnVuY3Rpb24gaXNTZWxlY3Rpb25FbmFibGVkKCkge1xuICAgIHJldHVybiBwcm9wcy5zZWxlY3Rpb25Nb2RlIHx8IHByb3BzLnNlbGVjdGlvbk1vZGVJbkNvbHVtbiAhPT0gbnVsbCB8fCBwcm9wcy5jb2x1bW5zICYmIHByb3BzLmNvbHVtbnMuc29tZShmdW5jdGlvbiAoY29sKSB7XG4gICAgICByZXR1cm4gY29sICYmICEhZ2V0Q29sdW1uUHJvcChjb2wsICdzZWxlY3Rpb25Nb2RlJyk7XG4gICAgfSk7XG4gIH07XG4gIHZhciBpc1NpbmdsZVNlbGVjdGlvbiA9IGZ1bmN0aW9uIGlzU2luZ2xlU2VsZWN0aW9uKCkge1xuICAgIHJldHVybiBwcm9wcy5zZWxlY3Rpb25Nb2RlID09PSAnc2luZ2xlJyAmJiAhaXNDaGVja2JveFNlbGVjdGlvbk1vZGVJbkNvbHVtbiB8fCAhaXNSYWRpb1NlbGVjdGlvbk1vZGUgJiYgaXNSYWRpb1NlbGVjdGlvbk1vZGVJbkNvbHVtbjtcbiAgfTtcbiAgdmFyIGlzTXVsdGlwbGVTZWxlY3Rpb24gPSBmdW5jdGlvbiBpc011bHRpcGxlU2VsZWN0aW9uKCkge1xuICAgIHJldHVybiBwcm9wcy5zZWxlY3Rpb25Nb2RlID09PSAnbXVsdGlwbGUnICYmICFpc1JhZGlvU2VsZWN0aW9uTW9kZUluQ29sdW1uIHx8IGlzQ2hlY2tib3hTZWxlY3Rpb25Nb2RlSW5Db2x1bW47XG4gIH07XG4gIHZhciBpc1JhZGlvT25seVNlbGVjdGlvbiA9IGZ1bmN0aW9uIGlzUmFkaW9Pbmx5U2VsZWN0aW9uKCkge1xuICAgIHJldHVybiBpc1JhZGlvU2VsZWN0aW9uTW9kZSAmJiBpc1JhZGlvU2VsZWN0aW9uTW9kZUluQ29sdW1uO1xuICB9O1xuICB2YXIgaXNDaGVja2JveE9ubHlTZWxlY3Rpb24gPSBmdW5jdGlvbiBpc0NoZWNrYm94T25seVNlbGVjdGlvbigpIHtcbiAgICByZXR1cm4gaXNDaGVja2JveFNlbGVjdGlvbk1vZGUgJiYgaXNDaGVja2JveFNlbGVjdGlvbk1vZGVJbkNvbHVtbjtcbiAgfTtcbiAgdmFyIGlzU2VsZWN0ZWQgPSBmdW5jdGlvbiBpc1NlbGVjdGVkKHJvd0RhdGEpIHtcbiAgICBpZiAocm93RGF0YSAmJiBwcm9wcy5zZWxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBwcm9wcy5zZWxlY3Rpb24gaW5zdGFuY2VvZiBBcnJheSA/IGZpbmRJbmRleChwcm9wcy5zZWxlY3Rpb24sIHJvd0RhdGEpID4gLTEgOiBlcXVhbHMocm93RGF0YSwgcHJvcHMuc2VsZWN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICB2YXIgaXNDb250ZXh0TWVudVNlbGVjdGVkID0gZnVuY3Rpb24gaXNDb250ZXh0TWVudVNlbGVjdGVkKHJvd0RhdGEpIHtcbiAgICBpZiAocm93RGF0YSAmJiBwcm9wcy5jb250ZXh0TWVudVNlbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGVxdWFscyhyb3dEYXRhLCBwcm9wcy5jb250ZXh0TWVudVNlbGVjdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgdmFyIGlzU2VsZWN0YWJsZSA9IGZ1bmN0aW9uIGlzU2VsZWN0YWJsZShvcHRpb25zKSB7XG4gICAgcmV0dXJuIHByb3BzLmlzRGF0YVNlbGVjdGFibGUgPyBwcm9wcy5pc0RhdGFTZWxlY3RhYmxlKG9wdGlvbnMpIDogdHJ1ZTtcbiAgfTtcbiAgdmFyIGlzUm93RXhwYW5kZWQgPSBmdW5jdGlvbiBpc1Jvd0V4cGFuZGVkKHJvd0RhdGEpIHtcbiAgICBpZiAocm93RGF0YSAmJiBwcm9wcy5leHBhbmRlZFJvd3MpIHtcbiAgICAgIGlmIChpc1N1YmhlYWRlckdyb3VwaW5nICYmIHByb3BzLmV4cGFuZGFibGVSb3dHcm91cHMpIHtcbiAgICAgICAgcmV0dXJuIGlzUm93R3JvdXBFeHBhbmRlZChyb3dEYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwcm9wcy5kYXRhS2V5KSByZXR1cm4gcHJvcHMuZXhwYW5kZWRSb3dzID8gcHJvcHMuZXhwYW5kZWRSb3dzW09iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEocm93RGF0YSwgcHJvcHMuZGF0YUtleSldICE9PSB1bmRlZmluZWQgOiBmYWxzZTtlbHNlIHJldHVybiBmaW5kSW5kZXgocHJvcHMuZXhwYW5kZWRSb3dzLCByb3dEYXRhKSAhPT0gLTE7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgdmFyIGlzUm93R3JvdXBFeHBhbmRlZCA9IGZ1bmN0aW9uIGlzUm93R3JvdXBFeHBhbmRlZChyb3dEYXRhKSB7XG4gICAgaWYgKHByb3BzLmRhdGFLZXkgPT09IHByb3BzLmdyb3VwUm93c0J5KSByZXR1cm4gT2JqZWN0LmtleXMocHJvcHMuZXhwYW5kZWRSb3dzKS5zb21lKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICByZXR1cm4gT2JqZWN0VXRpbHMuZXF1YWxzKGRhdGEsIE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEocm93RGF0YSwgcHJvcHMuZGF0YUtleSkpO1xuICAgIH0pO2Vsc2UgcmV0dXJuIHByb3BzLmV4cGFuZGVkUm93cy5zb21lKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICByZXR1cm4gT2JqZWN0VXRpbHMuZXF1YWxzKGRhdGEsIHJvd0RhdGEsIHByb3BzLmdyb3VwUm93c0J5KTtcbiAgICB9KTtcbiAgfTtcbiAgdmFyIGlzUm93RWRpdGluZyA9IGZ1bmN0aW9uIGlzUm93RWRpdGluZyhyb3dEYXRhKSB7XG4gICAgaWYgKHByb3BzLmVkaXRNb2RlID09PSAncm93JyAmJiByb3dEYXRhICYmIHByb3BzLmVkaXRpbmdSb3dzKSB7XG4gICAgICBpZiAocHJvcHMuZGF0YUtleSkgcmV0dXJuIHByb3BzLmVkaXRpbmdSb3dzID8gcHJvcHMuZWRpdGluZ1Jvd3NbT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShyb3dEYXRhLCBwcm9wcy5kYXRhS2V5KV0gIT09IHVuZGVmaW5lZCA6IGZhbHNlO2Vsc2UgcmV0dXJuIGZpbmRJbmRleChwcm9wcy5lZGl0aW5nUm93cywgcm93RGF0YSkgIT09IC0xO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIHZhciBhbGxvd0RyYWcgPSBmdW5jdGlvbiBhbGxvd0RyYWcoZXZlbnQpIHtcbiAgICByZXR1cm4gcHJvcHMuZHJhZ1NlbGVjdGlvbiAmJiBpc011bHRpcGxlU2VsZWN0aW9uKCkgJiYgIWV2ZW50Lm9yaWdpbmFsRXZlbnQuc2hpZnRLZXk7XG4gIH07XG4gIHZhciBhbGxvd1Jvd0RyYWcgPSBmdW5jdGlvbiBhbGxvd1Jvd0RyYWcoZXZlbnQpIHtcbiAgICByZXR1cm4gIWFsbG93Q2VsbFNlbGVjdGlvbigpICYmIGFsbG93RHJhZyhldmVudCkgfHwgcHJvcHMucmVvcmRlcmFibGVSb3dzO1xuICB9O1xuICB2YXIgYWxsb3dDZWxsRHJhZyA9IGZ1bmN0aW9uIGFsbG93Q2VsbERyYWcoZXZlbnQpIHtcbiAgICByZXR1cm4gYWxsb3dDZWxsU2VsZWN0aW9uKCkgJiYgYWxsb3dEcmFnKGV2ZW50KTtcbiAgfTtcbiAgdmFyIGFsbG93U2VsZWN0aW9uID0gZnVuY3Rpb24gYWxsb3dTZWxlY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gIURvbUhhbmRsZXIuaXNDbGlja2FibGUoZXZlbnQub3JpZ2luYWxFdmVudC50YXJnZXQpO1xuICB9O1xuICB2YXIgYWxsb3dNZXRhS2V5U2VsZWN0aW9uID0gZnVuY3Rpb24gYWxsb3dNZXRhS2V5U2VsZWN0aW9uKGV2ZW50KSB7XG4gICAgcmV0dXJuICFyb3dUb3VjaGVkLmN1cnJlbnQgJiYgKCFwcm9wcy5tZXRhS2V5U2VsZWN0aW9uIHx8IHByb3BzLm1ldGFLZXlTZWxlY3Rpb24gJiYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQubWV0YUtleSB8fCBldmVudC5vcmlnaW5hbEV2ZW50LmN0cmxLZXkpKTtcbiAgfTtcbiAgdmFyIGFsbG93UmFuZ2VTZWxlY3Rpb24gPSBmdW5jdGlvbiBhbGxvd1JhbmdlU2VsZWN0aW9uKGV2ZW50KSB7XG4gICAgcmV0dXJuIGlzTXVsdGlwbGVTZWxlY3Rpb24oKSAmJiBldmVudC5vcmlnaW5hbEV2ZW50LnNoaWZ0S2V5ICYmIGFuY2hvclJvd0luZGV4LmN1cnJlbnQgIT09IG51bGw7XG4gIH07XG4gIHZhciBhbGxvd1Jvd1NlbGVjdGlvbiA9IGZ1bmN0aW9uIGFsbG93Um93U2VsZWN0aW9uKCkge1xuICAgIHJldHVybiAocHJvcHMuc2VsZWN0aW9uTW9kZSB8fCBwcm9wcy5zZWxlY3Rpb25Nb2RlSW5Db2x1bW4pICYmICFpc1JhZGlvT25seVNlbGVjdGlvbigpICYmICFpc0NoZWNrYm94T25seVNlbGVjdGlvbigpO1xuICB9O1xuICB2YXIgYWxsb3dDZWxsU2VsZWN0aW9uID0gZnVuY3Rpb24gYWxsb3dDZWxsU2VsZWN0aW9uKCkge1xuICAgIHJldHVybiBwcm9wcy5jZWxsU2VsZWN0aW9uICYmICFpc1JhZGlvU2VsZWN0aW9uTW9kZUluQ29sdW1uICYmICFpc0NoZWNrYm94U2VsZWN0aW9uTW9kZUluQ29sdW1uO1xuICB9O1xuICB2YXIgZ2V0Q29sdW1uc0xlbmd0aCA9IGZ1bmN0aW9uIGdldENvbHVtbnNMZW5ndGgoKSB7XG4gICAgcmV0dXJuIHByb3BzLmNvbHVtbnMgPyBwcm9wcy5jb2x1bW5zLmxlbmd0aCA6IDA7XG4gIH07XG4gIHZhciBnZXRDb2x1bW5Qcm9wID0gZnVuY3Rpb24gZ2V0Q29sdW1uUHJvcChjb2x1bW4sIG5hbWUpIHtcbiAgICByZXR1cm4gQ29sdW1uQmFzZS5nZXRDUHJvcChjb2x1bW4sIG5hbWUpO1xuICB9O1xuICB2YXIgZ2V0VmlydHVhbFNjcm9sbGVyT3B0aW9uID0gZnVuY3Rpb24gZ2V0VmlydHVhbFNjcm9sbGVyT3B0aW9uKG9wdGlvbiwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHByb3BzLnZpcnR1YWxTY3JvbGxlck9wdGlvbnM7XG4gICAgcmV0dXJuIG9wdGlvbnMgPyBvcHRpb25zW29wdGlvbl0gOiBudWxsO1xuICB9O1xuICB2YXIgZmluZEluZGV4ID0gZnVuY3Rpb24gZmluZEluZGV4KGNvbGxlY3Rpb24sIHJvd0RhdGEpIHtcbiAgICByZXR1cm4gKGNvbGxlY3Rpb24gfHwgW10pLmZpbmRJbmRleChmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgcmV0dXJuIGVxdWFscyhyb3dEYXRhLCBkYXRhKTtcbiAgICB9KTtcbiAgfTtcbiAgdmFyIHJvd0dyb3VwSGVhZGVyU3R5bGUgPSBmdW5jdGlvbiByb3dHcm91cEhlYWRlclN0eWxlKCkge1xuICAgIGlmIChwcm9wcy5zY3JvbGxhYmxlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IHJvd0dyb3VwSGVhZGVyU3R5bGVPYmplY3RTdGF0ZVsndG9wJ11cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICB2YXIgZ2V0Um93S2V5ID0gZnVuY3Rpb24gZ2V0Um93S2V5KHJvd0RhdGEsIGluZGV4KSB7XG4gICAgcmV0dXJuIHByb3BzLmRhdGFLZXkgPyBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKHJvd0RhdGEsIHByb3BzLmRhdGFLZXkpIDogaW5kZXg7XG4gIH07XG4gIHZhciBzaG91bGRSZW5kZXJSb3dHcm91cEhlYWRlciA9IGZ1bmN0aW9uIHNob3VsZFJlbmRlclJvd0dyb3VwSGVhZGVyKHZhbHVlLCByb3dEYXRhLCBpKSB7XG4gICAgdmFyIGN1cnJlbnRSb3dGaWVsZERhdGEgPSBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKHJvd0RhdGEsIHByb3BzLmdyb3VwUm93c0J5KTtcbiAgICB2YXIgcHJldlJvd0RhdGEgPSB2YWx1ZVtpIC0gMV07XG4gICAgaWYgKHByZXZSb3dEYXRhKSB7XG4gICAgICB2YXIgcHJldmlvdXNSb3dGaWVsZERhdGEgPSBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKHByZXZSb3dEYXRhLCBwcm9wcy5ncm91cFJvd3NCeSk7XG4gICAgICByZXR1cm4gY3VycmVudFJvd0ZpZWxkRGF0YSAhPT0gcHJldmlvdXNSb3dGaWVsZERhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcbiAgdmFyIHNob3VsZFJlbmRlclJvd0dyb3VwRm9vdGVyID0gZnVuY3Rpb24gc2hvdWxkUmVuZGVyUm93R3JvdXBGb290ZXIodmFsdWUsIHJvd0RhdGEsIGksIGV4cGFuZGVkKSB7XG4gICAgaWYgKHByb3BzLmV4cGFuZGFibGVSb3dHcm91cHMgJiYgIWV4cGFuZGVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBjdXJyZW50Um93RmllbGREYXRhID0gT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShyb3dEYXRhLCBwcm9wcy5ncm91cFJvd3NCeSk7XG4gICAgICB2YXIgbmV4dFJvd0RhdGEgPSB2YWx1ZVtpICsgMV07XG4gICAgICBpZiAobmV4dFJvd0RhdGEpIHtcbiAgICAgICAgdmFyIG5leHRSb3dGaWVsZERhdGEgPSBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKG5leHRSb3dEYXRhLCBwcm9wcy5ncm91cFJvd3NCeSk7XG4gICAgICAgIHJldHVybiBjdXJyZW50Um93RmllbGREYXRhICE9PSBuZXh0Um93RmllbGREYXRhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICB2YXIgdXBkYXRlRnJvemVuUm93U3RpY2t5UG9zaXRpb24gPSBmdW5jdGlvbiB1cGRhdGVGcm96ZW5Sb3dTdGlja3lQb3NpdGlvbigpIHtcbiAgICBlbGVtZW50UmVmLmN1cnJlbnQuc3R5bGUudG9wID0gRG9tSGFuZGxlci5nZXRPdXRlckhlaWdodChlbGVtZW50UmVmLmN1cnJlbnQucHJldmlvdXNFbGVtZW50U2libGluZykgKyAncHgnO1xuICB9O1xuICB2YXIgdXBkYXRlRnJvemVuUm93R3JvdXBIZWFkZXJTdGlja3lQb3NpdGlvbiA9IGZ1bmN0aW9uIHVwZGF0ZUZyb3plblJvd0dyb3VwSGVhZGVyU3RpY2t5UG9zaXRpb24oKSB7XG4gICAgdmFyIHRhYmxlSGVhZGVySGVpZ2h0ID0gRG9tSGFuZGxlci5nZXRPdXRlckhlaWdodChlbGVtZW50UmVmLmN1cnJlbnQucHJldmlvdXNFbGVtZW50U2libGluZyk7XG4gICAgdmFyIHRvcCA9IHRhYmxlSGVhZGVySGVpZ2h0ICsgJ3B4JztcbiAgICBpZiAocm93R3JvdXBIZWFkZXJTdHlsZU9iamVjdFN0YXRlLnRvcCAhPT0gdG9wKSB7XG4gICAgICBzZXRSb3dHcm91cEhlYWRlclN0eWxlT2JqZWN0U3RhdGUoe1xuICAgICAgICB0b3A6IHRvcFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICB2YXIgb25TaW5nbGVTZWxlY3Rpb24gPSBmdW5jdGlvbiBvblNpbmdsZVNlbGVjdGlvbihfcmVmKSB7XG4gICAgdmFyIG9yaWdpbmFsRXZlbnQgPSBfcmVmLm9yaWdpbmFsRXZlbnQsXG4gICAgICBkYXRhID0gX3JlZi5kYXRhLFxuICAgICAgaW5kZXggPSBfcmVmLmluZGV4LFxuICAgICAgdG9nZ2xlYWJsZSA9IF9yZWYudG9nZ2xlYWJsZSxcbiAgICAgIHR5cGUgPSBfcmVmLnR5cGU7XG4gICAgaWYgKCFpc1NlbGVjdGFibGUoe1xuICAgICAgZGF0YTogZGF0YSxcbiAgICAgIGluZGV4OiBpbmRleFxuICAgIH0pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzZWxlY3RlZCA9IGlzU2VsZWN0ZWQoZGF0YSk7XG4gICAgdmFyIHNlbGVjdGlvbiA9IHByb3BzLnNlbGVjdGlvbjtcbiAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgIGlmICh0b2dnbGVhYmxlKSB7XG4gICAgICAgIHNlbGVjdGlvbiA9IG51bGw7XG4gICAgICAgIG9uVW5zZWxlY3Qoe1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IG9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICB0eXBlOiB0eXBlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZWxlY3Rpb24gPSBkYXRhO1xuICAgICAgb25TZWxlY3Qoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBvcmlnaW5hbEV2ZW50LFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICB0eXBlOiB0eXBlXG4gICAgICB9KTtcbiAgICB9XG4gICAgZm9jdXNPbkVsZW1lbnQob3JpZ2luYWxFdmVudCwgdHJ1ZSk7XG4gICAgaWYgKHByb3BzLm9uU2VsZWN0aW9uQ2hhbmdlICYmIHNlbGVjdGlvbiAhPT0gcHJvcHMuc2VsZWN0aW9uKSB7XG4gICAgICBwcm9wcy5vblNlbGVjdGlvbkNoYW5nZSh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IG9yaWdpbmFsRXZlbnQsXG4gICAgICAgIHZhbHVlOiBzZWxlY3Rpb24sXG4gICAgICAgIHR5cGU6IHR5cGVcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uTXVsdGlwbGVTZWxlY3Rpb24gPSBmdW5jdGlvbiBvbk11bHRpcGxlU2VsZWN0aW9uKF9yZWYyKSB7XG4gICAgdmFyIG9yaWdpbmFsRXZlbnQgPSBfcmVmMi5vcmlnaW5hbEV2ZW50LFxuICAgICAgZGF0YSA9IF9yZWYyLmRhdGEsXG4gICAgICBpbmRleCA9IF9yZWYyLmluZGV4LFxuICAgICAgdG9nZ2xlYWJsZSA9IF9yZWYyLnRvZ2dsZWFibGUsXG4gICAgICB0eXBlID0gX3JlZjIudHlwZTtcbiAgICBpZiAoIWlzU2VsZWN0YWJsZSh7XG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgaW5kZXg6IGluZGV4XG4gICAgfSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHNlbGVjdGVkID0gaXNTZWxlY3RlZChkYXRhKTtcbiAgICB2YXIgc2VsZWN0aW9uID0gcHJvcHMuc2VsZWN0aW9uIHx8IFtdO1xuICAgIGlmIChzZWxlY3RlZCkge1xuICAgICAgaWYgKHRvZ2dsZWFibGUpIHtcbiAgICAgICAgdmFyIHNlbGVjdGlvbkluZGV4ID0gZmluZEluZGV4KHNlbGVjdGlvbiwgZGF0YSk7XG4gICAgICAgIHNlbGVjdGlvbiA9IHByb3BzLnNlbGVjdGlvbi5maWx0ZXIoZnVuY3Rpb24gKHZhbCwgaSkge1xuICAgICAgICAgIHJldHVybiBpICE9PSBzZWxlY3Rpb25JbmRleDtcbiAgICAgICAgfSk7XG4gICAgICAgIG9uVW5zZWxlY3Qoe1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IG9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICB0eXBlOiB0eXBlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChzZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgICAgIHByb3BzLnNlbGVjdGlvbi5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgcmV0dXJuIG9uVW5zZWxlY3Qoe1xuICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogb3JpZ2luYWxFdmVudCxcbiAgICAgICAgICAgIGRhdGE6IGQsXG4gICAgICAgICAgICB0eXBlOiB0eXBlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxlY3Rpb24gPSBbZGF0YV07XG4gICAgICAgIG9uU2VsZWN0KHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBvcmlnaW5hbEV2ZW50LFxuICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgdHlwZTogdHlwZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0aW9uID0gdG9nZ2xlYWJsZSAmJiBpc011bHRpcGxlU2VsZWN0aW9uKCkgPyBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHNlbGVjdGlvbiksIFtkYXRhXSkgOiBbZGF0YV07XG4gICAgICBvblNlbGVjdCh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IG9yaWdpbmFsRXZlbnQsXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIHR5cGU6IHR5cGVcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmb2N1c09uRWxlbWVudChvcmlnaW5hbEV2ZW50LCB0cnVlKTtcbiAgICBpZiAocHJvcHMub25TZWxlY3Rpb25DaGFuZ2UgJiYgc2VsZWN0aW9uICE9PSBwcm9wcy5zZWxlY3Rpb24pIHtcbiAgICAgIHByb3BzLm9uU2VsZWN0aW9uQ2hhbmdlKHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogb3JpZ2luYWxFdmVudCxcbiAgICAgICAgdmFsdWU6IHNlbGVjdGlvbixcbiAgICAgICAgdHlwZTogdHlwZVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICB2YXIgb25SYW5nZVNlbGVjdGlvbiA9IGZ1bmN0aW9uIG9uUmFuZ2VTZWxlY3Rpb24oZXZlbnQsIHR5cGUpIHtcbiAgICBEb21IYW5kbGVyLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgcmFuZ2VSb3dJbmRleC5jdXJyZW50ID0gYWxsb3dDZWxsU2VsZWN0aW9uKCkgPyBldmVudC5yb3dJbmRleCA6IGV2ZW50LmluZGV4O1xuICAgIHZhciBzZWxlY3Rpb24gPSBzZWxlY3RSYW5nZShldmVudCk7XG4gICAgaWYgKHByb3BzLm9uU2VsZWN0aW9uQ2hhbmdlICYmIHNlbGVjdGlvbiAhPT0gcHJvcHMuc2VsZWN0aW9uKSB7XG4gICAgICBwcm9wcy5vblNlbGVjdGlvbkNoYW5nZSh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnQsXG4gICAgICAgIHZhbHVlOiBzZWxlY3Rpb24sXG4gICAgICAgIHR5cGU6IHR5cGVcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhbmNob3JSb3dJbmRleC5jdXJyZW50ID0gcmFuZ2VSb3dJbmRleC5jdXJyZW50O1xuICAgIGFuY2hvckNlbGxJbmRleC5jdXJyZW50ID0gZXZlbnQuY2VsbEluZGV4O1xuICAgIGZvY3VzT25FbGVtZW50KGV2ZW50Lm9yaWdpbmFsRXZlbnQsIGZhbHNlKTtcbiAgfTtcbiAgdmFyIHNlbGVjdFJhbmdlID0gZnVuY3Rpb24gc2VsZWN0UmFuZ2UoZXZlbnQpIHtcbiAgICB2YXIgcmFuZ2VTdGFydCwgcmFuZ2VFbmQ7XG4gICAgaWYgKHJhbmdlUm93SW5kZXguY3VycmVudCA+IGFuY2hvclJvd0luZGV4LmN1cnJlbnQpIHtcbiAgICAgIHJhbmdlU3RhcnQgPSBhbmNob3JSb3dJbmRleC5jdXJyZW50O1xuICAgICAgcmFuZ2VFbmQgPSByYW5nZVJvd0luZGV4LmN1cnJlbnQ7XG4gICAgfSBlbHNlIGlmIChyYW5nZVJvd0luZGV4LmN1cnJlbnQgPCBhbmNob3JSb3dJbmRleC5jdXJyZW50KSB7XG4gICAgICByYW5nZVN0YXJ0ID0gcmFuZ2VSb3dJbmRleC5jdXJyZW50O1xuICAgICAgcmFuZ2VFbmQgPSBhbmNob3JSb3dJbmRleC5jdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICByYW5nZVN0YXJ0ID0gcmFuZ2VFbmQgPSByYW5nZVJvd0luZGV4LmN1cnJlbnQ7XG4gICAgfVxuICAgIGlmIChwcm9wcy5wYWdpbmF0b3IpIHtcbiAgICAgIHJhbmdlU3RhcnQgPSBNYXRoLm1heChyYW5nZVN0YXJ0IC0gcHJvcHMuZmlyc3QsIDApO1xuICAgICAgcmFuZ2VFbmQgLT0gcHJvcHMuZmlyc3Q7XG4gICAgfVxuICAgIHJldHVybiBhbGxvd0NlbGxTZWxlY3Rpb24oKSA/IHNlbGVjdFJhbmdlT25DZWxsKGV2ZW50LCByYW5nZVN0YXJ0LCByYW5nZUVuZCkgOiBzZWxlY3RSYW5nZU9uUm93KGV2ZW50LCByYW5nZVN0YXJ0LCByYW5nZUVuZCk7XG4gIH07XG4gIHZhciBzZWxlY3RSYW5nZU9uUm93ID0gZnVuY3Rpb24gc2VsZWN0UmFuZ2VPblJvdyhldmVudCwgcm93UmFuZ2VTdGFydCwgcm93UmFuZ2VFbmQpIHtcbiAgICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZTtcbiAgICB2YXIgc2VsZWN0aW9uID0gW107XG4gICAgZm9yICh2YXIgaSA9IHJvd1JhbmdlU3RhcnQ7IGkgPD0gcm93UmFuZ2VFbmQ7IGkrKykge1xuICAgICAgdmFyIHJhbmdlUm93RGF0YSA9IHZhbHVlW2ldO1xuICAgICAgaWYgKCFpc1NlbGVjdGFibGUoe1xuICAgICAgICBkYXRhOiByYW5nZVJvd0RhdGEsXG4gICAgICAgIGluZGV4OiBpXG4gICAgICB9KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHNlbGVjdGlvbi5wdXNoKHJhbmdlUm93RGF0YSk7XG4gICAgICBvblNlbGVjdCh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnQsXG4gICAgICAgIGRhdGE6IHJhbmdlUm93RGF0YSxcbiAgICAgICAgdHlwZTogJ3JvdydcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZWN0aW9uO1xuICB9O1xuICB2YXIgc2VsZWN0UmFuZ2VPbkNlbGwgPSBmdW5jdGlvbiBzZWxlY3RSYW5nZU9uQ2VsbChldmVudCwgcm93UmFuZ2VTdGFydCwgcm93UmFuZ2VFbmQpIHtcbiAgICB2YXIgY2VsbFJhbmdlU3RhcnQsXG4gICAgICBjZWxsUmFuZ2VFbmQsXG4gICAgICBjZWxsSW5kZXggPSBldmVudC5jZWxsSW5kZXg7XG4gICAgaWYgKGNlbGxJbmRleCA+IGFuY2hvckNlbGxJbmRleC5jdXJyZW50KSB7XG4gICAgICBjZWxsUmFuZ2VTdGFydCA9IGFuY2hvckNlbGxJbmRleC5jdXJyZW50O1xuICAgICAgY2VsbFJhbmdlRW5kID0gY2VsbEluZGV4O1xuICAgIH0gZWxzZSBpZiAoY2VsbEluZGV4IDwgYW5jaG9yQ2VsbEluZGV4LmN1cnJlbnQpIHtcbiAgICAgIGNlbGxSYW5nZVN0YXJ0ID0gY2VsbEluZGV4O1xuICAgICAgY2VsbFJhbmdlRW5kID0gYW5jaG9yQ2VsbEluZGV4LmN1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNlbGxSYW5nZVN0YXJ0ID0gY2VsbFJhbmdlRW5kID0gY2VsbEluZGV4O1xuICAgIH1cbiAgICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZTtcbiAgICB2YXIgc2VsZWN0aW9uID0gW107XG4gICAgZm9yICh2YXIgaSA9IHJvd1JhbmdlU3RhcnQ7IGkgPD0gcm93UmFuZ2VFbmQ7IGkrKykge1xuICAgICAgdmFyIHJvd0RhdGEgPSB2YWx1ZVtpXTtcbiAgICAgIHZhciBjb2x1bW5zID0gcHJvcHMuY29sdW1ucztcbiAgICAgIHZhciByb3dJbmRleCA9IHByb3BzLnBhZ2luYXRvciA/IGkgKyBwcm9wcy5maXJzdCA6IGk7XG4gICAgICBmb3IgKHZhciBqID0gY2VsbFJhbmdlU3RhcnQ7IGogPD0gY2VsbFJhbmdlRW5kOyBqKyspIHtcbiAgICAgICAgdmFyIGZpZWxkID0gZ2V0Q29sdW1uUHJvcChjb2x1bW5zW2pdLCAnZmllbGQnKTtcbiAgICAgICAgdmFyIF92YWx1ZSA9IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEocm93RGF0YSwgZmllbGQpO1xuICAgICAgICB2YXIgcmFuZ2VSb3dEYXRhID0ge1xuICAgICAgICAgIHZhbHVlOiBfdmFsdWUsXG4gICAgICAgICAgZmllbGQ6IGZpZWxkLFxuICAgICAgICAgIHJvd0RhdGE6IHJvd0RhdGEsXG4gICAgICAgICAgcm93SW5kZXg6IHJvd0luZGV4LFxuICAgICAgICAgIGNlbGxJbmRleDogaixcbiAgICAgICAgICBzZWxlY3RlZDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICBpZiAoIWlzU2VsZWN0YWJsZSh7XG4gICAgICAgICAgZGF0YTogcmFuZ2VSb3dEYXRhLFxuICAgICAgICAgIGluZGV4OiBpXG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZWN0aW9uLnB1c2gocmFuZ2VSb3dEYXRhKTtcbiAgICAgICAgb25TZWxlY3Qoe1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgZGF0YTogcmFuZ2VSb3dEYXRhLFxuICAgICAgICAgIHR5cGU6ICdjZWxsJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlbGVjdGlvbjtcbiAgfTtcbiAgdmFyIG9uU2VsZWN0ID0gZnVuY3Rpb24gb25TZWxlY3QoZXZlbnQpIHtcbiAgICBpZiAoYWxsb3dDZWxsU2VsZWN0aW9uKCkpIHByb3BzLm9uQ2VsbFNlbGVjdCAmJiBwcm9wcy5vbkNlbGxTZWxlY3QoX29iamVjdFNwcmVhZCQ1KF9vYmplY3RTcHJlYWQkNSh7XG4gICAgICBvcmlnaW5hbEV2ZW50OiBldmVudC5vcmlnaW5hbEV2ZW50XG4gICAgfSwgZXZlbnQuZGF0YSksIHt9LCB7XG4gICAgICB0eXBlOiBldmVudC50eXBlXG4gICAgfSkpO2Vsc2UgcHJvcHMub25Sb3dTZWxlY3QgJiYgcHJvcHMub25Sb3dTZWxlY3QoZXZlbnQpO1xuICB9O1xuICB2YXIgb25VbnNlbGVjdCA9IGZ1bmN0aW9uIG9uVW5zZWxlY3QoZXZlbnQpIHtcbiAgICBpZiAoYWxsb3dDZWxsU2VsZWN0aW9uKCkpIHByb3BzLm9uQ2VsbFVuc2VsZWN0ICYmIHByb3BzLm9uQ2VsbFVuc2VsZWN0KF9vYmplY3RTcHJlYWQkNShfb2JqZWN0U3ByZWFkJDUoe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQub3JpZ2luYWxFdmVudFxuICAgIH0sIGV2ZW50LmRhdGEpLCB7fSwge1xuICAgICAgdHlwZTogZXZlbnQudHlwZVxuICAgIH0pKTtlbHNlIHByb3BzLm9uUm93VW5zZWxlY3QgJiYgcHJvcHMub25Sb3dVbnNlbGVjdChldmVudCk7XG4gIH07XG4gIHZhciBlbmFibGVEcmFnU2VsZWN0aW9uID0gZnVuY3Rpb24gZW5hYmxlRHJhZ1NlbGVjdGlvbihldmVudCkge1xuICAgIGlmIChwcm9wcy5kcmFnU2VsZWN0aW9uICYmICFkcmFnU2VsZWN0aW9uSGVscGVyLmN1cnJlbnQpIHtcbiAgICAgIGRyYWdTZWxlY3Rpb25IZWxwZXIuY3VycmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgRG9tSGFuZGxlci5hZGRDbGFzcyhkcmFnU2VsZWN0aW9uSGVscGVyLmN1cnJlbnQsICdwLWRhdGF0YWJsZS1kcmFnLXNlbGVjdGlvbi1oZWxwZXInKTtcbiAgICAgIGluaXRpYWxEcmFnUG9zaXRpb24uY3VycmVudCA9IHtcbiAgICAgICAgeDogZXZlbnQuY2xpZW50WCxcbiAgICAgICAgeTogZXZlbnQuY2xpZW50WVxuICAgICAgfTtcbiAgICAgIGRyYWdTZWxlY3Rpb25IZWxwZXIuY3VycmVudC5zdHlsZS50b3AgPSBcIlwiLmNvbmNhdChldmVudC5wYWdlWSwgXCJweFwiKTtcbiAgICAgIGRyYWdTZWxlY3Rpb25IZWxwZXIuY3VycmVudC5zdHlsZS5sZWZ0ID0gXCJcIi5jb25jYXQoZXZlbnQucGFnZVgsIFwicHhcIik7XG4gICAgICBiaW5kRHJhZ1NlbGVjdGlvbkV2ZW50cygpO1xuICAgIH1cbiAgfTtcbiAgdmFyIGZvY3VzT25FbGVtZW50ID0gZnVuY3Rpb24gZm9jdXNPbkVsZW1lbnQoZXZlbnQsIGlzRm9jdXNlZCkge1xuICAgIHZhciB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgIGlmICghYWxsb3dDZWxsU2VsZWN0aW9uKCkgJiYgcHJvcHMuc2VsZWN0aW9uQXV0b0ZvY3VzKSB7XG4gICAgICBpZiAoaXNDaGVja2JveFNlbGVjdGlvbk1vZGVJbkNvbHVtbikge1xuICAgICAgICB2YXIgY2hlY2tib3ggPSBEb21IYW5kbGVyLmZpbmRTaW5nbGUodGFyZ2V0LCAndGQucC1zZWxlY3Rpb24tY29sdW1uIC5wLWNoZWNrYm94LWJveCcpO1xuICAgICAgICBjaGVja2JveCAmJiBjaGVja2JveC5mb2N1cygpO1xuICAgICAgfSBlbHNlIGlmIChpc1JhZGlvU2VsZWN0aW9uTW9kZUluQ29sdW1uKSB7XG4gICAgICAgIHZhciByYWRpbyA9IERvbUhhbmRsZXIuZmluZFNpbmdsZSh0YXJnZXQsICd0ZC5wLXNlbGVjdGlvbi1jb2x1bW4gaW5wdXRbdHlwZT1cInJhZGlvXCJdJyk7XG4gICAgICAgIHJhZGlvICYmIHJhZGlvLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuICAgICFpc0ZvY3VzZWQgJiYgdGFyZ2V0ICYmIHRhcmdldC5mb2N1cygpO1xuICB9O1xuICB2YXIgY2hhbmdlVGFiSW5kZXggPSBmdW5jdGlvbiBjaGFuZ2VUYWJJbmRleChldmVudCwgdHlwZSkge1xuICAgIHZhciB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgIHZhciBpc1NlbGVjdGFibGUgPSBEb21IYW5kbGVyLmhhc0NsYXNzKHRhcmdldCwgdHlwZSA9PT0gJ2NlbGwnID8gJ3Atc2VsZWN0YWJsZS1jZWxsJyA6ICdwLXNlbGVjdGFibGUtcm93Jyk7XG4gICAgaWYgKGlzU2VsZWN0YWJsZSkge1xuICAgICAgdmFyIHNlbGVjdG9yID0gdHlwZSA9PT0gJ2NlbGwnID8gJ3RyID4gdGQnIDogJ3RyJztcbiAgICAgIHZhciB0YWJiYWJsZUVsID0gRG9tSGFuZGxlci5maW5kU2luZ2xlKGVsZW1lbnRSZWYuY3VycmVudCwgXCJcIi5jb25jYXQoc2VsZWN0b3IsIFwiW3RhYmluZGV4PVxcXCJcIikuY29uY2F0KHByb3BzLnRhYkluZGV4LCBcIlxcXCJdXCIpKTtcbiAgICAgIGlmICh0YWJiYWJsZUVsICYmIHRhcmdldCkge1xuICAgICAgICB0YWJiYWJsZUVsLnRhYkluZGV4ID0gLTE7XG4gICAgICAgIHRhcmdldC50YWJJbmRleCA9IHByb3BzLnRhYkluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIG9uUm93Q2xpY2sgPSBmdW5jdGlvbiBvblJvd0NsaWNrKGV2ZW50KSB7XG4gICAgaWYgKGFsbG93Q2VsbFNlbGVjdGlvbigpIHx8ICFhbGxvd1NlbGVjdGlvbihldmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcHJvcHMub25Sb3dDbGljayAmJiBwcm9wcy5vblJvd0NsaWNrKGV2ZW50KTtcbiAgICBpZiAoYWxsb3dSb3dTZWxlY3Rpb24oKSkge1xuICAgICAgaWYgKGFsbG93UmFuZ2VTZWxlY3Rpb24oZXZlbnQpKSB7XG4gICAgICAgIG9uUmFuZ2VTZWxlY3Rpb24oZXZlbnQsICdyb3cnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0b2dnbGVhYmxlID0gaXNSYWRpb1NlbGVjdGlvbk1vZGVJbkNvbHVtbiB8fCBpc0NoZWNrYm94U2VsZWN0aW9uTW9kZUluQ29sdW1uIHx8IGFsbG93TWV0YUtleVNlbGVjdGlvbihldmVudCk7XG4gICAgICAgIGFuY2hvclJvd0luZGV4LmN1cnJlbnQgPSBldmVudC5pbmRleDtcbiAgICAgICAgcmFuZ2VSb3dJbmRleC5jdXJyZW50ID0gZXZlbnQuaW5kZXg7XG4gICAgICAgIGFuY2hvclJvd0ZpcnN0LmN1cnJlbnQgPSBwcm9wcy5maXJzdDtcbiAgICAgICAgaWYgKGlzU2luZ2xlU2VsZWN0aW9uKCkpIHtcbiAgICAgICAgICBvblNpbmdsZVNlbGVjdGlvbihfb2JqZWN0U3ByZWFkJDUoX29iamVjdFNwcmVhZCQ1KHt9LCBldmVudCksIHt9LCB7XG4gICAgICAgICAgICB0b2dnbGVhYmxlOiB0b2dnbGVhYmxlLFxuICAgICAgICAgICAgdHlwZTogJ3JvdydcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25NdWx0aXBsZVNlbGVjdGlvbihfb2JqZWN0U3ByZWFkJDUoX29iamVjdFNwcmVhZCQ1KHt9LCBldmVudCksIHt9LCB7XG4gICAgICAgICAgICB0b2dnbGVhYmxlOiB0b2dnbGVhYmxlLFxuICAgICAgICAgICAgdHlwZTogJ3JvdydcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNoYW5nZVRhYkluZGV4KGV2ZW50Lm9yaWdpbmFsRXZlbnQsICdyb3cnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9jdXNPbkVsZW1lbnQoZXZlbnQub3JpZ2luYWxFdmVudCk7XG4gICAgfVxuICAgIHJvd1RvdWNoZWQuY3VycmVudCA9IGZhbHNlO1xuICB9O1xuICB2YXIgb25Sb3dEb3VibGVDbGljayA9IGZ1bmN0aW9uIG9uUm93RG91YmxlQ2xpY2soZSkge1xuICAgIHZhciBldmVudCA9IGUub3JpZ2luYWxFdmVudDtcbiAgICBpZiAoRG9tSGFuZGxlci5pc0NsaWNrYWJsZShldmVudC50YXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChwcm9wcy5vblJvd0RvdWJsZUNsaWNrKSB7XG4gICAgICBwcm9wcy5vblJvd0RvdWJsZUNsaWNrKGUpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uUm93UmlnaHRDbGljayA9IGZ1bmN0aW9uIG9uUm93UmlnaHRDbGljayhldmVudCkge1xuICAgIGlmIChwcm9wcy5vbkNvbnRleHRNZW51IHx8IHByb3BzLm9uQ29udGV4dE1lbnVTZWxlY3Rpb25DaGFuZ2UpIHtcbiAgICAgIERvbUhhbmRsZXIuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgIGlmIChwcm9wcy5vbkNvbnRleHRNZW51U2VsZWN0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHByb3BzLm9uQ29udGV4dE1lbnVTZWxlY3Rpb25DaGFuZ2Uoe1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgdmFsdWU6IGV2ZW50LmRhdGFcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAocHJvcHMub25Db250ZXh0TWVudSkge1xuICAgICAgICBwcm9wcy5vbkNvbnRleHRNZW51KHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudC5vcmlnaW5hbEV2ZW50LFxuICAgICAgICAgIGRhdGE6IGV2ZW50LmRhdGFcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBldmVudC5vcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9O1xuICB2YXIgb25Sb3dNb3VzZUVudGVyID0gZnVuY3Rpb24gb25Sb3dNb3VzZUVudGVyKGV2ZW50KSB7XG4gICAgcHJvcHMub25Sb3dNb3VzZUVudGVyICYmIHByb3BzLm9uUm93TW91c2VFbnRlcihldmVudCk7XG4gIH07XG4gIHZhciBvblJvd01vdXNlTGVhdmUgPSBmdW5jdGlvbiBvblJvd01vdXNlTGVhdmUoZXZlbnQpIHtcbiAgICBwcm9wcy5vblJvd01vdXNlTGVhdmUgJiYgcHJvcHMub25Sb3dNb3VzZUxlYXZlKGV2ZW50KTtcbiAgfTtcbiAgdmFyIG9uUm93VG91Y2hFbmQgPSBmdW5jdGlvbiBvblJvd1RvdWNoRW5kKCkge1xuICAgIHJvd1RvdWNoZWQuY3VycmVudCA9IHRydWU7XG4gIH07XG4gIHZhciBvblJvd01vdXNlRG93biA9IGZ1bmN0aW9uIG9uUm93TW91c2VEb3duKGUpIHtcbiAgICB2YXIgZXZlbnQgPSBlLm9yaWdpbmFsRXZlbnQ7XG4gICAgaWYgKERvbUhhbmRsZXIuaGFzQ2xhc3MoZXZlbnQudGFyZ2V0LCAncC1kYXRhdGFibGUtcmVvcmRlcmFibGVyb3ctaGFuZGxlJykpIGV2ZW50LmN1cnJlbnRUYXJnZXQuZHJhZ2dhYmxlID0gdHJ1ZTtlbHNlIGV2ZW50LmN1cnJlbnRUYXJnZXQuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgaWYgKGFsbG93Um93RHJhZyhlKSkge1xuICAgICAgZW5hYmxlRHJhZ1NlbGVjdGlvbihldmVudCk7XG4gICAgICBhbmNob3JSb3dJbmRleC5jdXJyZW50ID0gZS5pbmRleDtcbiAgICAgIHJhbmdlUm93SW5kZXguY3VycmVudCA9IGUuaW5kZXg7XG4gICAgICBhbmNob3JSb3dGaXJzdC5jdXJyZW50ID0gcHJvcHMuZmlyc3Q7XG4gICAgfVxuICB9O1xuICB2YXIgb25Sb3dNb3VzZVVwID0gZnVuY3Rpb24gb25Sb3dNb3VzZVVwKGV2ZW50KSB7XG4gICAgdmFyIGlzU2FtZVJvdyA9IGV2ZW50LmluZGV4ID09PSBhbmNob3JSb3dJbmRleC5jdXJyZW50O1xuICAgIGlmIChhbGxvd1Jvd0RyYWcoZXZlbnQpICYmICFpc1NhbWVSb3cpIHtcbiAgICAgIG9uUmFuZ2VTZWxlY3Rpb24oZXZlbnQsICdyb3cnKTtcbiAgICB9XG4gIH07XG4gIHZhciBvblJvd1RvZ2dsZSA9IGZ1bmN0aW9uIG9uUm93VG9nZ2xlKGV2ZW50KSB7XG4gICAgdmFyIGV4cGFuZGVkUm93cztcbiAgICB2YXIgZGF0YUtleSA9IHByb3BzLmRhdGFLZXk7XG4gICAgdmFyIGhhc0RhdGFLZXkgPSBwcm9wcy5ncm91cFJvd3NCeSA/IGRhdGFLZXkgPT09IHByb3BzLmdyb3VwUm93c0J5IDogISFkYXRhS2V5O1xuICAgIGlmIChoYXNEYXRhS2V5KSB7XG4gICAgICB2YXIgZGF0YUtleVZhbHVlID0gU3RyaW5nKE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEoZXZlbnQuZGF0YSwgZGF0YUtleSkpO1xuICAgICAgZXhwYW5kZWRSb3dzID0gcHJvcHMuZXhwYW5kZWRSb3dzID8gX29iamVjdFNwcmVhZCQ1KHt9LCBwcm9wcy5leHBhbmRlZFJvd3MpIDoge307XG4gICAgICBpZiAoZXhwYW5kZWRSb3dzW2RhdGFLZXlWYWx1ZV0gIT0gbnVsbCkge1xuICAgICAgICBkZWxldGUgZXhwYW5kZWRSb3dzW2RhdGFLZXlWYWx1ZV07XG4gICAgICAgIGlmIChwcm9wcy5vblJvd0NvbGxhcHNlKSB7XG4gICAgICAgICAgcHJvcHMub25Sb3dDb2xsYXBzZSh7XG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICAgIGRhdGE6IGV2ZW50LmRhdGFcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXhwYW5kZWRSb3dzW2RhdGFLZXlWYWx1ZV0gPSB0cnVlO1xuICAgICAgICBpZiAocHJvcHMub25Sb3dFeHBhbmQpIHtcbiAgICAgICAgICBwcm9wcy5vblJvd0V4cGFuZCh7XG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICAgIGRhdGE6IGV2ZW50LmRhdGFcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZXhwYW5kZWRSb3dJbmRleCA9IGZpbmRJbmRleChwcm9wcy5leHBhbmRlZFJvd3MsIGV2ZW50LmRhdGEpO1xuICAgICAgZXhwYW5kZWRSb3dzID0gcHJvcHMuZXhwYW5kZWRSb3dzID8gX3RvQ29uc3VtYWJsZUFycmF5KHByb3BzLmV4cGFuZGVkUm93cykgOiBbXTtcbiAgICAgIGlmIChleHBhbmRlZFJvd0luZGV4ICE9PSAtMSkge1xuICAgICAgICBleHBhbmRlZFJvd3MgPSBleHBhbmRlZFJvd3MuZmlsdGVyKGZ1bmN0aW9uIChfLCBpKSB7XG4gICAgICAgICAgcmV0dXJuIGkgIT09IGV4cGFuZGVkUm93SW5kZXg7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocHJvcHMub25Sb3dDb2xsYXBzZSkge1xuICAgICAgICAgIHByb3BzLm9uUm93Q29sbGFwc2Uoe1xuICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgICBkYXRhOiBldmVudC5kYXRhXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4cGFuZGVkUm93cy5wdXNoKGV2ZW50LmRhdGEpO1xuICAgICAgICBpZiAocHJvcHMub25Sb3dFeHBhbmQpIHtcbiAgICAgICAgICBwcm9wcy5vblJvd0V4cGFuZCh7XG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICAgIGRhdGE6IGV2ZW50LmRhdGFcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJvcHMub25Sb3dUb2dnbGUpIHtcbiAgICAgIHByb3BzLm9uUm93VG9nZ2xlKHtcbiAgICAgICAgZGF0YTogZXhwYW5kZWRSb3dzXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIHZhciBvblJvd0RyYWdTdGFydCA9IGZ1bmN0aW9uIG9uUm93RHJhZ1N0YXJ0KGUpIHtcbiAgICB2YXIgZXZlbnQgPSBlLm9yaWdpbmFsRXZlbnQsXG4gICAgICBpbmRleCA9IGUuaW5kZXg7XG4gICAgaWYgKGFsbG93Um93RHJhZyhldmVudCkpIHtcbiAgICAgIHJvd0RyYWdnaW5nLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgZHJhZ2dlZFJvd0luZGV4LmN1cnJlbnQgPSBpbmRleDtcbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0JywgJ2InKTsgLy8gRm9yIGZpcmVmb3hcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uUm93RHJhZ092ZXIgPSBmdW5jdGlvbiBvblJvd0RyYWdPdmVyKGUpIHtcbiAgICB2YXIgZXZlbnQgPSBlLm9yaWdpbmFsRXZlbnQsXG4gICAgICBpbmRleCA9IGUuaW5kZXg7XG4gICAgaWYgKHJvd0RyYWdnaW5nLmN1cnJlbnQgJiYgZHJhZ2dlZFJvd0luZGV4LmN1cnJlbnQgIT09IGluZGV4KSB7XG4gICAgICB2YXIgcm93RWxlbWVudCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgICB2YXIgcm93WSA9IERvbUhhbmRsZXIuZ2V0T2Zmc2V0KHJvd0VsZW1lbnQpLnRvcCArIERvbUhhbmRsZXIuZ2V0V2luZG93U2Nyb2xsVG9wKCk7XG4gICAgICB2YXIgcGFnZVkgPSBldmVudC5wYWdlWSArIHdpbmRvdy5zY3JvbGxZO1xuICAgICAgdmFyIHJvd01pZFkgPSByb3dZICsgRG9tSGFuZGxlci5nZXRPdXRlckhlaWdodChyb3dFbGVtZW50KSAvIDI7XG4gICAgICB2YXIgcHJldlJvd0VsZW1lbnQgPSByb3dFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgICBpZiAocGFnZVkgPCByb3dNaWRZKSB7XG4gICAgICAgIERvbUhhbmRsZXIucmVtb3ZlQ2xhc3Mocm93RWxlbWVudCwgJ3AtZGF0YXRhYmxlLWRyYWdwb2ludC1ib3R0b20nKTtcbiAgICAgICAgZHJvcHBlZFJvd0luZGV4LmN1cnJlbnQgPSBpbmRleDtcbiAgICAgICAgaWYgKHByZXZSb3dFbGVtZW50KSBEb21IYW5kbGVyLmFkZENsYXNzKHByZXZSb3dFbGVtZW50LCAncC1kYXRhdGFibGUtZHJhZ3BvaW50LWJvdHRvbScpO2Vsc2UgRG9tSGFuZGxlci5hZGRDbGFzcyhyb3dFbGVtZW50LCAncC1kYXRhdGFibGUtZHJhZ3BvaW50LXRvcCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHByZXZSb3dFbGVtZW50KSBEb21IYW5kbGVyLnJlbW92ZUNsYXNzKHByZXZSb3dFbGVtZW50LCAncC1kYXRhdGFibGUtZHJhZ3BvaW50LWJvdHRvbScpO2Vsc2UgRG9tSGFuZGxlci5hZGRDbGFzcyhyb3dFbGVtZW50LCAncC1kYXRhdGFibGUtZHJhZ3BvaW50LXRvcCcpO1xuICAgICAgICBkcm9wcGVkUm93SW5kZXguY3VycmVudCA9IGluZGV4ICsgMTtcbiAgICAgICAgRG9tSGFuZGxlci5hZGRDbGFzcyhyb3dFbGVtZW50LCAncC1kYXRhdGFibGUtZHJhZ3BvaW50LWJvdHRvbScpO1xuICAgICAgfVxuICAgIH1cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuICB2YXIgb25Sb3dEcmFnTGVhdmUgPSBmdW5jdGlvbiBvblJvd0RyYWdMZWF2ZShlKSB7XG4gICAgdmFyIGV2ZW50ID0gZS5vcmlnaW5hbEV2ZW50O1xuICAgIHZhciByb3dFbGVtZW50ID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICB2YXIgcHJldlJvd0VsZW1lbnQgPSByb3dFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgaWYgKHByZXZSb3dFbGVtZW50KSB7XG4gICAgICBEb21IYW5kbGVyLnJlbW92ZUNsYXNzKHByZXZSb3dFbGVtZW50LCAncC1kYXRhdGFibGUtZHJhZ3BvaW50LWJvdHRvbScpO1xuICAgIH1cbiAgICBEb21IYW5kbGVyLnJlbW92ZUNsYXNzKHJvd0VsZW1lbnQsICdwLWRhdGF0YWJsZS1kcmFncG9pbnQtYm90dG9tJyk7XG4gICAgRG9tSGFuZGxlci5yZW1vdmVDbGFzcyhyb3dFbGVtZW50LCAncC1kYXRhdGFibGUtZHJhZ3BvaW50LXRvcCcpO1xuICB9O1xuICB2YXIgb25Sb3dEcmFnRW5kID0gZnVuY3Rpb24gb25Sb3dEcmFnRW5kKGUpIHtcbiAgICB2YXIgZXZlbnQgPSBlLm9yaWdpbmFsRXZlbnQ7XG4gICAgcm93RHJhZ2dpbmcuY3VycmVudCA9IGZhbHNlO1xuICAgIGRyYWdnZWRSb3dJbmRleC5jdXJyZW50ID0gbnVsbDtcbiAgICBkcm9wcGVkUm93SW5kZXguY3VycmVudCA9IG51bGw7XG4gICAgZXZlbnQuY3VycmVudFRhcmdldC5kcmFnZ2FibGUgPSBmYWxzZTtcbiAgfTtcbiAgdmFyIG9uUm93RHJvcCA9IGZ1bmN0aW9uIG9uUm93RHJvcChlKSB7XG4gICAgdmFyIGV2ZW50ID0gZS5vcmlnaW5hbEV2ZW50O1xuICAgIGlmIChkcm9wcGVkUm93SW5kZXguY3VycmVudCAhPSBudWxsKSB7XG4gICAgICB2YXIgZHJvcEluZGV4ID0gZHJhZ2dlZFJvd0luZGV4LmN1cnJlbnQgPiBkcm9wcGVkUm93SW5kZXguY3VycmVudCA/IGRyb3BwZWRSb3dJbmRleC5jdXJyZW50IDogZHJvcHBlZFJvd0luZGV4LmN1cnJlbnQgPT09IDAgPyAwIDogZHJvcHBlZFJvd0luZGV4LmN1cnJlbnQgLSAxO1xuICAgICAgdmFyIHZhbCA9IF90b0NvbnN1bWFibGVBcnJheShwcm9wcy50YWJsZVByb3BzLnZhbHVlKTtcbiAgICAgIE9iamVjdFV0aWxzLnJlb3JkZXJBcnJheSh2YWwsIGRyYWdnZWRSb3dJbmRleC5jdXJyZW50LCBkcm9wSW5kZXgpO1xuICAgICAgaWYgKHByb3BzLm9uUm93UmVvcmRlcikge1xuICAgICAgICBwcm9wcy5vblJvd1Jlb3JkZXIoe1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIHZhbHVlOiB2YWwsXG4gICAgICAgICAgZHJhZ0luZGV4OiBkcmFnZ2VkUm93SW5kZXguY3VycmVudCxcbiAgICAgICAgICBkcm9wSW5kZXg6IGRyb3BJbmRleFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL2NsZWFudXBcbiAgICBvblJvd0RyYWdMZWF2ZShlKTtcbiAgICBvblJvd0RyYWdFbmQoZSk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfTtcbiAgdmFyIG9uUmFkaW9DaGFuZ2UgPSBmdW5jdGlvbiBvblJhZGlvQ2hhbmdlKGV2ZW50KSB7XG4gICAgb25TaW5nbGVTZWxlY3Rpb24oX29iamVjdFNwcmVhZCQ1KF9vYmplY3RTcHJlYWQkNSh7fSwgZXZlbnQpLCB7fSwge1xuICAgICAgdG9nZ2xlYWJsZTogdHJ1ZSxcbiAgICAgIHR5cGU6ICdyYWRpbydcbiAgICB9KSk7XG4gIH07XG4gIHZhciBvbkNoZWNrYm94Q2hhbmdlID0gZnVuY3Rpb24gb25DaGVja2JveENoYW5nZShldmVudCkge1xuICAgIG9uTXVsdGlwbGVTZWxlY3Rpb24oX29iamVjdFNwcmVhZCQ1KF9vYmplY3RTcHJlYWQkNSh7fSwgZXZlbnQpLCB7fSwge1xuICAgICAgdG9nZ2xlYWJsZTogdHJ1ZSxcbiAgICAgIHR5cGU6ICdjaGVja2JveCdcbiAgICB9KSk7XG4gIH07XG4gIHZhciBvbkRyYWdTZWxlY3Rpb25Nb3VzZU1vdmUgPSBmdW5jdGlvbiBvbkRyYWdTZWxlY3Rpb25Nb3VzZU1vdmUoZXZlbnQpIHtcbiAgICB2YXIgX2luaXRpYWxEcmFnUG9zaXRpb24kID0gaW5pdGlhbERyYWdQb3NpdGlvbi5jdXJyZW50LFxuICAgICAgeCA9IF9pbml0aWFsRHJhZ1Bvc2l0aW9uJC54LFxuICAgICAgeSA9IF9pbml0aWFsRHJhZ1Bvc2l0aW9uJC55O1xuICAgIHZhciBkeCA9IGV2ZW50LmNsaWVudFggLSB4O1xuICAgIHZhciBkeSA9IGV2ZW50LmNsaWVudFkgLSB5O1xuICAgIGlmIChkeSA8IDApIGRyYWdTZWxlY3Rpb25IZWxwZXIuY3VycmVudC5zdHlsZS50b3AgPSBcIlwiLmNvbmNhdChldmVudC5wYWdlWSArIDUsIFwicHhcIik7XG4gICAgaWYgKGR4IDwgMCkgZHJhZ1NlbGVjdGlvbkhlbHBlci5jdXJyZW50LnN0eWxlLmxlZnQgPSBcIlwiLmNvbmNhdChldmVudC5wYWdlWCArIDUsIFwicHhcIik7XG4gICAgZHJhZ1NlbGVjdGlvbkhlbHBlci5jdXJyZW50LnN0eWxlLmhlaWdodCA9IFwiXCIuY29uY2F0KE1hdGguYWJzKGR5KSwgXCJweFwiKTtcbiAgICBkcmFnU2VsZWN0aW9uSGVscGVyLmN1cnJlbnQuc3R5bGUud2lkdGggPSBcIlwiLmNvbmNhdChNYXRoLmFicyhkeCksIFwicHhcIik7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfTtcbiAgdmFyIG9uRHJhZ1NlbGVjdGlvbk1vdXNlVXAgPSBmdW5jdGlvbiBvbkRyYWdTZWxlY3Rpb25Nb3VzZVVwKCkge1xuICAgIGlmIChkcmFnU2VsZWN0aW9uSGVscGVyLmN1cnJlbnQpIHtcbiAgICAgIGRyYWdTZWxlY3Rpb25IZWxwZXIuY3VycmVudC5yZW1vdmUoKTtcbiAgICAgIGRyYWdTZWxlY3Rpb25IZWxwZXIuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uRHJhZ1NlbGVjdGlvbk1vdXNlTW92ZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uRHJhZ1NlbGVjdGlvbk1vdXNlVXApO1xuICB9O1xuICB2YXIgb25DZWxsQ2xpY2sgPSBmdW5jdGlvbiBvbkNlbGxDbGljayhldmVudCkge1xuICAgIGlmICghYWxsb3dTZWxlY3Rpb24oZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByb3BzLm9uQ2VsbENsaWNrICYmIHByb3BzLm9uQ2VsbENsaWNrKGV2ZW50KTtcbiAgICBpZiAoYWxsb3dDZWxsU2VsZWN0aW9uKCkpIHtcbiAgICAgIGlmIChhbGxvd1JhbmdlU2VsZWN0aW9uKGV2ZW50KSkge1xuICAgICAgICBvblJhbmdlU2VsZWN0aW9uKGV2ZW50LCAnY2VsbCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRvZ2dsZWFibGUgPSBhbGxvd01ldGFLZXlTZWxlY3Rpb24oZXZlbnQpO1xuICAgICAgICB2YXIgb3JpZ2luYWxFdmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgZGF0YSA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhldmVudCwgX2V4Y2x1ZGVkKTtcbiAgICAgICAgYW5jaG9yUm93SW5kZXguY3VycmVudCA9IGV2ZW50LnJvd0luZGV4O1xuICAgICAgICByYW5nZVJvd0luZGV4LmN1cnJlbnQgPSBldmVudC5yb3dJbmRleDtcbiAgICAgICAgYW5jaG9yUm93Rmlyc3QuY3VycmVudCA9IHByb3BzLmZpcnN0O1xuICAgICAgICBhbmNob3JDZWxsSW5kZXguY3VycmVudCA9IGV2ZW50LmNlbGxJbmRleDtcbiAgICAgICAgaWYgKGlzU2luZ2xlU2VsZWN0aW9uKCkpIHtcbiAgICAgICAgICBvblNpbmdsZVNlbGVjdGlvbih7XG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBvcmlnaW5hbEV2ZW50LFxuICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgIGluZGV4OiBldmVudC5yb3dJbmRleCxcbiAgICAgICAgICAgIHRvZ2dsZWFibGU6IHRvZ2dsZWFibGUsXG4gICAgICAgICAgICB0eXBlOiAnY2VsbCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbk11bHRpcGxlU2VsZWN0aW9uKHtcbiAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IG9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgaW5kZXg6IGV2ZW50LnJvd0luZGV4LFxuICAgICAgICAgICAgdG9nZ2xlYWJsZTogdG9nZ2xlYWJsZSxcbiAgICAgICAgICAgIHR5cGU6ICdjZWxsJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjaGFuZ2VUYWJJbmRleChldmVudC5vcmlnaW5hbEV2ZW50LCAnY2VsbCcpO1xuICAgIH1cbiAgICByb3dUb3VjaGVkLmN1cnJlbnQgPSBmYWxzZTtcbiAgfTtcbiAgdmFyIG9uQ2VsbE1vdXNlRG93biA9IGZ1bmN0aW9uIG9uQ2VsbE1vdXNlRG93bihldmVudCkge1xuICAgIGlmIChhbGxvd0NlbGxEcmFnKGV2ZW50KSkge1xuICAgICAgZW5hYmxlRHJhZ1NlbGVjdGlvbihldmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICAgIGFuY2hvclJvd0luZGV4LmN1cnJlbnQgPSBldmVudC5yb3dJbmRleDtcbiAgICAgIHJhbmdlUm93SW5kZXguY3VycmVudCA9IGV2ZW50LnJvd0luZGV4O1xuICAgICAgYW5jaG9yUm93Rmlyc3QuY3VycmVudCA9IHByb3BzLmZpcnN0O1xuICAgICAgYW5jaG9yQ2VsbEluZGV4LmN1cnJlbnQgPSBldmVudC5jZWxsSW5kZXg7XG4gICAgfVxuICB9O1xuICB2YXIgb25DZWxsTW91c2VVcCA9IGZ1bmN0aW9uIG9uQ2VsbE1vdXNlVXAoZXZlbnQpIHtcbiAgICB2YXIgaXNTYW1lQ2VsbCA9IGV2ZW50LnJvd0luZGV4ID09PSBhbmNob3JSb3dJbmRleC5jdXJyZW50ICYmIGV2ZW50LmNlbGxJbmRleCA9PT0gYW5jaG9yQ2VsbEluZGV4LmN1cnJlbnQ7XG4gICAgaWYgKGFsbG93Q2VsbERyYWcoZXZlbnQpICYmICFpc1NhbWVDZWxsKSB7XG4gICAgICBvblJhbmdlU2VsZWN0aW9uKGV2ZW50LCAnY2VsbCcpO1xuICAgIH1cbiAgfTtcbiAgdmFyIGJpbmREcmFnU2VsZWN0aW9uRXZlbnRzID0gZnVuY3Rpb24gYmluZERyYWdTZWxlY3Rpb25FdmVudHMoKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25EcmFnU2VsZWN0aW9uTW91c2VNb3ZlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25EcmFnU2VsZWN0aW9uTW91c2VVcCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkcmFnU2VsZWN0aW9uSGVscGVyLmN1cnJlbnQpO1xuICB9O1xuICB2YXIgdW5iaW5kRHJhZ1NlbGVjdGlvbkV2ZW50cyA9IGZ1bmN0aW9uIHVuYmluZERyYWdTZWxlY3Rpb25FdmVudHMoKSB7XG4gICAgb25EcmFnU2VsZWN0aW9uTW91c2VVcCgpO1xuICB9O1xuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChwcm9wcy5mcm96ZW5Sb3cpIHtcbiAgICAgIHVwZGF0ZUZyb3plblJvd1N0aWNreVBvc2l0aW9uKCk7XG4gICAgfVxuICAgIGlmIChwcm9wcy5zY3JvbGxhYmxlICYmIHByb3BzLnJvd0dyb3VwTW9kZSA9PT0gJ3N1YmhlYWRlcicpIHtcbiAgICAgIHVwZGF0ZUZyb3plblJvd0dyb3VwSGVhZGVyU3RpY2t5UG9zaXRpb24oKTtcbiAgICB9XG4gIH0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChwcm9wcy5wYWdpbmF0b3IgJiYgaXNNdWx0aXBsZVNlbGVjdGlvbigpKSB7XG4gICAgICBhbmNob3JSb3dJbmRleC5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gIH0sIFtwcm9wcy5maXJzdF0pO1xuICB1c2VVbm1vdW50RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocHJvcHMuZHJhZ1NlbGVjdGlvbikge1xuICAgICAgdW5iaW5kRHJhZ1NlbGVjdGlvbkV2ZW50cygpO1xuICAgIH1cbiAgfSk7XG4gIHZhciBjcmVhdGVFbXB0eUNvbnRlbnQgPSBmdW5jdGlvbiBjcmVhdGVFbXB0eUNvbnRlbnQoKSB7XG4gICAgaWYgKCFwcm9wcy5sb2FkaW5nKSB7XG4gICAgICB2YXIgY29sU3BhbiA9IGdldENvbHVtbnNMZW5ndGgoKTtcbiAgICAgIHZhciBfY29udGVudCA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMuZW1wdHlNZXNzYWdlLCB7XG4gICAgICAgIHByb3BzOiBwcm9wcy50YWJsZVByb3BzLFxuICAgICAgICBmcm96ZW46IHByb3BzLmZyb3plblJvd1xuICAgICAgfSkgfHwgbG9jYWxlT3B0aW9uKCdlbXB0eU1lc3NhZ2UnKTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZGF0YXRhYmxlLWVtcHR5bWVzc2FnZVwiLFxuICAgICAgICByb2xlOiBcInJvd1wiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIHtcbiAgICAgICAgY29sU3BhbjogY29sU3BhbixcbiAgICAgICAgcm9sZTogXCJjZWxsXCJcbiAgICAgIH0sIF9jb250ZW50KSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICB2YXIgY3JlYXRlR3JvdXBIZWFkZXIgPSBmdW5jdGlvbiBjcmVhdGVHcm91cEhlYWRlcihyb3dEYXRhLCByb3dJbmRleCwgZXhwYW5kZWQsIGNvbFNwYW4pIHtcbiAgICBpZiAoaXNTdWJoZWFkZXJHcm91cGluZyAmJiBzaG91bGRSZW5kZXJSb3dHcm91cEhlYWRlcihwcm9wcy52YWx1ZSwgcm93RGF0YSwgcm93SW5kZXggLSBwcm9wcy5maXJzdCkpIHtcbiAgICAgIHZhciBzdHlsZSA9IHJvd0dyb3VwSGVhZGVyU3R5bGUoKTtcbiAgICAgIHZhciB0b2dnbGVyID0gcHJvcHMuZXhwYW5kYWJsZVJvd0dyb3VwcyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSb3dUb2dnbGVyQnV0dG9uLCB7XG4gICAgICAgIG9uQ2xpY2s6IG9uUm93VG9nZ2xlLFxuICAgICAgICByb3dEYXRhOiByb3dEYXRhLFxuICAgICAgICBleHBhbmRlZDogZXhwYW5kZWQsXG4gICAgICAgIGV4cGFuZGVkUm93SWNvbjogcHJvcHMuZXhwYW5kZWRSb3dJY29uLFxuICAgICAgICBjb2xsYXBzZWRSb3dJY29uOiBwcm9wcy5jb2xsYXBzZWRSb3dJY29uXG4gICAgICB9KTtcbiAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBpbmRleDogcm93SW5kZXgsXG4gICAgICAgIHByb3BzOiBwcm9wcy50YWJsZVByb3BzLFxuICAgICAgICBjdXN0b21SZW5kZXJpbmc6IGZhbHNlXG4gICAgICB9O1xuICAgICAgdmFyIF9jb250ZW50MiA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMucm93R3JvdXBIZWFkZXJUZW1wbGF0ZSwgcm93RGF0YSwgb3B0aW9ucyk7XG5cbiAgICAgIC8vIGNoZWNrIGlmIHRoZSB1c2VyIHdhbnRzIGNvbXBsZXRlIGNvbnRyb2wgb2YgdGhlIHJlbmRlcmluZ1xuICAgICAgaWYgKCFvcHRpb25zLmN1c3RvbVJlbmRlcmluZykge1xuICAgICAgICBfY29udGVudDIgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIHtcbiAgICAgICAgICBjb2xTcGFuOiBjb2xTcGFuXG4gICAgICAgIH0sIHRvZ2dsZXIsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcInAtcm93Z3JvdXAtaGVhZGVyLW5hbWVcIlxuICAgICAgICB9LCBfY29udGVudDIpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtcm93Z3JvdXAtaGVhZGVyXCIsXG4gICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgcm9sZTogXCJyb3dcIlxuICAgICAgfSwgX2NvbnRlbnQyKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIHZhciBjcmVhdGVSb3cgPSBmdW5jdGlvbiBjcmVhdGVSb3cocm93RGF0YSwgcm93SW5kZXgsIGluZGV4LCBleHBhbmRlZCkge1xuICAgIGlmICghcHJvcHMuZXhwYW5kYWJsZVJvd0dyb3VwcyB8fCBleHBhbmRlZCkge1xuICAgICAgdmFyIHNlbGVjdGVkID0gaXNTZWxlY3Rpb25FbmFibGVkKCkgPyBpc1NlbGVjdGVkKHJvd0RhdGEpIDogZmFsc2U7XG4gICAgICB2YXIgY29udGV4dE1lbnVTZWxlY3RlZCA9IGlzQ29udGV4dE1lbnVTZWxlY3RlZChyb3dEYXRhKTtcbiAgICAgIHZhciBfYWxsb3dSb3dTZWxlY3Rpb24gPSBhbGxvd1Jvd1NlbGVjdGlvbigpO1xuICAgICAgdmFyIF9hbGxvd0NlbGxTZWxlY3Rpb24gPSBhbGxvd0NlbGxTZWxlY3Rpb24oKTtcbiAgICAgIHZhciBlZGl0aW5nID0gaXNSb3dFZGl0aW5nKHJvd0RhdGEpO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJvZHlSb3csIHtcbiAgICAgICAgdGFibGVQcm9wczogcHJvcHMudGFibGVQcm9wcyxcbiAgICAgICAgdGFibGVTZWxlY3RvcjogcHJvcHMudGFibGVTZWxlY3RvcixcbiAgICAgICAgdmFsdWU6IHByb3BzLnZhbHVlLFxuICAgICAgICBjb2x1bW5zOiBwcm9wcy5jb2x1bW5zLFxuICAgICAgICByb3dEYXRhOiByb3dEYXRhLFxuICAgICAgICByb3dJbmRleDogcm93SW5kZXgsXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkLFxuICAgICAgICBjb250ZXh0TWVudVNlbGVjdGVkOiBjb250ZXh0TWVudVNlbGVjdGVkLFxuICAgICAgICBvblJvd0NsaWNrOiBvblJvd0NsaWNrLFxuICAgICAgICBvblJvd0RvdWJsZUNsaWNrOiBvblJvd0RvdWJsZUNsaWNrLFxuICAgICAgICBvblJvd1JpZ2h0Q2xpY2s6IG9uUm93UmlnaHRDbGljayxcbiAgICAgICAgb25Sb3dNb3VzZUVudGVyOiBvblJvd01vdXNlRW50ZXIsXG4gICAgICAgIG9uUm93TW91c2VMZWF2ZTogb25Sb3dNb3VzZUxlYXZlLFxuICAgICAgICB0YWJJbmRleDogcHJvcHMudGFiSW5kZXgsXG4gICAgICAgIGlzU2VsZWN0YWJsZTogaXNTZWxlY3RhYmxlLFxuICAgICAgICBvblJvd1RvdWNoRW5kOiBvblJvd1RvdWNoRW5kLFxuICAgICAgICBvblJvd01vdXNlRG93bjogb25Sb3dNb3VzZURvd24sXG4gICAgICAgIG9uUm93TW91c2VVcDogb25Sb3dNb3VzZVVwLFxuICAgICAgICBvblJvd1RvZ2dsZTogb25Sb3dUb2dnbGUsXG4gICAgICAgIG9uUm93RHJhZ1N0YXJ0OiBvblJvd0RyYWdTdGFydCxcbiAgICAgICAgb25Sb3dEcmFnT3Zlcjogb25Sb3dEcmFnT3ZlcixcbiAgICAgICAgb25Sb3dEcmFnTGVhdmU6IG9uUm93RHJhZ0xlYXZlLFxuICAgICAgICBvblJvd0RyYWdFbmQ6IG9uUm93RHJhZ0VuZCxcbiAgICAgICAgb25Sb3dEcm9wOiBvblJvd0Ryb3AsXG4gICAgICAgIG9uUmFkaW9DaGFuZ2U6IG9uUmFkaW9DaGFuZ2UsXG4gICAgICAgIG9uQ2hlY2tib3hDaGFuZ2U6IG9uQ2hlY2tib3hDaGFuZ2UsXG4gICAgICAgIG9uQ2VsbENsaWNrOiBvbkNlbGxDbGljayxcbiAgICAgICAgb25DZWxsTW91c2VEb3duOiBvbkNlbGxNb3VzZURvd24sXG4gICAgICAgIG9uQ2VsbE1vdXNlVXA6IG9uQ2VsbE1vdXNlVXAsXG4gICAgICAgIGVkaXRpbmc6IGVkaXRpbmcsXG4gICAgICAgIGVkaXRpbmdSb3dzOiBwcm9wcy5lZGl0aW5nUm93cyxcbiAgICAgICAgZWRpdGluZ01ldGE6IHByb3BzLmVkaXRpbmdNZXRhLFxuICAgICAgICBlZGl0TW9kZTogcHJvcHMuZWRpdE1vZGUsXG4gICAgICAgIG9uUm93RWRpdENoYW5nZTogcHJvcHMub25Sb3dFZGl0Q2hhbmdlLFxuICAgICAgICBvbkVkaXRpbmdNZXRhQ2hhbmdlOiBwcm9wcy5vbkVkaXRpbmdNZXRhQ2hhbmdlLFxuICAgICAgICBncm91cFJvd3NCeTogcHJvcHMuZ3JvdXBSb3dzQnksXG4gICAgICAgIGNvbXBhcmVTZWxlY3Rpb25CeTogcHJvcHMuY29tcGFyZVNlbGVjdGlvbkJ5LFxuICAgICAgICBkYXRhS2V5OiBwcm9wcy5kYXRhS2V5LFxuICAgICAgICByb3dHcm91cE1vZGU6IHByb3BzLnJvd0dyb3VwTW9kZSxcbiAgICAgICAgb25Sb3dFZGl0SW5pdDogcHJvcHMub25Sb3dFZGl0SW5pdCxcbiAgICAgICAgcm93RWRpdFZhbGlkYXRvcjogcHJvcHMucm93RWRpdFZhbGlkYXRvcixcbiAgICAgICAgb25Sb3dFZGl0U2F2ZTogcHJvcHMub25Sb3dFZGl0U2F2ZSxcbiAgICAgICAgb25Sb3dFZGl0Q29tcGxldGU6IHByb3BzLm9uUm93RWRpdENvbXBsZXRlLFxuICAgICAgICBvblJvd0VkaXRDYW5jZWw6IHByb3BzLm9uUm93RWRpdENhbmNlbCxcbiAgICAgICAgc2VsZWN0aW9uOiBwcm9wcy5zZWxlY3Rpb24sXG4gICAgICAgIGFsbG93Um93U2VsZWN0aW9uOiBfYWxsb3dSb3dTZWxlY3Rpb24sXG4gICAgICAgIGFsbG93Q2VsbFNlbGVjdGlvbjogX2FsbG93Q2VsbFNlbGVjdGlvbixcbiAgICAgICAgc2VsZWN0T25FZGl0OiBwcm9wcy5zZWxlY3RPbkVkaXQsXG4gICAgICAgIHNlbGVjdGlvbk1vZGU6IHByb3BzLnNlbGVjdGlvbk1vZGUsXG4gICAgICAgIHNlbGVjdGlvbk1vZGVJbkNvbHVtbjogcHJvcHMuc2VsZWN0aW9uTW9kZUluQ29sdW1uLFxuICAgICAgICBjZWxsQ2xhc3NOYW1lOiBwcm9wcy5jZWxsQ2xhc3NOYW1lLFxuICAgICAgICByZXNwb25zaXZlTGF5b3V0OiBwcm9wcy5yZXNwb25zaXZlTGF5b3V0LFxuICAgICAgICBmcm96ZW5Sb3c6IHByb3BzLmZyb3plblJvdyxcbiAgICAgICAgc2hvd1NlbGVjdGlvbkVsZW1lbnQ6IHByb3BzLnNob3dTZWxlY3Rpb25FbGVtZW50LFxuICAgICAgICBzaG93Um93UmVvcmRlckVsZW1lbnQ6IHByb3BzLnNob3dSb3dSZW9yZGVyRWxlbWVudCxcbiAgICAgICAgZXhwYW5kZWQ6IGV4cGFuZGVkLFxuICAgICAgICBleHBhbmRlZFJvd0ljb246IHByb3BzLmV4cGFuZGVkUm93SWNvbixcbiAgICAgICAgY29sbGFwc2VkUm93SWNvbjogcHJvcHMuY29sbGFwc2VkUm93SWNvbixcbiAgICAgICAgcm93Q2xhc3NOYW1lOiBwcm9wcy5yb3dDbGFzc05hbWUsXG4gICAgICAgIHZpcnR1YWxTY3JvbGxlck9wdGlvbnM6IHByb3BzLnZpcnR1YWxTY3JvbGxlck9wdGlvbnNcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgdmFyIGNyZWF0ZUV4cGFuc2lvbiA9IGZ1bmN0aW9uIGNyZWF0ZUV4cGFuc2lvbihyb3dEYXRhLCByb3dJbmRleCwgZXhwYW5kZWQsIGNvbFNwYW4pIHtcbiAgICBpZiAoZXhwYW5kZWQgJiYgIShpc1N1YmhlYWRlckdyb3VwaW5nICYmIHByb3BzLmV4cGFuZGFibGVSb3dHcm91cHMpKSB7XG4gICAgICB2YXIgaWQgPSBcIlwiLmNvbmNhdChwcm9wcy50YWJsZVNlbGVjdG9yLCBcIl9jb250ZW50X1wiKS5jb25jYXQocm93SW5kZXgsIFwiX2V4cGFuZGVkXCIpO1xuICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIGluZGV4OiByb3dJbmRleCxcbiAgICAgICAgY3VzdG9tUmVuZGVyaW5nOiBmYWxzZVxuICAgICAgfTtcbiAgICAgIHZhciBfY29udGVudDMgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLnJvd0V4cGFuc2lvblRlbXBsYXRlLCByb3dEYXRhLCBvcHRpb25zKTtcblxuICAgICAgLy8gY2hlY2sgaWYgdGhlIHVzZXIgd2FudHMgY29tcGxldGUgY29udHJvbCBvZiB0aGUgcmVuZGVyaW5nXG4gICAgICBpZiAoIW9wdGlvbnMuY3VzdG9tUmVuZGVyaW5nKSB7XG4gICAgICAgIF9jb250ZW50MyA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwge1xuICAgICAgICAgIHJvbGU6IFwiY2VsbFwiLFxuICAgICAgICAgIGNvbFNwYW46IGNvbFNwYW5cbiAgICAgICAgfSwgX2NvbnRlbnQzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIHtcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICBjbGFzc05hbWU6IFwicC1kYXRhdGFibGUtcm93LWV4cGFuc2lvblwiLFxuICAgICAgICByb2xlOiBcInJvd1wiXG4gICAgICB9LCBfY29udGVudDMpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZUdyb3VwRm9vdGVyID0gZnVuY3Rpb24gY3JlYXRlR3JvdXBGb290ZXIocm93RGF0YSwgcm93SW5kZXgsIGV4cGFuZGVkLCBjb2xTcGFuKSB7XG4gICAgaWYgKGlzU3ViaGVhZGVyR3JvdXBpbmcgJiYgc2hvdWxkUmVuZGVyUm93R3JvdXBGb290ZXIocHJvcHMudmFsdWUsIHJvd0RhdGEsIHJvd0luZGV4IC0gcHJvcHMuZmlyc3QsIGV4cGFuZGVkKSkge1xuICAgICAgdmFyIF9jb250ZW50NCA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMucm93R3JvdXBGb290ZXJUZW1wbGF0ZSwgcm93RGF0YSwge1xuICAgICAgICBpbmRleDogcm93SW5kZXgsXG4gICAgICAgIGNvbFNwYW46IGNvbFNwYW4sXG4gICAgICAgIHByb3BzOiBwcm9wcy50YWJsZVByb3BzXG4gICAgICB9KTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtcm93Z3JvdXAtZm9vdGVyXCIsXG4gICAgICAgIHJvbGU6IFwicm93XCJcbiAgICAgIH0sIF9jb250ZW50NCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICB2YXIgY3JlYXRlQ29udGVudCA9IGZ1bmN0aW9uIGNyZWF0ZUNvbnRlbnQoKSB7XG4gICAgcmV0dXJuIHByb3BzLnZhbHVlICYmIHByb3BzLnZhbHVlLm1hcChmdW5jdGlvbiAocm93RGF0YSwgaW5kZXgpIHtcbiAgICAgIHZhciByb3dJbmRleCA9IGdldFZpcnR1YWxTY3JvbGxlck9wdGlvbignZ2V0SXRlbU9wdGlvbnMnKSA/IGdldFZpcnR1YWxTY3JvbGxlck9wdGlvbignZ2V0SXRlbU9wdGlvbnMnKShpbmRleCkuaW5kZXggOiBwcm9wcy5maXJzdCArIGluZGV4O1xuICAgICAgdmFyIGtleSA9IGdldFJvd0tleShyb3dEYXRhLCByb3dJbmRleCk7XG4gICAgICB2YXIgZXhwYW5kZWQgPSBpc1Jvd0V4cGFuZGVkKHJvd0RhdGEpO1xuICAgICAgdmFyIGNvbFNwYW4gPSBnZXRDb2x1bW5zTGVuZ3RoKCk7XG4gICAgICB2YXIgZ3JvdXBIZWFkZXIgPSBjcmVhdGVHcm91cEhlYWRlcihyb3dEYXRhLCByb3dJbmRleCwgZXhwYW5kZWQsIGNvbFNwYW4pO1xuICAgICAgdmFyIHJvdyA9IGNyZWF0ZVJvdyhyb3dEYXRhLCByb3dJbmRleCwgaW5kZXgsIGV4cGFuZGVkKTtcbiAgICAgIHZhciBleHBhbnNpb24gPSBjcmVhdGVFeHBhbnNpb24ocm93RGF0YSwgcm93SW5kZXgsIGV4cGFuZGVkLCBjb2xTcGFuKTtcbiAgICAgIHZhciBncm91cEZvb3RlciA9IGNyZWF0ZUdyb3VwRm9vdGVyKHJvd0RhdGEsIHJvd0luZGV4LCBleHBhbmRlZCwgY29sU3Bhbik7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIHtcbiAgICAgICAga2V5OiBrZXlcbiAgICAgIH0sIGdyb3VwSGVhZGVyLCByb3csIGV4cGFuc2lvbiwgZ3JvdXBGb290ZXIpO1xuICAgIH0pO1xuICB9O1xuICB2YXIgY29udGVudCA9IHByb3BzLmVtcHR5ID8gY3JlYXRlRW1wdHlDb250ZW50KCkgOiBjcmVhdGVDb250ZW50KCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRib2R5XCIsIHtcbiAgICByZWY6IHJlZkNhbGxiYWNrLFxuICAgIHN0eWxlOiBwcm9wcy5zdHlsZSxcbiAgICBjbGFzc05hbWU6IHByb3BzLmNsYXNzTmFtZVxuICB9LCBjb250ZW50KTtcbn0pKTtcblRhYmxlQm9keS5kaXNwbGF5TmFtZSA9ICdUYWJsZUJvZHknO1xuXG52YXIgQ29sdW1uR3JvdXBCYXNlID0ge1xuICBkZWZhdWx0UHJvcHM6IHtcbiAgICBfX1RZUEU6ICdDb2x1bW5Hcm91cCcsXG4gICAgY2hpbGRyZW46IHVuZGVmaW5lZFxuICB9LFxuICBnZXRDUHJvcDogZnVuY3Rpb24gZ2V0Q1Byb3AoZ3JvdXAsIG5hbWUpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0Q29tcG9uZW50UHJvcChncm91cCwgbmFtZSwgQ29sdW1uR3JvdXBCYXNlLmRlZmF1bHRQcm9wcyk7XG4gIH0sXG4gIGdldENQcm9wczogZnVuY3Rpb24gZ2V0Q1Byb3BzKGdyb3VwKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldENvbXBvbmVudFByb3BzKGdyb3VwLCBDb2x1bW5Hcm91cEJhc2UuZGVmYXVsdFByb3BzKTtcbiAgfVxufTtcblxudmFyIFJvd0Jhc2UgPSB7XG4gIGRlZmF1bHRQcm9wczoge1xuICAgIF9fVFlQRTogJ1JvdycsXG4gICAgc3R5bGU6IG51bGwsXG4gICAgY2xhc3NOYW1lOiBudWxsLFxuICAgIGNoaWxkcmVuOiB1bmRlZmluZWRcbiAgfSxcbiAgZ2V0UHJvcHM6IGZ1bmN0aW9uIGdldFByb3BzKHByb3BzKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldE1lcmdlZFByb3BzKHByb3BzLCBSb3dCYXNlLmRlZmF1bHRQcm9wcyk7XG4gIH0sXG4gIGdldE90aGVyUHJvcHM6IGZ1bmN0aW9uIGdldE90aGVyUHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0RGlmZlByb3BzKHByb3BzLCBSb3dCYXNlLmRlZmF1bHRQcm9wcyk7XG4gIH0sXG4gIGdldENQcm9wOiBmdW5jdGlvbiBnZXRDUHJvcChyb3csIG5hbWUpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0Q29tcG9uZW50UHJvcChyb3csIG5hbWUsIFJvd0Jhc2UuZGVmYXVsdFByb3BzKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gb3duS2V5cyQ0KG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQ0KHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzJDQoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyQ0KE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciBGb290ZXJDZWxsID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZSh7fSksXG4gICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgc3R5bGVPYmplY3RTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgc2V0U3R5bGVPYmplY3RTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG4gIHZhciBlbGVtZW50UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgZ2V0Q29sdW1uUHJvcCA9IGZ1bmN0aW9uIGdldENvbHVtblByb3AobmFtZSkge1xuICAgIHJldHVybiBDb2x1bW5CYXNlLmdldENQcm9wKHByb3BzLmNvbHVtbiwgbmFtZSk7XG4gIH07XG4gIHZhciBnZXRTdHlsZSA9IGZ1bmN0aW9uIGdldFN0eWxlKCkge1xuICAgIHZhciBmb290ZXJTdHlsZSA9IGdldENvbHVtblByb3AoJ2Zvb3RlclN0eWxlJyk7XG4gICAgdmFyIGNvbHVtblN0eWxlID0gZ2V0Q29sdW1uUHJvcCgnc3R5bGUnKTtcbiAgICByZXR1cm4gZ2V0Q29sdW1uUHJvcCgnZnJvemVuJykgPyBPYmplY3QuYXNzaWduKHt9LCBjb2x1bW5TdHlsZSwgZm9vdGVyU3R5bGUsIHN0eWxlT2JqZWN0U3RhdGUpIDogT2JqZWN0LmFzc2lnbih7fSwgY29sdW1uU3R5bGUsIGZvb3RlclN0eWxlKTtcbiAgfTtcbiAgdmFyIHVwZGF0ZVN0aWNreVBvc2l0aW9uID0gZnVuY3Rpb24gdXBkYXRlU3RpY2t5UG9zaXRpb24oKSB7XG4gICAgaWYgKGdldENvbHVtblByb3AoJ2Zyb3plbicpKSB7XG4gICAgICB2YXIgc3R5bGVPYmplY3QgPSBfb2JqZWN0U3ByZWFkJDQoe30sIHN0eWxlT2JqZWN0U3RhdGUpO1xuICAgICAgdmFyIF9hbGlnbiA9IGdldENvbHVtblByb3AoJ2FsaWduRnJvemVuJyk7XG4gICAgICBpZiAoX2FsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgIHZhciByaWdodCA9IDA7XG4gICAgICAgIHZhciBuZXh0ID0gZWxlbWVudFJlZi5jdXJyZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICByaWdodCA9IERvbUhhbmRsZXIuZ2V0T3V0ZXJXaWR0aChuZXh0KSArIHBhcnNlRmxvYXQobmV4dC5zdHlsZS5yaWdodCB8fCAwKTtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZU9iamVjdFsncmlnaHQnXSA9IHJpZ2h0ICsgJ3B4JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBsZWZ0ID0gMDtcbiAgICAgICAgdmFyIHByZXYgPSBlbGVtZW50UmVmLmN1cnJlbnQucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICBsZWZ0ID0gRG9tSGFuZGxlci5nZXRPdXRlcldpZHRoKHByZXYpICsgcGFyc2VGbG9hdChwcmV2LnN0eWxlLmxlZnQgfHwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgc3R5bGVPYmplY3RbJ2xlZnQnXSA9IGxlZnQgKyAncHgnO1xuICAgICAgfVxuICAgICAgdmFyIGlzU2FtZVN0eWxlID0gc3R5bGVPYmplY3RTdGF0ZVsnbGVmdCddID09PSBzdHlsZU9iamVjdFsnbGVmdCddICYmIHN0eWxlT2JqZWN0U3RhdGVbJ3JpZ2h0J10gPT09IHN0eWxlT2JqZWN0WydyaWdodCddO1xuICAgICAgIWlzU2FtZVN0eWxlICYmIHNldFN0eWxlT2JqZWN0U3RhdGUoc3R5bGVPYmplY3QpO1xuICAgIH1cbiAgfTtcbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZ2V0Q29sdW1uUHJvcCgnZnJvemVuJykpIHtcbiAgICAgIHVwZGF0ZVN0aWNreVBvc2l0aW9uKCk7XG4gICAgfVxuICB9KTtcbiAgdmFyIHN0eWxlID0gZ2V0U3R5bGUoKTtcbiAgdmFyIGFsaWduID0gZ2V0Q29sdW1uUHJvcCgnYWxpZ24nKTtcbiAgdmFyIGNvbFNwYW4gPSBnZXRDb2x1bW5Qcm9wKCdjb2xTcGFuJyk7XG4gIHZhciByb3dTcGFuID0gZ2V0Q29sdW1uUHJvcCgncm93U3BhbicpO1xuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcyhnZXRDb2x1bW5Qcm9wKCdmb290ZXJDbGFzc05hbWUnKSwgZ2V0Q29sdW1uUHJvcCgnY2xhc3NOYW1lJyksIF9kZWZpbmVQcm9wZXJ0eSh7XG4gICAgJ3AtZnJvemVuLWNvbHVtbic6IGdldENvbHVtblByb3AoJ2Zyb3plbicpXG4gIH0sIFwicC1hbGlnbi1cIi5jb25jYXQoYWxpZ24pLCAhIWFsaWduKSk7XG4gIHZhciBjb250ZW50ID0gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChnZXRDb2x1bW5Qcm9wKCdmb290ZXInKSwge1xuICAgIHByb3BzOiBwcm9wcy50YWJsZVByb3BzXG4gIH0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCB7XG4gICAgcmVmOiBlbGVtZW50UmVmLFxuICAgIHN0eWxlOiBzdHlsZSxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICByb2xlOiBcImNlbGxcIixcbiAgICBjb2xTcGFuOiBjb2xTcGFuLFxuICAgIHJvd1NwYW46IHJvd1NwYW5cbiAgfSwgY29udGVudCk7XG59KTtcbkZvb3RlckNlbGwuZGlzcGxheU5hbWUgPSAnRm9vdGVyQ2VsbCc7XG5cbnZhciBUYWJsZUZvb3RlciA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgaGFzRm9vdGVyID0gZnVuY3Rpb24gaGFzRm9vdGVyKCkge1xuICAgIHJldHVybiBwcm9wcy5mb290ZXJDb2x1bW5Hcm91cCA/IHRydWUgOiBwcm9wcy5jb2x1bW5zID8gcHJvcHMuY29sdW1ucy5zb21lKGZ1bmN0aW9uIChjb2wpIHtcbiAgICAgIHJldHVybiBjb2wgJiYgZ2V0Q29sdW1uUHJvcChjb2wsICdmb290ZXInKTtcbiAgICB9KSA6IGZhbHNlO1xuICB9O1xuICB2YXIgZ2V0Q29sdW1uUHJvcCA9IGZ1bmN0aW9uIGdldENvbHVtblByb3AoY29sdW1uLCBuYW1lKSB7XG4gICAgcmV0dXJuIENvbHVtbkJhc2UuZ2V0Q1Byb3AoY29sdW1uLCBuYW1lKTtcbiAgfTtcbiAgdmFyIGNyZWF0ZUdyb3VwRm9vdGVyQ2VsbHMgPSBmdW5jdGlvbiBjcmVhdGVHcm91cEZvb3RlckNlbGxzKHJvdykge1xuICAgIHZhciBjb2x1bW5zID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShSb3dCYXNlLmdldENQcm9wKHJvdywgJ2NoaWxkcmVuJykpO1xuICAgIHJldHVybiBjcmVhdGVGb290ZXJDZWxscyhjb2x1bW5zKTtcbiAgfTtcbiAgdmFyIGNyZWF0ZUZvb3RlckNlbGxzID0gZnVuY3Rpb24gY3JlYXRlRm9vdGVyQ2VsbHMoY29sdW1ucykge1xuICAgIHJldHVybiBSZWFjdC5DaGlsZHJlbi5tYXAoY29sdW1ucywgZnVuY3Rpb24gKGNvbCwgaSkge1xuICAgICAgdmFyIGlzVmlzaWJsZSA9IGNvbCA/ICFnZXRDb2x1bW5Qcm9wKGNvbCwgJ2hpZGRlbicpIDogdHJ1ZTtcbiAgICAgIHZhciBrZXkgPSBjb2wgPyBnZXRDb2x1bW5Qcm9wKGNvbCwgJ2NvbHVtbktleScpIHx8IGdldENvbHVtblByb3AoY29sLCAnZmllbGQnKSB8fCBpIDogaTtcbiAgICAgIHJldHVybiBpc1Zpc2libGUgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9vdGVyQ2VsbCwge1xuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgdGFibGVQcm9wczogcHJvcHMudGFibGVQcm9wcyxcbiAgICAgICAgY29sdW1uOiBjb2xcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuICB2YXIgY3JlYXRlQ29udGVudCA9IGZ1bmN0aW9uIGNyZWF0ZUNvbnRlbnQoKSB7XG4gICAgaWYgKHByb3BzLmZvb3RlckNvbHVtbkdyb3VwKSB7XG4gICAgICB2YXIgcm93cyA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkoQ29sdW1uR3JvdXBCYXNlLmdldENQcm9wKHByb3BzLmZvb3RlckNvbHVtbkdyb3VwLCAnY2hpbGRyZW4nKSk7XG4gICAgICByZXR1cm4gcm93cy5tYXAoZnVuY3Rpb24gKHJvdywgaSkge1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0clwiLCB7XG4gICAgICAgICAga2V5OiBpLFxuICAgICAgICAgIHJvbGU6IFwicm93XCJcbiAgICAgICAgfSwgY3JlYXRlR3JvdXBGb290ZXJDZWxscyhyb3cpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0clwiLCB7XG4gICAgICByb2xlOiBcInJvd1wiXG4gICAgfSwgY3JlYXRlRm9vdGVyQ2VsbHMocHJvcHMuY29sdW1ucykpO1xuICB9O1xuICBpZiAoaGFzRm9vdGVyKCkpIHtcbiAgICB2YXIgY29udGVudCA9IGNyZWF0ZUNvbnRlbnQoKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0Zm9vdFwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1kYXRhdGFibGUtdGZvb3RcIlxuICAgIH0sIGNvbnRlbnQpO1xuICB9XG4gIHJldHVybiBudWxsO1xufSk7XG5UYWJsZUZvb3Rlci5kaXNwbGF5TmFtZSA9ICdUYWJsZUZvb3Rlcic7XG5cbmZ1bmN0aW9uIG93bktleXMkMyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkMyh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyQzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMkMyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG52YXIgQ29sdW1uRmlsdGVyID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgb3ZlcmxheVZpc2libGVTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgc2V0T3ZlcmxheVZpc2libGVTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG4gIHZhciBvdmVybGF5UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgaWNvblJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHNlbGZDbGljayA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIHZhciBvdmVybGF5RXZlbnRMaXN0ZW5lciA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGdldENvbHVtblByb3AgPSBmdW5jdGlvbiBnZXRDb2x1bW5Qcm9wKG5hbWUpIHtcbiAgICByZXR1cm4gQ29sdW1uQmFzZS5nZXRDUHJvcChwcm9wcy5jb2x1bW4sIG5hbWUpO1xuICB9O1xuICB2YXIgZmllbGQgPSBnZXRDb2x1bW5Qcm9wKCdmaWx0ZXJGaWVsZCcpIHx8IGdldENvbHVtblByb3AoJ2ZpZWxkJyk7XG4gIHZhciBmaWx0ZXJNb2RlbCA9IHByb3BzLmZpbHRlcnNbZmllbGRdO1xuICB2YXIgZmlsdGVyU3RvcmVNb2RlbCA9IHByb3BzLmZpbHRlcnNTdG9yZSAmJiBwcm9wcy5maWx0ZXJzU3RvcmVbZmllbGRdO1xuICB2YXIgX3VzZU92ZXJsYXlMaXN0ZW5lciA9IHVzZU92ZXJsYXlMaXN0ZW5lcih7XG4gICAgICB0YXJnZXQ6IGljb25SZWYsXG4gICAgICBvdmVybGF5OiBvdmVybGF5UmVmLFxuICAgICAgbGlzdGVuZXI6IGZ1bmN0aW9uIGxpc3RlbmVyKGV2ZW50LCBfcmVmKSB7XG4gICAgICAgIHZhciB0eXBlID0gX3JlZi50eXBlLFxuICAgICAgICAgIHZhbGlkID0gX3JlZi52YWxpZDtcbiAgICAgICAgaWYgKHZhbGlkKSB7XG4gICAgICAgICAgdHlwZSA9PT0gJ291dHNpZGUnID8gIXNlbGZDbGljay5jdXJyZW50ICYmICFpc1RhcmdldENsaWNrZWQoZXZlbnQudGFyZ2V0KSAmJiBoaWRlKCkgOiBoaWRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZkNsaWNrLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIH0sXG4gICAgICB3aGVuOiBvdmVybGF5VmlzaWJsZVN0YXRlXG4gICAgfSksXG4gICAgX3VzZU92ZXJsYXlMaXN0ZW5lcjIgPSBfc2xpY2VkVG9BcnJheShfdXNlT3ZlcmxheUxpc3RlbmVyLCAyKSxcbiAgICBiaW5kT3ZlcmxheUxpc3RlbmVyID0gX3VzZU92ZXJsYXlMaXN0ZW5lcjJbMF0sXG4gICAgdW5iaW5kT3ZlcmxheUxpc3RlbmVyID0gX3VzZU92ZXJsYXlMaXN0ZW5lcjJbMV07XG4gIHZhciBoYXNGaWx0ZXIgPSBmdW5jdGlvbiBoYXNGaWx0ZXIoKSB7XG4gICAgaWYgKCFmaWx0ZXJTdG9yZU1vZGVsIHx8ICFmaWx0ZXJNb2RlbCkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBmaWx0ZXJTdG9yZU1vZGVsLm9wZXJhdG9yID8gIWlzRmlsdGVyQmxhbmsoZmlsdGVyTW9kZWwuY29uc3RyYWludHNbMF0udmFsdWUpIDogIWlzRmlsdGVyQmxhbmsoZmlsdGVyTW9kZWwudmFsdWUpO1xuICB9O1xuICB2YXIgaGFzUm93RmlsdGVyID0gZnVuY3Rpb24gaGFzUm93RmlsdGVyKCkge1xuICAgIHJldHVybiBmaWx0ZXJNb2RlbCAmJiAhaXNGaWx0ZXJCbGFuayhmaWx0ZXJNb2RlbC52YWx1ZSk7XG4gIH07XG4gIHZhciBpc0ZpbHRlckJsYW5rID0gZnVuY3Rpb24gaXNGaWx0ZXJCbGFuayhmaWx0ZXIpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuaXNFbXB0eShmaWx0ZXIpO1xuICB9O1xuICB2YXIgaXNSb3dNYXRjaE1vZGVTZWxlY3RlZCA9IGZ1bmN0aW9uIGlzUm93TWF0Y2hNb2RlU2VsZWN0ZWQobWF0Y2hNb2RlKSB7XG4gICAgcmV0dXJuIGZpbHRlck1vZGVsICYmIGZpbHRlck1vZGVsLm1hdGNoTW9kZSA9PT0gbWF0Y2hNb2RlO1xuICB9O1xuICB2YXIgc2hvd01lbnVCdXR0b24gPSBmdW5jdGlvbiBzaG93TWVudUJ1dHRvbigpIHtcbiAgICByZXR1cm4gZ2V0Q29sdW1uUHJvcCgnc2hvd0ZpbHRlck1lbnUnKSAmJiAocHJvcHMuZGlzcGxheSA9PT0gJ3JvdycgPyBnZXRDb2x1bW5Qcm9wKCdkYXRhVHlwZScpICE9PSAnYm9vbGVhbicgOiB0cnVlKTtcbiAgfTtcbiAgdmFyIG1hdGNoTW9kZXMgPSBmdW5jdGlvbiBtYXRjaE1vZGVzKCkge1xuICAgIHJldHVybiBnZXRDb2x1bW5Qcm9wKCdmaWx0ZXJNYXRjaE1vZGVPcHRpb25zJykgfHwgUHJpbWVSZWFjdC5maWx0ZXJNYXRjaE1vZGVPcHRpb25zW2ZpbmREYXRhVHlwZSgpXS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGFiZWw6IGxvY2FsZU9wdGlvbihrZXkpLFxuICAgICAgICB2YWx1ZToga2V5XG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xuICB2YXIgaXNTaG93TWF0Y2hNb2RlcyA9IGZ1bmN0aW9uIGlzU2hvd01hdGNoTW9kZXMoKSB7XG4gICAgcmV0dXJuIGdldENvbHVtblByb3AoJ2RhdGFUeXBlJykgIT09ICdib29sZWFuJyAmJiBnZXRDb2x1bW5Qcm9wKCdzaG93RmlsdGVyTWF0Y2hNb2RlcycpICYmIG1hdGNoTW9kZXMoKSAmJiBnZXRDb2x1bW5Qcm9wKCdzaG93RmlsdGVyTWVudU9wdGlvbnMnKTtcbiAgfTtcbiAgdmFyIGlzU2hvd09wZXJhdG9yID0gZnVuY3Rpb24gaXNTaG93T3BlcmF0b3IoKSB7XG4gICAgcmV0dXJuIGdldENvbHVtblByb3AoJ3Nob3dGaWx0ZXJPcGVyYXRvcicpICYmIGZpbHRlck1vZGVsICYmIGZpbHRlck1vZGVsLm9wZXJhdG9yICYmIGdldENvbHVtblByb3AoJ3Nob3dGaWx0ZXJNZW51T3B0aW9ucycpO1xuICB9O1xuICB2YXIgc2hvd1JlbW92ZUljb24gPSBmdW5jdGlvbiBzaG93UmVtb3ZlSWNvbigpIHtcbiAgICByZXR1cm4gZmllbGRDb25zdHJhaW50cygpLmxlbmd0aCA+IDE7XG4gIH07XG4gIHZhciBpc1Nob3dBZGRDb25zdHJhaW50ID0gZnVuY3Rpb24gaXNTaG93QWRkQ29uc3RyYWludCgpIHtcbiAgICByZXR1cm4gZ2V0Q29sdW1uUHJvcCgnc2hvd0FkZEJ1dHRvbicpICYmIGZpbHRlck1vZGVsICYmIGZpbHRlck1vZGVsLm9wZXJhdG9yICYmIGZpZWxkQ29uc3RyYWludHMoKSAmJiBmaWVsZENvbnN0cmFpbnRzKCkubGVuZ3RoIDwgZ2V0Q29sdW1uUHJvcCgnbWF4Q29uc3RyYWludHMnKSAmJiBnZXRDb2x1bW5Qcm9wKCdzaG93RmlsdGVyTWVudU9wdGlvbnMnKTtcbiAgfTtcbiAgdmFyIGlzT3V0c2lkZUNsaWNrZWQgPSBmdW5jdGlvbiBpc091dHNpZGVDbGlja2VkKHRhcmdldCkge1xuICAgIHJldHVybiAhaXNUYXJnZXRDbGlja2VkKHRhcmdldCkgJiYgb3ZlcmxheVJlZi5jdXJyZW50ICYmICEob3ZlcmxheVJlZi5jdXJyZW50LmlzU2FtZU5vZGUodGFyZ2V0KSB8fCBvdmVybGF5UmVmLmN1cnJlbnQuY29udGFpbnModGFyZ2V0KSk7XG4gIH07XG4gIHZhciBpc1RhcmdldENsaWNrZWQgPSBmdW5jdGlvbiBpc1RhcmdldENsaWNrZWQodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGljb25SZWYuY3VycmVudCAmJiAoaWNvblJlZi5jdXJyZW50LmlzU2FtZU5vZGUodGFyZ2V0KSB8fCBpY29uUmVmLmN1cnJlbnQuY29udGFpbnModGFyZ2V0KSk7XG4gIH07XG4gIHZhciBnZXREZWZhdWx0Q29uc3RyYWludCA9IGZ1bmN0aW9uIGdldERlZmF1bHRDb25zdHJhaW50KCkge1xuICAgIGlmIChmaWx0ZXJTdG9yZU1vZGVsKSB7XG4gICAgICBpZiAoZmlsdGVyU3RvcmVNb2RlbC5vcGVyYXRvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1hdGNoTW9kZTogZmlsdGVyU3RvcmVNb2RlbC5jb25zdHJhaW50c1swXS5tYXRjaE1vZGUsXG4gICAgICAgICAgb3BlcmF0b3I6IGZpbHRlclN0b3JlTW9kZWwub3BlcmF0b3JcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWF0Y2hNb2RlOiBmaWx0ZXJTdG9yZU1vZGVsLm1hdGNoTW9kZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIGZpbmREYXRhVHlwZSA9IGZ1bmN0aW9uIGZpbmREYXRhVHlwZSgpIHtcbiAgICB2YXIgZGF0YVR5cGUgPSBnZXRDb2x1bW5Qcm9wKCdkYXRhVHlwZScpO1xuICAgIHZhciBtYXRjaE1vZGUgPSBnZXRDb2x1bW5Qcm9wKCdmaWx0ZXJNYXRjaE1vZGUnKTtcbiAgICB2YXIgaGFzTWF0Y2hNb2RlID0gZnVuY3Rpb24gaGFzTWF0Y2hNb2RlKGtleSkge1xuICAgICAgcmV0dXJuIFByaW1lUmVhY3QuZmlsdGVyTWF0Y2hNb2RlT3B0aW9uc1trZXldLnNvbWUoZnVuY3Rpb24gKG1vZGUpIHtcbiAgICAgICAgcmV0dXJuIG1vZGUgPT09IG1hdGNoTW9kZTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgaWYgKG1hdGNoTW9kZSA9PT0gJ2N1c3RvbScgJiYgIWhhc01hdGNoTW9kZShkYXRhVHlwZSkpIHtcbiAgICAgIFByaW1lUmVhY3QuZmlsdGVyTWF0Y2hNb2RlT3B0aW9uc1tkYXRhVHlwZV0ucHVzaChGaWx0ZXJNYXRjaE1vZGUuQ1VTVE9NKTtcbiAgICAgIHJldHVybiBkYXRhVHlwZTtcbiAgICB9IGVsc2UgaWYgKG1hdGNoTW9kZSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKFByaW1lUmVhY3QuZmlsdGVyTWF0Y2hNb2RlT3B0aW9ucykuZmluZChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBoYXNNYXRjaE1vZGUoa2V5KTtcbiAgICAgIH0pIHx8IGRhdGFUeXBlO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YVR5cGU7XG4gIH07XG4gIHZhciBjbGVhckZpbHRlciA9IGZ1bmN0aW9uIGNsZWFyRmlsdGVyKCkge1xuICAgIHZhciBmaWx0ZXJDbGVhckNhbGxiYWNrID0gZ2V0Q29sdW1uUHJvcCgnb25GaWx0ZXJDbGVhcicpO1xuICAgIHZhciBkZWZhdWx0Q29uc3RyYWludCA9IGdldERlZmF1bHRDb25zdHJhaW50KCk7XG4gICAgdmFyIGZpbHRlcnMgPSBfb2JqZWN0U3ByZWFkJDMoe30sIHByb3BzLmZpbHRlcnMpO1xuICAgIGlmIChmaWx0ZXJzW2ZpZWxkXS5vcGVyYXRvcikge1xuICAgICAgZmlsdGVyc1tmaWVsZF0uY29uc3RyYWludHMuc3BsaWNlKDEpO1xuICAgICAgZmlsdGVyc1tmaWVsZF0ub3BlcmF0b3IgPSBkZWZhdWx0Q29uc3RyYWludC5vcGVyYXRvcjtcbiAgICAgIGZpbHRlcnNbZmllbGRdLmNvbnN0cmFpbnRzWzBdID0ge1xuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgbWF0Y2hNb2RlOiBkZWZhdWx0Q29uc3RyYWludC5tYXRjaE1vZGVcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbHRlcnNbZmllbGRdLnZhbHVlID0gbnVsbDtcbiAgICAgIGZpbHRlcnNbZmllbGRdLm1hdGNoTW9kZSA9IGRlZmF1bHRDb25zdHJhaW50Lm1hdGNoTW9kZTtcbiAgICB9XG4gICAgZmlsdGVyQ2xlYXJDYWxsYmFjayAmJiBmaWx0ZXJDbGVhckNhbGxiYWNrKCk7XG4gICAgcHJvcHMub25GaWx0ZXJDaGFuZ2UoZmlsdGVycyk7XG4gICAgcHJvcHMub25GaWx0ZXJBcHBseSgpO1xuICAgIGhpZGUoKTtcbiAgfTtcbiAgdmFyIGFwcGx5RmlsdGVyID0gZnVuY3Rpb24gYXBwbHlGaWx0ZXIoKSB7XG4gICAgdmFyIGZpbHRlckFwcGx5Q2xpY2tDYWxsYmFjayA9IGdldENvbHVtblByb3AoJ29uRmlsdGVyQXBwbHlDbGljaycpO1xuICAgIGZpbHRlckFwcGx5Q2xpY2tDYWxsYmFjayAmJiBmaWx0ZXJBcHBseUNsaWNrQ2FsbGJhY2soe1xuICAgICAgZmllbGQ6IGZpZWxkLFxuICAgICAgY29uc3RyYWludHM6IGZpbHRlck1vZGVsXG4gICAgfSk7XG4gICAgcHJvcHMub25GaWx0ZXJBcHBseSgpO1xuICAgIGhpZGUoKTtcbiAgfTtcbiAgdmFyIHRvZ2dsZU1lbnUgPSBmdW5jdGlvbiB0b2dnbGVNZW51KCkge1xuICAgIHNldE92ZXJsYXlWaXNpYmxlU3RhdGUoZnVuY3Rpb24gKHByZXZWaXNpYmxlKSB7XG4gICAgICByZXR1cm4gIXByZXZWaXNpYmxlO1xuICAgIH0pO1xuICB9O1xuICB2YXIgb25Ub2dnbGVCdXR0b25LZXlEb3duID0gZnVuY3Rpb24gb25Ub2dnbGVCdXR0b25LZXlEb3duKGV2ZW50KSB7XG4gICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgIGNhc2UgJ0VzY2FwZSc6XG4gICAgICBjYXNlICdUYWInOlxuICAgICAgICBoaWRlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgaWYgKG92ZXJsYXlWaXNpYmxlU3RhdGUpIHtcbiAgICAgICAgICB2YXIgZm9jdXNhYmxlID0gRG9tSGFuZGxlci5nZXRGaXJzdEZvY3VzYWJsZUVsZW1lbnQob3ZlcmxheVJlZi5jdXJyZW50KTtcbiAgICAgICAgICBmb2N1c2FibGUgJiYgZm9jdXNhYmxlLmZvY3VzKCk7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5hbHRLZXkpIHtcbiAgICAgICAgICBzZXRPdmVybGF5VmlzaWJsZVN0YXRlKHRydWUpO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuICB2YXIgb25Db250ZW50S2V5RG93biA9IGZ1bmN0aW9uIG9uQ29udGVudEtleURvd24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaGlkZSgpO1xuICAgICAgaWNvblJlZi5jdXJyZW50ICYmIGljb25SZWYuY3VycmVudC5mb2N1cygpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uSW5wdXRDaGFuZ2UgPSBmdW5jdGlvbiBvbklucHV0Q2hhbmdlKGV2ZW50LCBpbmRleCkge1xuICAgIHZhciBmaWx0ZXJzID0gX29iamVjdFNwcmVhZCQzKHt9LCBwcm9wcy5maWx0ZXJzKTtcbiAgICB2YXIgdmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgaWYgKHByb3BzLmRpc3BsYXkgPT09ICdtZW51Jykge1xuICAgICAgZmlsdGVyc1tmaWVsZF0uY29uc3RyYWludHNbaW5kZXhdLnZhbHVlID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbHRlcnNbZmllbGRdLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIHByb3BzLm9uRmlsdGVyQ2hhbmdlKGZpbHRlcnMpO1xuICAgIGlmICghZ2V0Q29sdW1uUHJvcCgnc2hvd0FwcGx5QnV0dG9uJykgfHwgcHJvcHMuZGlzcGxheSA9PT0gJ3JvdycpIHtcbiAgICAgIHByb3BzLm9uRmlsdGVyQXBwbHkoKTtcbiAgICB9XG4gIH07XG4gIHZhciBvbklucHV0S2V5ZG93biA9IGZ1bmN0aW9uIG9uSW5wdXRLZXlkb3duKGV2ZW50LCBfaW5kZXgpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICBpZiAoIWdldENvbHVtblByb3AoJ3Nob3dBcHBseUJ1dHRvbicpIHx8IHByb3BzLmRpc3BsYXkgPT09ICdtZW51Jykge1xuICAgICAgICBhcHBseUZpbHRlcigpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIG9uUm93TWF0Y2hNb2RlQ2hhbmdlID0gZnVuY3Rpb24gb25Sb3dNYXRjaE1vZGVDaGFuZ2UobWF0Y2hNb2RlKSB7XG4gICAgdmFyIGZpbHRlck1hdGNoTW9kZUNoYW5nZUNhbGxiYWNrID0gZ2V0Q29sdW1uUHJvcCgnb25GaWx0ZXJNYXRjaE1vZGVDaGFuZ2UnKTtcbiAgICB2YXIgZmlsdGVycyA9IF9vYmplY3RTcHJlYWQkMyh7fSwgcHJvcHMuZmlsdGVycyk7XG4gICAgZmlsdGVyc1tmaWVsZF0ubWF0Y2hNb2RlID0gbWF0Y2hNb2RlO1xuICAgIGZpbHRlck1hdGNoTW9kZUNoYW5nZUNhbGxiYWNrICYmIGZpbHRlck1hdGNoTW9kZUNoYW5nZUNhbGxiYWNrKHtcbiAgICAgIGZpZWxkOiBmaWVsZCxcbiAgICAgIG1hdGNoTW9kZTogbWF0Y2hNb2RlXG4gICAgfSk7XG4gICAgcHJvcHMub25GaWx0ZXJDaGFuZ2UoZmlsdGVycyk7XG4gICAgcHJvcHMub25GaWx0ZXJBcHBseSgpO1xuICAgIGhpZGUoKTtcbiAgfTtcbiAgdmFyIG9uUm93TWF0Y2hNb2RlS2V5RG93biA9IGZ1bmN0aW9uIG9uUm93TWF0Y2hNb2RlS2V5RG93bihldmVudCwgbWF0Y2hNb2RlLCBjbGVhcikge1xuICAgIHZhciBpdGVtID0gZXZlbnQudGFyZ2V0O1xuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICB2YXIgbmV4dEl0ZW0gPSBmaW5kTmV4dEl0ZW0oaXRlbSk7XG4gICAgICAgIGlmIChuZXh0SXRlbSkge1xuICAgICAgICAgIGl0ZW0ucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xuICAgICAgICAgIG5leHRJdGVtLnRhYkluZGV4ID0gMDtcbiAgICAgICAgICBuZXh0SXRlbS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgIHZhciBwcmV2SXRlbSA9IGZpbmRQcmV2SXRlbShpdGVtKTtcbiAgICAgICAgaWYgKHByZXZJdGVtKSB7XG4gICAgICAgICAgaXRlbS5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG4gICAgICAgICAgcHJldkl0ZW0udGFiSW5kZXggPSAwO1xuICAgICAgICAgIHByZXZJdGVtLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdFbnRlcic6XG4gICAgICAgIGNsZWFyID8gY2xlYXJGaWx0ZXIoKSA6IG9uUm93TWF0Y2hNb2RlQ2hhbmdlKG1hdGNoTW9kZS52YWx1ZSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uT3BlcmF0b3JDaGFuZ2UgPSBmdW5jdGlvbiBvbk9wZXJhdG9yQ2hhbmdlKGUpIHtcbiAgICB2YXIgZmlsdGVyT3BlcmF0aW9uQ2hhbmdlQ2FsbGJhY2sgPSBnZXRDb2x1bW5Qcm9wKCdvbkZpbHRlck9wZXJhdG9yQ2hhbmdlJyk7XG4gICAgdmFyIHZhbHVlID0gZS52YWx1ZTtcbiAgICB2YXIgZmlsdGVycyA9IF9vYmplY3RTcHJlYWQkMyh7fSwgcHJvcHMuZmlsdGVycyk7XG4gICAgZmlsdGVyc1tmaWVsZF0ub3BlcmF0b3IgPSB2YWx1ZTtcbiAgICBwcm9wcy5vbkZpbHRlckNoYW5nZShmaWx0ZXJzKTtcbiAgICBmaWx0ZXJPcGVyYXRpb25DaGFuZ2VDYWxsYmFjayAmJiBmaWx0ZXJPcGVyYXRpb25DaGFuZ2VDYWxsYmFjayh7XG4gICAgICBmaWVsZDogZmllbGQsXG4gICAgICBvcGVyYXRvcjogdmFsdWVcbiAgICB9KTtcbiAgICBpZiAoIWdldENvbHVtblByb3AoJ3Nob3dBcHBseUJ1dHRvbicpKSB7XG4gICAgICBwcm9wcy5vbkZpbHRlckFwcGx5KCk7XG4gICAgfVxuICB9O1xuICB2YXIgb25NZW51TWF0Y2hNb2RlQ2hhbmdlID0gZnVuY3Rpb24gb25NZW51TWF0Y2hNb2RlQ2hhbmdlKHZhbHVlLCBpbmRleCkge1xuICAgIHZhciBmaWx0ZXJNYXRjaE1vZGVDaGFuZ2VDYWxsYmFjayA9IGdldENvbHVtblByb3AoJ29uRmlsdGVyTWF0Y2hNb2RlQ2hhbmdlJyk7XG4gICAgdmFyIGZpbHRlcnMgPSBfb2JqZWN0U3ByZWFkJDMoe30sIHByb3BzLmZpbHRlcnMpO1xuICAgIGZpbHRlcnNbZmllbGRdLmNvbnN0cmFpbnRzW2luZGV4XS5tYXRjaE1vZGUgPSB2YWx1ZTtcbiAgICBwcm9wcy5vbkZpbHRlckNoYW5nZShmaWx0ZXJzKTtcbiAgICBmaWx0ZXJNYXRjaE1vZGVDaGFuZ2VDYWxsYmFjayAmJiBmaWx0ZXJNYXRjaE1vZGVDaGFuZ2VDYWxsYmFjayh7XG4gICAgICBmaWVsZDogZmllbGQsXG4gICAgICBtYXRjaE1vZGU6IHZhbHVlLFxuICAgICAgaW5kZXg6IGluZGV4XG4gICAgfSk7XG4gICAgaWYgKCFnZXRDb2x1bW5Qcm9wKCdzaG93QXBwbHlCdXR0b24nKSkge1xuICAgICAgcHJvcHMub25GaWx0ZXJBcHBseSgpO1xuICAgIH1cbiAgfTtcbiAgdmFyIGFkZENvbnN0cmFpbnQgPSBmdW5jdGlvbiBhZGRDb25zdHJhaW50KCkge1xuICAgIHZhciBmaWx0ZXJDb25zdHJhaW50QWRkQ2FsbGJhY2sgPSBnZXRDb2x1bW5Qcm9wKCdvbkZpbHRlckNvbnN0cmFpbnRBZGQnKTtcbiAgICB2YXIgZGVmYXVsdENvbnN0cmFpbnQgPSBnZXREZWZhdWx0Q29uc3RyYWludCgpO1xuICAgIHZhciBmaWx0ZXJzID0gX29iamVjdFNwcmVhZCQzKHt9LCBwcm9wcy5maWx0ZXJzKTtcbiAgICB2YXIgbmV3Q29uc3RyYWludCA9IHtcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgbWF0Y2hNb2RlOiBkZWZhdWx0Q29uc3RyYWludC5tYXRjaE1vZGVcbiAgICB9O1xuICAgIGZpbHRlcnNbZmllbGRdLmNvbnN0cmFpbnRzLnB1c2gobmV3Q29uc3RyYWludCk7XG4gICAgZmlsdGVyQ29uc3RyYWludEFkZENhbGxiYWNrICYmIGZpbHRlckNvbnN0cmFpbnRBZGRDYWxsYmFjayh7XG4gICAgICBmaWVsZDogZmllbGQsXG4gICAgICBjb25zdHJhaW50OiBuZXdDb25zdHJhaW50XG4gICAgfSk7XG4gICAgcHJvcHMub25GaWx0ZXJDaGFuZ2UoZmlsdGVycyk7XG4gICAgaWYgKCFnZXRDb2x1bW5Qcm9wKCdzaG93QXBwbHlCdXR0b24nKSkge1xuICAgICAgcHJvcHMub25GaWx0ZXJBcHBseSgpO1xuICAgIH1cbiAgfTtcbiAgdmFyIHJlbW92ZUNvbnN0cmFpbnQgPSBmdW5jdGlvbiByZW1vdmVDb25zdHJhaW50KGluZGV4KSB7XG4gICAgdmFyIGZpbHRlckNvbnN0cmFpbnRSZW1vdmVDYWxsYmFjayA9IGdldENvbHVtblByb3AoJ29uRmlsdGVyQ29uc3RyYWludFJlbW92ZScpO1xuICAgIHZhciBmaWx0ZXJzID0gX29iamVjdFNwcmVhZCQzKHt9LCBwcm9wcy5maWx0ZXJzKTtcbiAgICB2YXIgcmVtb3ZlZENvbnN0cmFpbnQgPSBmaWx0ZXJzW2ZpZWxkXS5jb25zdHJhaW50cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGZpbHRlckNvbnN0cmFpbnRSZW1vdmVDYWxsYmFjayAmJiBmaWx0ZXJDb25zdHJhaW50UmVtb3ZlQ2FsbGJhY2soe1xuICAgICAgZmllbGQ6IGZpZWxkLFxuICAgICAgY29uc3RyYWludDogcmVtb3ZlZENvbnN0cmFpbnRcbiAgICB9KTtcbiAgICBwcm9wcy5vbkZpbHRlckNoYW5nZShmaWx0ZXJzKTtcbiAgICBpZiAoIWdldENvbHVtblByb3AoJ3Nob3dBcHBseUJ1dHRvbicpKSB7XG4gICAgICBwcm9wcy5vbkZpbHRlckFwcGx5KCk7XG4gICAgfVxuICB9O1xuICB2YXIgZmluZE5leHRJdGVtID0gZnVuY3Rpb24gZmluZE5leHRJdGVtKGl0ZW0pIHtcbiAgICB2YXIgbmV4dEl0ZW0gPSBpdGVtLm5leHRFbGVtZW50U2libGluZztcbiAgICByZXR1cm4gbmV4dEl0ZW0gPyBEb21IYW5kbGVyLmhhc0NsYXNzKG5leHRJdGVtLCAncC1jb2x1bW4tZmlsdGVyLXNlcGFyYXRvcicpID8gZmluZE5leHRJdGVtKG5leHRJdGVtKSA6IG5leHRJdGVtIDogaXRlbS5wYXJlbnRFbGVtZW50LmZpcnN0RWxlbWVudENoaWxkO1xuICB9O1xuICB2YXIgZmluZFByZXZJdGVtID0gZnVuY3Rpb24gZmluZFByZXZJdGVtKGl0ZW0pIHtcbiAgICB2YXIgcHJldkl0ZW0gPSBpdGVtLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgcmV0dXJuIHByZXZJdGVtID8gRG9tSGFuZGxlci5oYXNDbGFzcyhwcmV2SXRlbSwgJ3AtY29sdW1uLWZpbHRlci1zZXBhcmF0b3InKSA/IGZpbmRQcmV2SXRlbShwcmV2SXRlbSkgOiBwcmV2SXRlbSA6IGl0ZW0ucGFyZW50RWxlbWVudC5sYXN0RWxlbWVudENoaWxkO1xuICB9O1xuICB2YXIgaGlkZSA9IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgc2V0T3ZlcmxheVZpc2libGVTdGF0ZShmYWxzZSk7XG4gIH07XG4gIHZhciBvbkNvbnRlbnRDbGljayA9IGZ1bmN0aW9uIG9uQ29udGVudENsaWNrKGV2ZW50KSB7XG4gICAgc2VsZkNsaWNrLmN1cnJlbnQgPSB0cnVlO1xuICAgIE92ZXJsYXlTZXJ2aWNlLmVtaXQoJ292ZXJsYXktY2xpY2snLCB7XG4gICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgIHRhcmdldDogb3ZlcmxheVJlZi5jdXJyZW50XG4gICAgfSk7XG4gIH07XG4gIHZhciBvbkNvbnRlbnRNb3VzZURvd24gPSBmdW5jdGlvbiBvbkNvbnRlbnRNb3VzZURvd24oKSB7XG4gICAgc2VsZkNsaWNrLmN1cnJlbnQgPSB0cnVlO1xuICB9O1xuICB2YXIgb25PdmVybGF5RW50ZXIgPSBmdW5jdGlvbiBvbk92ZXJsYXlFbnRlcigpIHtcbiAgICBaSW5kZXhVdGlscy5zZXQoJ292ZXJsYXknLCBvdmVybGF5UmVmLmN1cnJlbnQsIFByaW1lUmVhY3QuYXV0b1pJbmRleCwgUHJpbWVSZWFjdC56SW5kZXhbJ292ZXJsYXknXSk7XG4gICAgRG9tSGFuZGxlci5hbGlnbk92ZXJsYXkob3ZlcmxheVJlZi5jdXJyZW50LCBpY29uUmVmLmN1cnJlbnQsIFByaW1lUmVhY3QuYXBwZW5kVG8sIGZhbHNlKTtcbiAgICBvdmVybGF5RXZlbnRMaXN0ZW5lci5jdXJyZW50ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICghaXNPdXRzaWRlQ2xpY2tlZChlLnRhcmdldCkpIHtcbiAgICAgICAgc2VsZkNsaWNrLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG4gICAgT3ZlcmxheVNlcnZpY2Uub24oJ292ZXJsYXktY2xpY2snLCBvdmVybGF5RXZlbnRMaXN0ZW5lci5jdXJyZW50KTtcbiAgfTtcbiAgdmFyIG9uT3ZlcmxheUVudGVyZWQgPSBmdW5jdGlvbiBvbk92ZXJsYXlFbnRlcmVkKCkge1xuICAgIGJpbmRPdmVybGF5TGlzdGVuZXIoKTtcbiAgfTtcbiAgdmFyIG9uT3ZlcmxheUV4aXQgPSBmdW5jdGlvbiBvbk92ZXJsYXlFeGl0KCkge1xuICAgIG9uT3ZlcmxheUhpZGUoKTtcbiAgfTtcbiAgdmFyIG9uT3ZlcmxheUV4aXRlZCA9IGZ1bmN0aW9uIG9uT3ZlcmxheUV4aXRlZCgpIHtcbiAgICBaSW5kZXhVdGlscy5jbGVhcihvdmVybGF5UmVmLmN1cnJlbnQpO1xuICB9O1xuICB2YXIgb25PdmVybGF5SGlkZSA9IGZ1bmN0aW9uIG9uT3ZlcmxheUhpZGUoKSB7XG4gICAgdW5iaW5kT3ZlcmxheUxpc3RlbmVyKCk7XG4gICAgT3ZlcmxheVNlcnZpY2Uub2ZmKCdvdmVybGF5LWNsaWNrJywgb3ZlcmxheUV2ZW50TGlzdGVuZXIuY3VycmVudCk7XG4gICAgb3ZlcmxheUV2ZW50TGlzdGVuZXIuY3VycmVudCA9IG51bGw7XG4gICAgc2VsZkNsaWNrLmN1cnJlbnQgPSBmYWxzZTtcbiAgfTtcbiAgdmFyIGZpZWxkQ29uc3RyYWludHMgPSBmdW5jdGlvbiBmaWVsZENvbnN0cmFpbnRzKCkge1xuICAgIHJldHVybiBmaWx0ZXJNb2RlbCA/IGZpbHRlck1vZGVsLmNvbnN0cmFpbnRzIHx8IFtmaWx0ZXJNb2RlbF0gOiBbXTtcbiAgfTtcbiAgdmFyIG9wZXJhdG9yID0gZnVuY3Rpb24gb3BlcmF0b3IoKSB7XG4gICAgcmV0dXJuIGZpbHRlck1vZGVsLm9wZXJhdG9yO1xuICB9O1xuICB2YXIgb3BlcmF0b3JPcHRpb25zID0gZnVuY3Rpb24gb3BlcmF0b3JPcHRpb25zKCkge1xuICAgIHJldHVybiBbe1xuICAgICAgbGFiZWw6IGxvY2FsZU9wdGlvbignbWF0Y2hBbGwnKSxcbiAgICAgIHZhbHVlOiBGaWx0ZXJPcGVyYXRvci5BTkRcbiAgICB9LCB7XG4gICAgICBsYWJlbDogbG9jYWxlT3B0aW9uKCdtYXRjaEFueScpLFxuICAgICAgdmFsdWU6IEZpbHRlck9wZXJhdG9yLk9SXG4gICAgfV07XG4gIH07XG4gIHZhciBmaWx0ZXJMYWJlbCA9IGZ1bmN0aW9uIGZpbHRlckxhYmVsKCkge1xuICAgIHJldHVybiBsb2NhbGVPcHRpb24oJ2ZpbHRlcicpO1xuICB9O1xuICB2YXIgbm9GaWx0ZXJMYWJlbCA9IGZ1bmN0aW9uIG5vRmlsdGVyTGFiZWwoKSB7XG4gICAgcmV0dXJuIGxvY2FsZU9wdGlvbignbm9GaWx0ZXInKTtcbiAgfTtcbiAgdmFyIHJlbW92ZVJ1bGVCdXR0b25MYWJlbCA9IGZ1bmN0aW9uIHJlbW92ZVJ1bGVCdXR0b25MYWJlbCgpIHtcbiAgICByZXR1cm4gbG9jYWxlT3B0aW9uKCdyZW1vdmVSdWxlJyk7XG4gIH07XG4gIHZhciBhZGRSdWxlQnV0dG9uTGFiZWwgPSBmdW5jdGlvbiBhZGRSdWxlQnV0dG9uTGFiZWwoKSB7XG4gICAgcmV0dXJuIGxvY2FsZU9wdGlvbignYWRkUnVsZScpO1xuICB9O1xuICB2YXIgY2xlYXJCdXR0b25MYWJlbCA9IGZ1bmN0aW9uIGNsZWFyQnV0dG9uTGFiZWwoKSB7XG4gICAgcmV0dXJuIGxvY2FsZU9wdGlvbignY2xlYXInKTtcbiAgfTtcbiAgdmFyIGFwcGx5QnV0dG9uTGFiZWwgPSBmdW5jdGlvbiBhcHBseUJ1dHRvbkxhYmVsKCkge1xuICAgIHJldHVybiBsb2NhbGVPcHRpb24oJ2FwcGx5Jyk7XG4gIH07XG4gIHZhciBmaWx0ZXJDYWxsYmFjayA9IGZ1bmN0aW9uIGZpbHRlckNhbGxiYWNrKHZhbHVlKSB7XG4gICAgdmFyIGluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgIHZhciBmaWx0ZXJzID0gX29iamVjdFNwcmVhZCQzKHt9LCBwcm9wcy5maWx0ZXJzKTtcbiAgICB2YXIgbWV0YSA9IGZpbHRlcnNbZmllbGRdO1xuICAgIHByb3BzLmRpc3BsYXkgPT09ICdtZW51JyAmJiBtZXRhICYmIG1ldGEub3BlcmF0b3IgPyBmaWx0ZXJzW2ZpZWxkXS5jb25zdHJhaW50c1tpbmRleF0udmFsdWUgPSB2YWx1ZSA6IGZpbHRlcnNbZmllbGRdLnZhbHVlID0gdmFsdWU7XG4gICAgcHJvcHMub25GaWx0ZXJDaGFuZ2UoZmlsdGVycyk7XG4gIH07XG4gIHZhciBmaWx0ZXJBcHBseUNhbGxiYWNrID0gZnVuY3Rpb24gZmlsdGVyQXBwbHlDYWxsYmFjaygpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIGFyZ3MgJiYgZmlsdGVyQ2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgcHJvcHMub25GaWx0ZXJBcHBseSgpO1xuICB9O1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChwcm9wcy5kaXNwbGF5ID09PSAnbWVudScgJiYgb3ZlcmxheVZpc2libGVTdGF0ZSkge1xuICAgICAgRG9tSGFuZGxlci5hbGlnbk92ZXJsYXkob3ZlcmxheVJlZi5jdXJyZW50LCBpY29uUmVmLmN1cnJlbnQsIFByaW1lUmVhY3QuYXBwZW5kVG8sIGZhbHNlKTtcbiAgICB9XG4gIH0pO1xuICB1c2VVbm1vdW50RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAob3ZlcmxheUV2ZW50TGlzdGVuZXIuY3VycmVudCkge1xuICAgICAgT3ZlcmxheVNlcnZpY2Uub2ZmKCdvdmVybGF5LWNsaWNrJywgb3ZlcmxheUV2ZW50TGlzdGVuZXIuY3VycmVudCk7XG4gICAgICBvdmVybGF5RXZlbnRMaXN0ZW5lci5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKG92ZXJsYXlSZWYuY3VycmVudCkge1xuICAgICAgWkluZGV4VXRpbHMuY2xlYXIob3ZlcmxheVJlZi5jdXJyZW50KTtcbiAgICAgIG9uT3ZlcmxheUhpZGUoKTtcbiAgICB9XG4gIH0pO1xuICB2YXIgY3JlYXRlRmlsdGVyRWxlbWVudCA9IGZ1bmN0aW9uIGNyZWF0ZUZpbHRlckVsZW1lbnQobW9kZWwsIGluZGV4KSB7XG4gICAgdmFyIHZhbHVlID0gbW9kZWwgPyBtb2RlbC52YWx1ZSA6IG51bGw7XG4gICAgcmV0dXJuIGdldENvbHVtblByb3AoJ2ZpbHRlckVsZW1lbnQnKSA/IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQoZ2V0Q29sdW1uUHJvcCgnZmlsdGVyRWxlbWVudCcpLCB7XG4gICAgICBmaWVsZDogZmllbGQsXG4gICAgICBpbmRleDogaW5kZXgsXG4gICAgICBmaWx0ZXJNb2RlbDogbW9kZWwsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBmaWx0ZXJBcHBseUNhbGxiYWNrOiBmaWx0ZXJBcHBseUNhbGxiYWNrLFxuICAgICAgZmlsdGVyQ2FsbGJhY2s6IGZpbHRlckNhbGxiYWNrXG4gICAgfSkgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJbnB1dFRleHQsIHtcbiAgICAgIHR5cGU6IGdldENvbHVtblByb3AoJ2ZpbHRlclR5cGUnKSxcbiAgICAgIHZhbHVlOiB2YWx1ZSB8fCAnJyxcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgIHJldHVybiBvbklucHV0Q2hhbmdlKGUsIGluZGV4KTtcbiAgICAgIH0sXG4gICAgICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgICAgIHJldHVybiBvbklucHV0S2V5ZG93bihlKTtcbiAgICAgIH0sXG4gICAgICBjbGFzc05hbWU6IFwicC1jb2x1bW4tZmlsdGVyXCIsXG4gICAgICBwbGFjZWhvbGRlcjogZ2V0Q29sdW1uUHJvcCgnZmlsdGVyUGxhY2Vob2xkZXInKSxcbiAgICAgIG1heExlbmd0aDogZ2V0Q29sdW1uUHJvcCgnZmlsdGVyTWF4TGVuZ3RoJylcbiAgICB9KTtcbiAgfTtcbiAgdmFyIGNyZWF0ZVJvd0ZpbHRlckVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVSb3dGaWx0ZXJFbGVtZW50KCkge1xuICAgIGlmIChwcm9wcy5kaXNwbGF5ID09PSAncm93Jykge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjcmVhdGVGaWx0ZXJFbGVtZW50KGZpbHRlck1vZGVsLCAwKTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLWZsdWlkIHAtY29sdW1uLWZpbHRlci1lbGVtZW50XCJcbiAgICAgIH0sIGNvbnRlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZU1lbnVGaWx0ZXJFbGVtZW50ID0gZnVuY3Rpb24gY3JlYXRlTWVudUZpbHRlckVsZW1lbnQoZmllbGRDb25zdHJhaW50LCBpbmRleCkge1xuICAgIHJldHVybiBwcm9wcy5kaXNwbGF5ID09PSAnbWVudScgPyBjcmVhdGVGaWx0ZXJFbGVtZW50KGZpZWxkQ29uc3RyYWludCwgaW5kZXgpIDogbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZU1lbnVCdXR0b24gPSBmdW5jdGlvbiBjcmVhdGVNZW51QnV0dG9uKCkge1xuICAgIGlmIChzaG93TWVudUJ1dHRvbigpKSB7XG4gICAgICB2YXIgX2NsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtY29sdW1uLWZpbHRlci1tZW51LWJ1dHRvbiBwLWxpbmsnLCB7XG4gICAgICAgICdwLWNvbHVtbi1maWx0ZXItbWVudS1idXR0b24tb3Blbic6IG92ZXJsYXlWaXNpYmxlU3RhdGUsXG4gICAgICAgICdwLWNvbHVtbi1maWx0ZXItbWVudS1idXR0b24tYWN0aXZlJzogaGFzRmlsdGVyKClcbiAgICAgIH0pO1xuICAgICAgdmFyIGxhYmVsID0gZmlsdGVyTGFiZWwoKTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICAgIHJlZjogaWNvblJlZixcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgY2xhc3NOYW1lOiBfY2xhc3NOYW1lLFxuICAgICAgICBcImFyaWEtaGFzcG9wdXBcIjogdHJ1ZSxcbiAgICAgICAgXCJhcmlhLWV4cGFuZGVkXCI6IG92ZXJsYXlWaXNpYmxlU3RhdGUsXG4gICAgICAgIG9uQ2xpY2s6IHRvZ2dsZU1lbnUsXG4gICAgICAgIG9uS2V5RG93bjogb25Ub2dnbGVCdXR0b25LZXlEb3duLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogbGFiZWxcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwaSBwaS1maWx0ZXItaWNvbiBwaS1maWx0ZXJcIixcbiAgICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIlxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJpcHBsZSwgbnVsbCkpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZUNsZWFyQnV0dG9uID0gZnVuY3Rpb24gY3JlYXRlQ2xlYXJCdXR0b24oKSB7XG4gICAgaWYgKGdldENvbHVtblByb3AoJ3Nob3dDbGVhckJ1dHRvbicpICYmIHByb3BzLmRpc3BsYXkgPT09ICdyb3cnKSB7XG4gICAgICB2YXIgX2NsYXNzTmFtZTIgPSBjbGFzc05hbWVzKCdwLWNvbHVtbi1maWx0ZXItY2xlYXItYnV0dG9uIHAtbGluaycsIHtcbiAgICAgICAgJ3AtaGlkZGVuLXNwYWNlJzogIWhhc1Jvd0ZpbHRlcigpXG4gICAgICB9KTtcbiAgICAgIHZhciBjbGVhckxhYmVsID0gY2xlYXJCdXR0b25MYWJlbCgpO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBfY2xhc3NOYW1lMixcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgb25DbGljazogY2xlYXJGaWx0ZXIsXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBjbGVhckxhYmVsXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicGkgcGktZmlsdGVyLXNsYXNoXCIsXG4gICAgICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSaXBwbGUsIG51bGwpKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIHZhciBjcmVhdGVSb3dJdGVtcyA9IGZ1bmN0aW9uIGNyZWF0ZVJvd0l0ZW1zKCkge1xuICAgIGlmIChpc1Nob3dNYXRjaE1vZGVzKCkpIHtcbiAgICAgIHZhciBfbWF0Y2hNb2RlcyA9IG1hdGNoTW9kZXMoKTtcbiAgICAgIHZhciBfbm9GaWx0ZXJMYWJlbCA9IG5vRmlsdGVyTGFiZWwoKTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInVsXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtY29sdW1uLWZpbHRlci1yb3ctaXRlbXNcIlxuICAgICAgfSwgX21hdGNoTW9kZXMubWFwKGZ1bmN0aW9uIChtYXRjaE1vZGUsIGkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gbWF0Y2hNb2RlLnZhbHVlLFxuICAgICAgICAgIGxhYmVsID0gbWF0Y2hNb2RlLmxhYmVsO1xuICAgICAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1jb2x1bW4tZmlsdGVyLXJvdy1pdGVtJywge1xuICAgICAgICAgICdwLWhpZ2hsaWdodCc6IGlzUm93TWF0Y2hNb2RlU2VsZWN0ZWQodmFsdWUpXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgdGFiSW5kZXggPSBpID09PSAwID8gMCA6IG51bGw7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgICBrZXk6IGxhYmVsLFxuICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gb25Sb3dNYXRjaE1vZGVDaGFuZ2UodmFsdWUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9uUm93TWF0Y2hNb2RlS2V5RG93bihlLCBtYXRjaE1vZGUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdGFiSW5kZXg6IHRhYkluZGV4XG4gICAgICAgIH0sIGxhYmVsKTtcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtY29sdW1uLWZpbHRlci1zZXBhcmF0b3JcIlxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1jb2x1bW4tZmlsdGVyLXJvdy1pdGVtXCIsXG4gICAgICAgIG9uQ2xpY2s6IGNsZWFyRmlsdGVyLFxuICAgICAgICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgICAgICAgcmV0dXJuIG9uUm93TWF0Y2hNb2RlS2V5RG93bihlLCBudWxsLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSwgX25vRmlsdGVyTGFiZWwpKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIHZhciBjcmVhdGVPcGVyYXRvciA9IGZ1bmN0aW9uIGNyZWF0ZU9wZXJhdG9yKCkge1xuICAgIGlmIChpc1Nob3dPcGVyYXRvcigpKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IG9wZXJhdG9yT3B0aW9ucygpO1xuICAgICAgdmFyIHZhbHVlID0gb3BlcmF0b3IoKTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLWNvbHVtbi1maWx0ZXItb3BlcmF0b3JcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcGRvd24sIHtcbiAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBvbkNoYW5nZTogb25PcGVyYXRvckNoYW5nZSxcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtY29sdW1uLWZpbHRlci1vcGVyYXRvci1kcm9wZG93blwiXG4gICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICB2YXIgY3JlYXRlTWF0Y2hNb2RlRHJvcGRvd24gPSBmdW5jdGlvbiBjcmVhdGVNYXRjaE1vZGVEcm9wZG93bihjb25zdHJhaW50LCBpbmRleCkge1xuICAgIGlmIChpc1Nob3dNYXRjaE1vZGVzKCkpIHtcbiAgICAgIHZhciBvcHRpb25zID0gbWF0Y2hNb2RlcygpO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERyb3Bkb3duLCB7XG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIHZhbHVlOiBjb25zdHJhaW50Lm1hdGNoTW9kZSxcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgICAgICByZXR1cm4gb25NZW51TWF0Y2hNb2RlQ2hhbmdlKGUudmFsdWUsIGluZGV4KTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtY29sdW1uLWZpbHRlci1tYXRjaG1vZGUtZHJvcGRvd25cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICB2YXIgY3JlYXRlUmVtb3ZlQnV0dG9uID0gZnVuY3Rpb24gY3JlYXRlUmVtb3ZlQnV0dG9uKGluZGV4KSB7XG4gICAgaWYgKHNob3dSZW1vdmVJY29uKCkpIHtcbiAgICAgIHZhciByZW1vdmVSdWxlTGFiZWwgPSByZW1vdmVSdWxlQnV0dG9uTGFiZWwoKTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgaWNvbjogXCJwaSBwaS10cmFzaFwiLFxuICAgICAgICBjbGFzc05hbWU6IFwicC1jb2x1bW4tZmlsdGVyLXJlbW92ZS1idXR0b24gcC1idXR0b24tdGV4dCBwLWJ1dHRvbi1kYW5nZXIgcC1idXR0b24tc21cIixcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gcmVtb3ZlQ29uc3RyYWludChpbmRleCk7XG4gICAgICAgIH0sXG4gICAgICAgIGxhYmVsOiByZW1vdmVSdWxlTGFiZWxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZUNvbnN0cmFpbnRzID0gZnVuY3Rpb24gY3JlYXRlQ29uc3RyYWludHMoKSB7XG4gICAgdmFyIF9maWVsZENvbnN0cmFpbnRzID0gZmllbGRDb25zdHJhaW50cygpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1jb2x1bW4tZmlsdGVyLWNvbnN0cmFpbnRzXCJcbiAgICB9LCBfZmllbGRDb25zdHJhaW50cy5tYXAoZnVuY3Rpb24gKGZpZWxkQ29uc3RyYWludCwgaSkge1xuICAgICAgdmFyIG1hdGNoTW9kZURyb3Bkb3duID0gY3JlYXRlTWF0Y2hNb2RlRHJvcGRvd24oZmllbGRDb25zdHJhaW50LCBpKTtcbiAgICAgIHZhciBtZW51RmlsdGVyRWxlbWVudCA9IGNyZWF0ZU1lbnVGaWx0ZXJFbGVtZW50KGZpZWxkQ29uc3RyYWludCwgaSk7XG4gICAgICB2YXIgcmVtb3ZlQnV0dG9uID0gY3JlYXRlUmVtb3ZlQnV0dG9uKGkpO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAga2V5OiBpLFxuICAgICAgICBjbGFzc05hbWU6IFwicC1jb2x1bW4tZmlsdGVyLWNvbnN0cmFpbnRcIlxuICAgICAgfSwgbWF0Y2hNb2RlRHJvcGRvd24sIG1lbnVGaWx0ZXJFbGVtZW50LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCByZW1vdmVCdXR0b24pKTtcbiAgICB9KSk7XG4gIH07XG4gIHZhciBjcmVhdGVBZGRSdWxlID0gZnVuY3Rpb24gY3JlYXRlQWRkUnVsZSgpIHtcbiAgICBpZiAoaXNTaG93QWRkQ29uc3RyYWludCgpKSB7XG4gICAgICB2YXIgYWRkUnVsZUxhYmVsID0gYWRkUnVsZUJ1dHRvbkxhYmVsKCk7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1jb2x1bW4tZmlsdGVyLWFkZC1ydWxlXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBsYWJlbDogYWRkUnVsZUxhYmVsLFxuICAgICAgICBpY29uOiBcInBpIHBpLXBsdXNcIixcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtY29sdW1uLWZpbHRlci1hZGQtYnV0dG9uIHAtYnV0dG9uLXRleHQgcC1idXR0b24tc21cIixcbiAgICAgICAgb25DbGljazogYWRkQ29uc3RyYWludFxuICAgICAgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZUZpbHRlckNsZWFyQnV0dG9uID0gZnVuY3Rpb24gY3JlYXRlRmlsdGVyQ2xlYXJCdXR0b24oKSB7XG4gICAgaWYgKGdldENvbHVtblByb3AoJ3Nob3dDbGVhckJ1dHRvbicpKSB7XG4gICAgICBpZiAoIWdldENvbHVtblByb3AoJ2ZpbHRlckNsZWFyJykpIHtcbiAgICAgICAgdmFyIGNsZWFyTGFiZWwgPSBjbGVhckJ1dHRvbkxhYmVsKCk7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgIGNsYXNzTmFtZTogXCJwLWJ1dHRvbi1vdXRsaW5lZCBwLWJ1dHRvbi1zbVwiLFxuICAgICAgICAgIG9uQ2xpY2s6IGNsZWFyRmlsdGVyLFxuICAgICAgICAgIGxhYmVsOiBjbGVhckxhYmVsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQoZ2V0Q29sdW1uUHJvcCgnZmlsdGVyQ2xlYXInKSwge1xuICAgICAgICBmaWVsZDogZmllbGQsXG4gICAgICAgIGZpbHRlck1vZGVsOiBmaWx0ZXJNb2RlbCxcbiAgICAgICAgZmlsdGVyQ2xlYXJDYWxsYmFjazogY2xlYXJGaWx0ZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZUZpbHRlckFwcGx5QnV0dG9uID0gZnVuY3Rpb24gY3JlYXRlRmlsdGVyQXBwbHlCdXR0b24oKSB7XG4gICAgaWYgKGdldENvbHVtblByb3AoJ3Nob3dBcHBseUJ1dHRvbicpKSB7XG4gICAgICBpZiAoIWdldENvbHVtblByb3AoJ2ZpbHRlckFwcGx5JykpIHtcbiAgICAgICAgdmFyIGFwcGx5TGFiZWwgPSBhcHBseUJ1dHRvbkxhYmVsKCk7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgIGNsYXNzTmFtZTogXCJwLWJ1dHRvbi1zbVwiLFxuICAgICAgICAgIG9uQ2xpY2s6IGFwcGx5RmlsdGVyLFxuICAgICAgICAgIGxhYmVsOiBhcHBseUxhYmVsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQoZ2V0Q29sdW1uUHJvcCgnZmlsdGVyQXBwbHknKSwge1xuICAgICAgICBmaWVsZDogZmllbGQsXG4gICAgICAgIGZpbHRlck1vZGVsOiBmaWx0ZXJNb2RlbCxcbiAgICAgICAgZmlsdGVyQXBwbHlDYWxsYmFjazogYXBwbHlGaWx0ZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZUJ1dHRvbkJhciA9IGZ1bmN0aW9uIGNyZWF0ZUJ1dHRvbkJhcigpIHtcbiAgICB2YXIgY2xlYXJCdXR0b24gPSBjcmVhdGVGaWx0ZXJDbGVhckJ1dHRvbigpO1xuICAgIHZhciBhcHBseUJ1dHRvbiA9IGNyZWF0ZUZpbHRlckFwcGx5QnV0dG9uKCk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLWNvbHVtbi1maWx0ZXItYnV0dG9uYmFyXCJcbiAgICB9LCBjbGVhckJ1dHRvbiwgYXBwbHlCdXR0b24pO1xuICB9O1xuICB2YXIgY3JlYXRlSXRlbXMgPSBmdW5jdGlvbiBjcmVhdGVJdGVtcygpIHtcbiAgICB2YXIgb3BlcmF0b3IgPSBjcmVhdGVPcGVyYXRvcigpO1xuICAgIHZhciBjb25zdHJhaW50cyA9IGNyZWF0ZUNvbnN0cmFpbnRzKCk7XG4gICAgdmFyIGFkZFJ1bGUgPSBjcmVhdGVBZGRSdWxlKCk7XG4gICAgdmFyIGJ1dHRvbkJhciA9IGNyZWF0ZUJ1dHRvbkJhcigpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgb3BlcmF0b3IsIGNvbnN0cmFpbnRzLCBhZGRSdWxlLCBidXR0b25CYXIpO1xuICB9O1xuICB2YXIgY3JlYXRlT3ZlcmxheSA9IGZ1bmN0aW9uIGNyZWF0ZU92ZXJsYXkoKSB7XG4gICAgdmFyIHN0eWxlID0gZ2V0Q29sdW1uUHJvcCgnZmlsdGVyTWVudVN0eWxlJyk7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtY29sdW1uLWZpbHRlci1vdmVybGF5IHAtY29tcG9uZW50IHAtZmx1aWQnLCBnZXRDb2x1bW5Qcm9wKCdmaWx0ZXJNZW51Q2xhc3NOYW1lJyksIHtcbiAgICAgICdwLWNvbHVtbi1maWx0ZXItb3ZlcmxheS1tZW51JzogcHJvcHMuZGlzcGxheSA9PT0gJ21lbnUnLFxuICAgICAgJ3AtaW5wdXQtZmlsbGVkJzogUHJpbWVSZWFjdC5pbnB1dFN0eWxlID09PSAnZmlsbGVkJyxcbiAgICAgICdwLXJpcHBsZS1kaXNhYmxlZCc6IFByaW1lUmVhY3QucmlwcGxlID09PSBmYWxzZVxuICAgIH0pO1xuICAgIHZhciBmaWx0ZXJIZWFkZXIgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KGdldENvbHVtblByb3AoJ2ZpbHRlckhlYWRlcicpLCB7XG4gICAgICBmaWVsZDogZmllbGQsXG4gICAgICBmaWx0ZXJNb2RlbDogZmlsdGVyTW9kZWwsXG4gICAgICBmaWx0ZXJBcHBseUNhbGxiYWNrOiBmaWx0ZXJBcHBseUNhbGxiYWNrXG4gICAgfSk7XG4gICAgdmFyIGZpbHRlckZvb3RlciA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQoZ2V0Q29sdW1uUHJvcCgnZmlsdGVyRm9vdGVyJyksIHtcbiAgICAgIGZpZWxkOiBmaWVsZCxcbiAgICAgIGZpbHRlck1vZGVsOiBmaWx0ZXJNb2RlbCxcbiAgICAgIGZpbHRlckFwcGx5Q2FsbGJhY2s6IGZpbHRlckFwcGx5Q2FsbGJhY2tcbiAgICB9KTtcbiAgICB2YXIgaXRlbXMgPSBwcm9wcy5kaXNwbGF5ID09PSAncm93JyA/IGNyZWF0ZVJvd0l0ZW1zKCkgOiBjcmVhdGVJdGVtcygpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQb3J0YWwsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENTU1RyYW5zaXRpb24sIHtcbiAgICAgIG5vZGVSZWY6IG92ZXJsYXlSZWYsXG4gICAgICBjbGFzc05hbWVzOiBcInAtY29ubmVjdGVkLW92ZXJsYXlcIixcbiAgICAgIFwiaW5cIjogb3ZlcmxheVZpc2libGVTdGF0ZSxcbiAgICAgIHRpbWVvdXQ6IHtcbiAgICAgICAgZW50ZXI6IDEyMCxcbiAgICAgICAgZXhpdDogMTAwXG4gICAgICB9LFxuICAgICAgdW5tb3VudE9uRXhpdDogdHJ1ZSxcbiAgICAgIG9uRW50ZXI6IG9uT3ZlcmxheUVudGVyLFxuICAgICAgb25FbnRlcmVkOiBvbk92ZXJsYXlFbnRlcmVkLFxuICAgICAgb25FeGl0OiBvbk92ZXJsYXlFeGl0LFxuICAgICAgb25FeGl0ZWQ6IG9uT3ZlcmxheUV4aXRlZFxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIHJlZjogb3ZlcmxheVJlZixcbiAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgb25LZXlEb3duOiBvbkNvbnRlbnRLZXlEb3duLFxuICAgICAgb25DbGljazogb25Db250ZW50Q2xpY2ssXG4gICAgICBvbk1vdXNlRG93bjogb25Db250ZW50TW91c2VEb3duXG4gICAgfSwgZmlsdGVySGVhZGVyLCBpdGVtcywgZmlsdGVyRm9vdGVyKSkpO1xuICB9O1xuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1jb2x1bW4tZmlsdGVyIHAtZmx1aWQnLCB7XG4gICAgJ3AtY29sdW1uLWZpbHRlci1yb3cnOiBwcm9wcy5kaXNwbGF5ID09PSAncm93JyxcbiAgICAncC1jb2x1bW4tZmlsdGVyLW1lbnUnOiBwcm9wcy5kaXNwbGF5ID09PSAnbWVudSdcbiAgfSk7XG4gIHZhciByb3dGaWx0ZXJFbGVtZW50ID0gY3JlYXRlUm93RmlsdGVyRWxlbWVudCgpO1xuICB2YXIgbWVudUJ1dHRvbiA9IGNyZWF0ZU1lbnVCdXR0b24oKTtcbiAgdmFyIGNsZWFyQnV0dG9uID0gY3JlYXRlQ2xlYXJCdXR0b24oKTtcbiAgdmFyIG92ZXJsYXkgPSBjcmVhdGVPdmVybGF5KCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgfSwgcm93RmlsdGVyRWxlbWVudCwgbWVudUJ1dHRvbiwgY2xlYXJCdXR0b24sIG92ZXJsYXkpO1xufSk7XG5Db2x1bW5GaWx0ZXIuZGlzcGxheU5hbWUgPSAnQ29sdW1uRmlsdGVyJztcblxudmFyIEhlYWRlckNoZWNrYm94ID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgZm9jdXNlZFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMlswXSxcbiAgICBzZXRGb2N1c2VkU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuICB2YXIgb25Gb2N1cyA9IGZ1bmN0aW9uIG9uRm9jdXMoKSB7XG4gICAgc2V0Rm9jdXNlZFN0YXRlKHRydWUpO1xuICB9O1xuICB2YXIgb25CbHVyID0gZnVuY3Rpb24gb25CbHVyKCkge1xuICAgIHNldEZvY3VzZWRTdGF0ZShmYWxzZSk7XG4gIH07XG4gIHZhciBvbkNsaWNrID0gZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgIGlmICghcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHNldEZvY3VzZWRTdGF0ZSh0cnVlKTtcbiAgICAgIHByb3BzLm9uQ2hhbmdlKHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIGNoZWNrZWQ6ICFwcm9wcy5jaGVja2VkXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIHZhciBvbktleURvd24gPSBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuY29kZSA9PT0gJ1NwYWNlJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgLy8gZXZlbnQua2V5IGlzIGZvciBBbmRyb2lkIHN1cHBvcnRcbiAgICAgIG9uQ2xpY2soZXZlbnQpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG4gIHZhciBib3hDbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWNoZWNrYm94LWJveCBwLWNvbXBvbmVudCcsIHtcbiAgICAncC1oaWdobGlnaHQnOiBwcm9wcy5jaGVja2VkLFxuICAgICdwLWRpc2FibGVkJzogcHJvcHMuZGlzYWJsZWQsXG4gICAgJ3AtZm9jdXMnOiBmb2N1c2VkU3RhdGVcbiAgfSk7XG4gIHZhciBpY29uQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1jaGVja2JveC1pY29uJywge1xuICAgICdwaSBwaS1jaGVjayc6IHByb3BzLmNoZWNrZWRcbiAgfSk7XG4gIHZhciB0YWJJbmRleCA9IHByb3BzLmRpc2FibGVkID8gbnVsbCA6IDA7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInAtY2hlY2tib3ggcC1jb21wb25lbnRcIixcbiAgICBvbkNsaWNrOiBvbkNsaWNrXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGJveENsYXNzTmFtZSxcbiAgICByb2xlOiBcImNoZWNrYm94XCIsXG4gICAgXCJhcmlhLWNoZWNrZWRcIjogcHJvcHMuY2hlY2tlZCxcbiAgICB0YWJJbmRleDogdGFiSW5kZXgsXG4gICAgb25Gb2N1czogb25Gb2N1cyxcbiAgICBvbkJsdXI6IG9uQmx1cixcbiAgICBvbktleURvd246IG9uS2V5RG93blxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogaWNvbkNsYXNzTmFtZVxuICB9KSkpO1xufSk7XG5IZWFkZXJDaGVja2JveC5kaXNwbGF5TmFtZSA9ICdIZWFkZXJDaGVja2JveCc7XG5cbmZ1bmN0aW9uIG93bktleXMkMihvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkMih0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyQyKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMkMihPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG52YXIgSGVhZGVyQ2VsbCA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoe30pLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLFxuICAgIHN0eWxlT2JqZWN0U3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgIHNldFN0eWxlT2JqZWN0U3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuICB2YXIgZWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHByZXZDb2x1bW4gPSB1c2VQcmV2aW91cyhwcm9wcy5jb2x1bW4pO1xuICB2YXIgaXNCYWRnZVZpc2libGUgPSBmdW5jdGlvbiBpc0JhZGdlVmlzaWJsZSgpIHtcbiAgICByZXR1cm4gcHJvcHMubXVsdGlTb3J0TWV0YSAmJiBwcm9wcy5tdWx0aVNvcnRNZXRhLmxlbmd0aCA+IDE7XG4gIH07XG4gIHZhciBpc1NvcnRhYmxlRGlzYWJsZWQgPSBmdW5jdGlvbiBpc1NvcnRhYmxlRGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuICFnZXRDb2x1bW5Qcm9wKCdzb3J0YWJsZScpIHx8IGdldENvbHVtblByb3AoJ3NvcnRhYmxlJykgJiYgKHByb3BzLmFsbFNvcnRhYmxlRGlzYWJsZWQgfHwgZ2V0Q29sdW1uUHJvcCgnc29ydGFibGVEaXNhYmxlZCcpKTtcbiAgfTtcbiAgdmFyIGdldENvbHVtblByb3AgPSBmdW5jdGlvbiBnZXRDb2x1bW5Qcm9wKCkge1xuICAgIHJldHVybiBwcm9wcy5jb2x1bW4gPyB0eXBlb2YgKGFyZ3VtZW50cy5sZW5ndGggPD0gMCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1swXSkgPT09ICdzdHJpbmcnID8gQ29sdW1uQmFzZS5nZXRDUHJvcChwcm9wcy5jb2x1bW4sIGFyZ3VtZW50cy5sZW5ndGggPD0gMCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1swXSkgOiBDb2x1bW5CYXNlLmdldENQcm9wKChhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF0pIHx8IHByb3BzLmNvbHVtbiwgYXJndW1lbnRzLmxlbmd0aCA8PSAxID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzFdKSA6IG51bGw7XG4gIH07XG4gIHZhciBnZXRTdHlsZSA9IGZ1bmN0aW9uIGdldFN0eWxlKCkge1xuICAgIHZhciBoZWFkZXJTdHlsZSA9IGdldENvbHVtblByb3AoJ2hlYWRlclN0eWxlJyk7XG4gICAgdmFyIGNvbHVtblN0eWxlID0gZ2V0Q29sdW1uUHJvcCgnc3R5bGUnKTtcbiAgICByZXR1cm4gZ2V0Q29sdW1uUHJvcCgnZnJvemVuJykgPyBPYmplY3QuYXNzaWduKHt9LCBjb2x1bW5TdHlsZSwgaGVhZGVyU3R5bGUsIHN0eWxlT2JqZWN0U3RhdGUpIDogT2JqZWN0LmFzc2lnbih7fSwgY29sdW1uU3R5bGUsIGhlYWRlclN0eWxlKTtcbiAgfTtcbiAgdmFyIGdldE11bHRpU29ydE1ldGFJbmRleCA9IGZ1bmN0aW9uIGdldE11bHRpU29ydE1ldGFJbmRleCgpIHtcbiAgICByZXR1cm4gcHJvcHMubXVsdGlTb3J0TWV0YS5maW5kSW5kZXgoZnVuY3Rpb24gKG1ldGEpIHtcbiAgICAgIHJldHVybiBtZXRhLmZpZWxkID09PSBnZXRDb2x1bW5Qcm9wKCdmaWVsZCcpIHx8IG1ldGEuZmllbGQgPT09IGdldENvbHVtblByb3AoJ3NvcnRGaWVsZCcpO1xuICAgIH0pO1xuICB9O1xuICB2YXIgZ2V0U29ydE1ldGEgPSBmdW5jdGlvbiBnZXRTb3J0TWV0YSgpIHtcbiAgICB2YXIgc29ydGVkID0gZmFsc2U7XG4gICAgdmFyIHNvcnRPcmRlciA9IDA7XG4gICAgdmFyIG1ldGFJbmRleCA9IC0xO1xuICAgIGlmIChwcm9wcy5zb3J0TW9kZSA9PT0gJ3NpbmdsZScpIHtcbiAgICAgIHNvcnRlZCA9IHByb3BzLnNvcnRGaWVsZCAmJiAocHJvcHMuc29ydEZpZWxkID09PSBnZXRDb2x1bW5Qcm9wKCdmaWVsZCcpIHx8IHByb3BzLnNvcnRGaWVsZCA9PT0gZ2V0Q29sdW1uUHJvcCgnc29ydEZpZWxkJykpO1xuICAgICAgc29ydE9yZGVyID0gc29ydGVkID8gcHJvcHMuc29ydE9yZGVyIDogMDtcbiAgICB9IGVsc2UgaWYgKHByb3BzLnNvcnRNb2RlID09PSAnbXVsdGlwbGUnKSB7XG4gICAgICBtZXRhSW5kZXggPSBnZXRNdWx0aVNvcnRNZXRhSW5kZXgoKTtcbiAgICAgIGlmIChtZXRhSW5kZXggPiAtMSkge1xuICAgICAgICBzb3J0ZWQgPSB0cnVlO1xuICAgICAgICBzb3J0T3JkZXIgPSBwcm9wcy5tdWx0aVNvcnRNZXRhW21ldGFJbmRleF0ub3JkZXI7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzb3J0ZWQ6IHNvcnRlZCxcbiAgICAgIHNvcnRPcmRlcjogc29ydE9yZGVyLFxuICAgICAgbWV0YUluZGV4OiBtZXRhSW5kZXhcbiAgICB9O1xuICB9O1xuICB2YXIgZ2V0QXJpYVNvcnQgPSBmdW5jdGlvbiBnZXRBcmlhU29ydChfcmVmKSB7XG4gICAgdmFyIHNvcnRlZCA9IF9yZWYuc29ydGVkLFxuICAgICAgc29ydE9yZGVyID0gX3JlZi5zb3J0T3JkZXI7XG4gICAgaWYgKGdldENvbHVtblByb3AoJ3NvcnRhYmxlJykpIHtcbiAgICAgIHZhciBzb3J0SWNvbiA9IHNvcnRlZCA/IHNvcnRPcmRlciA8IDAgPyAncGktc29ydC1hbW91bnQtZG93bicgOiAncGktc29ydC1hbW91bnQtdXAtYWx0JyA6ICdwaS1zb3J0LWFsdCc7XG4gICAgICBpZiAoc29ydEljb24gPT09ICdwaS1zb3J0LWFtb3VudC1kb3duJykgcmV0dXJuICdkZXNjZW5kaW5nJztlbHNlIGlmIChzb3J0SWNvbiA9PT0gJ3BpLXNvcnQtYW1vdW50LXVwLWFsdCcpIHJldHVybiAnYXNjZW5kaW5nJztlbHNlIHJldHVybiAnbm9uZSc7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICB2YXIgdXBkYXRlU3RpY2t5UG9zaXRpb24gPSBmdW5jdGlvbiB1cGRhdGVTdGlja3lQb3NpdGlvbigpIHtcbiAgICBpZiAoZ2V0Q29sdW1uUHJvcCgnZnJvemVuJykpIHtcbiAgICAgIHZhciBzdHlsZU9iamVjdCA9IF9vYmplY3RTcHJlYWQkMih7fSwgc3R5bGVPYmplY3RTdGF0ZSk7XG4gICAgICB2YXIgYWxpZ24gPSBnZXRDb2x1bW5Qcm9wKCdhbGlnbkZyb3plbicpO1xuICAgICAgaWYgKGFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgIHZhciByaWdodCA9IDA7XG4gICAgICAgIHZhciBuZXh0ID0gZWxlbWVudFJlZi5jdXJyZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICByaWdodCA9IERvbUhhbmRsZXIuZ2V0T3V0ZXJXaWR0aChuZXh0KSArIHBhcnNlRmxvYXQobmV4dC5zdHlsZS5yaWdodCB8fCAwKTtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZU9iamVjdFsncmlnaHQnXSA9IHJpZ2h0ICsgJ3B4JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBsZWZ0ID0gMDtcbiAgICAgICAgdmFyIHByZXYgPSBlbGVtZW50UmVmLmN1cnJlbnQucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICBsZWZ0ID0gRG9tSGFuZGxlci5nZXRPdXRlcldpZHRoKHByZXYpICsgcGFyc2VGbG9hdChwcmV2LnN0eWxlLmxlZnQgfHwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgc3R5bGVPYmplY3RbJ2xlZnQnXSA9IGxlZnQgKyAncHgnO1xuICAgICAgfVxuICAgICAgdmFyIGZpbHRlclJvdyA9IGVsZW1lbnRSZWYuY3VycmVudC5wYXJlbnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgIGlmIChmaWx0ZXJSb3cpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gRG9tSGFuZGxlci5pbmRleChlbGVtZW50UmVmLmN1cnJlbnQpO1xuICAgICAgICBmaWx0ZXJSb3cuY2hpbGRyZW5baW5kZXhdLnN0eWxlLmxlZnQgPSBzdHlsZU9iamVjdFsnbGVmdCddO1xuICAgICAgICBmaWx0ZXJSb3cuY2hpbGRyZW5baW5kZXhdLnN0eWxlLnJpZ2h0ID0gc3R5bGVPYmplY3RbJ3JpZ2h0J107XG4gICAgICB9XG4gICAgICB2YXIgaXNTYW1lU3R5bGUgPSBzdHlsZU9iamVjdFN0YXRlWydsZWZ0J10gPT09IHN0eWxlT2JqZWN0WydsZWZ0J10gJiYgc3R5bGVPYmplY3RTdGF0ZVsncmlnaHQnXSA9PT0gc3R5bGVPYmplY3RbJ3JpZ2h0J107XG4gICAgICAhaXNTYW1lU3R5bGUgJiYgc2V0U3R5bGVPYmplY3RTdGF0ZShzdHlsZU9iamVjdCk7XG4gICAgfVxuICB9O1xuICB2YXIgdXBkYXRlU29ydGFibGVEaXNhYmxlZCA9IGZ1bmN0aW9uIHVwZGF0ZVNvcnRhYmxlRGlzYWJsZWQocHJldkNvbHVtbikge1xuICAgIGlmIChnZXRDb2x1bW5Qcm9wKHByZXZDb2x1bW4sICdzb3J0YWJsZURpc2FibGVkJykgIT09IGdldENvbHVtblByb3AoJ3NvcnRhYmxlRGlzYWJsZWQnKSB8fCBnZXRDb2x1bW5Qcm9wKHByZXZDb2x1bW4sICdzb3J0YWJsZScpICE9PSBnZXRDb2x1bW5Qcm9wKCdzb3J0YWJsZScpKSB7XG4gICAgICBwcm9wcy5vblNvcnRhYmxlQ2hhbmdlKCk7XG4gICAgfVxuICB9O1xuICB2YXIgb25DbGljayA9IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICBpZiAoIWlzU29ydGFibGVEaXNhYmxlZCgpKSB7XG4gICAgICB2YXIgdGFyZ2V0Tm9kZSA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmIChEb21IYW5kbGVyLmhhc0NsYXNzKHRhcmdldE5vZGUsICdwLXNvcnRhYmxlLWNvbHVtbicpIHx8IERvbUhhbmRsZXIuaGFzQ2xhc3ModGFyZ2V0Tm9kZSwgJ3AtY29sdW1uLXRpdGxlJykgfHwgRG9tSGFuZGxlci5oYXNDbGFzcyh0YXJnZXROb2RlLCAncC1jb2x1bW4taGVhZGVyLWNvbnRlbnQnKSB8fCBEb21IYW5kbGVyLmhhc0NsYXNzKHRhcmdldE5vZGUsICdwLXNvcnRhYmxlLWNvbHVtbi1pY29uJykgfHwgRG9tSGFuZGxlci5oYXNDbGFzcyh0YXJnZXROb2RlLnBhcmVudEVsZW1lbnQsICdwLXNvcnRhYmxlLWNvbHVtbi1pY29uJykpIHtcbiAgICAgICAgRG9tSGFuZGxlci5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICBwcm9wcy5vblNvcnRDaGFuZ2Uoe1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIGNvbHVtbjogcHJvcHMuY29sdW1uLFxuICAgICAgICAgIHNvcnRhYmxlRGlzYWJsZWRGaWVsZHM6IHByb3BzLnNvcnRhYmxlRGlzYWJsZWRGaWVsZHNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICB2YXIgb25Nb3VzZURvd24gPSBmdW5jdGlvbiBvbk1vdXNlRG93bihldmVudCkge1xuICAgIHByb3BzLm9uQ29sdW1uTW91c2VEb3duKHtcbiAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgY29sdW1uOiBwcm9wcy5jb2x1bW5cbiAgICB9KTtcbiAgfTtcbiAgdmFyIG9uS2V5RG93biA9IGZ1bmN0aW9uIG9uS2V5RG93bihldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgJiYgZXZlbnQuY3VycmVudFRhcmdldCA9PT0gZWxlbWVudFJlZi5jdXJyZW50ICYmIERvbUhhbmRsZXIuaGFzQ2xhc3MoZXZlbnQuY3VycmVudFRhcmdldCwgJ3Atc29ydGFibGUtY29sdW1uJykpIHtcbiAgICAgIG9uQ2xpY2soZXZlbnQpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG4gIHZhciBvbkRyYWdTdGFydCA9IGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGV2ZW50KSB7XG4gICAgcHJvcHMub25Db2x1bW5EcmFnU3RhcnQoe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBjb2x1bW46IHByb3BzLmNvbHVtblxuICAgIH0pO1xuICB9O1xuICB2YXIgb25EcmFnT3ZlciA9IGZ1bmN0aW9uIG9uRHJhZ092ZXIoZXZlbnQpIHtcbiAgICBwcm9wcy5vbkNvbHVtbkRyYWdPdmVyKHtcbiAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgY29sdW1uOiBwcm9wcy5jb2x1bW5cbiAgICB9KTtcbiAgfTtcbiAgdmFyIG9uRHJhZ0xlYXZlID0gZnVuY3Rpb24gb25EcmFnTGVhdmUoZXZlbnQpIHtcbiAgICBwcm9wcy5vbkNvbHVtbkRyYWdMZWF2ZSh7XG4gICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgIGNvbHVtbjogcHJvcHMuY29sdW1uXG4gICAgfSk7XG4gIH07XG4gIHZhciBvbkRyb3AgPSBmdW5jdGlvbiBvbkRyb3AoZXZlbnQpIHtcbiAgICBwcm9wcy5vbkNvbHVtbkRyb3Aoe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBjb2x1bW46IHByb3BzLmNvbHVtblxuICAgIH0pO1xuICB9O1xuICB2YXIgb25SZXNpemVyTW91c2VEb3duID0gZnVuY3Rpb24gb25SZXNpemVyTW91c2VEb3duKGV2ZW50KSB7XG4gICAgcHJvcHMub25Db2x1bW5SZXNpemVTdGFydCh7XG4gICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgIGNvbHVtbjogcHJvcHMuY29sdW1uXG4gICAgfSk7XG4gIH07XG4gIHZhciBvblJlc2l6ZXJDbGljayA9IGZ1bmN0aW9uIG9uUmVzaXplckNsaWNrKGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLm9uQ29sdW1uUmVzaXplckNsaWNrKSB7XG4gICAgICBwcm9wcy5vbkNvbHVtblJlc2l6ZXJDbGljayh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICBlbGVtZW50OiBldmVudC5jdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQsXG4gICAgICAgIGNvbHVtbjogcHJvcHMuY29sdW1uXG4gICAgICB9KTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9O1xuICB2YXIgb25SZXNpemVyRG91YmxlQ2xpY2sgPSBmdW5jdGlvbiBvblJlc2l6ZXJEb3VibGVDbGljayhldmVudCkge1xuICAgIGlmIChwcm9wcy5vbkNvbHVtblJlc2l6ZXJEb3VibGVDbGljaykge1xuICAgICAgcHJvcHMub25Db2x1bW5SZXNpemVyRG91YmxlQ2xpY2soe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgZWxlbWVudDogZXZlbnQuY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50LFxuICAgICAgICBjb2x1bW46IHByb3BzLmNvbHVtblxuICAgICAgfSk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZ2V0Q29sdW1uUHJvcCgnZnJvemVuJykpIHtcbiAgICAgIHVwZGF0ZVN0aWNreVBvc2l0aW9uKCk7XG4gICAgfVxuICAgIHVwZGF0ZVNvcnRhYmxlRGlzYWJsZWQocHJldkNvbHVtbik7XG4gIH0pO1xuICB2YXIgY3JlYXRlUmVzaXplciA9IGZ1bmN0aW9uIGNyZWF0ZVJlc2l6ZXIoKSB7XG4gICAgaWYgKHByb3BzLnJlc2l6YWJsZUNvbHVtbnMgJiYgIWdldENvbHVtblByb3AoJ2Zyb3plbicpKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtY29sdW1uLXJlc2l6ZXJcIixcbiAgICAgICAgb25Nb3VzZURvd246IG9uUmVzaXplck1vdXNlRG93bixcbiAgICAgICAgb25DbGljazogb25SZXNpemVyQ2xpY2ssXG4gICAgICAgIG9uRG91YmxlQ2xpY2s6IG9uUmVzaXplckRvdWJsZUNsaWNrXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIHZhciBjcmVhdGVUaXRsZSA9IGZ1bmN0aW9uIGNyZWF0ZVRpdGxlKCkge1xuICAgIHZhciB0aXRsZSA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQoZ2V0Q29sdW1uUHJvcCgnaGVhZGVyJyksIHtcbiAgICAgIHByb3BzOiBwcm9wcy50YWJsZVByb3BzXG4gICAgfSk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1jb2x1bW4tdGl0bGVcIlxuICAgIH0sIHRpdGxlKTtcbiAgfTtcbiAgdmFyIGNyZWF0ZVNvcnRJY29uID0gZnVuY3Rpb24gY3JlYXRlU29ydEljb24oX3JlZjIpIHtcbiAgICB2YXIgc29ydGVkID0gX3JlZjIuc29ydGVkLFxuICAgICAgc29ydE9yZGVyID0gX3JlZjIuc29ydE9yZGVyO1xuICAgIGlmIChnZXRDb2x1bW5Qcm9wKCdzb3J0YWJsZScpKSB7XG4gICAgICB2YXIgc29ydEljb24gPSBzb3J0ZWQgPyBzb3J0T3JkZXIgPCAwID8gJ3BpLXNvcnQtYW1vdW50LWRvd24nIDogJ3BpLXNvcnQtYW1vdW50LXVwLWFsdCcgOiAncGktc29ydC1hbHQnO1xuICAgICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3Atc29ydGFibGUtY29sdW1uLWljb24gcGkgcGktZncnLCBzb3J0SWNvbik7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZUJhZGdlID0gZnVuY3Rpb24gY3JlYXRlQmFkZ2UoX3JlZjMpIHtcbiAgICB2YXIgbWV0YUluZGV4ID0gX3JlZjMubWV0YUluZGV4O1xuICAgIGlmIChtZXRhSW5kZXggIT09IC0xICYmIGlzQmFkZ2VWaXNpYmxlKCkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHByb3BzLmdyb3VwUm93c0J5ICYmIHByb3BzLmdyb3VwUm93c0J5ID09PSBwcm9wcy5ncm91cFJvd1NvcnRGaWVsZCA/IG1ldGFJbmRleCA6IG1ldGFJbmRleCArIDE7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtc29ydGFibGUtY29sdW1uLWJhZGdlXCJcbiAgICAgIH0sIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIHZhciBjcmVhdGVDaGVja2JveCA9IGZ1bmN0aW9uIGNyZWF0ZUNoZWNrYm94KCkge1xuICAgIGlmIChwcm9wcy5zaG93U2VsZWN0QWxsICYmIGdldENvbHVtblByb3AoJ3NlbGVjdGlvbk1vZGUnKSA9PT0gJ211bHRpcGxlJyAmJiBwcm9wcy5maWx0ZXJEaXNwbGF5ICE9PSAncm93Jykge1xuICAgICAgdmFyIGFsbFJvd3NTZWxlY3RlZCA9IHByb3BzLmFsbFJvd3NTZWxlY3RlZChwcm9wcy52YWx1ZSk7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSGVhZGVyQ2hlY2tib3gsIHtcbiAgICAgICAgY2hlY2tlZDogYWxsUm93c1NlbGVjdGVkLFxuICAgICAgICBvbkNoYW5nZTogcHJvcHMub25Db2x1bW5DaGVja2JveENoYW5nZSxcbiAgICAgICAgZGlzYWJsZWQ6IHByb3BzLmVtcHR5XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIHZhciBjcmVhdGVGaWx0ZXIgPSBmdW5jdGlvbiBjcmVhdGVGaWx0ZXIoKSB7XG4gICAgaWYgKHByb3BzLmZpbHRlckRpc3BsYXkgPT09ICdtZW51JyAmJiBnZXRDb2x1bW5Qcm9wKCdmaWx0ZXInKSkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENvbHVtbkZpbHRlciwge1xuICAgICAgICBkaXNwbGF5OiBcIm1lbnVcIixcbiAgICAgICAgY29sdW1uOiBwcm9wcy5jb2x1bW4sXG4gICAgICAgIGZpbHRlcnM6IHByb3BzLmZpbHRlcnMsXG4gICAgICAgIG9uRmlsdGVyQ2hhbmdlOiBwcm9wcy5vbkZpbHRlckNoYW5nZSxcbiAgICAgICAgb25GaWx0ZXJBcHBseTogcHJvcHMub25GaWx0ZXJBcHBseSxcbiAgICAgICAgZmlsdGVyc1N0b3JlOiBwcm9wcy5maWx0ZXJzU3RvcmVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZUhlYWRlciA9IGZ1bmN0aW9uIGNyZWF0ZUhlYWRlcihzb3J0TWV0YSkge1xuICAgIHZhciB0aXRsZSA9IGNyZWF0ZVRpdGxlKCk7XG4gICAgdmFyIHNvcnRJY29uID0gY3JlYXRlU29ydEljb24oc29ydE1ldGEpO1xuICAgIHZhciBiYWRnZSA9IGNyZWF0ZUJhZGdlKHNvcnRNZXRhKTtcbiAgICB2YXIgY2hlY2tib3ggPSBjcmVhdGVDaGVja2JveCgpO1xuICAgIHZhciBmaWx0ZXIgPSBjcmVhdGVGaWx0ZXIoKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInAtY29sdW1uLWhlYWRlci1jb250ZW50XCJcbiAgICB9LCB0aXRsZSwgc29ydEljb24sIGJhZGdlLCBjaGVja2JveCwgZmlsdGVyKTtcbiAgfTtcbiAgdmFyIGNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KCkge1xuICAgIHZhciBfaXNTb3J0YWJsZURpc2FibGVkID0gaXNTb3J0YWJsZURpc2FibGVkKCk7XG4gICAgdmFyIHNvcnRNZXRhID0gZ2V0U29ydE1ldGEoKTtcbiAgICB2YXIgc3R5bGUgPSBnZXRTdHlsZSgpO1xuICAgIHZhciBhbGlnbiA9IGdldENvbHVtblByb3AoJ2FsaWduSGVhZGVyJykgfHwgZ2V0Q29sdW1uUHJvcCgnYWxpZ24nKTtcbiAgICB2YXIgZnJvemVuID0gZ2V0Q29sdW1uUHJvcCgnZnJvemVuJyk7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoZ2V0Q29sdW1uUHJvcCgnaGVhZGVyQ2xhc3NOYW1lJyksIGdldENvbHVtblByb3AoJ2NsYXNzTmFtZScpLCBfZGVmaW5lUHJvcGVydHkoe1xuICAgICAgJ3Atc29ydGFibGUtY29sdW1uJzogZ2V0Q29sdW1uUHJvcCgnc29ydGFibGUnKSxcbiAgICAgICdwLXJlc2l6YWJsZS1jb2x1bW4nOiBwcm9wcy5yZXNpemFibGVDb2x1bW5zICYmIGdldENvbHVtblByb3AoJ3Jlc2l6ZWFibGUnKSxcbiAgICAgICdwLWhpZ2hsaWdodCc6IHNvcnRNZXRhLnNvcnRlZCxcbiAgICAgICdwLWZyb3plbi1jb2x1bW4nOiBmcm96ZW4sXG4gICAgICAncC1zZWxlY3Rpb24tY29sdW1uJzogZ2V0Q29sdW1uUHJvcCgnc2VsZWN0aW9uTW9kZScpLFxuICAgICAgJ3Atc29ydGFibGUtZGlzYWJsZWQnOiBnZXRDb2x1bW5Qcm9wKCdzb3J0YWJsZScpICYmIF9pc1NvcnRhYmxlRGlzYWJsZWQsXG4gICAgICAncC1yZW9yZGVyYWJsZS1jb2x1bW4nOiBwcm9wcy5yZW9yZGVyYWJsZUNvbHVtbnMgJiYgZ2V0Q29sdW1uUHJvcCgncmVvcmRlcmFibGUnKSAmJiAhZnJvemVuXG4gICAgfSwgXCJwLWFsaWduLVwiLmNvbmNhdChhbGlnbiksICEhYWxpZ24pKTtcbiAgICB2YXIgdGFiSW5kZXggPSBnZXRDb2x1bW5Qcm9wKCdzb3J0YWJsZScpICYmICFfaXNTb3J0YWJsZURpc2FibGVkID8gcHJvcHMudGFiSW5kZXggOiBudWxsO1xuICAgIHZhciBjb2xTcGFuID0gZ2V0Q29sdW1uUHJvcCgnY29sU3BhbicpO1xuICAgIHZhciByb3dTcGFuID0gZ2V0Q29sdW1uUHJvcCgncm93U3BhbicpO1xuICAgIHZhciBhcmlhU29ydCA9IGdldEFyaWFTb3J0KHNvcnRNZXRhKTtcbiAgICB2YXIgaGVhZGVyVG9vbHRpcCA9IGdldENvbHVtblByb3AoJ2hlYWRlclRvb2x0aXAnKTtcbiAgICB2YXIgaGFzVG9vbHRpcCA9IE9iamVjdFV0aWxzLmlzTm90RW1wdHkoaGVhZGVyVG9vbHRpcCk7XG4gICAgdmFyIGhlYWRlclRvb2x0aXBPcHRpb25zID0gZ2V0Q29sdW1uUHJvcCgnaGVhZGVyVG9vbHRpcE9wdGlvbnMnKTtcbiAgICB2YXIgcmVzaXplciA9IGNyZWF0ZVJlc2l6ZXIoKTtcbiAgICB2YXIgaGVhZGVyID0gY3JlYXRlSGVhZGVyKHNvcnRNZXRhKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGhcIiwge1xuICAgICAgcmVmOiBlbGVtZW50UmVmLFxuICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICB0YWJJbmRleDogdGFiSW5kZXgsXG4gICAgICByb2xlOiBcImNvbHVtbmhlYWRlclwiLFxuICAgICAgb25DbGljazogb25DbGljayxcbiAgICAgIG9uS2V5RG93bjogb25LZXlEb3duLFxuICAgICAgb25Nb3VzZURvd246IG9uTW91c2VEb3duLFxuICAgICAgb25EcmFnU3RhcnQ6IG9uRHJhZ1N0YXJ0LFxuICAgICAgb25EcmFnT3Zlcjogb25EcmFnT3ZlcixcbiAgICAgIG9uRHJhZ0xlYXZlOiBvbkRyYWdMZWF2ZSxcbiAgICAgIG9uRHJvcDogb25Ecm9wLFxuICAgICAgY29sU3BhbjogY29sU3BhbixcbiAgICAgIHJvd1NwYW46IHJvd1NwYW4sXG4gICAgICBcImFyaWEtc29ydFwiOiBhcmlhU29ydFxuICAgIH0sIHJlc2l6ZXIsIGhlYWRlciksIGhhc1Rvb2x0aXAgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwgX2V4dGVuZHMoe1xuICAgICAgdGFyZ2V0OiBlbGVtZW50UmVmLFxuICAgICAgY29udGVudDogaGVhZGVyVG9vbHRpcFxuICAgIH0sIGhlYWRlclRvb2x0aXBPcHRpb25zKSkpO1xuICB9O1xuICB2YXIgZWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59KTtcbkhlYWRlckNlbGwuZGlzcGxheU5hbWUgPSAnSGVhZGVyQ2VsbCc7XG5cbmZ1bmN0aW9uIG93bktleXMkMShvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkMSh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyQxKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMkMShPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG52YXIgVGFibGVIZWFkZXIgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyhmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlKFtdKSxcbiAgICBfUmVhY3QkdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlLCAyKSxcbiAgICBzb3J0YWJsZURpc2FibGVkRmllbGRzU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgIHNldFNvcnRhYmxlRGlzYWJsZWRGaWVsZHNTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUzID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUzLCAyKSxcbiAgICBhbGxTb3J0YWJsZURpc2FibGVkU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU0WzBdLFxuICAgIHNldEFsbFNvcnRhYmxlRGlzYWJsZWRTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTRbMV07XG4gIHZhciBpc1NpbmdsZVNvcnQgPSBwcm9wcy5zb3J0TW9kZSA9PT0gJ3NpbmdsZSc7XG4gIHZhciBpc011bHRpcGxlU29ydCA9IHByb3BzLnNvcnRNb2RlID09PSAnbXVsdGlwbGUnO1xuICB2YXIgaXNBbGxTb3J0YWJsZURpc2FibGVkID0gaXNTaW5nbGVTb3J0ICYmIGFsbFNvcnRhYmxlRGlzYWJsZWRTdGF0ZTtcbiAgdmFyIGdldENvbHVtblByb3AgPSBmdW5jdGlvbiBnZXRDb2x1bW5Qcm9wKGNvbHVtbiwgbmFtZSkge1xuICAgIHJldHVybiBDb2x1bW5CYXNlLmdldENQcm9wKGNvbHVtbiwgbmFtZSk7XG4gIH07XG4gIHZhciBpc0NvbHVtblNvcnRlZCA9IGZ1bmN0aW9uIGlzQ29sdW1uU29ydGVkKGNvbHVtbikge1xuICAgIHJldHVybiBwcm9wcy5zb3J0RmllbGQgIT09IG51bGwgPyBnZXRDb2x1bW5Qcm9wKGNvbHVtbiwgJ2ZpZWxkJykgPT09IHByb3BzLnNvcnRGaWVsZCB8fCBnZXRDb2x1bW5Qcm9wKGNvbHVtbiwgJ3NvcnRGaWVsZCcpID09PSBwcm9wcy5zb3J0RmllbGQgOiBmYWxzZTtcbiAgfTtcbiAgdmFyIHVwZGF0ZVNvcnRhYmxlRGlzYWJsZWQgPSBmdW5jdGlvbiB1cGRhdGVTb3J0YWJsZURpc2FibGVkKCkge1xuICAgIGlmIChpc1NpbmdsZVNvcnQgfHwgaXNNdWx0aXBsZVNvcnQgJiYgcHJvcHMub25Tb3J0Q2hhbmdlKSB7XG4gICAgICB2YXIgc29ydGFibGVEaXNhYmxlZEZpZWxkcyA9IFtdO1xuICAgICAgdmFyIGFsbFNvcnRhYmxlRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHByb3BzLmNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICAgIGlmIChnZXRDb2x1bW5Qcm9wKGNvbHVtbiwgJ3NvcnRhYmxlRGlzYWJsZWQnKSkge1xuICAgICAgICAgIHNvcnRhYmxlRGlzYWJsZWRGaWVsZHMucHVzaChnZXRDb2x1bW5Qcm9wKGNvbHVtbiwgJ3NvcnRGaWVsZCcpIHx8IGdldENvbHVtblByb3AoY29sdW1uLCAnZmllbGQnKSk7XG4gICAgICAgICAgaWYgKCFhbGxTb3J0YWJsZURpc2FibGVkICYmIGlzQ29sdW1uU29ydGVkKGNvbHVtbikpIHtcbiAgICAgICAgICAgIGFsbFNvcnRhYmxlRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzZXRTb3J0YWJsZURpc2FibGVkRmllbGRzU3RhdGUoc29ydGFibGVEaXNhYmxlZEZpZWxkcyk7XG4gICAgICBzZXRBbGxTb3J0YWJsZURpc2FibGVkU3RhdGUoYWxsU29ydGFibGVEaXNhYmxlZCk7XG4gICAgfVxuICB9O1xuICB2YXIgb25Tb3J0YWJsZUNoYW5nZSA9IGZ1bmN0aW9uIG9uU29ydGFibGVDaGFuZ2UoKSB7XG4gICAgdXBkYXRlU29ydGFibGVEaXNhYmxlZCgpO1xuICB9O1xuICB2YXIgb25DaGVja2JveENoYW5nZSA9IGZ1bmN0aW9uIG9uQ2hlY2tib3hDaGFuZ2UoZSkge1xuICAgIHByb3BzLm9uQ29sdW1uQ2hlY2tib3hDaGFuZ2UoZSwgcHJvcHMudmFsdWUpO1xuICB9O1xuICB1c2VNb3VudEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdXBkYXRlU29ydGFibGVEaXNhYmxlZCgpO1xuICB9KTtcbiAgdmFyIGNyZWF0ZUdyb3VwSGVhZGVyQ2VsbHMgPSBmdW5jdGlvbiBjcmVhdGVHcm91cEhlYWRlckNlbGxzKHJvdykge1xuICAgIHZhciBjb2x1bW5zID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShSb3dCYXNlLmdldENQcm9wKHJvdywgJ2NoaWxkcmVuJykpO1xuICAgIHJldHVybiBjcmVhdGVIZWFkZXJDZWxscyhjb2x1bW5zKTtcbiAgfTtcbiAgdmFyIGNyZWF0ZUhlYWRlckNlbGxzID0gZnVuY3Rpb24gY3JlYXRlSGVhZGVyQ2VsbHMoY29sdW1ucykge1xuICAgIHJldHVybiBSZWFjdC5DaGlsZHJlbi5tYXAoY29sdW1ucywgZnVuY3Rpb24gKGNvbCwgaSkge1xuICAgICAgdmFyIGlzVmlzaWJsZSA9IGNvbCA/ICFnZXRDb2x1bW5Qcm9wKGNvbCwgJ2hpZGRlbicpIDogdHJ1ZTtcbiAgICAgIHZhciBrZXkgPSBjb2wgPyBnZXRDb2x1bW5Qcm9wKGNvbCwgJ2NvbHVtbktleScpIHx8IGdldENvbHVtblByb3AoY29sLCAnZmllbGQnKSB8fCBpIDogaTtcbiAgICAgIHJldHVybiBpc1Zpc2libGUgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSGVhZGVyQ2VsbCwge1xuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgdmFsdWU6IHByb3BzLnZhbHVlLFxuICAgICAgICB0YWJsZVByb3BzOiBwcm9wcy50YWJsZVByb3BzLFxuICAgICAgICBjb2x1bW46IGNvbCxcbiAgICAgICAgdGFiSW5kZXg6IHByb3BzLnRhYkluZGV4LFxuICAgICAgICBlbXB0eTogcHJvcHMuZW1wdHksXG4gICAgICAgIHJlc2l6YWJsZUNvbHVtbnM6IHByb3BzLnJlc2l6YWJsZUNvbHVtbnMsXG4gICAgICAgIGdyb3VwUm93c0J5OiBwcm9wcy5ncm91cFJvd3NCeSxcbiAgICAgICAgZ3JvdXBSb3dTb3J0RmllbGQ6IHByb3BzLmdyb3VwUm93U29ydEZpZWxkLFxuICAgICAgICBzb3J0TW9kZTogcHJvcHMuc29ydE1vZGUsXG4gICAgICAgIHNvcnRGaWVsZDogcHJvcHMuc29ydEZpZWxkLFxuICAgICAgICBzb3J0T3JkZXI6IHByb3BzLnNvcnRPcmRlcixcbiAgICAgICAgbXVsdGlTb3J0TWV0YTogcHJvcHMubXVsdGlTb3J0TWV0YSxcbiAgICAgICAgYWxsU29ydGFibGVEaXNhYmxlZDogaXNBbGxTb3J0YWJsZURpc2FibGVkLFxuICAgICAgICBvblNvcnRhYmxlQ2hhbmdlOiBvblNvcnRhYmxlQ2hhbmdlLFxuICAgICAgICBzb3J0YWJsZURpc2FibGVkRmllbGRzOiBzb3J0YWJsZURpc2FibGVkRmllbGRzU3RhdGUsXG4gICAgICAgIGZpbHRlckRpc3BsYXk6IHByb3BzLmZpbHRlckRpc3BsYXksXG4gICAgICAgIGZpbHRlcnM6IHByb3BzLmZpbHRlcnMsXG4gICAgICAgIGZpbHRlcnNTdG9yZTogcHJvcHMuZmlsdGVyc1N0b3JlLFxuICAgICAgICBvbkZpbHRlckNoYW5nZTogcHJvcHMub25GaWx0ZXJDaGFuZ2UsXG4gICAgICAgIG9uRmlsdGVyQXBwbHk6IHByb3BzLm9uRmlsdGVyQXBwbHksXG4gICAgICAgIG9uQ29sdW1uTW91c2VEb3duOiBwcm9wcy5vbkNvbHVtbk1vdXNlRG93bixcbiAgICAgICAgb25Db2x1bW5EcmFnU3RhcnQ6IHByb3BzLm9uQ29sdW1uRHJhZ1N0YXJ0LFxuICAgICAgICBvbkNvbHVtbkRyYWdPdmVyOiBwcm9wcy5vbkNvbHVtbkRyYWdPdmVyLFxuICAgICAgICBvbkNvbHVtbkRyYWdMZWF2ZTogcHJvcHMub25Db2x1bW5EcmFnTGVhdmUsXG4gICAgICAgIG9uQ29sdW1uRHJvcDogcHJvcHMub25Db2x1bW5Ecm9wLFxuICAgICAgICBvbkNvbHVtblJlc2l6ZVN0YXJ0OiBwcm9wcy5vbkNvbHVtblJlc2l6ZVN0YXJ0LFxuICAgICAgICBvbkNvbHVtblJlc2l6ZXJDbGljazogcHJvcHMub25Db2x1bW5SZXNpemVyQ2xpY2ssXG4gICAgICAgIG9uQ29sdW1uUmVzaXplckRvdWJsZUNsaWNrOiBwcm9wcy5vbkNvbHVtblJlc2l6ZXJEb3VibGVDbGljayxcbiAgICAgICAgc2hvd1NlbGVjdEFsbDogcHJvcHMuc2hvd1NlbGVjdEFsbCxcbiAgICAgICAgYWxsUm93c1NlbGVjdGVkOiBwcm9wcy5hbGxSb3dzU2VsZWN0ZWQsXG4gICAgICAgIG9uQ29sdW1uQ2hlY2tib3hDaGFuZ2U6IG9uQ2hlY2tib3hDaGFuZ2UsXG4gICAgICAgIHJlb3JkZXJhYmxlQ29sdW1uczogcHJvcHMucmVvcmRlcmFibGVDb2x1bW5zLFxuICAgICAgICBvblNvcnRDaGFuZ2U6IHByb3BzLm9uU29ydENoYW5nZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIHZhciBjcmVhdGVDaGVja2JveCA9IGZ1bmN0aW9uIGNyZWF0ZUNoZWNrYm94KHNlbGVjdGlvbk1vZGUpIHtcbiAgICBpZiAocHJvcHMuc2hvd1NlbGVjdEFsbCAmJiBzZWxlY3Rpb25Nb2RlID09PSAnbXVsdGlwbGUnKSB7XG4gICAgICB2YXIgYWxsUm93c1NlbGVjdGVkID0gcHJvcHMuYWxsUm93c1NlbGVjdGVkKHByb3BzLnZhbHVlKTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChIZWFkZXJDaGVja2JveCwge1xuICAgICAgICBjaGVja2VkOiBhbGxSb3dzU2VsZWN0ZWQsXG4gICAgICAgIG9uQ2hhbmdlOiBvbkNoZWNrYm94Q2hhbmdlLFxuICAgICAgICBkaXNhYmxlZDogcHJvcHMuZW1wdHlcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZUZpbHRlciA9IGZ1bmN0aW9uIGNyZWF0ZUZpbHRlcihjb2x1bW4sIGZpbHRlcikge1xuICAgIGlmIChmaWx0ZXIpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb2x1bW5GaWx0ZXIsIHtcbiAgICAgICAgZGlzcGxheTogXCJyb3dcIixcbiAgICAgICAgY29sdW1uOiBjb2x1bW4sXG4gICAgICAgIGZpbHRlcnM6IHByb3BzLmZpbHRlcnMsXG4gICAgICAgIGZpbHRlcnNTdG9yZTogcHJvcHMuZmlsdGVyc1N0b3JlLFxuICAgICAgICBvbkZpbHRlckNoYW5nZTogcHJvcHMub25GaWx0ZXJDaGFuZ2UsXG4gICAgICAgIG9uRmlsdGVyQXBwbHk6IHByb3BzLm9uRmlsdGVyQXBwbHlcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZUZpbHRlckNlbGxzID0gZnVuY3Rpb24gY3JlYXRlRmlsdGVyQ2VsbHMoKSB7XG4gICAgcmV0dXJuIFJlYWN0LkNoaWxkcmVuLm1hcChwcm9wcy5jb2x1bW5zLCBmdW5jdGlvbiAoY29sLCBpKSB7XG4gICAgICB2YXIgaXNWaXNpYmxlID0gIWdldENvbHVtblByb3AoY29sLCAnaGlkZGVuJyk7XG4gICAgICBpZiAoaXNWaXNpYmxlKSB7XG4gICAgICAgIHZhciBfQ29sdW1uQmFzZSRnZXRDUHJvcHMgPSBDb2x1bW5CYXNlLmdldENQcm9wcyhjb2wpLFxuICAgICAgICAgIGZpbHRlckhlYWRlclN0eWxlID0gX0NvbHVtbkJhc2UkZ2V0Q1Byb3BzLmZpbHRlckhlYWRlclN0eWxlLFxuICAgICAgICAgIHN0eWxlID0gX0NvbHVtbkJhc2UkZ2V0Q1Byb3BzLnN0eWxlLFxuICAgICAgICAgIGZpbHRlckhlYWRlckNsYXNzTmFtZSA9IF9Db2x1bW5CYXNlJGdldENQcm9wcy5maWx0ZXJIZWFkZXJDbGFzc05hbWUsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX0NvbHVtbkJhc2UkZ2V0Q1Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBmcm96ZW4gPSBfQ29sdW1uQmFzZSRnZXRDUHJvcHMuZnJvemVuLFxuICAgICAgICAgIGNvbHVtbktleSA9IF9Db2x1bW5CYXNlJGdldENQcm9wcy5jb2x1bW5LZXksXG4gICAgICAgICAgZmllbGQgPSBfQ29sdW1uQmFzZSRnZXRDUHJvcHMuZmllbGQsXG4gICAgICAgICAgc2VsZWN0aW9uTW9kZSA9IF9Db2x1bW5CYXNlJGdldENQcm9wcy5zZWxlY3Rpb25Nb2RlLFxuICAgICAgICAgIGZpbHRlciA9IF9Db2x1bW5CYXNlJGdldENQcm9wcy5maWx0ZXI7XG4gICAgICAgIHZhciBjb2xTdHlsZSA9IF9vYmplY3RTcHJlYWQkMShfb2JqZWN0U3ByZWFkJDEoe30sIGZpbHRlckhlYWRlclN0eWxlIHx8IHt9KSwgc3R5bGUgfHwge30pO1xuICAgICAgICB2YXIgY29sQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1maWx0ZXItY29sdW1uJywgZmlsdGVySGVhZGVyQ2xhc3NOYW1lLCBjbGFzc05hbWUsIHtcbiAgICAgICAgICAncC1mcm96ZW4tY29sdW1uJzogZnJvemVuXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgY29sS2V5ID0gY29sdW1uS2V5IHx8IGZpZWxkIHx8IGk7XG4gICAgICAgIHZhciBjaGVja2JveCA9IGNyZWF0ZUNoZWNrYm94KHNlbGVjdGlvbk1vZGUpO1xuICAgICAgICB2YXIgZmlsdGVyUm93ID0gY3JlYXRlRmlsdGVyKGNvbCwgZmlsdGVyKTtcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGhcIiwge1xuICAgICAgICAgIGtleTogY29sS2V5LFxuICAgICAgICAgIHN0eWxlOiBjb2xTdHlsZSxcbiAgICAgICAgICBjbGFzc05hbWU6IGNvbENsYXNzTmFtZVxuICAgICAgICB9LCBjaGVja2JveCwgZmlsdGVyUm93KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pO1xuICB9O1xuICB2YXIgY3JlYXRlQ29udGVudCA9IGZ1bmN0aW9uIGNyZWF0ZUNvbnRlbnQoKSB7XG4gICAgaWYgKHByb3BzLmhlYWRlckNvbHVtbkdyb3VwKSB7XG4gICAgICB2YXIgcm93cyA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkoQ29sdW1uR3JvdXBCYXNlLmdldENQcm9wKHByb3BzLmhlYWRlckNvbHVtbkdyb3VwLCAnY2hpbGRyZW4nKSk7XG4gICAgICByZXR1cm4gcm93cy5tYXAoZnVuY3Rpb24gKHJvdywgaSkge1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0clwiLCB7XG4gICAgICAgICAga2V5OiBpLFxuICAgICAgICAgIHJvbGU6IFwicm93XCJcbiAgICAgICAgfSwgY3JlYXRlR3JvdXBIZWFkZXJDZWxscyhyb3cpKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaGVhZGVyUm93ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0clwiLCB7XG4gICAgICAgIHJvbGU6IFwicm93XCJcbiAgICAgIH0sIGNyZWF0ZUhlYWRlckNlbGxzKHByb3BzLmNvbHVtbnMpKTtcbiAgICAgIHZhciBmaWx0ZXJSb3cgPSBwcm9wcy5maWx0ZXJEaXNwbGF5ID09PSAncm93JyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIHtcbiAgICAgICAgcm9sZTogXCJyb3dcIlxuICAgICAgfSwgY3JlYXRlRmlsdGVyQ2VsbHMoKSk7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGhlYWRlclJvdywgZmlsdGVyUm93KTtcbiAgICB9XG4gIH07XG4gIHZhciBjb250ZW50ID0gY3JlYXRlQ29udGVudCgpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInAtZGF0YXRhYmxlLXRoZWFkXCJcbiAgfSwgY29udGVudCk7XG59KTtcblRhYmxlSGVhZGVyLmRpc3BsYXlOYW1lID0gJ1RhYmxlSGVhZGVyJztcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG52YXIgRGF0YVRhYmxlID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKGluUHJvcHMsIHJlZikge1xuICB2YXIgcHJvcHMgPSBEYXRhVGFibGVCYXNlLmdldFByb3BzKGluUHJvcHMpO1xuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUocHJvcHMuZmlyc3QpLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLFxuICAgIGZpcnN0U3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgIHNldEZpcnN0U3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuICB2YXIgX1JlYWN0JHVzZVN0YXRlMyA9IFJlYWN0LnVzZVN0YXRlKHByb3BzLnJvd3MpLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUzLCAyKSxcbiAgICByb3dzU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU0WzBdLFxuICAgIHNldFJvd3NTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTRbMV07XG4gIHZhciBfUmVhY3QkdXNlU3RhdGU1ID0gUmVhY3QudXNlU3RhdGUocHJvcHMuc29ydEZpZWxkKSxcbiAgICBfUmVhY3QkdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlNSwgMiksXG4gICAgc29ydEZpZWxkU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU2WzBdLFxuICAgIHNldFNvcnRGaWVsZFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNlsxXTtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTcgPSBSZWFjdC51c2VTdGF0ZShwcm9wcy5zb3J0T3JkZXIpLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTggPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGU3LCAyKSxcbiAgICBzb3J0T3JkZXJTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZThbMF0sXG4gICAgc2V0U29ydE9yZGVyU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU4WzFdO1xuICB2YXIgX1JlYWN0JHVzZVN0YXRlOSA9IFJlYWN0LnVzZVN0YXRlKHByb3BzLm11bHRpU29ydE1ldGEpLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTEwID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlOSwgMiksXG4gICAgbXVsdGlTb3J0TWV0YVN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMTBbMF0sXG4gICAgc2V0TXVsdGlTb3J0TWV0YVN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMTBbMV07XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUxMSA9IFJlYWN0LnVzZVN0YXRlKHByb3BzLmZpbHRlcnMpLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTEyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlMTEsIDIpLFxuICAgIGZpbHRlcnNTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTEyWzBdLFxuICAgIHNldEZpbHRlcnNTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTEyWzFdO1xuICB2YXIgX1JlYWN0JHVzZVN0YXRlMTMgPSBSZWFjdC51c2VTdGF0ZShbXSksXG4gICAgX1JlYWN0JHVzZVN0YXRlMTQgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUxMywgMiksXG4gICAgY29sdW1uT3JkZXJTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTE0WzBdLFxuICAgIHNldENvbHVtbk9yZGVyU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUxNFsxXTtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTE1ID0gUmVhY3QudXNlU3RhdGUobnVsbCksXG4gICAgX1JlYWN0JHVzZVN0YXRlMTYgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUxNSwgMiksXG4gICAgZ3JvdXBSb3dzU29ydE1ldGFTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTE2WzBdLFxuICAgIHNldEdyb3VwUm93c1NvcnRNZXRhU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUxNlsxXTtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTE3ID0gUmVhY3QudXNlU3RhdGUoe30pLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTE4ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlMTcsIDIpLFxuICAgIGVkaXRpbmdNZXRhU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUxOFswXSxcbiAgICBzZXRFZGl0aW5nTWV0YVN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMThbMV07XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUxOSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTIwID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlMTksIDIpLFxuICAgIGF0dHJpYnV0ZVNlbGVjdG9yU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyMFswXSxcbiAgICBzZXRBdHRyaWJ1dGVTZWxlY3RvclN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMjBbMV07XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUyMSA9IFJlYWN0LnVzZVN0YXRlKHByb3BzLnJvd3MpLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTIyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlMjEsIDIpLFxuICAgIGRfcm93c1N0YXRlID0gX1JlYWN0JHVzZVN0YXRlMjJbMF0sXG4gICAgc2V0RF9yb3dzU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyMlsxXTtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTIzID0gUmVhY3QudXNlU3RhdGUoe30pLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTI0ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlMjMsIDIpLFxuICAgIGRfZmlsdGVyc1N0YXRlID0gX1JlYWN0JHVzZVN0YXRlMjRbMF0sXG4gICAgc2V0RF9maWx0ZXJzU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyNFsxXTtcbiAgdmFyIGVsZW1lbnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciB0YWJsZVJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHdyYXBwZXJSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBib2R5UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgZnJvemVuQm9keVJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHZpcnR1YWxTY3JvbGxlclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHJlb3JkZXJJbmRpY2F0b3JVcFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHJlb3JkZXJJbmRpY2F0b3JEb3duUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgY29sUmVvcmRlckljb25XaWR0aCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGNvbFJlb3JkZXJJY29uSGVpZ2h0ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgcmVzaXplSGVscGVyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgZHJhZ2dlZENvbHVtbkVsZW1lbnQgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBkcmFnZ2VkQ29sdW1uID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgZHJvcFBvc2l0aW9uID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgc3R5bGVFbGVtZW50ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgcmVzcG9uc2l2ZVN0eWxlRWxlbWVudCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGNvbHVtbldpZHRoc1N0YXRlID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgdGFibGVXaWR0aFN0YXRlID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgcmVzaXplQ29sdW1uID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgcmVzaXplQ29sdW1uRWxlbWVudCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGNvbHVtblJlc2l6aW5nID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgdmFyIGxhc3RSZXNpemVIZWxwZXJYID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgY29sdW1uU29ydGFibGUgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICB2YXIgY29sdW1uU29ydEZ1bmN0aW9uID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgY29sdW1uRmllbGQgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBmaWx0ZXJUaW1lb3V0ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBpZiAocHJvcHMucm93cyAhPT0gZF9yb3dzU3RhdGUgJiYgIXByb3BzLm9uUGFnZSkge1xuICAgIHNldFJvd3NTdGF0ZShwcm9wcy5yb3dzKTtcbiAgICBzZXREX3Jvd3NTdGF0ZShwcm9wcy5yb3dzKTtcbiAgfVxuICB2YXIgX3VzZUV2ZW50TGlzdGVuZXIgPSB1c2VFdmVudExpc3RlbmVyKHtcbiAgICAgIHR5cGU6ICdtb3VzZW1vdmUnLFxuICAgICAgbGlzdGVuZXI6IGZ1bmN0aW9uIGxpc3RlbmVyKGV2ZW50KSB7XG4gICAgICAgIGlmIChjb2x1bW5SZXNpemluZy5jdXJyZW50KSB7XG4gICAgICAgICAgb25Db2x1bW5SZXNpemUoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSksXG4gICAgX3VzZUV2ZW50TGlzdGVuZXIyID0gX3NsaWNlZFRvQXJyYXkoX3VzZUV2ZW50TGlzdGVuZXIsIDIpLFxuICAgIGJpbmREb2N1bWVudE1vdXNlTW92ZUxpc3RlbmVyID0gX3VzZUV2ZW50TGlzdGVuZXIyWzBdLFxuICAgIHVuYmluZERvY3VtZW50TW91c2VNb3ZlTGlzdGVuZXIgPSBfdXNlRXZlbnRMaXN0ZW5lcjJbMV07XG4gIHZhciBfdXNlRXZlbnRMaXN0ZW5lcjMgPSB1c2VFdmVudExpc3RlbmVyKHtcbiAgICAgIHR5cGU6ICdtb3VzZXVwJyxcbiAgICAgIGxpc3RlbmVyOiBmdW5jdGlvbiBsaXN0ZW5lcigpIHtcbiAgICAgICAgaWYgKGNvbHVtblJlc2l6aW5nLmN1cnJlbnQpIHtcbiAgICAgICAgICBjb2x1bW5SZXNpemluZy5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgICAgb25Db2x1bW5SZXNpemVFbmQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIF91c2VFdmVudExpc3RlbmVyNCA9IF9zbGljZWRUb0FycmF5KF91c2VFdmVudExpc3RlbmVyMywgMiksXG4gICAgYmluZERvY3VtZW50TW91c2VVcExpc3RlbmVyID0gX3VzZUV2ZW50TGlzdGVuZXI0WzBdLFxuICAgIHVuYmluZERvY3VtZW50TW91c2VVcExpc3RlbmVyID0gX3VzZUV2ZW50TGlzdGVuZXI0WzFdO1xuICB2YXIgaXNDdXN0b21TdGF0ZVN0b3JhZ2UgPSBmdW5jdGlvbiBpc0N1c3RvbVN0YXRlU3RvcmFnZSgpIHtcbiAgICByZXR1cm4gcHJvcHMuc3RhdGVTdG9yYWdlID09PSAnY3VzdG9tJztcbiAgfTtcbiAgdmFyIGlzU3RhdGVmdWwgPSBmdW5jdGlvbiBpc1N0YXRlZnVsKCkge1xuICAgIHJldHVybiBwcm9wcy5zdGF0ZUtleSAhPSBudWxsIHx8IGlzQ3VzdG9tU3RhdGVTdG9yYWdlKCk7XG4gIH07XG4gIHZhciBpc1ZpcnR1YWxTY3JvbGxlckRpc2FibGVkID0gZnVuY3Rpb24gaXNWaXJ0dWFsU2Nyb2xsZXJEaXNhYmxlZCgpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuaXNFbXB0eShwcm9wcy52aXJ0dWFsU2Nyb2xsZXJPcHRpb25zKSB8fCAhcHJvcHMuc2Nyb2xsYWJsZTtcbiAgfTtcbiAgdmFyIGlzRXF1YWxzID0gZnVuY3Rpb24gaXNFcXVhbHMoZGF0YTEsIGRhdGEyKSB7XG4gICAgcmV0dXJuIHByb3BzLmNvbXBhcmVTZWxlY3Rpb25CeSA9PT0gJ2VxdWFscycgPyBkYXRhMSA9PT0gZGF0YTIgOiBPYmplY3RVdGlscy5lcXVhbHMoZGF0YTEsIGRhdGEyLCBwcm9wcy5kYXRhS2V5KTtcbiAgfTtcbiAgdmFyIGhhc0ZpbHRlciA9IGZ1bmN0aW9uIGhhc0ZpbHRlcigpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShnZXRGaWx0ZXJzKCkpIHx8IHByb3BzLmdsb2JhbEZpbHRlcjtcbiAgfTtcbiAgdmFyIGdldEZpcnN0ID0gZnVuY3Rpb24gZ2V0Rmlyc3QoKSB7XG4gICAgcmV0dXJuIHByb3BzLm9uUGFnZSA/IHByb3BzLmZpcnN0IDogZmlyc3RTdGF0ZTtcbiAgfTtcbiAgdmFyIGdldFJvd3MgPSBmdW5jdGlvbiBnZXRSb3dzKCkge1xuICAgIHJldHVybiBwcm9wcy5vblBhZ2UgPyBwcm9wcy5yb3dzIDogcm93c1N0YXRlO1xuICB9O1xuICB2YXIgZ2V0U29ydEZpZWxkID0gZnVuY3Rpb24gZ2V0U29ydEZpZWxkKCkge1xuICAgIHJldHVybiBwcm9wcy5vblNvcnQgPyBwcm9wcy5zb3J0RmllbGQgOiBzb3J0RmllbGRTdGF0ZTtcbiAgfTtcbiAgdmFyIGdldFNvcnRPcmRlciA9IGZ1bmN0aW9uIGdldFNvcnRPcmRlcigpIHtcbiAgICByZXR1cm4gcHJvcHMub25Tb3J0ID8gcHJvcHMuc29ydE9yZGVyIDogc29ydE9yZGVyU3RhdGU7XG4gIH07XG4gIHZhciBnZXRNdWx0aVNvcnRNZXRhID0gZnVuY3Rpb24gZ2V0TXVsdGlTb3J0TWV0YSgpIHtcbiAgICByZXR1cm4gKHByb3BzLm9uU29ydCA/IHByb3BzLm11bHRpU29ydE1ldGEgOiBtdWx0aVNvcnRNZXRhU3RhdGUpIHx8IFtdO1xuICB9O1xuICB2YXIgZ2V0RmlsdGVycyA9IGZ1bmN0aW9uIGdldEZpbHRlcnMoKSB7XG4gICAgcmV0dXJuIHByb3BzLm9uRmlsdGVyID8gcHJvcHMuZmlsdGVycyA6IGZpbHRlcnNTdGF0ZTtcbiAgfTtcbiAgdmFyIGdldENvbHVtblByb3AgPSBmdW5jdGlvbiBnZXRDb2x1bW5Qcm9wKGNvbHVtbiwgbmFtZSkge1xuICAgIHJldHVybiBDb2x1bW5CYXNlLmdldENQcm9wKGNvbHVtbiwgbmFtZSk7XG4gIH07XG4gIHZhciBnZXRDb2x1bW5zID0gZnVuY3Rpb24gZ2V0Q29sdW1ucyhpZ25vcmVSZW9yZGVyYWJsZSkge1xuICAgIHZhciBjb2x1bW5zID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShwcm9wcy5jaGlsZHJlbik7XG4gICAgaWYgKCFjb2x1bW5zKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKCFpZ25vcmVSZW9yZGVyYWJsZSAmJiBwcm9wcy5yZW9yZGVyYWJsZUNvbHVtbnMgJiYgY29sdW1uT3JkZXJTdGF0ZSkge1xuICAgICAgdmFyIG9yZGVyZWRDb2x1bW5zID0gY29sdW1uT3JkZXJTdGF0ZS5yZWR1Y2UoZnVuY3Rpb24gKGFyciwgY29sdW1uS2V5KSB7XG4gICAgICAgIHZhciBjb2x1bW4gPSBmaW5kQ29sdW1uQnlLZXkoY29sdW1ucywgY29sdW1uS2V5KTtcbiAgICAgICAgY29sdW1uICYmIGFyci5wdXNoKGNvbHVtbik7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgICB9LCBbXSk7XG4gICAgICByZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShvcmRlcmVkQ29sdW1ucyksIF90b0NvbnN1bWFibGVBcnJheShjb2x1bW5zLmZpbHRlcihmdW5jdGlvbiAoY29sKSB7XG4gICAgICAgIHJldHVybiBvcmRlcmVkQ29sdW1ucy5pbmRleE9mKGNvbCkgPCAwO1xuICAgICAgfSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbHVtbnM7XG4gIH07XG4gIHZhciBnZXRTdG9yYWdlID0gZnVuY3Rpb24gZ2V0U3RvcmFnZSgpIHtcbiAgICBzd2l0Y2ggKHByb3BzLnN0YXRlU3RvcmFnZSkge1xuICAgICAgY2FzZSAnbG9jYWwnOlxuICAgICAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZTtcbiAgICAgIGNhc2UgJ3Nlc3Npb24nOlxuICAgICAgICByZXR1cm4gd2luZG93LnNlc3Npb25TdG9yYWdlO1xuICAgICAgY2FzZSAnY3VzdG9tJzpcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJvcHMuc3RhdGVTdG9yYWdlICsgJyBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgdGhlIHN0YXRlIHN0b3JhZ2UsIHN1cHBvcnRlZCB2YWx1ZXMgYXJlIFwibG9jYWxcIiwgXCJzZXNzaW9uXCIgYW5kIFwiY3VzdG9tXCIuJyk7XG4gICAgfVxuICB9O1xuICB2YXIgc2F2ZVN0YXRlID0gZnVuY3Rpb24gc2F2ZVN0YXRlKCkge1xuICAgIHZhciBzdGF0ZSA9IHt9O1xuICAgIGlmIChwcm9wcy5wYWdpbmF0b3IpIHtcbiAgICAgIHN0YXRlLmZpcnN0ID0gZ2V0Rmlyc3QoKTtcbiAgICAgIHN0YXRlLnJvd3MgPSBnZXRSb3dzKCk7XG4gICAgfVxuICAgIHZhciBzb3J0RmllbGQgPSBnZXRTb3J0RmllbGQoKTtcbiAgICBpZiAoc29ydEZpZWxkKSB7XG4gICAgICBzdGF0ZS5zb3J0RmllbGQgPSBzb3J0RmllbGQ7XG4gICAgICBzdGF0ZS5zb3J0T3JkZXIgPSBnZXRTb3J0T3JkZXIoKTtcbiAgICB9XG4gICAgdmFyIG11bHRpU29ydE1ldGEgPSBnZXRNdWx0aVNvcnRNZXRhKCk7XG4gICAgaWYgKG11bHRpU29ydE1ldGEpIHtcbiAgICAgIHN0YXRlLm11bHRpU29ydE1ldGEgPSBtdWx0aVNvcnRNZXRhO1xuICAgIH1cbiAgICBpZiAoaGFzRmlsdGVyKCkpIHtcbiAgICAgIHN0YXRlLmZpbHRlcnMgPSBnZXRGaWx0ZXJzKCk7XG4gICAgfVxuICAgIGlmIChwcm9wcy5yZXNpemFibGVDb2x1bW5zKSB7XG4gICAgICBzYXZlQ29sdW1uV2lkdGhzKHN0YXRlKTtcbiAgICB9XG4gICAgaWYgKHByb3BzLnJlb3JkZXJhYmxlQ29sdW1ucykge1xuICAgICAgc3RhdGUuY29sdW1uT3JkZXIgPSBjb2x1bW5PcmRlclN0YXRlO1xuICAgIH1cbiAgICBpZiAocHJvcHMuZXhwYW5kZWRSb3dzKSB7XG4gICAgICBzdGF0ZS5leHBhbmRlZFJvd3MgPSBwcm9wcy5leHBhbmRlZFJvd3M7XG4gICAgfVxuICAgIGlmIChwcm9wcy5zZWxlY3Rpb24gJiYgcHJvcHMub25TZWxlY3Rpb25DaGFuZ2UpIHtcbiAgICAgIHN0YXRlLnNlbGVjdGlvbiA9IHByb3BzLnNlbGVjdGlvbjtcbiAgICB9XG4gICAgaWYgKGlzQ3VzdG9tU3RhdGVTdG9yYWdlKCkpIHtcbiAgICAgIGlmIChwcm9wcy5jdXN0b21TYXZlU3RhdGUpIHtcbiAgICAgICAgcHJvcHMuY3VzdG9tU2F2ZVN0YXRlKHN0YXRlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHN0b3JhZ2UgPSBnZXRTdG9yYWdlKCk7XG4gICAgICBpZiAoT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShzdGF0ZSkpIHtcbiAgICAgICAgc3RvcmFnZS5zZXRJdGVtKHByb3BzLnN0YXRlS2V5LCBKU09OLnN0cmluZ2lmeShzdGF0ZSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJvcHMub25TdGF0ZVNhdmUpIHtcbiAgICAgIHByb3BzLm9uU3RhdGVTYXZlKHN0YXRlKTtcbiAgICB9XG4gIH07XG4gIHZhciBjbGVhclN0YXRlID0gZnVuY3Rpb24gY2xlYXJTdGF0ZSgpIHtcbiAgICB2YXIgc3RvcmFnZSA9IGdldFN0b3JhZ2UoKTtcbiAgICBpZiAoc3RvcmFnZSAmJiBwcm9wcy5zdGF0ZUtleSkge1xuICAgICAgc3RvcmFnZS5yZW1vdmVJdGVtKHByb3BzLnN0YXRlS2V5KTtcbiAgICB9XG4gIH07XG4gIHZhciByZXN0b3JlU3RhdGUgPSBmdW5jdGlvbiByZXN0b3JlU3RhdGUoKSB7XG4gICAgdmFyIHJlc3RvcmVkU3RhdGUgPSB7fTtcbiAgICBpZiAoaXNDdXN0b21TdGF0ZVN0b3JhZ2UoKSkge1xuICAgICAgaWYgKHByb3BzLmN1c3RvbVJlc3RvcmVTdGF0ZSkge1xuICAgICAgICByZXN0b3JlZFN0YXRlID0gcHJvcHMuY3VzdG9tUmVzdG9yZVN0YXRlKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzdG9yYWdlID0gZ2V0U3RvcmFnZSgpO1xuICAgICAgdmFyIHN0YXRlU3RyaW5nID0gc3RvcmFnZS5nZXRJdGVtKHByb3BzLnN0YXRlS2V5KTtcbiAgICAgIHZhciBkYXRlRm9ybWF0ID0gL1xcZHs0fS1cXGR7Mn0tXFxkezJ9VFxcZHsyfTpcXGR7Mn06XFxkezJ9LlxcZHszfVovO1xuICAgICAgdmFyIHJldml2ZXIgPSBmdW5jdGlvbiByZXZpdmVyKGtleSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgZGF0ZUZvcm1hdC50ZXN0KHZhbHVlKSA/IG5ldyBEYXRlKHZhbHVlKSA6IHZhbHVlO1xuICAgICAgfTtcbiAgICAgIGlmIChzdGF0ZVN0cmluZykge1xuICAgICAgICByZXN0b3JlZFN0YXRlID0gSlNPTi5wYXJzZShzdGF0ZVN0cmluZywgcmV2aXZlcik7XG4gICAgICB9XG4gICAgfVxuICAgIF9yZXN0b3JlU3RhdGUocmVzdG9yZWRTdGF0ZSk7XG4gIH07XG4gIHZhciByZXN0b3JlVGFibGVTdGF0ZSA9IGZ1bmN0aW9uIHJlc3RvcmVUYWJsZVN0YXRlKHJlc3RvcmVkU3RhdGUpIHtcbiAgICBfcmVzdG9yZVN0YXRlKHJlc3RvcmVkU3RhdGUpO1xuICB9O1xuICB2YXIgX3Jlc3RvcmVTdGF0ZSA9IGZ1bmN0aW9uIF9yZXN0b3JlU3RhdGUoKSB7XG4gICAgdmFyIHJlc3RvcmVkU3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGlmIChPYmplY3RVdGlscy5pc05vdEVtcHR5KHJlc3RvcmVkU3RhdGUpKSB7XG4gICAgICBpZiAocHJvcHMucGFnaW5hdG9yKSB7XG4gICAgICAgIGlmIChwcm9wcy5vblBhZ2UpIHtcbiAgICAgICAgICB2YXIgZ2V0T25QYWdlUGFyYW1zID0gZnVuY3Rpb24gZ2V0T25QYWdlUGFyYW1zKGZpcnN0LCByb3dzKSB7XG4gICAgICAgICAgICB2YXIgdG90YWxSZWNvcmRzID0gZ2V0VG90YWxSZWNvcmRzKHByb2Nlc3NlZERhdGEoKSk7XG4gICAgICAgICAgICB2YXIgcGFnZUNvdW50ID0gTWF0aC5jZWlsKHRvdGFsUmVjb3JkcyAvIHJvd3MpIHx8IDE7XG4gICAgICAgICAgICB2YXIgcGFnZSA9IE1hdGguZmxvb3IoZmlyc3QgLyByb3dzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGZpcnN0OiBmaXJzdCxcbiAgICAgICAgICAgICAgcm93czogcm93cyxcbiAgICAgICAgICAgICAgcGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgcGFnZUNvdW50OiBwYWdlQ291bnRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfTtcbiAgICAgICAgICBwcm9wcy5vblBhZ2UoY3JlYXRlRXZlbnQoZ2V0T25QYWdlUGFyYW1zKHJlc3RvcmVkU3RhdGUuZmlyc3QsIHJlc3RvcmVkU3RhdGUucm93cykpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRGaXJzdFN0YXRlKHJlc3RvcmVkU3RhdGUuZmlyc3QpO1xuICAgICAgICAgIHNldFJvd3NTdGF0ZShyZXN0b3JlZFN0YXRlLnJvd3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVzdG9yZWRTdGF0ZS5zb3J0RmllbGQpIHtcbiAgICAgICAgaWYgKHByb3BzLm9uU29ydCkge1xuICAgICAgICAgIHByb3BzLm9uU29ydChjcmVhdGVFdmVudCh7XG4gICAgICAgICAgICBzb3J0RmllbGQ6IHJlc3RvcmVkU3RhdGUuc29ydEZpZWxkLFxuICAgICAgICAgICAgc29ydE9yZGVyOiByZXN0b3JlZFN0YXRlLnNvcnRPcmRlclxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRTb3J0RmllbGRTdGF0ZShyZXN0b3JlZFN0YXRlLnNvcnRGaWVsZCk7XG4gICAgICAgICAgc2V0U29ydE9yZGVyU3RhdGUocmVzdG9yZWRTdGF0ZS5zb3J0T3JkZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVzdG9yZWRTdGF0ZS5tdWx0aVNvcnRNZXRhKSB7XG4gICAgICAgIGlmIChwcm9wcy5vblNvcnQpIHtcbiAgICAgICAgICBwcm9wcy5vblNvcnQoY3JlYXRlRXZlbnQoe1xuICAgICAgICAgICAgbXVsdGlTb3J0TWV0YTogcmVzdG9yZWRTdGF0ZS5tdWx0aVNvcnRNZXRhXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldE11bHRpU29ydE1ldGFTdGF0ZShyZXN0b3JlZFN0YXRlLm11bHRpU29ydE1ldGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVzdG9yZWRTdGF0ZS5maWx0ZXJzKSB7XG4gICAgICAgIHNldERfZmlsdGVyc1N0YXRlKGNsb25lRmlsdGVycyhyZXN0b3JlZFN0YXRlLmZpbHRlcnMpKTtcbiAgICAgICAgaWYgKHByb3BzLm9uRmlsdGVyKSB7XG4gICAgICAgICAgcHJvcHMub25GaWx0ZXIoY3JlYXRlRXZlbnQoe1xuICAgICAgICAgICAgZmlsdGVyczogcmVzdG9yZWRTdGF0ZS5maWx0ZXJzXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldEZpbHRlcnNTdGF0ZShjbG9uZUZpbHRlcnMocmVzdG9yZWRTdGF0ZS5maWx0ZXJzKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9wcy5yZXNpemFibGVDb2x1bW5zKSB7XG4gICAgICAgIGNvbHVtbldpZHRoc1N0YXRlLmN1cnJlbnQgPSByZXN0b3JlZFN0YXRlLmNvbHVtbldpZHRocztcbiAgICAgICAgdGFibGVXaWR0aFN0YXRlLmN1cnJlbnQgPSByZXN0b3JlZFN0YXRlLnRhYmxlV2lkdGg7XG4gICAgICAgIHJlc3RvcmVDb2x1bW5XaWR0aHMoKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wcy5yZW9yZGVyYWJsZUNvbHVtbnMpIHtcbiAgICAgICAgc2V0Q29sdW1uT3JkZXJTdGF0ZShyZXN0b3JlZFN0YXRlLmNvbHVtbk9yZGVyKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN0b3JlZFN0YXRlLmV4cGFuZGVkUm93cyAmJiBwcm9wcy5vblJvd1RvZ2dsZSkge1xuICAgICAgICBwcm9wcy5vblJvd1RvZ2dsZSh7XG4gICAgICAgICAgZGF0YTogcmVzdG9yZWRTdGF0ZS5leHBhbmRlZFJvd3NcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdG9yZWRTdGF0ZS5zZWxlY3Rpb24gJiYgcHJvcHMub25TZWxlY3Rpb25DaGFuZ2UpIHtcbiAgICAgICAgcHJvcHMub25TZWxlY3Rpb25DaGFuZ2Uoe1xuICAgICAgICAgIHZhbHVlOiByZXN0b3JlZFN0YXRlLnNlbGVjdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wcy5vblN0YXRlUmVzdG9yZSkge1xuICAgICAgICBwcm9wcy5vblN0YXRlUmVzdG9yZShyZXN0b3JlZFN0YXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBzYXZlQ29sdW1uV2lkdGhzID0gZnVuY3Rpb24gc2F2ZUNvbHVtbldpZHRocyhzdGF0ZSkge1xuICAgIHZhciB3aWR0aHMgPSBbXTtcbiAgICB2YXIgaGVhZGVycyA9IERvbUhhbmRsZXIuZmluZChlbGVtZW50UmVmLmN1cnJlbnQsICcucC1kYXRhdGFibGUtdGhlYWQgPiB0ciA+IHRoJyk7XG4gICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uIChoZWFkZXIpIHtcbiAgICAgIHJldHVybiB3aWR0aHMucHVzaChEb21IYW5kbGVyLmdldE91dGVyV2lkdGgoaGVhZGVyKSk7XG4gICAgfSk7XG4gICAgc3RhdGUuY29sdW1uV2lkdGhzID0gd2lkdGhzLmpvaW4oJywnKTtcbiAgICBpZiAocHJvcHMuY29sdW1uUmVzaXplTW9kZSA9PT0gJ2V4cGFuZCcpIHtcbiAgICAgIHN0YXRlLnRhYmxlV2lkdGggPSBEb21IYW5kbGVyLmdldE91dGVyV2lkdGgodGFibGVSZWYuY3VycmVudCkgKyAncHgnO1xuICAgIH1cbiAgfTtcbiAgdmFyIHJlc3RvcmVDb2x1bW5XaWR0aHMgPSBmdW5jdGlvbiByZXN0b3JlQ29sdW1uV2lkdGhzKCkge1xuICAgIGlmIChjb2x1bW5XaWR0aHNTdGF0ZS5jdXJyZW50KSB7XG4gICAgICB2YXIgd2lkdGhzID0gY29sdW1uV2lkdGhzU3RhdGUuY3VycmVudC5zcGxpdCgnLCcpO1xuICAgICAgaWYgKHByb3BzLmNvbHVtblJlc2l6ZU1vZGUgPT09ICdleHBhbmQnICYmIHRhYmxlV2lkdGhTdGF0ZS5jdXJyZW50KSB7XG4gICAgICAgIHRhYmxlUmVmLmN1cnJlbnQuc3R5bGUud2lkdGggPSB0YWJsZVdpZHRoU3RhdGUuY3VycmVudDtcbiAgICAgICAgdGFibGVSZWYuY3VycmVudC5zdHlsZS5taW5XaWR0aCA9IHRhYmxlV2lkdGhTdGF0ZS5jdXJyZW50O1xuICAgICAgICBlbGVtZW50UmVmLmN1cnJlbnQuc3R5bGUud2lkdGggPSB0YWJsZVdpZHRoU3RhdGUuY3VycmVudDtcbiAgICAgIH1cbiAgICAgIGlmIChPYmplY3RVdGlscy5pc05vdEVtcHR5KHdpZHRocykpIHtcbiAgICAgICAgY3JlYXRlU3R5bGVFbGVtZW50KCk7XG4gICAgICAgIHZhciBpbm5lckhUTUwgPSAnJztcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gXCIucC1kYXRhdGFibGVbXCIuY29uY2F0KGF0dHJpYnV0ZVNlbGVjdG9yU3RhdGUsIFwiXSA+IC5wLWRhdGF0YWJsZS13cmFwcGVyIFwiKS5jb25jYXQoaXNWaXJ0dWFsU2Nyb2xsZXJEaXNhYmxlZCgpID8gJycgOiAnPiAucC12aXJ0dWFsc2Nyb2xsZXInLCBcIiA+IC5wLWRhdGF0YWJsZS10YWJsZVwiKTtcbiAgICAgICAgd2lkdGhzLmZvckVhY2goZnVuY3Rpb24gKHdpZHRoLCBpbmRleCkge1xuICAgICAgICAgIHZhciBzdHlsZSA9IFwid2lkdGg6IFwiLmNvbmNhdCh3aWR0aCwgXCJweCAhaW1wb3J0YW50OyBtYXgtd2lkdGg6IFwiKS5jb25jYXQod2lkdGgsIFwicHggIWltcG9ydGFudFwiKTtcbiAgICAgICAgICBpbm5lckhUTUwgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIi5jb25jYXQoc2VsZWN0b3IsIFwiID4gLnAtZGF0YXRhYmxlLXRoZWFkID4gdHIgPiB0aDpudGgtY2hpbGQoXCIpLmNvbmNhdChpbmRleCArIDEsIFwiKSxcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIikuY29uY2F0KHNlbGVjdG9yLCBcIiA+IC5wLWRhdGF0YWJsZS10Ym9keSA+IHRyID4gdGQ6bnRoLWNoaWxkKFwiKS5jb25jYXQoaW5kZXggKyAxLCBcIiksXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIpLmNvbmNhdChzZWxlY3RvciwgXCIgPiAucC1kYXRhdGFibGUtdGZvb3QgPiB0ciA+IHRkOm50aC1jaGlsZChcIikuY29uY2F0KGluZGV4ICsgMSwgXCIpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIpLmNvbmNhdChzdHlsZSwgXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICBcIik7XG4gICAgICAgIH0pO1xuICAgICAgICBzdHlsZUVsZW1lbnQuY3VycmVudC5pbm5lckhUTUwgPSBpbm5lckhUTUw7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICB2YXIgZmluZFBhcmVudEhlYWRlciA9IGZ1bmN0aW9uIGZpbmRQYXJlbnRIZWFkZXIoZWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnVEgnKSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgIHdoaWxlIChwYXJlbnQubm9kZU5hbWUgIT09ICdUSCcpIHtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIGlmICghcGFyZW50KSBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfVxuICB9O1xuICB2YXIgZ2V0R3JvdXBSb3dTb3J0RmllbGQgPSBmdW5jdGlvbiBnZXRHcm91cFJvd1NvcnRGaWVsZCgpIHtcbiAgICByZXR1cm4gcHJvcHMuc29ydE1vZGUgPT09ICdzaW5nbGUnID8gcHJvcHMuc29ydEZpZWxkIDogZ3JvdXBSb3dzU29ydE1ldGFTdGF0ZSA/IGdyb3VwUm93c1NvcnRNZXRhU3RhdGUuZmllbGQgOiBudWxsO1xuICB9O1xuICB2YXIgZ2V0U2VsZWN0YWJsZURhdGEgPSBmdW5jdGlvbiBnZXRTZWxlY3RhYmxlRGF0YSh2YWwpIHtcbiAgICBpZiAocHJvcHMuc2hvd1NlbGVjdGlvbkVsZW1lbnQgfHwgcHJvcHMuaXNEYXRhU2VsZWN0YWJsZSkge1xuICAgICAgcmV0dXJuIHZhbC5maWx0ZXIoZnVuY3Rpb24gKGRhdGEsIGluZGV4KSB7XG4gICAgICAgIHZhciBpc1NlbGVjdGFibGUgPSB0cnVlO1xuICAgICAgICBpZiAocHJvcHMuc2hvd1NlbGVjdGlvbkVsZW1lbnQpIGlzU2VsZWN0YWJsZSA9IHByb3BzLnNob3dTZWxlY3Rpb25FbGVtZW50KHtcbiAgICAgICAgICByb3dJbmRleDogaW5kZXgsXG4gICAgICAgICAgcHJvcHM6IHByb3BzXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocHJvcHMuaXNEYXRhU2VsZWN0YWJsZSAmJiBpc1NlbGVjdGFibGUpIGlzU2VsZWN0YWJsZSA9IHByb3BzLmlzRGF0YVNlbGVjdGFibGUoe1xuICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaXNTZWxlY3RhYmxlO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG4gIH07XG4gIHZhciBhbGxSb3dzU2VsZWN0ZWQgPSBmdW5jdGlvbiBhbGxSb3dzU2VsZWN0ZWQocHJvY2Vzc2VkRGF0YSkge1xuICAgIGlmIChwcm9wcy5vblNlbGVjdEFsbENoYW5nZSkge1xuICAgICAgcmV0dXJuIHByb3BzLnNlbGVjdEFsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIF9kYXRhID0gcHJvcHMuc2VsZWN0aW9uUGFnZU9ubHkgPyBkYXRhVG9SZW5kZXIocHJvY2Vzc2VkRGF0YSkgOiBwcm9jZXNzZWREYXRhO1xuICAgICAgdmFyIHZhbCA9IE9iamVjdFV0aWxzLmlzTm90RW1wdHkocHJvcHMuZnJvemVuVmFsdWUpID8gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcm9wcy5mcm96ZW5WYWx1ZSksIF90b0NvbnN1bWFibGVBcnJheShfZGF0YSkpIDogX2RhdGE7XG4gICAgICB2YXIgc2VsZWN0YWJsZVZhbCA9IGdldFNlbGVjdGFibGVEYXRhKHZhbCk7XG4gICAgICByZXR1cm4gc2VsZWN0YWJsZVZhbCAmJiBwcm9wcy5zZWxlY3Rpb24gJiYgc2VsZWN0YWJsZVZhbC5ldmVyeShmdW5jdGlvbiAoc3YpIHtcbiAgICAgICAgcmV0dXJuIHByb3BzLnNlbGVjdGlvbi5zb21lKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgcmV0dXJuIGlzRXF1YWxzKHMsIHN2KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIHZhciBnZXRTZWxlY3Rpb25Nb2RlSW5Db2x1bW4gPSBmdW5jdGlvbiBnZXRTZWxlY3Rpb25Nb2RlSW5Db2x1bW4oY29sdW1ucykge1xuICAgIGlmIChjb2x1bW5zKSB7XG4gICAgICB2YXIgY29sID0gY29sdW1ucy5maW5kKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgIHJldHVybiAhIWdldENvbHVtblByb3AoYywgJ3NlbGVjdGlvbk1vZGUnKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNvbCA/IGdldENvbHVtblByb3AoY29sLCAnc2VsZWN0aW9uTW9kZScpIDogbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIHZhciBmaW5kQ29sdW1uQnlLZXkgPSBmdW5jdGlvbiBmaW5kQ29sdW1uQnlLZXkoY29sdW1ucywga2V5KSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmlzTm90RW1wdHkoY29sdW1ucykgPyBjb2x1bW5zLmZpbmQoZnVuY3Rpb24gKGNvbCkge1xuICAgICAgcmV0dXJuIGdldENvbHVtblByb3AoY29sLCAnY29sdW1uS2V5JykgPT09IGtleSB8fCBnZXRDb2x1bW5Qcm9wKGNvbCwgJ2ZpZWxkJykgPT09IGtleTtcbiAgICB9KSA6IG51bGw7XG4gIH07XG4gIHZhciBnZXRUb3RhbFJlY29yZHMgPSBmdW5jdGlvbiBnZXRUb3RhbFJlY29yZHMoZGF0YSkge1xuICAgIHJldHVybiBwcm9wcy5sYXp5ID8gcHJvcHMudG90YWxSZWNvcmRzIDogZGF0YSA/IGRhdGEubGVuZ3RoIDogMDtcbiAgfTtcbiAgdmFyIG9uRWRpdGluZ01ldGFDaGFuZ2UgPSBmdW5jdGlvbiBvbkVkaXRpbmdNZXRhQ2hhbmdlKGUpIHtcbiAgICB2YXIgcm93RGF0YSA9IGUucm93RGF0YSxcbiAgICAgIGZpZWxkID0gZS5maWVsZCxcbiAgICAgIGVkaXRpbmdLZXkgPSBlLmVkaXRpbmdLZXk7XG4gICAgICBlLnJvd0luZGV4O1xuICAgICAgdmFyIGVkaXRpbmcgPSBlLmVkaXRpbmc7XG4gICAgdmFyIGVkaXRpbmdNZXRhID0gX29iamVjdFNwcmVhZCh7fSwgZWRpdGluZ01ldGFTdGF0ZSk7XG4gICAgdmFyIG1ldGEgPSBlZGl0aW5nTWV0YVtlZGl0aW5nS2V5XTtcbiAgICBpZiAoZWRpdGluZykge1xuICAgICAgIW1ldGEgJiYgKG1ldGEgPSBlZGl0aW5nTWV0YVtlZGl0aW5nS2V5XSA9IHtcbiAgICAgICAgZGF0YTogX29iamVjdFNwcmVhZCh7fSwgcm93RGF0YSksXG4gICAgICAgIGZpZWxkczogW11cbiAgICAgIH0pO1xuICAgICAgbWV0YVsnZmllbGRzJ10ucHVzaChmaWVsZCk7XG4gICAgfSBlbHNlIGlmIChtZXRhKSB7XG4gICAgICB2YXIgZmllbGRzID0gbWV0YVsnZmllbGRzJ10uZmlsdGVyKGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHJldHVybiBmICE9PSBmaWVsZDtcbiAgICAgIH0pO1xuICAgICAgIWZpZWxkcy5sZW5ndGggPyBkZWxldGUgZWRpdGluZ01ldGFbZWRpdGluZ0tleV0gOiBtZXRhWydmaWVsZHMnXSA9IGZpZWxkcztcbiAgICB9XG4gICAgc2V0RWRpdGluZ01ldGFTdGF0ZShlZGl0aW5nTWV0YSk7XG4gIH07XG4gIHZhciBjbGVhckVkaXRpbmdNZXRhRGF0YSA9IGZ1bmN0aW9uIGNsZWFyRWRpdGluZ01ldGFEYXRhKCkge1xuICAgIGlmIChwcm9wcy5lZGl0TW9kZSAmJiBPYmplY3RVdGlscy5pc05vdEVtcHR5KGVkaXRpbmdNZXRhU3RhdGUpKSB7XG4gICAgICBzZXRFZGl0aW5nTWV0YVN0YXRlKHt9KTtcbiAgICB9XG4gIH07XG4gIHZhciBvbkNvbHVtblJlc2l6ZVN0YXJ0ID0gZnVuY3Rpb24gb25Db2x1bW5SZXNpemVTdGFydChlKSB7XG4gICAgdmFyIGV2ZW50ID0gZS5vcmlnaW5hbEV2ZW50LFxuICAgICAgY29sdW1uID0gZS5jb2x1bW47XG4gICAgdmFyIGNvbnRhaW5lckxlZnQgPSBEb21IYW5kbGVyLmdldE9mZnNldChlbGVtZW50UmVmLmN1cnJlbnQpLmxlZnQ7XG4gICAgcmVzaXplQ29sdW1uLmN1cnJlbnQgPSBjb2x1bW47XG4gICAgcmVzaXplQ29sdW1uRWxlbWVudC5jdXJyZW50ID0gZXZlbnQuY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgIGNvbHVtblJlc2l6aW5nLmN1cnJlbnQgPSB0cnVlO1xuICAgIGxhc3RSZXNpemVIZWxwZXJYLmN1cnJlbnQgPSBldmVudC5wYWdlWCAtIGNvbnRhaW5lckxlZnQgKyBlbGVtZW50UmVmLmN1cnJlbnQuc2Nyb2xsTGVmdDtcbiAgICBiaW5kQ29sdW1uUmVzaXplRXZlbnRzKCk7XG4gIH07XG4gIHZhciBvbkNvbHVtblJlc2l6ZSA9IGZ1bmN0aW9uIG9uQ29sdW1uUmVzaXplKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRhaW5lckxlZnQgPSBEb21IYW5kbGVyLmdldE9mZnNldChlbGVtZW50UmVmLmN1cnJlbnQpLmxlZnQ7XG4gICAgRG9tSGFuZGxlci5hZGRDbGFzcyhlbGVtZW50UmVmLmN1cnJlbnQsICdwLXVuc2VsZWN0YWJsZS10ZXh0Jyk7XG4gICAgcmVzaXplSGVscGVyUmVmLmN1cnJlbnQuc3R5bGUuaGVpZ2h0ID0gZWxlbWVudFJlZi5jdXJyZW50Lm9mZnNldEhlaWdodCArICdweCc7XG4gICAgcmVzaXplSGVscGVyUmVmLmN1cnJlbnQuc3R5bGUudG9wID0gMCArICdweCc7XG4gICAgcmVzaXplSGVscGVyUmVmLmN1cnJlbnQuc3R5bGUubGVmdCA9IGV2ZW50LnBhZ2VYIC0gY29udGFpbmVyTGVmdCArIGVsZW1lbnRSZWYuY3VycmVudC5zY3JvbGxMZWZ0ICsgJ3B4JztcbiAgICByZXNpemVIZWxwZXJSZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfTtcbiAgdmFyIG9uQ29sdW1uUmVzaXplRW5kID0gZnVuY3Rpb24gb25Db2x1bW5SZXNpemVFbmQoKSB7XG4gICAgdmFyIGRlbHRhID0gcmVzaXplSGVscGVyUmVmLmN1cnJlbnQub2Zmc2V0TGVmdCAtIGxhc3RSZXNpemVIZWxwZXJYLmN1cnJlbnQ7XG4gICAgdmFyIGNvbHVtbldpZHRoID0gcmVzaXplQ29sdW1uRWxlbWVudC5jdXJyZW50Lm9mZnNldFdpZHRoO1xuICAgIHZhciBuZXdDb2x1bW5XaWR0aCA9IGNvbHVtbldpZHRoICsgZGVsdGE7XG4gICAgdmFyIG1pbldpZHRoID0gcmVzaXplQ29sdW1uRWxlbWVudC5jdXJyZW50LnN0eWxlLm1pbldpZHRoIHx8IDE1O1xuICAgIGlmIChjb2x1bW5XaWR0aCArIGRlbHRhID4gcGFyc2VJbnQobWluV2lkdGgsIDEwKSkge1xuICAgICAgaWYgKHByb3BzLmNvbHVtblJlc2l6ZU1vZGUgPT09ICdmaXQnKSB7XG4gICAgICAgIHZhciBuZXh0Q29sdW1uID0gcmVzaXplQ29sdW1uRWxlbWVudC5jdXJyZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgdmFyIG5leHRDb2x1bW5XaWR0aCA9IG5leHRDb2x1bW4ub2Zmc2V0V2lkdGggLSBkZWx0YTtcbiAgICAgICAgaWYgKG5ld0NvbHVtbldpZHRoID4gMTUgJiYgbmV4dENvbHVtbldpZHRoID4gMTUpIHtcbiAgICAgICAgICByZXNpemVUYWJsZUNlbGxzKG5ld0NvbHVtbldpZHRoLCBuZXh0Q29sdW1uV2lkdGgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHByb3BzLmNvbHVtblJlc2l6ZU1vZGUgPT09ICdleHBhbmQnKSB7XG4gICAgICAgIHZhciB0YWJsZVdpZHRoID0gdGFibGVSZWYuY3VycmVudC5vZmZzZXRXaWR0aCArIGRlbHRhICsgJ3B4JztcbiAgICAgICAgdmFyIHVwZGF0ZVRhYmxlV2lkdGggPSBmdW5jdGlvbiB1cGRhdGVUYWJsZVdpZHRoKGVsKSB7XG4gICAgICAgICAgISFlbCAmJiAoZWwuc3R5bGUud2lkdGggPSBlbC5zdHlsZS5taW5XaWR0aCA9IHRhYmxlV2lkdGgpO1xuICAgICAgICB9O1xuICAgICAgICB1cGRhdGVUYWJsZVdpZHRoKHRhYmxlUmVmLmN1cnJlbnQpO1xuICAgICAgICBpZiAoIWlzVmlydHVhbFNjcm9sbGVyRGlzYWJsZWQoKSkge1xuICAgICAgICAgIHVwZGF0ZVRhYmxlV2lkdGgoYm9keVJlZi5jdXJyZW50KTtcbiAgICAgICAgICB1cGRhdGVUYWJsZVdpZHRoKGZyb3plbkJvZHlSZWYuY3VycmVudCk7XG4gICAgICAgICAgaWYgKHdyYXBwZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgdXBkYXRlVGFibGVXaWR0aChEb21IYW5kbGVyLmZpbmRTaW5nbGUod3JhcHBlclJlZi5jdXJyZW50LCAnLnAtdmlydHVhbHNjcm9sbGVyLWNvbnRlbnQnKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc2l6ZVRhYmxlQ2VsbHMobmV3Q29sdW1uV2lkdGgpO1xuICAgICAgfVxuICAgICAgaWYgKHByb3BzLm9uQ29sdW1uUmVzaXplRW5kKSB7XG4gICAgICAgIHByb3BzLm9uQ29sdW1uUmVzaXplRW5kKHtcbiAgICAgICAgICBlbGVtZW50OiByZXNpemVDb2x1bW5FbGVtZW50LmN1cnJlbnQsXG4gICAgICAgICAgY29sdW1uOiByZXNpemVDb2x1bW4uY3VycmVudCxcbiAgICAgICAgICBkZWx0YTogZGVsdGFcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoaXNTdGF0ZWZ1bCgpKSB7XG4gICAgICAgIHNhdmVTdGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXNpemVIZWxwZXJSZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHJlc2l6ZUNvbHVtbi5jdXJyZW50ID0gbnVsbDtcbiAgICByZXNpemVDb2x1bW5FbGVtZW50LmN1cnJlbnQgPSBudWxsO1xuICAgIERvbUhhbmRsZXIucmVtb3ZlQ2xhc3MoZWxlbWVudFJlZi5jdXJyZW50LCAncC11bnNlbGVjdGFibGUtdGV4dCcpO1xuICAgIHVuYmluZENvbHVtblJlc2l6ZUV2ZW50cygpO1xuICB9O1xuICB2YXIgcmVzaXplVGFibGVDZWxscyA9IGZ1bmN0aW9uIHJlc2l6ZVRhYmxlQ2VsbHMobmV3Q29sdW1uV2lkdGgsIG5leHRDb2x1bW5XaWR0aCkge1xuICAgIHZhciB3aWR0aHMgPSBbXTtcbiAgICB2YXIgY29sSW5kZXggPSBEb21IYW5kbGVyLmluZGV4KHJlc2l6ZUNvbHVtbkVsZW1lbnQuY3VycmVudCk7XG4gICAgdmFyIGhlYWRlcnMgPSBEb21IYW5kbGVyLmZpbmQodGFibGVSZWYuY3VycmVudCwgJy5wLWRhdGF0YWJsZS10aGVhZCA+IHRyID4gdGgnKTtcbiAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24gKGhlYWRlcikge1xuICAgICAgcmV0dXJuIHdpZHRocy5wdXNoKERvbUhhbmRsZXIuZ2V0T3V0ZXJXaWR0aChoZWFkZXIpKTtcbiAgICB9KTtcbiAgICBkZXN0cm95U3R5bGVFbGVtZW50KCk7XG4gICAgY3JlYXRlU3R5bGVFbGVtZW50KCk7XG4gICAgdmFyIGlubmVySFRNTCA9ICcnO1xuICAgIHZhciBzZWxlY3RvciA9IFwiLnAtZGF0YXRhYmxlW1wiLmNvbmNhdChhdHRyaWJ1dGVTZWxlY3RvclN0YXRlLCBcIl0gPiAucC1kYXRhdGFibGUtd3JhcHBlciBcIikuY29uY2F0KGlzVmlydHVhbFNjcm9sbGVyRGlzYWJsZWQoKSA/ICcnIDogJz4gLnAtdmlydHVhbHNjcm9sbGVyJywgXCIgPiAucC1kYXRhdGFibGUtdGFibGVcIik7XG4gICAgd2lkdGhzLmZvckVhY2goZnVuY3Rpb24gKHdpZHRoLCBpbmRleCkge1xuICAgICAgdmFyIGNvbFdpZHRoID0gaW5kZXggPT09IGNvbEluZGV4ID8gbmV3Q29sdW1uV2lkdGggOiBuZXh0Q29sdW1uV2lkdGggJiYgaW5kZXggPT09IGNvbEluZGV4ICsgMSA/IG5leHRDb2x1bW5XaWR0aCA6IHdpZHRoO1xuICAgICAgdmFyIHN0eWxlID0gXCJ3aWR0aDogXCIuY29uY2F0KGNvbFdpZHRoLCBcInB4ICFpbXBvcnRhbnQ7IG1heC13aWR0aDogXCIpLmNvbmNhdChjb2xXaWR0aCwgXCJweCAhaW1wb3J0YW50XCIpO1xuICAgICAgaW5uZXJIVE1MICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiLmNvbmNhdChzZWxlY3RvciwgXCIgPiAucC1kYXRhdGFibGUtdGhlYWQgPiB0ciA+IHRoOm50aC1jaGlsZChcIikuY29uY2F0KGluZGV4ICsgMSwgXCIpLFxcbiAgICAgICAgICAgICAgICBcIikuY29uY2F0KHNlbGVjdG9yLCBcIiA+IC5wLWRhdGF0YWJsZS10Ym9keSA+IHRyID4gdGQ6bnRoLWNoaWxkKFwiKS5jb25jYXQoaW5kZXggKyAxLCBcIiksXFxuICAgICAgICAgICAgICAgIFwiKS5jb25jYXQoc2VsZWN0b3IsIFwiID4gLnAtZGF0YXRhYmxlLXRmb290ID4gdHIgPiB0ZDpudGgtY2hpbGQoXCIpLmNvbmNhdChpbmRleCArIDEsIFwiKSB7XFxuICAgICAgICAgICAgICAgICAgICBcIikuY29uY2F0KHN0eWxlLCBcIlxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgXCIpO1xuICAgIH0pO1xuICAgIHN0eWxlRWxlbWVudC5jdXJyZW50LmlubmVySFRNTCA9IGlubmVySFRNTDtcbiAgfTtcbiAgdmFyIGJpbmRDb2x1bW5SZXNpemVFdmVudHMgPSBmdW5jdGlvbiBiaW5kQ29sdW1uUmVzaXplRXZlbnRzKCkge1xuICAgIGJpbmREb2N1bWVudE1vdXNlTW92ZUxpc3RlbmVyKCk7XG4gICAgYmluZERvY3VtZW50TW91c2VVcExpc3RlbmVyKCk7XG4gIH07XG4gIHZhciB1bmJpbmRDb2x1bW5SZXNpemVFdmVudHMgPSBmdW5jdGlvbiB1bmJpbmRDb2x1bW5SZXNpemVFdmVudHMoKSB7XG4gICAgdW5iaW5kRG9jdW1lbnRNb3VzZU1vdmVMaXN0ZW5lcigpO1xuICAgIHVuYmluZERvY3VtZW50TW91c2VVcExpc3RlbmVyKCk7XG4gIH07XG4gIHZhciBvbkNvbHVtbkhlYWRlck1vdXNlRG93biA9IGZ1bmN0aW9uIG9uQ29sdW1uSGVhZGVyTW91c2VEb3duKGUpIHtcbiAgICBEb21IYW5kbGVyLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgdmFyIGV2ZW50ID0gZS5vcmlnaW5hbEV2ZW50LFxuICAgICAgY29sdW1uID0gZS5jb2x1bW47XG4gICAgaWYgKHByb3BzLnJlb3JkZXJhYmxlQ29sdW1ucyAmJiBnZXRDb2x1bW5Qcm9wKGNvbHVtbiwgJ3Jlb3JkZXJhYmxlJykgIT09IGZhbHNlICYmICFnZXRDb2x1bW5Qcm9wKGNvbHVtbiwgJ2Zyb3plbicpKSB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAnSU5QVVQnIHx8IGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gJ1RFWFRBUkVBJyB8fCBEb21IYW5kbGVyLmhhc0NsYXNzKGV2ZW50LnRhcmdldCwgJ3AtY29sdW1uLXJlc2l6ZXInKSkgZXZlbnQuY3VycmVudFRhcmdldC5kcmFnZ2FibGUgPSBmYWxzZTtlbHNlIGV2ZW50LmN1cnJlbnRUYXJnZXQuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICB9XG4gIH07XG4gIHZhciBvbkNvbHVtbkhlYWRlckNoZWNrYm94Q2hhbmdlID0gZnVuY3Rpb24gb25Db2x1bW5IZWFkZXJDaGVja2JveENoYW5nZShlLCBwcm9jZXNzZWREYXRhKSB7XG4gICAgaWYgKHByb3BzLm9uU2VsZWN0QWxsQ2hhbmdlKSB7XG4gICAgICBwcm9wcy5vblNlbGVjdEFsbENoYW5nZShlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG9yaWdpbmFsRXZlbnQgPSBlLm9yaWdpbmFsRXZlbnQsXG4gICAgICAgIGNoZWNrZWQgPSBlLmNoZWNrZWQ7XG4gICAgICB2YXIgX2RhdGEyID0gcHJvcHMuc2VsZWN0aW9uUGFnZU9ubHkgPyBkYXRhVG9SZW5kZXIocHJvY2Vzc2VkRGF0YSkgOiBwcm9jZXNzZWREYXRhO1xuICAgICAgdmFyIHNlbGVjdGlvbiA9IHByb3BzLnNlbGVjdGlvblBhZ2VPbmx5ICYmIHByb3BzLnNlbGVjdGlvbiA/IHByb3BzLnNlbGVjdGlvbi5maWx0ZXIoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuICFfZGF0YTIuc29tZShmdW5jdGlvbiAoZCkge1xuICAgICAgICAgIHJldHVybiBpc0VxdWFscyhzLCBkKTtcbiAgICAgICAgfSk7XG4gICAgICB9KSA6IFtdO1xuICAgICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICAgc2VsZWN0aW9uID0gT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy5mcm96ZW5WYWx1ZSkgPyBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHNlbGVjdGlvbiksIF90b0NvbnN1bWFibGVBcnJheShwcm9wcy5mcm96ZW5WYWx1ZSksIF90b0NvbnN1bWFibGVBcnJheShfZGF0YTIpKSA6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc2VsZWN0aW9uKSwgX3RvQ29uc3VtYWJsZUFycmF5KF9kYXRhMikpO1xuICAgICAgICBzZWxlY3Rpb24gPSBnZXRTZWxlY3RhYmxlRGF0YShzZWxlY3Rpb24pO1xuICAgICAgICBwcm9wcy5vbkFsbFJvd3NTZWxlY3QgJiYgcHJvcHMub25BbGxSb3dzU2VsZWN0KHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBvcmlnaW5hbEV2ZW50LFxuICAgICAgICAgIGRhdGE6IHNlbGVjdGlvbixcbiAgICAgICAgICB0eXBlOiAnYWxsJ1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb3BzLm9uQWxsUm93c1Vuc2VsZWN0ICYmIHByb3BzLm9uQWxsUm93c1Vuc2VsZWN0KHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBvcmlnaW5hbEV2ZW50LFxuICAgICAgICAgIGRhdGE6IHNlbGVjdGlvbixcbiAgICAgICAgICB0eXBlOiAnYWxsJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wcy5vblNlbGVjdGlvbkNoYW5nZSkge1xuICAgICAgICBwcm9wcy5vblNlbGVjdGlvbkNoYW5nZSh7XG4gICAgICAgICAgb3JpZ2luYWxFdmVudDogb3JpZ2luYWxFdmVudCxcbiAgICAgICAgICB2YWx1ZTogc2VsZWN0aW9uLFxuICAgICAgICAgIHR5cGU6ICdhbGwnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIG9uQ29sdW1uSGVhZGVyRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gb25Db2x1bW5IZWFkZXJEcmFnU3RhcnQoZSkge1xuICAgIHZhciBldmVudCA9IGUub3JpZ2luYWxFdmVudCxcbiAgICAgIGNvbHVtbiA9IGUuY29sdW1uO1xuICAgIGlmIChjb2x1bW5SZXNpemluZy5jdXJyZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXByb3BzLnJlb3JkZXJhYmxlQ29sdW1ucykgcmV0dXJuO1xuICAgIGNvbFJlb3JkZXJJY29uV2lkdGguY3VycmVudCA9IERvbUhhbmRsZXIuZ2V0SGlkZGVuRWxlbWVudE91dGVyV2lkdGgocmVvcmRlckluZGljYXRvclVwUmVmLmN1cnJlbnQpO1xuICAgIGNvbFJlb3JkZXJJY29uSGVpZ2h0LmN1cnJlbnQgPSBEb21IYW5kbGVyLmdldEhpZGRlbkVsZW1lbnRPdXRlckhlaWdodChyZW9yZGVySW5kaWNhdG9yVXBSZWYuY3VycmVudCk7XG4gICAgZHJhZ2dlZENvbHVtbi5jdXJyZW50ID0gY29sdW1uO1xuICAgIGRyYWdnZWRDb2x1bW5FbGVtZW50LmN1cnJlbnQgPSBmaW5kUGFyZW50SGVhZGVyKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0JywgJ2InKTsgLy8gRmlyZWZveCByZXF1aXJlcyB0aGlzIHRvIG1ha2UgZHJhZ2dpbmcgcG9zc2libGVcbiAgfTtcblxuICB2YXIgb25Db2x1bW5IZWFkZXJEcmFnT3ZlciA9IGZ1bmN0aW9uIG9uQ29sdW1uSGVhZGVyRHJhZ092ZXIoZSkge1xuICAgIHZhciBldmVudCA9IGUub3JpZ2luYWxFdmVudCxcbiAgICAgIGNvbHVtbiA9IGUuY29sdW1uO1xuICAgIHZhciBkcm9wSGVhZGVyID0gZmluZFBhcmVudEhlYWRlcihldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAocHJvcHMucmVvcmRlcmFibGVDb2x1bW5zICYmIGRyYWdnZWRDb2x1bW5FbGVtZW50LmN1cnJlbnQgJiYgZHJvcEhlYWRlciAmJiAhZ2V0Q29sdW1uUHJvcChjb2x1bW4sICdmcm96ZW4nKSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChkcmFnZ2VkQ29sdW1uRWxlbWVudC5jdXJyZW50ICE9PSBkcm9wSGVhZGVyKSB7XG4gICAgICAgIHZhciBjb250YWluZXJPZmZzZXQgPSBEb21IYW5kbGVyLmdldE9mZnNldChlbGVtZW50UmVmLmN1cnJlbnQpO1xuICAgICAgICB2YXIgZHJvcEhlYWRlck9mZnNldCA9IERvbUhhbmRsZXIuZ2V0T2Zmc2V0KGRyb3BIZWFkZXIpO1xuICAgICAgICB2YXIgdGFyZ2V0TGVmdCA9IGRyb3BIZWFkZXJPZmZzZXQubGVmdCAtIGNvbnRhaW5lck9mZnNldC5sZWZ0O1xuICAgICAgICB2YXIgY29sdW1uQ2VudGVyID0gZHJvcEhlYWRlck9mZnNldC5sZWZ0ICsgZHJvcEhlYWRlci5vZmZzZXRXaWR0aCAvIDI7XG4gICAgICAgIHJlb3JkZXJJbmRpY2F0b3JVcFJlZi5jdXJyZW50LnN0eWxlLnRvcCA9IGRyb3BIZWFkZXJPZmZzZXQudG9wIC0gY29udGFpbmVyT2Zmc2V0LnRvcCAtIChjb2xSZW9yZGVySWNvbkhlaWdodC5jdXJyZW50IC0gMSkgKyAncHgnO1xuICAgICAgICByZW9yZGVySW5kaWNhdG9yRG93blJlZi5jdXJyZW50LnN0eWxlLnRvcCA9IGRyb3BIZWFkZXJPZmZzZXQudG9wIC0gY29udGFpbmVyT2Zmc2V0LnRvcCArIGRyb3BIZWFkZXIub2Zmc2V0SGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgaWYgKGV2ZW50LnBhZ2VYID4gY29sdW1uQ2VudGVyKSB7XG4gICAgICAgICAgcmVvcmRlckluZGljYXRvclVwUmVmLmN1cnJlbnQuc3R5bGUubGVmdCA9IHRhcmdldExlZnQgKyBkcm9wSGVhZGVyLm9mZnNldFdpZHRoIC0gTWF0aC5jZWlsKGNvbFJlb3JkZXJJY29uV2lkdGguY3VycmVudCAvIDIpICsgJ3B4JztcbiAgICAgICAgICByZW9yZGVySW5kaWNhdG9yRG93blJlZi5jdXJyZW50LnN0eWxlLmxlZnQgPSB0YXJnZXRMZWZ0ICsgZHJvcEhlYWRlci5vZmZzZXRXaWR0aCAtIE1hdGguY2VpbChjb2xSZW9yZGVySWNvbldpZHRoLmN1cnJlbnQgLyAyKSArICdweCc7XG4gICAgICAgICAgZHJvcFBvc2l0aW9uLmN1cnJlbnQgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlb3JkZXJJbmRpY2F0b3JVcFJlZi5jdXJyZW50LnN0eWxlLmxlZnQgPSB0YXJnZXRMZWZ0IC0gTWF0aC5jZWlsKGNvbFJlb3JkZXJJY29uV2lkdGguY3VycmVudCAvIDIpICsgJ3B4JztcbiAgICAgICAgICByZW9yZGVySW5kaWNhdG9yRG93blJlZi5jdXJyZW50LnN0eWxlLmxlZnQgPSB0YXJnZXRMZWZ0IC0gTWF0aC5jZWlsKGNvbFJlb3JkZXJJY29uV2lkdGguY3VycmVudCAvIDIpICsgJ3B4JztcbiAgICAgICAgICBkcm9wUG9zaXRpb24uY3VycmVudCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIHJlb3JkZXJJbmRpY2F0b3JVcFJlZi5jdXJyZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICByZW9yZGVySW5kaWNhdG9yRG93blJlZi5jdXJyZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIG9uQ29sdW1uSGVhZGVyRHJhZ0xlYXZlID0gZnVuY3Rpb24gb25Db2x1bW5IZWFkZXJEcmFnTGVhdmUoZSkge1xuICAgIHZhciBldmVudCA9IGUub3JpZ2luYWxFdmVudDtcbiAgICBpZiAocHJvcHMucmVvcmRlcmFibGVDb2x1bW5zICYmIGRyYWdnZWRDb2x1bW5FbGVtZW50LmN1cnJlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZW9yZGVySW5kaWNhdG9yVXBSZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgcmVvcmRlckluZGljYXRvckRvd25SZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uQ29sdW1uSGVhZGVyRHJvcCA9IGZ1bmN0aW9uIG9uQ29sdW1uSGVhZGVyRHJvcChlKSB7XG4gICAgdmFyIGV2ZW50ID0gZS5vcmlnaW5hbEV2ZW50LFxuICAgICAgY29sdW1uID0gZS5jb2x1bW47XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoZHJhZ2dlZENvbHVtbkVsZW1lbnQuY3VycmVudCkge1xuICAgICAgdmFyIGRyYWdJbmRleCA9IERvbUhhbmRsZXIuaW5kZXgoZHJhZ2dlZENvbHVtbkVsZW1lbnQuY3VycmVudCk7XG4gICAgICB2YXIgZHJvcEluZGV4ID0gRG9tSGFuZGxlci5pbmRleChmaW5kUGFyZW50SGVhZGVyKGV2ZW50LmN1cnJlbnRUYXJnZXQpKTtcbiAgICAgIHZhciBhbGxvd0Ryb3AgPSBkcmFnSW5kZXggIT09IGRyb3BJbmRleDtcbiAgICAgIGlmIChhbGxvd0Ryb3AgJiYgKGRyb3BJbmRleCAtIGRyYWdJbmRleCA9PT0gMSAmJiBkcm9wUG9zaXRpb24uY3VycmVudCA9PT0gLTEgfHwgZHJhZ0luZGV4IC0gZHJvcEluZGV4ID09PSAxICYmIGRyb3BQb3NpdGlvbi5jdXJyZW50ID09PSAxKSkge1xuICAgICAgICBhbGxvd0Ryb3AgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChhbGxvd0Ryb3ApIHtcbiAgICAgICAgdmFyIF9jb2x1bW5zID0gZ2V0Q29sdW1ucygpO1xuICAgICAgICB2YXIgaXNTYW1lQ29sdW1uID0gZnVuY3Rpb24gaXNTYW1lQ29sdW1uKGNvbDEsIGNvbDIpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0Q29sdW1uUHJvcChjb2wxLCAnY29sdW1uS2V5JykgfHwgZ2V0Q29sdW1uUHJvcChjb2wyLCAnY29sdW1uS2V5JykgPyBPYmplY3RVdGlscy5lcXVhbHMoY29sMS5wcm9wcywgY29sMi5wcm9wcywgJ2NvbHVtbktleScpIDogT2JqZWN0VXRpbHMuZXF1YWxzKGNvbDEucHJvcHMsIGNvbDIucHJvcHMsICdmaWVsZCcpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZHJhZ0NvbEluZGV4ID0gX2NvbHVtbnMuZmluZEluZGV4KGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgIHJldHVybiBpc1NhbWVDb2x1bW4oY2hpbGQsIGRyYWdnZWRDb2x1bW4uY3VycmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZHJvcENvbEluZGV4ID0gX2NvbHVtbnMuZmluZEluZGV4KGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgIHJldHVybiBpc1NhbWVDb2x1bW4oY2hpbGQsIGNvbHVtbik7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZHJvcENvbEluZGV4IDwgZHJhZ0NvbEluZGV4ICYmIGRyb3BQb3NpdGlvbi5jdXJyZW50ID09PSAxKSB7XG4gICAgICAgICAgZHJvcENvbEluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRyb3BDb2xJbmRleCA+IGRyYWdDb2xJbmRleCAmJiBkcm9wUG9zaXRpb24uY3VycmVudCA9PT0gLTEpIHtcbiAgICAgICAgICBkcm9wQ29sSW5kZXgtLTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3RVdGlscy5yZW9yZGVyQXJyYXkoX2NvbHVtbnMsIGRyYWdDb2xJbmRleCwgZHJvcENvbEluZGV4KTtcbiAgICAgICAgdmFyIGNvbHVtbk9yZGVyID0gX2NvbHVtbnMucmVkdWNlKGZ1bmN0aW9uIChvcmRlcnMsIGNvbCkge1xuICAgICAgICAgIG9yZGVycy5wdXNoKGdldENvbHVtblByb3AoY29sLCAnY29sdW1uS2V5JykgfHwgZ2V0Q29sdW1uUHJvcChjb2wsICdmaWVsZCcpKTtcbiAgICAgICAgICByZXR1cm4gb3JkZXJzO1xuICAgICAgICB9LCBbXSk7XG4gICAgICAgIHNldENvbHVtbk9yZGVyU3RhdGUoY29sdW1uT3JkZXIpO1xuICAgICAgICBpZiAocHJvcHMub25Db2xSZW9yZGVyKSB7XG4gICAgICAgICAgcHJvcHMub25Db2xSZW9yZGVyKHtcbiAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgZHJhZ0luZGV4OiBkcmFnQ29sSW5kZXgsXG4gICAgICAgICAgICBkcm9wSW5kZXg6IGRyb3BDb2xJbmRleCxcbiAgICAgICAgICAgIGNvbHVtbnM6IF9jb2x1bW5zXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlb3JkZXJJbmRpY2F0b3JVcFJlZi5jdXJyZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICByZW9yZGVySW5kaWNhdG9yRG93blJlZi5jdXJyZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICBkcmFnZ2VkQ29sdW1uRWxlbWVudC5jdXJyZW50LmRyYWdnYWJsZSA9IGZhbHNlO1xuICAgICAgZHJhZ2dlZENvbHVtbkVsZW1lbnQuY3VycmVudCA9IG51bGw7XG4gICAgICBkcmFnZ2VkQ29sdW1uLmN1cnJlbnQgPSBudWxsO1xuICAgICAgZHJvcFBvc2l0aW9uLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgfTtcbiAgdmFyIGNyZWF0ZVN0eWxlRWxlbWVudCA9IGZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCgpIHtcbiAgICBzdHlsZUVsZW1lbnQuY3VycmVudCA9IERvbUhhbmRsZXIuY3JlYXRlSW5saW5lU3R5bGUoUHJpbWVSZWFjdC5ub25jZSk7XG4gIH07XG4gIHZhciBjcmVhdGVSZXNwb25zaXZlU3R5bGUgPSBmdW5jdGlvbiBjcmVhdGVSZXNwb25zaXZlU3R5bGUoKSB7XG4gICAgaWYgKCFyZXNwb25zaXZlU3R5bGVFbGVtZW50LmN1cnJlbnQpIHtcbiAgICAgIHJlc3BvbnNpdmVTdHlsZUVsZW1lbnQuY3VycmVudCA9IERvbUhhbmRsZXIuY3JlYXRlSW5saW5lU3R5bGUoUHJpbWVSZWFjdC5ub25jZSk7XG4gICAgICB2YXIgdGFibGVTZWxlY3RvciA9IFwiLnAtZGF0YXRhYmxlLXdyYXBwZXIgXCIuY29uY2F0KGlzVmlydHVhbFNjcm9sbGVyRGlzYWJsZWQoKSA/ICcnIDogJz4gLnAtdmlydHVhbHNjcm9sbGVyJywgXCIgPiAucC1kYXRhdGFibGUtdGFibGVcIik7XG4gICAgICB2YXIgc2VsZWN0b3IgPSBcIi5wLWRhdGF0YWJsZVtcIi5jb25jYXQoYXR0cmlidXRlU2VsZWN0b3JTdGF0ZSwgXCJdID4gXCIpLmNvbmNhdCh0YWJsZVNlbGVjdG9yKTtcbiAgICAgIHZhciBncmlkTGluZXNTZWxlY3RvciA9IFwiLnAtZGF0YXRhYmxlW1wiLmNvbmNhdChhdHRyaWJ1dGVTZWxlY3RvclN0YXRlLCBcIl0ucC1kYXRhdGFibGUtZ3JpZGxpbmVzID4gXCIpLmNvbmNhdCh0YWJsZVNlbGVjdG9yKTtcbiAgICAgIHZhciBpbm5lckhUTUwgPSBcIlxcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IFwiLmNvbmNhdChwcm9wcy5icmVha3BvaW50LCBcIikge1xcbiAgICBcIikuY29uY2F0KHNlbGVjdG9yLCBcIiA+IC5wLWRhdGF0YWJsZS10aGVhZCA+IHRyID4gdGgsXFxuICAgIFwiKS5jb25jYXQoc2VsZWN0b3IsIFwiID4gLnAtZGF0YXRhYmxlLXRmb290ID4gdHIgPiB0ZCB7XFxuICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XFxuICAgIH1cXG5cXG4gICAgXCIpLmNvbmNhdChzZWxlY3RvciwgXCIgPiAucC1kYXRhdGFibGUtdGJvZHkgPiB0ciA+IHRkIHtcXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXG4gICAgfVxcblxcbiAgICBcIikuY29uY2F0KHNlbGVjdG9yLCBcIiA+IC5wLWRhdGF0YWJsZS10Ym9keSA+IHRyID4gdGQ6bm90KDpsYXN0LWNoaWxkKSB7XFxuICAgICAgICBib3JkZXI6IDAgbm9uZTtcXG4gICAgfVxcblxcbiAgICBcIikuY29uY2F0KGdyaWRMaW5lc1NlbGVjdG9yLCBcIiA+IC5wLWRhdGF0YWJsZS10Ym9keSA+IHRyID4gdGQ6bGFzdC1jaGlsZCB7XFxuICAgICAgICBib3JkZXItdG9wOiAwO1xcbiAgICAgICAgYm9yZGVyLXJpZ2h0OiAwO1xcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDA7XFxuICAgIH1cXG5cXG4gICAgXCIpLmNvbmNhdChzZWxlY3RvciwgXCIgPiAucC1kYXRhdGFibGUtdGJvZHkgPiB0ciA+IHRkID4gLnAtY29sdW1uLXRpdGxlIHtcXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICB9XFxufVxcblwiKTtcbiAgICAgIHJlc3BvbnNpdmVTdHlsZUVsZW1lbnQuY3VycmVudC5pbm5lckhUTUwgPSBpbm5lckhUTUw7XG4gICAgfVxuICB9O1xuICB2YXIgZGVzdHJveVJlc3BvbnNpdmVTdHlsZSA9IGZ1bmN0aW9uIGRlc3Ryb3lSZXNwb25zaXZlU3R5bGUoKSB7XG4gICAgcmVzcG9uc2l2ZVN0eWxlRWxlbWVudC5jdXJyZW50ID0gRG9tSGFuZGxlci5yZW1vdmVJbmxpbmVTdHlsZShyZXNwb25zaXZlU3R5bGVFbGVtZW50LmN1cnJlbnQpO1xuICB9O1xuICB2YXIgZGVzdHJveVN0eWxlRWxlbWVudCA9IGZ1bmN0aW9uIGRlc3Ryb3lTdHlsZUVsZW1lbnQoKSB7XG4gICAgc3R5bGVFbGVtZW50LmN1cnJlbnQgPSBEb21IYW5kbGVyLnJlbW92ZUlubGluZVN0eWxlKHN0eWxlRWxlbWVudC5jdXJyZW50KTtcbiAgfTtcbiAgdmFyIG9uUGFnZUNoYW5nZSA9IGZ1bmN0aW9uIG9uUGFnZUNoYW5nZShlKSB7XG4gICAgY2xlYXJFZGl0aW5nTWV0YURhdGEoKTtcbiAgICBpZiAocHJvcHMub25QYWdlKSB7XG4gICAgICBwcm9wcy5vblBhZ2UoY3JlYXRlRXZlbnQoZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRGaXJzdFN0YXRlKGUuZmlyc3QpO1xuICAgICAgc2V0Um93c1N0YXRlKGUucm93cyk7XG4gICAgfVxuICAgIGlmIChwcm9wcy5vblZhbHVlQ2hhbmdlKSB7XG4gICAgICBwcm9wcy5vblZhbHVlQ2hhbmdlKHByb2Nlc3NlZERhdGEoKSk7XG4gICAgfVxuICB9O1xuICB2YXIgb25Tb3J0Q2hhbmdlID0gZnVuY3Rpb24gb25Tb3J0Q2hhbmdlKGUpIHtcbiAgICBjbGVhckVkaXRpbmdNZXRhRGF0YSgpO1xuICAgIHZhciBldmVudCA9IGUub3JpZ2luYWxFdmVudCxcbiAgICAgIGNvbHVtbiA9IGUuY29sdW1uLFxuICAgICAgc29ydGFibGVEaXNhYmxlZEZpZWxkcyA9IGUuc29ydGFibGVEaXNhYmxlZEZpZWxkcztcbiAgICB2YXIgc29ydEZpZWxkID0gZ2V0Q29sdW1uUHJvcChjb2x1bW4sICdzb3J0RmllbGQnKSB8fCBnZXRDb2x1bW5Qcm9wKGNvbHVtbiwgJ2ZpZWxkJyk7XG4gICAgdmFyIHNvcnRPcmRlciA9IHByb3BzLmRlZmF1bHRTb3J0T3JkZXI7XG4gICAgdmFyIG11bHRpU29ydE1ldGE7XG4gICAgdmFyIGV2ZW50TWV0YTtcbiAgICBjb2x1bW5Tb3J0YWJsZS5jdXJyZW50ID0gZ2V0Q29sdW1uUHJvcChjb2x1bW4sICdzb3J0YWJsZScpO1xuICAgIGNvbHVtblNvcnRGdW5jdGlvbi5jdXJyZW50ID0gZ2V0Q29sdW1uUHJvcChjb2x1bW4sICdzb3J0RnVuY3Rpb24nKTtcbiAgICBjb2x1bW5GaWVsZC5jdXJyZW50ID0gc29ydEZpZWxkO1xuICAgIGlmIChwcm9wcy5zb3J0TW9kZSA9PT0gJ211bHRpcGxlJykge1xuICAgICAgdmFyIG1ldGFLZXkgPSBldmVudC5tZXRhS2V5IHx8IGV2ZW50LmN0cmxLZXk7XG4gICAgICBtdWx0aVNvcnRNZXRhID0gX3RvQ29uc3VtYWJsZUFycmF5KGdldE11bHRpU29ydE1ldGEoKSk7XG4gICAgICB2YXIgc29ydE1ldGEgPSBtdWx0aVNvcnRNZXRhLmZpbmQoZnVuY3Rpb24gKHNvcnRNZXRhKSB7XG4gICAgICAgIHJldHVybiBzb3J0TWV0YS5maWVsZCA9PT0gc29ydEZpZWxkO1xuICAgICAgfSk7XG4gICAgICBzb3J0T3JkZXIgPSBzb3J0TWV0YSA/IGdldENhbGN1bGF0ZWRTb3J0T3JkZXIoc29ydE1ldGEub3JkZXIpIDogc29ydE9yZGVyO1xuICAgICAgdmFyIG5ld01ldGFEYXRhID0ge1xuICAgICAgICBmaWVsZDogc29ydEZpZWxkLFxuICAgICAgICBvcmRlcjogc29ydE9yZGVyXG4gICAgICB9O1xuICAgICAgaWYgKHNvcnRPcmRlcikge1xuICAgICAgICBtdWx0aVNvcnRNZXRhID0gbWV0YUtleSA/IG11bHRpU29ydE1ldGEgOiBtdWx0aVNvcnRNZXRhLmZpbHRlcihmdW5jdGlvbiAobWV0YSkge1xuICAgICAgICAgIHJldHVybiBzb3J0YWJsZURpc2FibGVkRmllbGRzLnNvbWUoZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmllbGQgPT09IG1ldGEuZmllbGQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBhZGRTb3J0TWV0YShuZXdNZXRhRGF0YSwgbXVsdGlTb3J0TWV0YSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3BzLnJlbW92YWJsZVNvcnQpIHtcbiAgICAgICAgcmVtb3ZlU29ydE1ldGEobmV3TWV0YURhdGEsIG11bHRpU29ydE1ldGEpO1xuICAgICAgfVxuICAgICAgZXZlbnRNZXRhID0ge1xuICAgICAgICBtdWx0aVNvcnRNZXRhOiBtdWx0aVNvcnRNZXRhXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBzb3J0T3JkZXIgPSBnZXRTb3J0RmllbGQoKSA9PT0gc29ydEZpZWxkID8gZ2V0Q2FsY3VsYXRlZFNvcnRPcmRlcihnZXRTb3J0T3JkZXIoKSkgOiBzb3J0T3JkZXI7XG4gICAgICBpZiAocHJvcHMucmVtb3ZhYmxlU29ydCkge1xuICAgICAgICBzb3J0RmllbGQgPSBzb3J0T3JkZXIgPyBzb3J0RmllbGQgOiBudWxsO1xuICAgICAgfVxuICAgICAgZXZlbnRNZXRhID0ge1xuICAgICAgICBzb3J0RmllbGQ6IHNvcnRGaWVsZCxcbiAgICAgICAgc29ydE9yZGVyOiBzb3J0T3JkZXJcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChwcm9wcy5vblNvcnQpIHtcbiAgICAgIHByb3BzLm9uU29ydChjcmVhdGVFdmVudChldmVudE1ldGEpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0Rmlyc3RTdGF0ZSgwKTtcbiAgICAgIHNldFNvcnRGaWVsZFN0YXRlKGV2ZW50TWV0YS5zb3J0RmllbGQpO1xuICAgICAgc2V0U29ydE9yZGVyU3RhdGUoZXZlbnRNZXRhLnNvcnRPcmRlcik7XG4gICAgICBzZXRNdWx0aVNvcnRNZXRhU3RhdGUoZXZlbnRNZXRhLm11bHRpU29ydE1ldGEpO1xuICAgIH1cbiAgICBpZiAocHJvcHMub25WYWx1ZUNoYW5nZSkge1xuICAgICAgcHJvcHMub25WYWx1ZUNoYW5nZShwcm9jZXNzZWREYXRhKHtcbiAgICAgICAgc29ydEZpZWxkOiBzb3J0RmllbGQsXG4gICAgICAgIHNvcnRPcmRlcjogc29ydE9yZGVyLFxuICAgICAgICBtdWx0aVNvcnRNZXRhOiBtdWx0aVNvcnRNZXRhXG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xuICB2YXIgZ2V0Q2FsY3VsYXRlZFNvcnRPcmRlciA9IGZ1bmN0aW9uIGdldENhbGN1bGF0ZWRTb3J0T3JkZXIoY3VycmVudE9yZGVyKSB7XG4gICAgcmV0dXJuIHByb3BzLnJlbW92YWJsZVNvcnQgPyBwcm9wcy5kZWZhdWx0U29ydE9yZGVyID09PSBjdXJyZW50T3JkZXIgPyBjdXJyZW50T3JkZXIgKiAtMSA6IDAgOiBjdXJyZW50T3JkZXIgKiAtMTtcbiAgfTtcbiAgdmFyIGNvbXBhcmVWYWx1ZXNPblNvcnQgPSBmdW5jdGlvbiBjb21wYXJlVmFsdWVzT25Tb3J0KHZhbHVlMSwgdmFsdWUyLCBvcmRlcikge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5zb3J0KHZhbHVlMSwgdmFsdWUyLCBvcmRlciwgUHJpbWVSZWFjdC5sb2NhbGUsIFByaW1lUmVhY3QubnVsbFNvcnRPcmRlcik7XG4gIH07XG4gIHZhciBhZGRTb3J0TWV0YSA9IGZ1bmN0aW9uIGFkZFNvcnRNZXRhKG1ldGEsIG11bHRpU29ydE1ldGEpIHtcbiAgICB2YXIgaW5kZXggPSBtdWx0aVNvcnRNZXRhLmZpbmRJbmRleChmdW5jdGlvbiAoc29ydE1ldGEpIHtcbiAgICAgIHJldHVybiBzb3J0TWV0YS5maWVsZCA9PT0gbWV0YS5maWVsZDtcbiAgICB9KTtcbiAgICBpZiAoaW5kZXggPj0gMCkgbXVsdGlTb3J0TWV0YVtpbmRleF0gPSBtZXRhO2Vsc2UgbXVsdGlTb3J0TWV0YS5wdXNoKG1ldGEpO1xuICB9O1xuICB2YXIgcmVtb3ZlU29ydE1ldGEgPSBmdW5jdGlvbiByZW1vdmVTb3J0TWV0YShtZXRhLCBtdWx0aVNvcnRNZXRhKSB7XG4gICAgdmFyIGluZGV4ID0gbXVsdGlTb3J0TWV0YS5maW5kSW5kZXgoZnVuY3Rpb24gKHNvcnRNZXRhKSB7XG4gICAgICByZXR1cm4gc29ydE1ldGEuZmllbGQgPT09IG1ldGEuZmllbGQ7XG4gICAgfSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIG11bHRpU29ydE1ldGEuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgbXVsdGlTb3J0TWV0YSA9IG11bHRpU29ydE1ldGEubGVuZ3RoID4gMCA/IG11bHRpU29ydE1ldGEgOiBudWxsO1xuICB9O1xuICB2YXIgc29ydFNpbmdsZSA9IGZ1bmN0aW9uIHNvcnRTaW5nbGUoZGF0YSwgZmllbGQsIG9yZGVyKSB7XG4gICAgaWYgKHByb3BzLmdyb3VwUm93c0J5ICYmIHByb3BzLmdyb3VwUm93c0J5ID09PSBwcm9wcy5zb3J0RmllbGQpIHtcbiAgICAgIHZhciBtdWx0aVNvcnRNZXRhID0gW3tcbiAgICAgICAgZmllbGQ6IHByb3BzLnNvcnRGaWVsZCxcbiAgICAgICAgb3JkZXI6IHByb3BzLnNvcnRPcmRlciB8fCBwcm9wcy5kZWZhdWx0U29ydE9yZGVyXG4gICAgICB9XTtcbiAgICAgIHByb3BzLnNvcnRGaWVsZCAhPT0gZmllbGQgJiYgbXVsdGlTb3J0TWV0YS5wdXNoKHtcbiAgICAgICAgZmllbGQ6IGZpZWxkLFxuICAgICAgICBvcmRlcjogb3JkZXJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHNvcnRNdWx0aXBsZShkYXRhLCBtdWx0aVNvcnRNZXRhKTtcbiAgICB9XG4gICAgdmFyIHZhbHVlID0gX3RvQ29uc3VtYWJsZUFycmF5KGRhdGEpO1xuICAgIGlmIChjb2x1bW5Tb3J0YWJsZS5jdXJyZW50ICYmIGNvbHVtblNvcnRGdW5jdGlvbi5jdXJyZW50KSB7XG4gICAgICB2YWx1ZSA9IGNvbHVtblNvcnRGdW5jdGlvbi5jdXJyZW50KHtcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgZmllbGQ6IGZpZWxkLFxuICAgICAgICBvcmRlcjogb3JkZXJcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZS5zb3J0KGZ1bmN0aW9uIChkYXRhMSwgZGF0YTIpIHtcbiAgICAgICAgdmFyIHZhbHVlMSA9IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEoZGF0YTEsIGZpZWxkKTtcbiAgICAgICAgdmFyIHZhbHVlMiA9IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEoZGF0YTIsIGZpZWxkKTtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVWYWx1ZXNPblNvcnQodmFsdWUxLCB2YWx1ZTIsIG9yZGVyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG4gIHZhciBzb3J0TXVsdGlwbGUgPSBmdW5jdGlvbiBzb3J0TXVsdGlwbGUoZGF0YSkge1xuICAgIHZhciBtdWx0aVNvcnRNZXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTtcbiAgICBpZiAocHJvcHMuZ3JvdXBSb3dzQnkgJiYgKGdyb3VwUm93c1NvcnRNZXRhU3RhdGUgfHwgbXVsdGlTb3J0TWV0YS5sZW5ndGggJiYgcHJvcHMuZ3JvdXBSb3dzQnkgPT09IG11bHRpU29ydE1ldGFbMF0uZmllbGQpKSB7XG4gICAgICB2YXIgZ3JvdXBSb3dzU29ydE1ldGEgPSBncm91cFJvd3NTb3J0TWV0YVN0YXRlO1xuICAgICAgdmFyIGZpcnN0U29ydE1ldGEgPSBtdWx0aVNvcnRNZXRhWzBdO1xuICAgICAgaWYgKCFncm91cFJvd3NTb3J0TWV0YSkge1xuICAgICAgICBncm91cFJvd3NTb3J0TWV0YSA9IGZpcnN0U29ydE1ldGE7XG4gICAgICAgIHNldEdyb3VwUm93c1NvcnRNZXRhU3RhdGUoZ3JvdXBSb3dzU29ydE1ldGEpO1xuICAgICAgfVxuICAgICAgaWYgKGZpcnN0U29ydE1ldGEuZmllbGQgIT09IGdyb3VwUm93c1NvcnRNZXRhLmZpZWxkKSB7XG4gICAgICAgIG11bHRpU29ydE1ldGEgPSBbZ3JvdXBSb3dzU29ydE1ldGFdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobXVsdGlTb3J0TWV0YSkpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgdmFsdWUgPSBfdG9Db25zdW1hYmxlQXJyYXkoZGF0YSk7XG4gICAgaWYgKGNvbHVtblNvcnRhYmxlLmN1cnJlbnQgJiYgY29sdW1uU29ydEZ1bmN0aW9uLmN1cnJlbnQpIHtcbiAgICAgIHZhciBtZXRhID0gbXVsdGlTb3J0TWV0YS5maW5kKGZ1bmN0aW9uIChtZXRhKSB7XG4gICAgICAgIHJldHVybiBtZXRhLmZpZWxkID09PSBjb2x1bW5GaWVsZC5jdXJyZW50O1xuICAgICAgfSk7XG4gICAgICB2YXIgZmllbGQgPSBjb2x1bW5GaWVsZC5jdXJyZW50O1xuICAgICAgdmFyIG9yZGVyID0gbWV0YSA/IG1ldGEub3JkZXIgOiBwcm9wcy5kZWZhdWx0U29ydE9yZGVyO1xuICAgICAgdmFsdWUgPSBjb2x1bW5Tb3J0RnVuY3Rpb24uY3VycmVudCh7XG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGZpZWxkOiBmaWVsZCxcbiAgICAgICAgb3JkZXI6IG9yZGVyLFxuICAgICAgICBtdWx0aVNvcnRNZXRhOiBtdWx0aVNvcnRNZXRhXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUuc29ydChmdW5jdGlvbiAoZGF0YTEsIGRhdGEyKSB7XG4gICAgICAgIHJldHVybiBtdWx0aXNvcnRGaWVsZChkYXRhMSwgZGF0YTIsIG11bHRpU29ydE1ldGEsIDApO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbiAgdmFyIG11bHRpc29ydEZpZWxkID0gZnVuY3Rpb24gbXVsdGlzb3J0RmllbGQoZGF0YTEsIGRhdGEyLCBtdWx0aVNvcnRNZXRhLCBpbmRleCkge1xuICAgIHZhciB2YWx1ZTEgPSBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKGRhdGExLCBtdWx0aVNvcnRNZXRhW2luZGV4XS5maWVsZCk7XG4gICAgdmFyIHZhbHVlMiA9IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEoZGF0YTIsIG11bHRpU29ydE1ldGFbaW5kZXhdLmZpZWxkKTtcblxuICAgIC8vIGNoZWNrIGlmIHRoZXkgYXJlIGVxdWFsIGhhbmRsaW5nIGRhdGVzIGFuZCBsb2NhbGVzXG4gICAgaWYgKE9iamVjdFV0aWxzLmNvbXBhcmUodmFsdWUxLCB2YWx1ZTIsIFByaW1lUmVhY3QubG9jYWxlKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIG11bHRpU29ydE1ldGEubGVuZ3RoIC0gMSA+IGluZGV4ID8gbXVsdGlzb3J0RmllbGQoZGF0YTEsIGRhdGEyLCBtdWx0aVNvcnRNZXRhLCBpbmRleCArIDEpIDogMDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBhcmVWYWx1ZXNPblNvcnQodmFsdWUxLCB2YWx1ZTIsIG11bHRpU29ydE1ldGFbaW5kZXhdLm9yZGVyKTtcbiAgfTtcbiAgdmFyIG9uRmlsdGVyQ2hhbmdlID0gZnVuY3Rpb24gb25GaWx0ZXJDaGFuZ2UoZmlsdGVycykge1xuICAgIGNsZWFyRWRpdGluZ01ldGFEYXRhKCk7XG4gICAgc2V0RF9maWx0ZXJzU3RhdGUoZmlsdGVycyk7XG4gIH07XG4gIHZhciBvbkZpbHRlckFwcGx5ID0gZnVuY3Rpb24gb25GaWx0ZXJBcHBseShmaWx0ZXJzVG9BcHBseSkge1xuICAgIGNsZWFyVGltZW91dChmaWx0ZXJUaW1lb3V0LmN1cnJlbnQpO1xuICAgIGZpbHRlclRpbWVvdXQuY3VycmVudCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGZpbHRlcnMgPSBjbG9uZUZpbHRlcnMoZmlsdGVyc1RvQXBwbHkgfHwgZF9maWx0ZXJzU3RhdGUpO1xuICAgICAgaWYgKHByb3BzLm9uRmlsdGVyKSB7XG4gICAgICAgIHByb3BzLm9uRmlsdGVyKGNyZWF0ZUV2ZW50KHtcbiAgICAgICAgICBmaWx0ZXJzOiBmaWx0ZXJzXG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEZpcnN0U3RhdGUoMCk7XG4gICAgICAgIHNldEZpbHRlcnNTdGF0ZShmaWx0ZXJzKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wcy5vblZhbHVlQ2hhbmdlKSB7XG4gICAgICAgIHByb3BzLm9uVmFsdWVDaGFuZ2UocHJvY2Vzc2VkRGF0YSh7XG4gICAgICAgICAgZmlsdGVyczogZmlsdGVyc1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSwgcHJvcHMuZmlsdGVyRGVsYXkpO1xuICB9O1xuICB2YXIgZmlsdGVyTG9jYWwgPSBmdW5jdGlvbiBmaWx0ZXJMb2NhbChkYXRhLCBmaWx0ZXJzKSB7XG4gICAgaWYgKCFkYXRhKSByZXR1cm47XG4gICAgZmlsdGVycyA9IGZpbHRlcnMgfHwge307XG4gICAgdmFyIGNvbHVtbnMgPSBnZXRDb2x1bW5zKCk7XG4gICAgdmFyIGZpbHRlcmVkVmFsdWUgPSBbXTtcbiAgICB2YXIgaXNHbG9iYWxGaWx0ZXIgPSBmaWx0ZXJzWydnbG9iYWwnXSB8fCBwcm9wcy5nbG9iYWxGaWx0ZXI7XG4gICAgdmFyIGdsb2JhbEZpbHRlckZpZWxkc0FycmF5O1xuICAgIGlmIChpc0dsb2JhbEZpbHRlcikge1xuICAgICAgZ2xvYmFsRmlsdGVyRmllbGRzQXJyYXkgPSBwcm9wcy5nbG9iYWxGaWx0ZXJGaWVsZHMgfHwgY29sdW1ucy5maWx0ZXIoZnVuY3Rpb24gKGNvbCkge1xuICAgICAgICByZXR1cm4gIWdldENvbHVtblByb3AoY29sLCAnZXhjbHVkZUdsb2JhbEZpbHRlcicpO1xuICAgICAgfSkubWFwKGZ1bmN0aW9uIChjb2wpIHtcbiAgICAgICAgcmV0dXJuIGdldENvbHVtblByb3AoY29sLCAnZmlsdGVyRmllbGQnKSB8fCBnZXRDb2x1bW5Qcm9wKGNvbCwgJ2ZpZWxkJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbG9jYWxNYXRjaCA9IHRydWU7XG4gICAgICB2YXIgZ2xvYmFsTWF0Y2ggPSBmYWxzZTtcbiAgICAgIHZhciBsb2NhbEZpbHRlcmVkID0gZmFsc2U7XG4gICAgICBmb3IgKHZhciBwcm9wIGluIGZpbHRlcnMpIHtcbiAgICAgICAgaWYgKHByb3AgPT09ICdudWxsJykge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZmlsdGVycywgcHJvcCkgJiYgcHJvcCAhPT0gJ2dsb2JhbCcpIHtcbiAgICAgICAgICBsb2NhbEZpbHRlcmVkID0gdHJ1ZTtcbiAgICAgICAgICB2YXIgZmlsdGVyRmllbGQgPSBwcm9wO1xuICAgICAgICAgIHZhciBmaWx0ZXJNZXRhID0gZmlsdGVyc1tmaWx0ZXJGaWVsZF07XG4gICAgICAgICAgaWYgKGZpbHRlck1ldGEub3BlcmF0b3IpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZmlsdGVyTWV0YS5jb25zdHJhaW50cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICB2YXIgZmlsdGVyQ29uc3RyYWludCA9IGZpbHRlck1ldGEuY29uc3RyYWludHNbal07XG4gICAgICAgICAgICAgIGxvY2FsTWF0Y2ggPSBleGVjdXRlTG9jYWxGaWx0ZXIoZmlsdGVyRmllbGQsIGRhdGFbaV0sIGZpbHRlckNvbnN0cmFpbnQsIGopO1xuICAgICAgICAgICAgICBpZiAoZmlsdGVyTWV0YS5vcGVyYXRvciA9PT0gRmlsdGVyT3BlcmF0b3IuT1IgJiYgbG9jYWxNYXRjaCB8fCBmaWx0ZXJNZXRhLm9wZXJhdG9yID09PSBGaWx0ZXJPcGVyYXRvci5BTkQgJiYgIWxvY2FsTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2NhbE1hdGNoID0gZXhlY3V0ZUxvY2FsRmlsdGVyKGZpbHRlckZpZWxkLCBkYXRhW2ldLCBmaWx0ZXJNZXRhLCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFsb2NhbE1hdGNoKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0dsb2JhbEZpbHRlciAmJiAhZ2xvYmFsTWF0Y2ggJiYgZ2xvYmFsRmlsdGVyRmllbGRzQXJyYXkpIHtcbiAgICAgICAgZm9yICh2YXIgX2ogPSAwOyBfaiA8IGdsb2JhbEZpbHRlckZpZWxkc0FycmF5Lmxlbmd0aDsgX2orKykge1xuICAgICAgICAgIHZhciBnbG9iYWxGaWx0ZXJGaWVsZCA9IGdsb2JhbEZpbHRlckZpZWxkc0FycmF5W19qXTtcbiAgICAgICAgICB2YXIgbWF0Y2hNb2RlID0gZmlsdGVyc1snZ2xvYmFsJ10gPyBmaWx0ZXJzWydnbG9iYWwnXS5tYXRjaE1vZGUgOiBwcm9wcy5nbG9iYWxGaWx0ZXJNYXRjaE1vZGU7XG4gICAgICAgICAgdmFyIHZhbHVlID0gZmlsdGVyc1snZ2xvYmFsJ10gPyBmaWx0ZXJzWydnbG9iYWwnXS52YWx1ZSA6IHByb3BzLmdsb2JhbEZpbHRlcjtcbiAgICAgICAgICBnbG9iYWxNYXRjaCA9IEZpbHRlclNlcnZpY2UuZmlsdGVyc1ttYXRjaE1vZGVdKE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEoZGF0YVtpXSwgZ2xvYmFsRmlsdGVyRmllbGQpLCB2YWx1ZSwgcHJvcHMuZmlsdGVyTG9jYWxlKTtcbiAgICAgICAgICBpZiAoZ2xvYmFsTWF0Y2gpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIG1hdGNoZXMgPSB2b2lkIDA7XG4gICAgICBpZiAoaXNHbG9iYWxGaWx0ZXIpIHtcbiAgICAgICAgbWF0Y2hlcyA9IGxvY2FsRmlsdGVyZWQgPyBsb2NhbEZpbHRlcmVkICYmIGxvY2FsTWF0Y2ggJiYgZ2xvYmFsTWF0Y2ggOiBnbG9iYWxNYXRjaDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdGNoZXMgPSBsb2NhbEZpbHRlcmVkICYmIGxvY2FsTWF0Y2g7XG4gICAgICB9XG4gICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICBmaWx0ZXJlZFZhbHVlLnB1c2goZGF0YVtpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmaWx0ZXJlZFZhbHVlLmxlbmd0aCA9PT0gcHJvcHMudmFsdWUubGVuZ3RoKSB7XG4gICAgICBmaWx0ZXJlZFZhbHVlID0gZGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIGZpbHRlcmVkVmFsdWU7XG4gIH07XG4gIHZhciBleGVjdXRlTG9jYWxGaWx0ZXIgPSBmdW5jdGlvbiBleGVjdXRlTG9jYWxGaWx0ZXIoZmllbGQsIHJvd0RhdGEsIGZpbHRlck1ldGEsIGluZGV4KSB7XG4gICAgdmFyIGZpbHRlclZhbHVlID0gZmlsdGVyTWV0YS52YWx1ZTtcbiAgICB2YXIgZmlsdGVyTWF0Y2hNb2RlID0gZmlsdGVyTWV0YS5tYXRjaE1vZGUgPT09ICdjdXN0b20nID8gXCJjdXN0b21fXCIuY29uY2F0KGZpZWxkKSA6IGZpbHRlck1ldGEubWF0Y2hNb2RlIHx8IEZpbHRlck1hdGNoTW9kZS5TVEFSVFNfV0lUSDtcbiAgICB2YXIgZGF0YUZpZWxkVmFsdWUgPSBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKHJvd0RhdGEsIGZpZWxkKTtcbiAgICB2YXIgZmlsdGVyQ29uc3RyYWludCA9IEZpbHRlclNlcnZpY2UuZmlsdGVyc1tmaWx0ZXJNYXRjaE1vZGVdO1xuICAgIHJldHVybiBPYmplY3RVdGlscy5pc0Z1bmN0aW9uKGZpbHRlckNvbnN0cmFpbnQpICYmIGZpbHRlckNvbnN0cmFpbnQoZGF0YUZpZWxkVmFsdWUsIGZpbHRlclZhbHVlLCBwcm9wcy5maWx0ZXJMb2NhbGUsIGluZGV4KTtcbiAgfTtcbiAgdmFyIGNsb25lRmlsdGVycyA9IGZ1bmN0aW9uIGNsb25lRmlsdGVycyhmaWx0ZXJzKSB7XG4gICAgZmlsdGVycyA9IGZpbHRlcnMgfHwgcHJvcHMuZmlsdGVycztcbiAgICB2YXIgY2xvbmVkID0ge307XG4gICAgaWYgKGZpbHRlcnMpIHtcbiAgICAgIE9iamVjdC5lbnRyaWVzKGZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksXG4gICAgICAgICAgcHJvcCA9IF9yZWYyWzBdLFxuICAgICAgICAgIHZhbHVlID0gX3JlZjJbMV07XG4gICAgICAgIGNsb25lZFtwcm9wXSA9IHZhbHVlLm9wZXJhdG9yID8ge1xuICAgICAgICAgIG9wZXJhdG9yOiB2YWx1ZS5vcGVyYXRvcixcbiAgICAgICAgICBjb25zdHJhaW50czogdmFsdWUuY29uc3RyYWludHMubWFwKGZ1bmN0aW9uIChjb25zdHJhaW50KSB7XG4gICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgY29uc3RyYWludCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgfSA6IF9vYmplY3RTcHJlYWQoe30sIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX2NvbHVtbnMyID0gZ2V0Q29sdW1ucygpO1xuICAgICAgY2xvbmVkID0gX2NvbHVtbnMyLnJlZHVjZShmdW5jdGlvbiAoZmlsdGVycywgY29sKSB7XG4gICAgICAgIHZhciBmaWVsZCA9IGdldENvbHVtblByb3AoY29sLCAnZmlsdGVyRmllbGQnKSB8fCBnZXRDb2x1bW5Qcm9wKGNvbCwgJ2ZpZWxkJyk7XG4gICAgICAgIHZhciBmaWx0ZXJGdW5jdGlvbiA9IGdldENvbHVtblByb3AoY29sLCAnZmlsdGVyRnVuY3Rpb24nKTtcbiAgICAgICAgdmFyIGRhdGFUeXBlID0gZ2V0Q29sdW1uUHJvcChjb2wsICdkYXRhVHlwZScpO1xuICAgICAgICB2YXIgbWF0Y2hNb2RlID0gZ2V0Q29sdW1uUHJvcChjb2wsICdmaWx0ZXJNYXRjaE1vZGUnKSB8fCAoUHJpbWVSZWFjdC5maWx0ZXJNYXRjaE1vZGVPcHRpb25zW2RhdGFUeXBlXSA/IFByaW1lUmVhY3QuZmlsdGVyTWF0Y2hNb2RlT3B0aW9uc1tkYXRhVHlwZV1bMF0gOiBGaWx0ZXJNYXRjaE1vZGUuU1RBUlRTX1dJVEgpO1xuICAgICAgICB2YXIgY29uc3RyYWludCA9IHtcbiAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICBtYXRjaE1vZGU6IG1hdGNoTW9kZVxuICAgICAgICB9O1xuICAgICAgICBpZiAoZmlsdGVyRnVuY3Rpb24pIHtcbiAgICAgICAgICBGaWx0ZXJTZXJ2aWNlLnJlZ2lzdGVyKFwiY3VzdG9tX1wiLmNvbmNhdChmaWVsZCksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZpbHRlckZ1bmN0aW9uLmFwcGx5KHZvaWQgMCwgYXJncy5jb25jYXQoW3tcbiAgICAgICAgICAgICAgY29sdW1uOiBjb2xcbiAgICAgICAgICAgIH1dKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZmlsdGVyc1tmaWVsZF0gPSBwcm9wcy5maWx0ZXJEaXNwbGF5ID09PSAnbWVudScgPyB7XG4gICAgICAgICAgb3BlcmF0b3I6IEZpbHRlck9wZXJhdG9yLkFORCxcbiAgICAgICAgICBjb25zdHJhaW50czogW2NvbnN0cmFpbnRdXG4gICAgICAgIH0gOiBjb25zdHJhaW50O1xuICAgICAgICByZXR1cm4gZmlsdGVycztcbiAgICAgIH0sIHt9KTtcbiAgICB9XG4gICAgcmV0dXJuIGNsb25lZDtcbiAgfTtcbiAgdmFyIGZpbHRlciA9IGZ1bmN0aW9uIGZpbHRlcih2YWx1ZSwgZmllbGQsIG1hdGNoTW9kZSkge1xuICAgIHZhciBpbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcbiAgICB2YXIgZmlsdGVycyA9IF9vYmplY3RTcHJlYWQoe30sIGRfZmlsdGVyc1N0YXRlKTtcbiAgICB2YXIgbWV0YSA9IGZpbHRlcnNbZmllbGRdO1xuICAgIHZhciBjb25zdHJhaW50ID0gbWV0YSAmJiBtZXRhLm9wZXJhdG9yID8gbWV0YS5jb25zdHJhaW50c1tpbmRleF0gOiBtZXRhO1xuICAgIGNvbnN0cmFpbnQgPSBtZXRhID8ge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgbWF0Y2hNb2RlOiBtYXRjaE1vZGUgfHwgY29uc3RyYWludC5tYXRjaE1vZGVcbiAgICB9IDoge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgbWF0Y2hNb2RlOiBtYXRjaE1vZGVcbiAgICB9O1xuICAgIHByb3BzLmZpbHRlckRpc3BsYXkgPT09ICdtZW51JyAmJiBtZXRhICYmIG1ldGEub3BlcmF0b3IgPyBmaWx0ZXJzW2ZpZWxkXS5jb25zdHJhaW50c1tpbmRleF0gPSBjb25zdHJhaW50IDogZmlsdGVyc1tmaWVsZF0gPSBjb25zdHJhaW50O1xuICAgIHNldERfZmlsdGVyc1N0YXRlKGZpbHRlcnMpO1xuICAgIG9uRmlsdGVyQXBwbHkoZmlsdGVycyk7XG4gIH07XG4gIHZhciByZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIHNldERfcm93c1N0YXRlKHByb3BzLnJvd3MpO1xuICAgIHNldERfZmlsdGVyc1N0YXRlKGNsb25lRmlsdGVycyhwcm9wcy5maWx0ZXJzKSk7XG4gICAgc2V0R3JvdXBSb3dzU29ydE1ldGFTdGF0ZShudWxsKTtcbiAgICBzZXRFZGl0aW5nTWV0YVN0YXRlKHt9KTtcbiAgICBpZiAoIXByb3BzLm9uUGFnZSkge1xuICAgICAgc2V0Rmlyc3RTdGF0ZShwcm9wcy5maXJzdCk7XG4gICAgICBzZXRSb3dzU3RhdGUocHJvcHMucm93cyk7XG4gICAgfVxuICAgIGlmICghcHJvcHMub25Tb3J0KSB7XG4gICAgICBzZXRTb3J0RmllbGRTdGF0ZShwcm9wcy5zb3J0RmllbGQpO1xuICAgICAgc2V0U29ydE9yZGVyU3RhdGUocHJvcHMuc29ydE9yZGVyKTtcbiAgICAgIHNldE11bHRpU29ydE1ldGFTdGF0ZShwcm9wcy5tdWx0aVNvcnRNZXRhKTtcbiAgICB9XG4gICAgaWYgKCFwcm9wcy5vbkZpbHRlcikge1xuICAgICAgc2V0RmlsdGVyc1N0YXRlKHByb3BzLmZpbHRlcnMpO1xuICAgIH1cbiAgICByZXNldENvbHVtbk9yZGVyKCk7XG4gIH07XG4gIHZhciByZXNldFNjcm9sbCA9IGZ1bmN0aW9uIHJlc2V0U2Nyb2xsKCkge1xuICAgIGlmICh3cmFwcGVyUmVmLmN1cnJlbnQpIHtcbiAgICAgIHZhciBzY3JvbGxhYmxlQ29udGFpbmVyID0gIWlzVmlydHVhbFNjcm9sbGVyRGlzYWJsZWQoKSA/IERvbUhhbmRsZXIuZmluZFNpbmdsZSh3cmFwcGVyUmVmLmN1cnJlbnQsICcucC12aXJ0dWFsc2Nyb2xsZXInKSA6IHdyYXBwZXJSZWYuY3VycmVudDtcbiAgICAgIHNjcm9sbGFibGVDb250YWluZXIuc2Nyb2xsVG8oMCwgMCk7XG4gICAgfVxuICB9O1xuICB2YXIgcmVzZXRDb2x1bW5PcmRlciA9IGZ1bmN0aW9uIHJlc2V0Q29sdW1uT3JkZXIoKSB7XG4gICAgdmFyIGNvbHVtbnMgPSBnZXRDb2x1bW5zKHRydWUpO1xuICAgIHZhciBjb2x1bW5PcmRlciA9IFtdO1xuICAgIGlmIChjb2x1bW5zKSB7XG4gICAgICBjb2x1bW5PcmRlciA9IGNvbHVtbnMucmVkdWNlKGZ1bmN0aW9uIChvcmRlcnMsIGNvbCkge1xuICAgICAgICBvcmRlcnMucHVzaChnZXRDb2x1bW5Qcm9wKGNvbCwgJ2NvbHVtbktleScpIHx8IGdldENvbHVtblByb3AoY29sLCAnZmllbGQnKSk7XG4gICAgICAgIHJldHVybiBvcmRlcnM7XG4gICAgICB9LCBbXSk7XG4gICAgfVxuICAgIHNldENvbHVtbk9yZGVyU3RhdGUoY29sdW1uT3JkZXIpO1xuICB9O1xuICB2YXIgZXhwb3J0Q1NWID0gZnVuY3Rpb24gZXhwb3J0Q1NWKG9wdGlvbnMpIHtcbiAgICB2YXIgZGF0YTtcbiAgICB2YXIgY3N2ID0gXCJcXHVGRUZGXCI7XG4gICAgdmFyIGNvbHVtbnMgPSBnZXRDb2x1bW5zKCk7XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5zZWxlY3Rpb25Pbmx5KSB7XG4gICAgICBkYXRhID0gcHJvcHMuc2VsZWN0aW9uIHx8IFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcm9wcy5mcm96ZW5WYWx1ZSB8fCBbXSksIF90b0NvbnN1bWFibGVBcnJheShwcm9jZXNzZWREYXRhKCkgfHwgW10pKTtcbiAgICB9XG5cbiAgICAvL2hlYWRlcnNcbiAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbiwgaSkge1xuICAgICAgdmFyIF9yZWYzID0gW2dldENvbHVtblByb3AoY29sdW1uLCAnZmllbGQnKSwgZ2V0Q29sdW1uUHJvcChjb2x1bW4sICdoZWFkZXInKSwgZ2V0Q29sdW1uUHJvcChjb2x1bW4sICdleHBvcnRhYmxlJyldLFxuICAgICAgICBmaWVsZCA9IF9yZWYzWzBdLFxuICAgICAgICBoZWFkZXIgPSBfcmVmM1sxXSxcbiAgICAgICAgZXhwb3J0YWJsZSA9IF9yZWYzWzJdO1xuICAgICAgaWYgKGV4cG9ydGFibGUgJiYgZmllbGQpIHtcbiAgICAgICAgdmFyIGNvbHVtbkhlYWRlciA9IFN0cmluZyhoZWFkZXIgfHwgZmllbGQpLnJlcGxhY2UoL1wiL2csICdcIlwiJykucmVwbGFjZSgvXFxuL2csIFwiXFx1MjAyOFwiKTtcbiAgICAgICAgY3N2ICs9ICdcIicgKyBjb2x1bW5IZWFkZXIgKyAnXCInO1xuICAgICAgICBpZiAoaSA8IGNvbHVtbnMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIGNzdiArPSBwcm9wcy5jc3ZTZXBhcmF0b3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vYm9keVxuICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICBjc3YgKz0gJ1xcbic7XG4gICAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbiwgaSkge1xuICAgICAgICB2YXIgX3JlZjQgPSBbZ2V0Q29sdW1uUHJvcChjb2x1bW4sICdmaWVsZCcpLCBnZXRDb2x1bW5Qcm9wKGNvbHVtbiwgJ2V4cG9ydEZpZWxkJyksIGdldENvbHVtblByb3AoY29sdW1uLCAnZXhwb3J0YWJsZScpXSxcbiAgICAgICAgICBjb2xGaWVsZCA9IF9yZWY0WzBdLFxuICAgICAgICAgIGV4cG9ydEZpZWxkID0gX3JlZjRbMV0sXG4gICAgICAgICAgZXhwb3J0YWJsZSA9IF9yZWY0WzJdO1xuICAgICAgICB2YXIgZmllbGQgPSBleHBvcnRGaWVsZCB8fCBjb2xGaWVsZDtcbiAgICAgICAgaWYgKGV4cG9ydGFibGUgJiYgZmllbGQpIHtcbiAgICAgICAgICB2YXIgY2VsbERhdGEgPSBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKHJlY29yZCwgZmllbGQpO1xuICAgICAgICAgIGlmIChjZWxsRGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAocHJvcHMuZXhwb3J0RnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgY2VsbERhdGEgPSBwcm9wcy5leHBvcnRGdW5jdGlvbih7XG4gICAgICAgICAgICAgICAgZGF0YTogY2VsbERhdGEsXG4gICAgICAgICAgICAgICAgZmllbGQ6IGZpZWxkLFxuICAgICAgICAgICAgICAgIHJvd0RhdGE6IHJlY29yZCxcbiAgICAgICAgICAgICAgICBjb2x1bW46IGNvbHVtblxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNlbGxEYXRhID0gU3RyaW5nKGNlbGxEYXRhKS5yZXBsYWNlKC9cIi9nLCAnXCJcIicpLnJlcGxhY2UoL1xcbi9nLCBcIlxcdTIwMjhcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGNlbGxEYXRhID0gJyc7XG4gICAgICAgICAgY3N2ICs9ICdcIicgKyBjZWxsRGF0YSArICdcIic7XG4gICAgICAgICAgaWYgKGkgPCBjb2x1bW5zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGNzdiArPSBwcm9wcy5jc3ZTZXBhcmF0b3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBEb21IYW5kbGVyLmV4cG9ydENTVihjc3YsIHByb3BzLmV4cG9ydEZpbGVuYW1lKTtcbiAgfTtcbiAgdmFyIGNsb3NlRWRpdGluZ0NlbGwgPSBmdW5jdGlvbiBjbG9zZUVkaXRpbmdDZWxsKCkge1xuICAgIGlmIChwcm9wcy5lZGl0TW9kZSAhPT0gJ3JvdycpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xpY2soKTtcbiAgICB9XG4gIH07XG4gIHZhciBjcmVhdGVFdmVudCA9IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50KGV2ZW50KSB7XG4gICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe1xuICAgICAgZmlyc3Q6IGdldEZpcnN0KCksXG4gICAgICByb3dzOiBnZXRSb3dzKCksXG4gICAgICBzb3J0RmllbGQ6IGdldFNvcnRGaWVsZCgpLFxuICAgICAgc29ydE9yZGVyOiBnZXRTb3J0T3JkZXIoKSxcbiAgICAgIG11bHRpU29ydE1ldGE6IGdldE11bHRpU29ydE1ldGEoKSxcbiAgICAgIGZpbHRlcnM6IGdldEZpbHRlcnMoKVxuICAgIH0sIGV2ZW50KTtcbiAgfTtcbiAgdmFyIHByb2Nlc3NlZERhdGEgPSBmdW5jdGlvbiBwcm9jZXNzZWREYXRhKGxvY2FsU3RhdGUpIHtcbiAgICB2YXIgZGF0YSA9IHByb3BzLnZhbHVlIHx8IFtdO1xuICAgIGlmICghcHJvcHMubGF6eSkge1xuICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGZpbHRlcnMgPSBsb2NhbFN0YXRlICYmIGxvY2FsU3RhdGUuZmlsdGVycyB8fCBnZXRGaWx0ZXJzKCk7XG4gICAgICAgIHZhciBzb3J0RmllbGQgPSBsb2NhbFN0YXRlICYmIGxvY2FsU3RhdGUuc29ydEZpZWxkIHx8IGdldFNvcnRGaWVsZCgpO1xuICAgICAgICB2YXIgc29ydE9yZGVyID0gbG9jYWxTdGF0ZSAmJiBsb2NhbFN0YXRlLnNvcnRPcmRlciB8fCBnZXRTb3J0T3JkZXIoKTtcbiAgICAgICAgdmFyIG11bHRpU29ydE1ldGEgPSBsb2NhbFN0YXRlICYmIGxvY2FsU3RhdGUubXVsdGlTb3J0TWV0YSB8fCBnZXRNdWx0aVNvcnRNZXRhKCk7XG4gICAgICAgIHZhciBfY29sdW1uczMgPSBnZXRDb2x1bW5zKCk7XG4gICAgICAgIHZhciBzb3J0Q29sdW1uID0gX2NvbHVtbnMzLmZpbmQoZnVuY3Rpb24gKGNvbCkge1xuICAgICAgICAgIHJldHVybiBnZXRDb2x1bW5Qcm9wKGNvbCwgJ2ZpZWxkJykgPT09IHNvcnRGaWVsZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzb3J0Q29sdW1uKSB7XG4gICAgICAgICAgY29sdW1uU29ydGFibGUuY3VycmVudCA9IGdldENvbHVtblByb3Aoc29ydENvbHVtbiwgJ3NvcnRhYmxlJyk7XG4gICAgICAgICAgY29sdW1uU29ydEZ1bmN0aW9uLmN1cnJlbnQgPSBnZXRDb2x1bW5Qcm9wKHNvcnRDb2x1bW4sICdzb3J0RnVuY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShmaWx0ZXJzKSB8fCBwcm9wcy5nbG9iYWxGaWx0ZXIpIHtcbiAgICAgICAgICBkYXRhID0gZmlsdGVyTG9jYWwoZGF0YSwgZmlsdGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNvcnRGaWVsZCB8fCBPYmplY3RVdGlscy5pc05vdEVtcHR5KG11bHRpU29ydE1ldGEpKSB7XG4gICAgICAgICAgaWYgKHByb3BzLnNvcnRNb2RlID09PSAnc2luZ2xlJykgZGF0YSA9IHNvcnRTaW5nbGUoZGF0YSwgc29ydEZpZWxkLCBzb3J0T3JkZXIpO2Vsc2UgaWYgKHByb3BzLnNvcnRNb2RlID09PSAnbXVsdGlwbGUnKSBkYXRhID0gc29ydE11bHRpcGxlKGRhdGEsIG11bHRpU29ydE1ldGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9O1xuICB2YXIgZGF0YVRvUmVuZGVyID0gZnVuY3Rpb24gZGF0YVRvUmVuZGVyKGRhdGEpIHtcbiAgICBpZiAoZGF0YSAmJiBwcm9wcy5wYWdpbmF0b3IpIHtcbiAgICAgIHZhciBmaXJzdCA9IHByb3BzLmxhenkgPyAwIDogZ2V0Rmlyc3QoKTtcbiAgICAgIHJldHVybiBkYXRhLnNsaWNlKGZpcnN0LCBmaXJzdCArIGdldFJvd3MoKSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9O1xuICB1c2VNb3VudEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgIWF0dHJpYnV0ZVNlbGVjdG9yU3RhdGUgJiYgc2V0QXR0cmlidXRlU2VsZWN0b3JTdGF0ZShVbmlxdWVDb21wb25lbnRJZCgpKTtcbiAgICBzZXRGaWx0ZXJzU3RhdGUoY2xvbmVGaWx0ZXJzKHByb3BzLmZpbHRlcnMpKTtcbiAgICBzZXREX2ZpbHRlcnNTdGF0ZShjbG9uZUZpbHRlcnMocHJvcHMuZmlsdGVycykpO1xuICAgIGlmIChpc1N0YXRlZnVsKCkpIHtcbiAgICAgIHJlc3RvcmVTdGF0ZSgpO1xuICAgICAgaWYgKHByb3BzLnJlc2l6YWJsZUNvbHVtbnMpIHtcbiAgICAgICAgcmVzdG9yZUNvbHVtbldpZHRocygpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHVzZVVwZGF0ZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGF0dHJpYnV0ZVNlbGVjdG9yU3RhdGUpIHtcbiAgICAgIGVsZW1lbnRSZWYuY3VycmVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlU2VsZWN0b3JTdGF0ZSwgJycpO1xuICAgICAgaWYgKHByb3BzLnJlc3BvbnNpdmVMYXlvdXQgPT09ICdzdGFjaycgJiYgIXByb3BzLnNjcm9sbGFibGUpIHtcbiAgICAgICAgY3JlYXRlUmVzcG9uc2l2ZVN0eWxlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBkZXN0cm95UmVzcG9uc2l2ZVN0eWxlKCk7XG4gICAgfTtcbiAgfSwgW2F0dHJpYnV0ZVNlbGVjdG9yU3RhdGUsIHByb3BzLmJyZWFrcG9pbnRdKTtcbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZmlsdGVycyA9IGNsb25lRmlsdGVycyhwcm9wcy5maWx0ZXJzKTtcbiAgICBzZXRGaWx0ZXJzU3RhdGUoZmlsdGVycyk7XG4gICAgc2V0RF9maWx0ZXJzU3RhdGUoY2xvbmVGaWx0ZXJzKHByb3BzLmZpbHRlcnMpKTtcbiAgICBpZiAocHJvcHMub25WYWx1ZUNoYW5nZSkge1xuICAgICAgcHJvcHMub25WYWx1ZUNoYW5nZShwcm9jZXNzZWREYXRhKHtcbiAgICAgICAgZmlsdGVyczogZmlsdGVyc1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSwgW3Byb3BzLmZpbHRlcnNdKTtcbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaXNTdGF0ZWZ1bCgpKSB7XG4gICAgICBzYXZlU3RhdGUoKTtcbiAgICB9XG4gIH0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGRlc3Ryb3lSZXNwb25zaXZlU3R5bGUoKTtcbiAgICBpZiAocHJvcHMucmVzcG9uc2l2ZUxheW91dCA9PT0gJ3N0YWNrJyAmJiAhcHJvcHMuc2Nyb2xsYWJsZSkge1xuICAgICAgY3JlYXRlUmVzcG9uc2l2ZVN0eWxlKCk7XG4gICAgfVxuICB9LCBbcHJvcHMucmVzcG9uc2l2ZUxheW91dCwgcHJvcHMuc2Nyb2xsYWJsZV0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChwcm9wcy5nbG9iYWxGaWx0ZXIpIHtcbiAgICAgIGZpbHRlcihwcm9wcy5nbG9iYWxGaWx0ZXIsICdnbG9iYWwnLCBwcm9wcy5nbG9iYWxGaWx0ZXJNYXRjaE1vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyAjMzgxOSB3YXMgZmlsdGVyaW5nIGJ1dCBub3cgcmVzZXQgZmlsdGVyIHN0YXRlXG4gICAgICBzZXRGaWx0ZXJzU3RhdGUocHJvcHMuZmlsdGVycyk7XG4gICAgfVxuICB9LCBbcHJvcHMuZ2xvYmFsRmlsdGVyLCBwcm9wcy5nbG9iYWxGaWx0ZXJNYXRjaE1vZGVdKTtcbiAgdXNlVW5tb3VudEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdW5iaW5kQ29sdW1uUmVzaXplRXZlbnRzKCk7XG4gICAgZGVzdHJveVN0eWxlRWxlbWVudCgpO1xuICAgIGRlc3Ryb3lSZXNwb25zaXZlU3R5bGUoKTtcbiAgfSk7XG4gIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgIGNsZWFyU3RhdGU6IGNsZWFyU3RhdGUsXG4gICAgICBjbG9zZUVkaXRpbmdDZWxsOiBjbG9zZUVkaXRpbmdDZWxsLFxuICAgICAgZXhwb3J0Q1NWOiBleHBvcnRDU1YsXG4gICAgICBmaWx0ZXI6IGZpbHRlcixcbiAgICAgIHJlc2V0OiByZXNldCxcbiAgICAgIHJlc2V0Q29sdW1uT3JkZXI6IHJlc2V0Q29sdW1uT3JkZXIsXG4gICAgICByZXNldFNjcm9sbDogcmVzZXRTY3JvbGwsXG4gICAgICByZXN0b3JlQ29sdW1uV2lkdGhzOiByZXN0b3JlQ29sdW1uV2lkdGhzLFxuICAgICAgcmVzdG9yZVN0YXRlOiByZXN0b3JlU3RhdGUsXG4gICAgICByZXN0b3JlVGFibGVTdGF0ZTogcmVzdG9yZVRhYmxlU3RhdGUsXG4gICAgICBzYXZlU3RhdGU6IHNhdmVTdGF0ZSxcbiAgICAgIGdldEVsZW1lbnQ6IGZ1bmN0aW9uIGdldEVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgICB9LFxuICAgICAgZ2V0VGFibGU6IGZ1bmN0aW9uIGdldFRhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGFibGVSZWYuY3VycmVudDtcbiAgICAgIH0sXG4gICAgICBnZXRWaXJ0dWFsU2Nyb2xsZXI6IGZ1bmN0aW9uIGdldFZpcnR1YWxTY3JvbGxlcigpIHtcbiAgICAgICAgcmV0dXJuIHZpcnR1YWxTY3JvbGxlclJlZi5jdXJyZW50O1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICB2YXIgY3JlYXRlTG9hZGVyID0gZnVuY3Rpb24gY3JlYXRlTG9hZGVyKCkge1xuICAgIGlmIChwcm9wcy5sb2FkaW5nKSB7XG4gICAgICB2YXIgaWNvbkNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtZGF0YXRhYmxlLWxvYWRpbmctaWNvbiBwaS1zcGluJywgcHJvcHMubG9hZGluZ0ljb24pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZGF0YXRhYmxlLWxvYWRpbmctb3ZlcmxheSBwLWNvbXBvbmVudC1vdmVybGF5XCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaVwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogaWNvbkNsYXNzTmFtZVxuICAgICAgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZUhlYWRlciA9IGZ1bmN0aW9uIGNyZWF0ZUhlYWRlcigpIHtcbiAgICBpZiAocHJvcHMuaGVhZGVyKSB7XG4gICAgICB2YXIgX2NvbnRlbnQgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLmhlYWRlciwge1xuICAgICAgICBwcm9wczogcHJvcHNcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZGF0YXRhYmxlLWhlYWRlclwiXG4gICAgICB9LCBfY29udGVudCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICB2YXIgY3JlYXRlVGFibGVIZWFkZXIgPSBmdW5jdGlvbiBjcmVhdGVUYWJsZUhlYWRlcihvcHRpb25zLCBlbXB0eSwgX2lzVmlydHVhbFNjcm9sbGVyRGlzYWJsZWQpIHtcbiAgICB2YXIgc29ydEZpZWxkID0gZ2V0U29ydEZpZWxkKCk7XG4gICAgdmFyIHNvcnRPcmRlciA9IGdldFNvcnRPcmRlcigpO1xuICAgIHZhciBtdWx0aVNvcnRNZXRhID0gX3RvQ29uc3VtYWJsZUFycmF5KGdldE11bHRpU29ydE1ldGEoKSk7XG4gICAgdmFyIGdyb3VwUm93U29ydEZpZWxkID0gZ2V0R3JvdXBSb3dTb3J0RmllbGQoKTtcbiAgICB2YXIgZmlsdGVycyA9IGRfZmlsdGVyc1N0YXRlO1xuICAgIHZhciBmaWx0ZXJzU3RvcmUgPSAhcHJvcHMub25GaWx0ZXIgJiYgcHJvcHMuZmlsdGVycyB8fCBnZXRGaWx0ZXJzKCk7XG4gICAgdmFyIHByb2Nlc3NlZERhdGEgPSBvcHRpb25zLml0ZW1zLFxuICAgICAgdmlydHVhbFNjcm9sbGVyUHJvcHMgPSBvcHRpb25zLnByb3BzLFxuICAgICAgY29sdW1ucyA9IG9wdGlvbnMuY29sdW1ucztcbiAgICB2YXIgZGF0YSA9IF9pc1ZpcnR1YWxTY3JvbGxlckRpc2FibGVkIHx8IHZpcnR1YWxTY3JvbGxlclByb3BzLmxhenkgPyBwcm9jZXNzZWREYXRhIDogdmlydHVhbFNjcm9sbGVyUHJvcHMuaXRlbXM7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlSGVhZGVyLCB7XG4gICAgICB2YWx1ZTogZGF0YSxcbiAgICAgIHRhYmxlUHJvcHM6IHByb3BzLFxuICAgICAgY29sdW1uczogY29sdW1ucyxcbiAgICAgIHRhYkluZGV4OiBwcm9wcy50YWJJbmRleCxcbiAgICAgIGVtcHR5OiBlbXB0eSxcbiAgICAgIGhlYWRlckNvbHVtbkdyb3VwOiBwcm9wcy5oZWFkZXJDb2x1bW5Hcm91cCxcbiAgICAgIHJlc2l6YWJsZUNvbHVtbnM6IHByb3BzLnJlc2l6YWJsZUNvbHVtbnMsXG4gICAgICBvbkNvbHVtblJlc2l6ZVN0YXJ0OiBvbkNvbHVtblJlc2l6ZVN0YXJ0LFxuICAgICAgb25Db2x1bW5SZXNpemVyQ2xpY2s6IHByb3BzLm9uQ29sdW1uUmVzaXplckNsaWNrLFxuICAgICAgb25Db2x1bW5SZXNpemVyRG91YmxlQ2xpY2s6IHByb3BzLm9uQ29sdW1uUmVzaXplckRvdWJsZUNsaWNrLFxuICAgICAgc29ydE1vZGU6IHByb3BzLnNvcnRNb2RlLFxuICAgICAgc29ydEZpZWxkOiBzb3J0RmllbGQsXG4gICAgICBzb3J0T3JkZXI6IHNvcnRPcmRlcixcbiAgICAgIG11bHRpU29ydE1ldGE6IG11bHRpU29ydE1ldGEsXG4gICAgICBncm91cFJvd3NCeTogcHJvcHMuZ3JvdXBSb3dzQnksXG4gICAgICBncm91cFJvd1NvcnRGaWVsZDogZ3JvdXBSb3dTb3J0RmllbGQsXG4gICAgICBvblNvcnRDaGFuZ2U6IG9uU29ydENoYW5nZSxcbiAgICAgIGZpbHRlckRpc3BsYXk6IHByb3BzLmZpbHRlckRpc3BsYXksXG4gICAgICBmaWx0ZXJzOiBmaWx0ZXJzLFxuICAgICAgZmlsdGVyc1N0b3JlOiBmaWx0ZXJzU3RvcmUsXG4gICAgICBvbkZpbHRlckNoYW5nZTogb25GaWx0ZXJDaGFuZ2UsXG4gICAgICBvbkZpbHRlckFwcGx5OiBvbkZpbHRlckFwcGx5LFxuICAgICAgc2hvd1NlbGVjdEFsbDogcHJvcHMuc2hvd1NlbGVjdEFsbCxcbiAgICAgIGFsbFJvd3NTZWxlY3RlZDogYWxsUm93c1NlbGVjdGVkLFxuICAgICAgb25Db2x1bW5DaGVja2JveENoYW5nZTogb25Db2x1bW5IZWFkZXJDaGVja2JveENoYW5nZSxcbiAgICAgIG9uQ29sdW1uTW91c2VEb3duOiBvbkNvbHVtbkhlYWRlck1vdXNlRG93bixcbiAgICAgIG9uQ29sdW1uRHJhZ1N0YXJ0OiBvbkNvbHVtbkhlYWRlckRyYWdTdGFydCxcbiAgICAgIG9uQ29sdW1uRHJhZ092ZXI6IG9uQ29sdW1uSGVhZGVyRHJhZ092ZXIsXG4gICAgICBvbkNvbHVtbkRyYWdMZWF2ZTogb25Db2x1bW5IZWFkZXJEcmFnTGVhdmUsXG4gICAgICBvbkNvbHVtbkRyb3A6IG9uQ29sdW1uSGVhZGVyRHJvcCxcbiAgICAgIHJvd0dyb3VwTW9kZTogcHJvcHMucm93R3JvdXBNb2RlLFxuICAgICAgcmVvcmRlcmFibGVDb2x1bW5zOiBwcm9wcy5yZW9yZGVyYWJsZUNvbHVtbnNcbiAgICB9KTtcbiAgfTtcbiAgdmFyIGNyZWF0ZVRhYmxlQm9keSA9IGZ1bmN0aW9uIGNyZWF0ZVRhYmxlQm9keShvcHRpb25zLCBzZWxlY3Rpb25Nb2RlSW5Db2x1bW4sIGVtcHR5LCBpc1ZpcnR1YWxTY3JvbGxlckRpc2FibGVkKSB7XG4gICAgdmFyIGZpcnN0ID0gZ2V0Rmlyc3QoKTtcbiAgICB2YXIgcm93cyA9IG9wdGlvbnMucm93cyxcbiAgICAgIGNvbHVtbnMgPSBvcHRpb25zLmNvbHVtbnMsXG4gICAgICBjb250ZW50UmVmID0gb3B0aW9ucy5jb250ZW50UmVmLFxuICAgICAgc3R5bGUgPSBvcHRpb25zLnN0eWxlLFxuICAgICAgY2xhc3NOYW1lID0gb3B0aW9ucy5jbGFzc05hbWUsXG4gICAgICBzcGFjZXJTdHlsZSA9IG9wdGlvbnMuc3BhY2VyU3R5bGUsXG4gICAgICBpdGVtU2l6ZSA9IG9wdGlvbnMuaXRlbVNpemU7XG4gICAgdmFyIGZyb3plbkJvZHkgPSBPYmplY3RVdGlscy5pc05vdEVtcHR5KHByb3BzLmZyb3plblZhbHVlKSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZUJvZHksIHtcbiAgICAgIHJlZjogZnJvemVuQm9keVJlZixcbiAgICAgIHZhbHVlOiBwcm9wcy5mcm96ZW5WYWx1ZSxcbiAgICAgIGNsYXNzTmFtZTogXCJwLWRhdGF0YWJsZS10Ym9keSBwLWRhdGF0YWJsZS1mcm96ZW4tdGJvZHlcIixcbiAgICAgIGZyb3plblJvdzogdHJ1ZSxcbiAgICAgIHRhYmxlUHJvcHM6IHByb3BzLFxuICAgICAgdGFibGVTZWxlY3RvcjogYXR0cmlidXRlU2VsZWN0b3JTdGF0ZSxcbiAgICAgIGNvbHVtbnM6IGNvbHVtbnMsXG4gICAgICBzZWxlY3Rpb25Nb2RlSW5Db2x1bW46IHNlbGVjdGlvbk1vZGVJbkNvbHVtbixcbiAgICAgIGZpcnN0OiBmaXJzdCxcbiAgICAgIGVkaXRpbmdNZXRhOiBlZGl0aW5nTWV0YVN0YXRlLFxuICAgICAgb25FZGl0aW5nTWV0YUNoYW5nZTogb25FZGl0aW5nTWV0YUNoYW5nZSxcbiAgICAgIHRhYkluZGV4OiBwcm9wcy50YWJJbmRleCxcbiAgICAgIG9uUm93Q2xpY2s6IHByb3BzLm9uUm93Q2xpY2ssXG4gICAgICBvblJvd0RvdWJsZUNsaWNrOiBwcm9wcy5vblJvd0RvdWJsZUNsaWNrLFxuICAgICAgb25Sb3dNb3VzZUVudGVyOiBwcm9wcy5vblJvd01vdXNlRW50ZXIsXG4gICAgICBvblJvd01vdXNlTGVhdmU6IHByb3BzLm9uUm93TW91c2VMZWF2ZSxcbiAgICAgIG9uQ2VsbENsaWNrOiBwcm9wcy5vbkNlbGxDbGljayxcbiAgICAgIHNlbGVjdGlvbjogcHJvcHMuc2VsZWN0aW9uLFxuICAgICAgb25TZWxlY3Rpb25DaGFuZ2U6IHByb3BzLm9uU2VsZWN0aW9uQ2hhbmdlLFxuICAgICAgbGF6eTogcHJvcHMubGF6eSxcbiAgICAgIHBhZ2luYXRvcjogcHJvcHMucGFnaW5hdG9yLFxuICAgICAgb25DZWxsU2VsZWN0OiBwcm9wcy5vbkNlbGxTZWxlY3QsXG4gICAgICBvbkNlbGxVbnNlbGVjdDogcHJvcHMub25DZWxsVW5zZWxlY3QsXG4gICAgICBvblJvd1NlbGVjdDogcHJvcHMub25Sb3dTZWxlY3QsXG4gICAgICBvblJvd1Vuc2VsZWN0OiBwcm9wcy5vblJvd1Vuc2VsZWN0LFxuICAgICAgZHJhZ1NlbGVjdGlvbjogcHJvcHMuZHJhZ1NlbGVjdGlvbixcbiAgICAgIG9uQ29udGV4dE1lbnU6IHByb3BzLm9uQ29udGV4dE1lbnUsXG4gICAgICBvbkNvbnRleHRNZW51U2VsZWN0aW9uQ2hhbmdlOiBwcm9wcy5vbkNvbnRleHRNZW51U2VsZWN0aW9uQ2hhbmdlLFxuICAgICAgbWV0YUtleVNlbGVjdGlvbjogcHJvcHMubWV0YUtleVNlbGVjdGlvbixcbiAgICAgIHNlbGVjdGlvbk1vZGU6IHByb3BzLnNlbGVjdGlvbk1vZGUsXG4gICAgICBjZWxsU2VsZWN0aW9uOiBwcm9wcy5jZWxsU2VsZWN0aW9uLFxuICAgICAgY29udGV4dE1lbnVTZWxlY3Rpb246IHByb3BzLmNvbnRleHRNZW51U2VsZWN0aW9uLFxuICAgICAgZGF0YUtleTogcHJvcHMuZGF0YUtleSxcbiAgICAgIGV4cGFuZGVkUm93czogcHJvcHMuZXhwYW5kZWRSb3dzLFxuICAgICAgb25Sb3dDb2xsYXBzZTogcHJvcHMub25Sb3dDb2xsYXBzZSxcbiAgICAgIG9uUm93RXhwYW5kOiBwcm9wcy5vblJvd0V4cGFuZCxcbiAgICAgIG9uUm93VG9nZ2xlOiBwcm9wcy5vblJvd1RvZ2dsZSxcbiAgICAgIGVkaXRNb2RlOiBwcm9wcy5lZGl0TW9kZSxcbiAgICAgIGVkaXRpbmdSb3dzOiBwcm9wcy5lZGl0aW5nUm93cyxcbiAgICAgIG9uUm93UmVvcmRlcjogcHJvcHMub25Sb3dSZW9yZGVyLFxuICAgICAgcmVvcmRlcmFibGVSb3dzOiBwcm9wcy5yZW9yZGVyYWJsZVJvd3MsXG4gICAgICBzY3JvbGxhYmxlOiBwcm9wcy5zY3JvbGxhYmxlLFxuICAgICAgcm93R3JvdXBNb2RlOiBwcm9wcy5yb3dHcm91cE1vZGUsXG4gICAgICBncm91cFJvd3NCeTogcHJvcHMuZ3JvdXBSb3dzQnksXG4gICAgICBleHBhbmRhYmxlUm93R3JvdXBzOiBwcm9wcy5leHBhbmRhYmxlUm93R3JvdXBzLFxuICAgICAgbG9hZGluZzogcHJvcHMubG9hZGluZyxcbiAgICAgIGVtcHR5TWVzc2FnZTogcHJvcHMuZW1wdHlNZXNzYWdlLFxuICAgICAgcm93R3JvdXBIZWFkZXJUZW1wbGF0ZTogcHJvcHMucm93R3JvdXBIZWFkZXJUZW1wbGF0ZSxcbiAgICAgIHJvd0V4cGFuc2lvblRlbXBsYXRlOiBwcm9wcy5yb3dFeHBhbnNpb25UZW1wbGF0ZSxcbiAgICAgIHJvd0dyb3VwRm9vdGVyVGVtcGxhdGU6IHByb3BzLnJvd0dyb3VwRm9vdGVyVGVtcGxhdGUsXG4gICAgICBvblJvd0VkaXRDaGFuZ2U6IHByb3BzLm9uUm93RWRpdENoYW5nZSxcbiAgICAgIGNvbXBhcmVTZWxlY3Rpb25CeTogcHJvcHMuY29tcGFyZVNlbGVjdGlvbkJ5LFxuICAgICAgc2VsZWN0T25FZGl0OiBwcm9wcy5zZWxlY3RPbkVkaXQsXG4gICAgICBvblJvd0VkaXRJbml0OiBwcm9wcy5vblJvd0VkaXRJbml0LFxuICAgICAgcm93RWRpdFZhbGlkYXRvcjogcHJvcHMucm93RWRpdFZhbGlkYXRvcixcbiAgICAgIG9uUm93RWRpdFNhdmU6IHByb3BzLm9uUm93RWRpdFNhdmUsXG4gICAgICBvblJvd0VkaXRDb21wbGV0ZTogcHJvcHMub25Sb3dFZGl0Q29tcGxldGUsXG4gICAgICBvblJvd0VkaXRDYW5jZWw6IHByb3BzLm9uUm93RWRpdENhbmNlbCxcbiAgICAgIGNlbGxDbGFzc05hbWU6IHByb3BzLmNlbGxDbGFzc05hbWUsXG4gICAgICByZXNwb25zaXZlTGF5b3V0OiBwcm9wcy5yZXNwb25zaXZlTGF5b3V0LFxuICAgICAgc2VsZWN0aW9uQXV0b0ZvY3VzOiBwcm9wcy5zZWxlY3Rpb25BdXRvRm9jdXMsXG4gICAgICBpc0RhdGFTZWxlY3RhYmxlOiBwcm9wcy5pc0RhdGFTZWxlY3RhYmxlLFxuICAgICAgc2hvd1NlbGVjdGlvbkVsZW1lbnQ6IHByb3BzLnNob3dTZWxlY3Rpb25FbGVtZW50LFxuICAgICAgc2hvd1Jvd1Jlb3JkZXJFbGVtZW50OiBwcm9wcy5zaG93Um93UmVvcmRlckVsZW1lbnQsXG4gICAgICBleHBhbmRlZFJvd0ljb246IHByb3BzLmV4cGFuZGVkUm93SWNvbixcbiAgICAgIGNvbGxhcHNlZFJvd0ljb246IHByb3BzLmNvbGxhcHNlZFJvd0ljb24sXG4gICAgICByb3dDbGFzc05hbWU6IHByb3BzLnJvd0NsYXNzTmFtZSxcbiAgICAgIHZpcnR1YWxTY3JvbGxlck9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICBpc1ZpcnR1YWxTY3JvbGxlckRpc2FibGVkOiB0cnVlXG4gICAgfSk7XG4gICAgdmFyIGJvZHkgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZUJvZHksIHtcbiAgICAgIHJlZjogYm9keVJlZixcbiAgICAgIHZhbHVlOiBkYXRhVG9SZW5kZXIocm93cyksXG4gICAgICBzdHlsZTogc3R5bGUsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoJ3AtZGF0YXRhYmxlLXRib2R5JywgY2xhc3NOYW1lKSxcbiAgICAgIGVtcHR5OiBlbXB0eSxcbiAgICAgIGZyb3plblJvdzogZmFsc2UsXG4gICAgICB0YWJsZVByb3BzOiBwcm9wcyxcbiAgICAgIHRhYmxlU2VsZWN0b3I6IGF0dHJpYnV0ZVNlbGVjdG9yU3RhdGUsXG4gICAgICBjb2x1bW5zOiBjb2x1bW5zLFxuICAgICAgc2VsZWN0aW9uTW9kZUluQ29sdW1uOiBzZWxlY3Rpb25Nb2RlSW5Db2x1bW4sXG4gICAgICBmaXJzdDogZmlyc3QsXG4gICAgICBlZGl0aW5nTWV0YTogZWRpdGluZ01ldGFTdGF0ZSxcbiAgICAgIG9uRWRpdGluZ01ldGFDaGFuZ2U6IG9uRWRpdGluZ01ldGFDaGFuZ2UsXG4gICAgICB0YWJJbmRleDogcHJvcHMudGFiSW5kZXgsXG4gICAgICBvblJvd0NsaWNrOiBwcm9wcy5vblJvd0NsaWNrLFxuICAgICAgb25Sb3dEb3VibGVDbGljazogcHJvcHMub25Sb3dEb3VibGVDbGljayxcbiAgICAgIG9uUm93TW91c2VFbnRlcjogcHJvcHMub25Sb3dNb3VzZUVudGVyLFxuICAgICAgb25Sb3dNb3VzZUxlYXZlOiBwcm9wcy5vblJvd01vdXNlTGVhdmUsXG4gICAgICBvbkNlbGxDbGljazogcHJvcHMub25DZWxsQ2xpY2ssXG4gICAgICBzZWxlY3Rpb246IHByb3BzLnNlbGVjdGlvbixcbiAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlOiBwcm9wcy5vblNlbGVjdGlvbkNoYW5nZSxcbiAgICAgIGxhenk6IHByb3BzLmxhenksXG4gICAgICBwYWdpbmF0b3I6IHByb3BzLnBhZ2luYXRvcixcbiAgICAgIG9uQ2VsbFNlbGVjdDogcHJvcHMub25DZWxsU2VsZWN0LFxuICAgICAgb25DZWxsVW5zZWxlY3Q6IHByb3BzLm9uQ2VsbFVuc2VsZWN0LFxuICAgICAgb25Sb3dTZWxlY3Q6IHByb3BzLm9uUm93U2VsZWN0LFxuICAgICAgb25Sb3dVbnNlbGVjdDogcHJvcHMub25Sb3dVbnNlbGVjdCxcbiAgICAgIGRyYWdTZWxlY3Rpb246IHByb3BzLmRyYWdTZWxlY3Rpb24sXG4gICAgICBvbkNvbnRleHRNZW51OiBwcm9wcy5vbkNvbnRleHRNZW51LFxuICAgICAgb25Db250ZXh0TWVudVNlbGVjdGlvbkNoYW5nZTogcHJvcHMub25Db250ZXh0TWVudVNlbGVjdGlvbkNoYW5nZSxcbiAgICAgIG1ldGFLZXlTZWxlY3Rpb246IHByb3BzLm1ldGFLZXlTZWxlY3Rpb24sXG4gICAgICBzZWxlY3Rpb25Nb2RlOiBwcm9wcy5zZWxlY3Rpb25Nb2RlLFxuICAgICAgY2VsbFNlbGVjdGlvbjogcHJvcHMuY2VsbFNlbGVjdGlvbixcbiAgICAgIGNvbnRleHRNZW51U2VsZWN0aW9uOiBwcm9wcy5jb250ZXh0TWVudVNlbGVjdGlvbixcbiAgICAgIGRhdGFLZXk6IHByb3BzLmRhdGFLZXksXG4gICAgICBleHBhbmRlZFJvd3M6IHByb3BzLmV4cGFuZGVkUm93cyxcbiAgICAgIG9uUm93Q29sbGFwc2U6IHByb3BzLm9uUm93Q29sbGFwc2UsXG4gICAgICBvblJvd0V4cGFuZDogcHJvcHMub25Sb3dFeHBhbmQsXG4gICAgICBvblJvd1RvZ2dsZTogcHJvcHMub25Sb3dUb2dnbGUsXG4gICAgICBlZGl0TW9kZTogcHJvcHMuZWRpdE1vZGUsXG4gICAgICBlZGl0aW5nUm93czogcHJvcHMuZWRpdGluZ1Jvd3MsXG4gICAgICBvblJvd1Jlb3JkZXI6IHByb3BzLm9uUm93UmVvcmRlcixcbiAgICAgIHJlb3JkZXJhYmxlUm93czogcHJvcHMucmVvcmRlcmFibGVSb3dzLFxuICAgICAgc2Nyb2xsYWJsZTogcHJvcHMuc2Nyb2xsYWJsZSxcbiAgICAgIHJvd0dyb3VwTW9kZTogcHJvcHMucm93R3JvdXBNb2RlLFxuICAgICAgZ3JvdXBSb3dzQnk6IHByb3BzLmdyb3VwUm93c0J5LFxuICAgICAgZXhwYW5kYWJsZVJvd0dyb3VwczogcHJvcHMuZXhwYW5kYWJsZVJvd0dyb3VwcyxcbiAgICAgIGxvYWRpbmc6IHByb3BzLmxvYWRpbmcsXG4gICAgICBlbXB0eU1lc3NhZ2U6IHByb3BzLmVtcHR5TWVzc2FnZSxcbiAgICAgIHJvd0dyb3VwSGVhZGVyVGVtcGxhdGU6IHByb3BzLnJvd0dyb3VwSGVhZGVyVGVtcGxhdGUsXG4gICAgICByb3dFeHBhbnNpb25UZW1wbGF0ZTogcHJvcHMucm93RXhwYW5zaW9uVGVtcGxhdGUsXG4gICAgICByb3dHcm91cEZvb3RlclRlbXBsYXRlOiBwcm9wcy5yb3dHcm91cEZvb3RlclRlbXBsYXRlLFxuICAgICAgb25Sb3dFZGl0Q2hhbmdlOiBwcm9wcy5vblJvd0VkaXRDaGFuZ2UsXG4gICAgICBjb21wYXJlU2VsZWN0aW9uQnk6IHByb3BzLmNvbXBhcmVTZWxlY3Rpb25CeSxcbiAgICAgIHNlbGVjdE9uRWRpdDogcHJvcHMuc2VsZWN0T25FZGl0LFxuICAgICAgb25Sb3dFZGl0SW5pdDogcHJvcHMub25Sb3dFZGl0SW5pdCxcbiAgICAgIHJvd0VkaXRWYWxpZGF0b3I6IHByb3BzLnJvd0VkaXRWYWxpZGF0b3IsXG4gICAgICBvblJvd0VkaXRTYXZlOiBwcm9wcy5vblJvd0VkaXRTYXZlLFxuICAgICAgb25Sb3dFZGl0Q29tcGxldGU6IHByb3BzLm9uUm93RWRpdENvbXBsZXRlLFxuICAgICAgb25Sb3dFZGl0Q2FuY2VsOiBwcm9wcy5vblJvd0VkaXRDYW5jZWwsXG4gICAgICBjZWxsQ2xhc3NOYW1lOiBwcm9wcy5jZWxsQ2xhc3NOYW1lLFxuICAgICAgcmVzcG9uc2l2ZUxheW91dDogcHJvcHMucmVzcG9uc2l2ZUxheW91dCxcbiAgICAgIHNlbGVjdGlvbkF1dG9Gb2N1czogcHJvcHMuc2VsZWN0aW9uQXV0b0ZvY3VzLFxuICAgICAgaXNEYXRhU2VsZWN0YWJsZTogcHJvcHMuaXNEYXRhU2VsZWN0YWJsZSxcbiAgICAgIHNob3dTZWxlY3Rpb25FbGVtZW50OiBwcm9wcy5zaG93U2VsZWN0aW9uRWxlbWVudCxcbiAgICAgIHNob3dSb3dSZW9yZGVyRWxlbWVudDogcHJvcHMuc2hvd1Jvd1Jlb3JkZXJFbGVtZW50LFxuICAgICAgZXhwYW5kZWRSb3dJY29uOiBwcm9wcy5leHBhbmRlZFJvd0ljb24sXG4gICAgICBjb2xsYXBzZWRSb3dJY29uOiBwcm9wcy5jb2xsYXBzZWRSb3dJY29uLFxuICAgICAgcm93Q2xhc3NOYW1lOiBwcm9wcy5yb3dDbGFzc05hbWUsXG4gICAgICB2aXJ0dWFsU2Nyb2xsZXJDb250ZW50UmVmOiBjb250ZW50UmVmLFxuICAgICAgdmlydHVhbFNjcm9sbGVyT3B0aW9uczogb3B0aW9ucyxcbiAgICAgIGlzVmlydHVhbFNjcm9sbGVyRGlzYWJsZWQ6IGlzVmlydHVhbFNjcm9sbGVyRGlzYWJsZWRcbiAgICB9KTtcbiAgICB2YXIgc3BhY2VyQm9keSA9IE9iamVjdFV0aWxzLmlzTm90RW1wdHkoc3BhY2VyU3R5bGUpID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGVCb2R5LCB7XG4gICAgICBzdHlsZToge1xuICAgICAgICBoZWlnaHQ6IFwiY2FsYyhcIi5jb25jYXQoc3BhY2VyU3R5bGUuaGVpZ2h0LCBcIiAtIFwiKS5jb25jYXQocm93cy5sZW5ndGggKiBpdGVtU2l6ZSwgXCJweClcIilcbiAgICAgIH0sXG4gICAgICBjbGFzc05hbWU6IFwicC1kYXRhdGFibGUtdmlydHVhbHNjcm9sbGVyLXNwYWNlclwiXG4gICAgfSkgOiBudWxsO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgZnJvemVuQm9keSwgYm9keSwgc3BhY2VyQm9keSk7XG4gIH07XG4gIHZhciBjcmVhdGVUYWJsZUZvb3RlciA9IGZ1bmN0aW9uIGNyZWF0ZVRhYmxlRm9vdGVyKG9wdGlvbnMpIHtcbiAgICB2YXIgY29sdW1ucyA9IG9wdGlvbnMuY29sdW1ucztcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGVGb290ZXIsIHtcbiAgICAgIHRhYmxlUHJvcHM6IHByb3BzLFxuICAgICAgY29sdW1uczogY29sdW1ucyxcbiAgICAgIGZvb3RlckNvbHVtbkdyb3VwOiBwcm9wcy5mb290ZXJDb2x1bW5Hcm91cFxuICAgIH0pO1xuICB9O1xuICB2YXIgY3JlYXRlQ29udGVudCA9IGZ1bmN0aW9uIGNyZWF0ZUNvbnRlbnQocHJvY2Vzc2VkRGF0YSwgY29sdW1ucywgc2VsZWN0aW9uTW9kZUluQ29sdW1uLCBlbXB0eSkge1xuICAgIGlmICghY29sdW1ucykgcmV0dXJuO1xuICAgIHZhciBfaXNWaXJ0dWFsU2Nyb2xsZXJEaXNhYmxlZCA9IGlzVmlydHVhbFNjcm9sbGVyRGlzYWJsZWQoKTtcbiAgICB2YXIgdmlydHVhbFNjcm9sbGVyT3B0aW9ucyA9IHByb3BzLnZpcnR1YWxTY3JvbGxlck9wdGlvbnMgfHwge307XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIHJlZjogd3JhcHBlclJlZixcbiAgICAgIGNsYXNzTmFtZTogXCJwLWRhdGF0YWJsZS13cmFwcGVyXCIsXG4gICAgICBzdHlsZToge1xuICAgICAgICBtYXhIZWlnaHQ6IF9pc1ZpcnR1YWxTY3JvbGxlckRpc2FibGVkID8gcHJvcHMuc2Nyb2xsSGVpZ2h0IDogbnVsbFxuICAgICAgfVxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFZpcnR1YWxTY3JvbGxlciwgX2V4dGVuZHMoe1xuICAgICAgcmVmOiB2aXJ0dWFsU2Nyb2xsZXJSZWZcbiAgICB9LCB2aXJ0dWFsU2Nyb2xsZXJPcHRpb25zLCB7XG4gICAgICBpdGVtczogcHJvY2Vzc2VkRGF0YSxcbiAgICAgIGNvbHVtbnM6IGNvbHVtbnMsXG4gICAgICBzdHlsZTogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB2aXJ0dWFsU2Nyb2xsZXJPcHRpb25zLnN0eWxlKSwge1xuICAgICAgICBoZWlnaHQ6IHByb3BzLnNjcm9sbEhlaWdodCAhPT0gJ2ZsZXgnID8gcHJvcHMuc2Nyb2xsSGVpZ2h0IDogdW5kZWZpbmVkXG4gICAgICB9KSxcbiAgICAgIHNjcm9sbEhlaWdodDogcHJvcHMuc2Nyb2xsSGVpZ2h0ICE9PSAnZmxleCcgPyB1bmRlZmluZWQgOiAnMTAwJScsXG4gICAgICBkaXNhYmxlZDogX2lzVmlydHVhbFNjcm9sbGVyRGlzYWJsZWQsXG4gICAgICBsb2FkZXJEaXNhYmxlZDogdHJ1ZSxcbiAgICAgIGlubGluZTogdHJ1ZSxcbiAgICAgIGF1dG9TaXplOiB0cnVlLFxuICAgICAgc2hvd1NwYWNlcjogZmFsc2UsXG4gICAgICBjb250ZW50VGVtcGxhdGU6IGZ1bmN0aW9uIGNvbnRlbnRUZW1wbGF0ZShvcHRpb25zKSB7XG4gICAgICAgIHZhciByZWYgPSBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICB0YWJsZVJlZi5jdXJyZW50ID0gZWw7XG4gICAgICAgICAgb3B0aW9ucy5zcGFjZXJSZWYgJiYgb3B0aW9ucy5zcGFjZXJSZWYoZWwpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgdGFibGVDbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWRhdGF0YWJsZS10YWJsZScsIHtcbiAgICAgICAgICAncC1kYXRhdGFibGUtc2Nyb2xsYWJsZS10YWJsZSc6IHByb3BzLnNjcm9sbGFibGUsXG4gICAgICAgICAgJ3AtZGF0YXRhYmxlLXJlc2l6YWJsZS10YWJsZSc6IHByb3BzLnJlc2l6YWJsZUNvbHVtbnMsXG4gICAgICAgICAgJ3AtZGF0YXRhYmxlLXJlc2l6YWJsZS10YWJsZS1maXQnOiBwcm9wcy5yZXNpemFibGVDb2x1bW5zICYmIHByb3BzLmNvbHVtblJlc2l6ZU1vZGUgPT09ICdmaXQnXG4gICAgICAgIH0sIHByb3BzLnRhYmxlQ2xhc3NOYW1lKTtcbiAgICAgICAgdmFyIHRhYmxlSGVhZGVyID0gY3JlYXRlVGFibGVIZWFkZXIob3B0aW9ucywgZW1wdHksIF9pc1ZpcnR1YWxTY3JvbGxlckRpc2FibGVkKTtcbiAgICAgICAgdmFyIHRhYmxlQm9keSA9IGNyZWF0ZVRhYmxlQm9keShvcHRpb25zLCBzZWxlY3Rpb25Nb2RlSW5Db2x1bW4sIGVtcHR5LCBfaXNWaXJ0dWFsU2Nyb2xsZXJEaXNhYmxlZCk7XG4gICAgICAgIHZhciB0YWJsZUZvb3RlciA9IGNyZWF0ZVRhYmxlRm9vdGVyKG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiLCB7XG4gICAgICAgICAgcmVmOiByZWYsXG4gICAgICAgICAgc3R5bGU6IHByb3BzLnRhYmxlU3R5bGUsXG4gICAgICAgICAgY2xhc3NOYW1lOiB0YWJsZUNsYXNzTmFtZSxcbiAgICAgICAgICByb2xlOiBcInRhYmxlXCJcbiAgICAgICAgfSwgdGFibGVIZWFkZXIsIHRhYmxlQm9keSwgdGFibGVGb290ZXIpO1xuICAgICAgfVxuICAgIH0pKSk7XG4gIH07XG4gIHZhciBjcmVhdGVGb290ZXIgPSBmdW5jdGlvbiBjcmVhdGVGb290ZXIoKSB7XG4gICAgaWYgKHByb3BzLmZvb3Rlcikge1xuICAgICAgdmFyIF9jb250ZW50MiA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMuZm9vdGVyLCB7XG4gICAgICAgIHByb3BzOiBwcm9wc1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1kYXRhdGFibGUtZm9vdGVyXCJcbiAgICAgIH0sIF9jb250ZW50Mik7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICB2YXIgY3JlYXRlUGFnaW5hdG9yID0gZnVuY3Rpb24gY3JlYXRlUGFnaW5hdG9yKHBvc2l0aW9uLCB0b3RhbFJlY29yZHMpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1wYWdpbmF0b3ItJyArIHBvc2l0aW9uLCBwcm9wcy5wYWdpbmF0b3JDbGFzc05hbWUpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQYWdpbmF0b3IsIHtcbiAgICAgIGZpcnN0OiBnZXRGaXJzdCgpLFxuICAgICAgcm93czogZ2V0Um93cygpLFxuICAgICAgcGFnZUxpbmtTaXplOiBwcm9wcy5wYWdlTGlua1NpemUsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIG9uUGFnZUNoYW5nZTogb25QYWdlQ2hhbmdlLFxuICAgICAgdGVtcGxhdGU6IHByb3BzLnBhZ2luYXRvclRlbXBsYXRlLFxuICAgICAgdG90YWxSZWNvcmRzOiB0b3RhbFJlY29yZHMsXG4gICAgICByb3dzUGVyUGFnZU9wdGlvbnM6IHByb3BzLnJvd3NQZXJQYWdlT3B0aW9ucyxcbiAgICAgIGN1cnJlbnRQYWdlUmVwb3J0VGVtcGxhdGU6IHByb3BzLmN1cnJlbnRQYWdlUmVwb3J0VGVtcGxhdGUsXG4gICAgICBsZWZ0Q29udGVudDogcHJvcHMucGFnaW5hdG9yTGVmdCxcbiAgICAgIHJpZ2h0Q29udGVudDogcHJvcHMucGFnaW5hdG9yUmlnaHQsXG4gICAgICBhbHdheXNTaG93OiBwcm9wcy5hbHdheXNTaG93UGFnaW5hdG9yLFxuICAgICAgZHJvcGRvd25BcHBlbmRUbzogcHJvcHMucGFnaW5hdG9yRHJvcGRvd25BcHBlbmRUb1xuICAgIH0pO1xuICB9O1xuICB2YXIgY3JlYXRlUGFnaW5hdG9yVG9wID0gZnVuY3Rpb24gY3JlYXRlUGFnaW5hdG9yVG9wKHRvdGFsUmVjb3Jkcykge1xuICAgIGlmIChwcm9wcy5wYWdpbmF0b3IgJiYgcHJvcHMucGFnaW5hdG9yUG9zaXRpb24gIT09ICdib3R0b20nKSB7XG4gICAgICByZXR1cm4gY3JlYXRlUGFnaW5hdG9yKCd0b3AnLCB0b3RhbFJlY29yZHMpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZVBhZ2luYXRvckJvdHRvbSA9IGZ1bmN0aW9uIGNyZWF0ZVBhZ2luYXRvckJvdHRvbSh0b3RhbFJlY29yZHMpIHtcbiAgICBpZiAocHJvcHMucGFnaW5hdG9yICYmIHByb3BzLnBhZ2luYXRvclBvc2l0aW9uICE9PSAndG9wJykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVBhZ2luYXRvcignYm90dG9tJywgdG90YWxSZWNvcmRzKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIHZhciBjcmVhdGVSZXNpemVIZWxwZXIgPSBmdW5jdGlvbiBjcmVhdGVSZXNpemVIZWxwZXIoKSB7XG4gICAgaWYgKHByb3BzLnJlc2l6YWJsZUNvbHVtbnMpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIHJlZjogcmVzaXplSGVscGVyUmVmLFxuICAgICAgICBjbGFzc05hbWU6IFwicC1jb2x1bW4tcmVzaXplci1oZWxwZXJcIixcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICB2YXIgY3JlYXRlUmVvcmRlckluZGljYXRvcnMgPSBmdW5jdGlvbiBjcmVhdGVSZW9yZGVySW5kaWNhdG9ycygpIHtcbiAgICBpZiAocHJvcHMucmVvcmRlcmFibGVDb2x1bW5zKSB7XG4gICAgICB2YXIgc3R5bGUgPSB7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICAgIH07XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIHJlZjogcmVvcmRlckluZGljYXRvclVwUmVmLFxuICAgICAgICBjbGFzc05hbWU6IFwicGkgcGktYXJyb3ctZG93biBwLWRhdGF0YWJsZS1yZW9yZGVyLWluZGljYXRvci11cFwiLFxuICAgICAgICBzdHlsZTogc3R5bGVcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICByZWY6IHJlb3JkZXJJbmRpY2F0b3JEb3duUmVmLFxuICAgICAgICBjbGFzc05hbWU6IFwicGkgcGktYXJyb3ctdXAgcC1kYXRhdGFibGUtcmVvcmRlci1pbmRpY2F0b3ItZG93blwiLFxuICAgICAgICBzdHlsZTogc3R5bGVcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIHZhciBkYXRhID0gcHJvY2Vzc2VkRGF0YSgpO1xuICB2YXIgY29sdW1ucyA9IGdldENvbHVtbnMoKTtcbiAgdmFyIHRvdGFsUmVjb3JkcyA9IGdldFRvdGFsUmVjb3JkcyhkYXRhKTtcbiAgdmFyIGVtcHR5ID0gT2JqZWN0VXRpbHMuaXNFbXB0eShkYXRhKTtcbiAgdmFyIHNlbGVjdGlvbk1vZGVJbkNvbHVtbiA9IGdldFNlbGVjdGlvbk1vZGVJbkNvbHVtbihjb2x1bW5zKTtcbiAgdmFyIHNlbGVjdGFibGUgPSBwcm9wcy5zZWxlY3Rpb25Nb2RlIHx8IHNlbGVjdGlvbk1vZGVJbkNvbHVtbjtcbiAgdmFyIG90aGVyUHJvcHMgPSBEYXRhVGFibGVCYXNlLmdldE90aGVyUHJvcHMocHJvcHMpO1xuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1kYXRhdGFibGUgcC1jb21wb25lbnQnLCB7XG4gICAgJ3AtZGF0YXRhYmxlLWhvdmVyYWJsZS1yb3dzJzogcHJvcHMucm93SG92ZXIsXG4gICAgJ3AtZGF0YXRhYmxlLXNlbGVjdGFibGUnOiBzZWxlY3RhYmxlICYmICFwcm9wcy5jZWxsU2VsZWN0aW9uLFxuICAgICdwLWRhdGF0YWJsZS1zZWxlY3RhYmxlLWNlbGwnOiBzZWxlY3RhYmxlICYmIHByb3BzLmNlbGxTZWxlY3Rpb24sXG4gICAgJ3AtZGF0YXRhYmxlLXJlc2l6YWJsZSc6IHByb3BzLnJlc2l6YWJsZUNvbHVtbnMsXG4gICAgJ3AtZGF0YXRhYmxlLXJlc2l6YWJsZS1maXQnOiBwcm9wcy5yZXNpemFibGVDb2x1bW5zICYmIHByb3BzLmNvbHVtblJlc2l6ZU1vZGUgPT09ICdmaXQnLFxuICAgICdwLWRhdGF0YWJsZS1zY3JvbGxhYmxlJzogcHJvcHMuc2Nyb2xsYWJsZSxcbiAgICAncC1kYXRhdGFibGUtZmxleC1zY3JvbGxhYmxlJzogcHJvcHMuc2Nyb2xsYWJsZSAmJiBwcm9wcy5zY3JvbGxIZWlnaHQgPT09ICdmbGV4JyxcbiAgICAncC1kYXRhdGFibGUtcmVzcG9uc2l2ZS1zdGFjayc6IHByb3BzLnJlc3BvbnNpdmVMYXlvdXQgPT09ICdzdGFjaycsXG4gICAgJ3AtZGF0YXRhYmxlLXJlc3BvbnNpdmUtc2Nyb2xsJzogcHJvcHMucmVzcG9uc2l2ZUxheW91dCA9PT0gJ3Njcm9sbCcsXG4gICAgJ3AtZGF0YXRhYmxlLXN0cmlwZWQnOiBwcm9wcy5zdHJpcGVkUm93cyxcbiAgICAncC1kYXRhdGFibGUtZ3JpZGxpbmVzJzogcHJvcHMuc2hvd0dyaWRsaW5lcyxcbiAgICAncC1kYXRhdGFibGUtZ3JvdXBlZC1oZWFkZXInOiBwcm9wcy5oZWFkZXJDb2x1bW5Hcm91cCAhPSBudWxsLFxuICAgICdwLWRhdGF0YWJsZS1ncm91cGVkLWZvb3Rlcic6IHByb3BzLmZvb3RlckNvbHVtbkdyb3VwICE9IG51bGwsXG4gICAgJ3AtZGF0YXRhYmxlLXNtJzogcHJvcHMuc2l6ZSA9PT0gJ3NtYWxsJyxcbiAgICAncC1kYXRhdGFibGUtbGcnOiBwcm9wcy5zaXplID09PSAnbGFyZ2UnXG4gIH0sIHByb3BzLmNsYXNzTmFtZSk7XG4gIHZhciBsb2FkZXIgPSBjcmVhdGVMb2FkZXIoKTtcbiAgdmFyIGhlYWRlciA9IGNyZWF0ZUhlYWRlcigpO1xuICB2YXIgcGFnaW5hdG9yVG9wID0gY3JlYXRlUGFnaW5hdG9yVG9wKHRvdGFsUmVjb3Jkcyk7XG4gIHZhciBjb250ZW50ID0gY3JlYXRlQ29udGVudChkYXRhLCBjb2x1bW5zLCBzZWxlY3Rpb25Nb2RlSW5Db2x1bW4sIGVtcHR5KTtcbiAgdmFyIHBhZ2luYXRvckJvdHRvbSA9IGNyZWF0ZVBhZ2luYXRvckJvdHRvbSh0b3RhbFJlY29yZHMpO1xuICB2YXIgZm9vdGVyID0gY3JlYXRlRm9vdGVyKCk7XG4gIHZhciByZXNpemVIZWxwZXIgPSBjcmVhdGVSZXNpemVIZWxwZXIoKTtcbiAgdmFyIHJlb3JkZXJJbmRpY2F0b3JzID0gY3JlYXRlUmVvcmRlckluZGljYXRvcnMoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHtcbiAgICByZWY6IGVsZW1lbnRSZWYsXG4gICAgaWQ6IHByb3BzLmlkLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgIHN0eWxlOiBwcm9wcy5zdHlsZVxuICB9LCBvdGhlclByb3BzLCB7XG4gICAgXCJkYXRhLXNjcm9sbHNlbGVjdG9yc1wiOiBcIi5wLWRhdGF0YWJsZS13cmFwcGVyXCJcbiAgfSksIGxvYWRlciwgaGVhZGVyLCBwYWdpbmF0b3JUb3AsIGNvbnRlbnQsIHBhZ2luYXRvckJvdHRvbSwgZm9vdGVyLCByZXNpemVIZWxwZXIsIHJlb3JkZXJJbmRpY2F0b3JzKTtcbn0pO1xuRGF0YVRhYmxlLmRpc3BsYXlOYW1lID0gJ0RhdGFUYWJsZSc7XG5cbmV4cG9ydCB7IERhdGFUYWJsZSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/primereact/datatable/datatable.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/dialog/dialog.esm.js":
/*!******************************************************!*\
  !*** ./node_modules/primereact/dialog/dialog.esm.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Dialog\": function() { return /* binding */ Dialog; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/api */ \"./node_modules/primereact/api/api.esm.js\");\n/* harmony import */ var primereact_csstransition__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/csstransition */ \"./node_modules/primereact/csstransition/csstransition.esm.js\");\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_portal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/portal */ \"./node_modules/primereact/portal/portal.esm.js\");\n/* harmony import */ var primereact_ripple__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/ripple */ \"./node_modules/primereact/ripple/ripple.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar DialogBase = {\n  defaultProps: {\n    __TYPE: 'Dialog',\n    appendTo: null,\n    ariaCloseIconLabel: null,\n    baseZIndex: 0,\n    blockScroll: false,\n    breakpoints: null,\n    className: null,\n    closable: true,\n    closeOnEscape: true,\n    contentClassName: null,\n    contentStyle: null,\n    dismissableMask: false,\n    draggable: true,\n    focusOnShow: true,\n    footer: null,\n    header: null,\n    headerClassName: null,\n    headerStyle: null,\n    icons: null,\n    id: null,\n    keepInViewport: true,\n    maskClassName: null,\n    maskStyle: null,\n    maximizable: false,\n    maximized: false,\n    minX: 0,\n    minY: 0,\n    modal: true,\n    onClick: null,\n    onDrag: null,\n    onDragEnd: null,\n    onDragStart: null,\n    onHide: null,\n    onMaskClick: null,\n    onMaximize: null,\n    onResize: null,\n    onResizeEnd: null,\n    onResizeStart: null,\n    onShow: null,\n    position: 'center',\n    resizable: true,\n    rtl: false,\n    showHeader: true,\n    style: null,\n    transitionOptions: null,\n    visible: false,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, DialogBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, DialogBase.defaultProps);\n  }\n};\n\nvar Dialog = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (inProps, ref) {\n  var props = DialogBase.getProps(inProps);\n  var uniqueId = props.id ? props.id : (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.UniqueComponentId)();\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(uniqueId),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    idState = _React$useState2[0];\n    _React$useState2[1];\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    maskVisibleState = _React$useState4[0],\n    setMaskVisibleState = _React$useState4[1];\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    visibleState = _React$useState6[0],\n    setVisibleState = _React$useState6[1];\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.maximized),\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\n    maximizedState = _React$useState8[0],\n    setMaximizedState = _React$useState8[1];\n  var dialogRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var maskRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var contentRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var headerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var footerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var closeRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var dragging = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var resizing = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var lastPageX = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var lastPageY = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var styleElement = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var attributeSelector = react__WEBPACK_IMPORTED_MODULE_0__.useRef(uniqueId);\n  var maximized = props.onMaximize ? props.maximized : maximizedState;\n  var _useEventListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useEventListener)({\n      type: 'keydown',\n      listener: function listener(event) {\n        return onKeyDown(event);\n      }\n    }),\n    _useEventListener2 = _slicedToArray(_useEventListener, 2),\n    bindDocumentKeyDownListener = _useEventListener2[0],\n    unbindDocumentKeyDownListener = _useEventListener2[1];\n  var _useEventListener3 = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useEventListener)({\n      type: 'mousemove',\n      target: function target() {\n        return window.document;\n      },\n      listener: function listener(event) {\n        return onResize(event);\n      }\n    }),\n    _useEventListener4 = _slicedToArray(_useEventListener3, 2),\n    bindDocumentResizeListener = _useEventListener4[0],\n    unbindDocumentResizeListener = _useEventListener4[1];\n  var _useEventListener5 = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useEventListener)({\n      type: 'mouseup',\n      target: function target() {\n        return window.document;\n      },\n      listener: function listener(event) {\n        return onResizeEnd(event);\n      }\n    }),\n    _useEventListener6 = _slicedToArray(_useEventListener5, 2),\n    bindDocumentResizeEndListener = _useEventListener6[0],\n    unbindDocumentResizEndListener = _useEventListener6[1];\n  var _useEventListener7 = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useEventListener)({\n      type: 'mousemove',\n      target: function target() {\n        return window.document;\n      },\n      listener: function listener(event) {\n        return onDrag(event);\n      }\n    }),\n    _useEventListener8 = _slicedToArray(_useEventListener7, 2),\n    bindDocumentDragListener = _useEventListener8[0],\n    unbindDocumentDragListener = _useEventListener8[1];\n  var _useEventListener9 = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useEventListener)({\n      type: 'mouseup',\n      target: function target() {\n        return window.document;\n      },\n      listener: function listener(event) {\n        return onDragEnd(event);\n      }\n    }),\n    _useEventListener10 = _slicedToArray(_useEventListener9, 2),\n    bindDocumentDragEndListener = _useEventListener10[0],\n    unbindDocumentDragEndListener = _useEventListener10[1];\n  var onClose = function onClose(event) {\n    props.onHide();\n    event.preventDefault();\n  };\n  var focus = function focus() {\n    var activeElement = document.activeElement;\n    var isActiveElementInDialog = activeElement && dialogRef.current && dialogRef.current.contains(activeElement);\n    if (!isActiveElementInDialog && props.closable && props.showHeader) {\n      closeRef.current.focus();\n    }\n  };\n  var onMaskClick = function onMaskClick(event) {\n    if (props.dismissableMask && props.modal && maskRef.current === event.target) {\n      onClose(event);\n    }\n    props.onMaskClick && props.onMaskClick(event);\n  };\n  var toggleMaximize = function toggleMaximize(event) {\n    if (props.onMaximize) {\n      props.onMaximize({\n        originalEvent: event,\n        maximized: !maximized\n      });\n    } else {\n      setMaximizedState(function (prevMaximized) {\n        return !prevMaximized;\n      });\n    }\n    event.preventDefault();\n  };\n  var onKeyDown = function onKeyDown(event) {\n    var currentTarget = event.currentTarget;\n    if (!currentTarget || !currentTarget.primeDialogParams) {\n      return;\n    }\n    var params = currentTarget.primeDialogParams;\n    var paramLength = params.length;\n    var dialogId = params[paramLength - 1] ? params[paramLength - 1].id : undefined;\n    if (dialogId !== idState) {\n      return;\n    }\n    var dialog = document.getElementById(dialogId);\n    if (props.closable && props.closeOnEscape && event.key === 'Escape') {\n      onClose(event);\n      event.stopImmediatePropagation();\n      params.splice(paramLength - 1, 1);\n    } else if (event.key === 'Tab') {\n      event.preventDefault();\n      var focusableElements = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getFocusableElements(dialog);\n      if (focusableElements && focusableElements.length > 0) {\n        if (!document.activeElement) {\n          focusableElements[0].focus();\n        } else {\n          var focusedIndex = focusableElements.indexOf(document.activeElement);\n          if (event.shiftKey) {\n            if (focusedIndex === -1 || focusedIndex === 0) focusableElements[focusableElements.length - 1].focus();else focusableElements[focusedIndex - 1].focus();\n          } else {\n            if (focusedIndex === -1 || focusedIndex === focusableElements.length - 1) focusableElements[0].focus();else focusableElements[focusedIndex + 1].focus();\n          }\n        }\n      }\n    }\n  };\n  var onDragStart = function onDragStart(event) {\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(event.target, 'p-dialog-header-icon') || primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(event.target.parentElement, 'p-dialog-header-icon')) {\n      return;\n    }\n    if (props.draggable) {\n      dragging.current = true;\n      lastPageX.current = event.pageX;\n      lastPageY.current = event.pageY;\n      dialogRef.current.style.margin = '0';\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.addClass(document.body, 'p-unselectable-text');\n      props.onDragStart && props.onDragStart(event);\n    }\n  };\n  var onDrag = function onDrag(event) {\n    if (dragging.current) {\n      var width = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOuterWidth(dialogRef.current);\n      var height = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOuterHeight(dialogRef.current);\n      var deltaX = event.pageX - lastPageX.current;\n      var deltaY = event.pageY - lastPageY.current;\n      var offset = dialogRef.current.getBoundingClientRect();\n      var leftPos = offset.left + deltaX;\n      var topPos = offset.top + deltaY;\n      var viewport = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getViewport();\n      dialogRef.current.style.position = 'fixed';\n      if (props.keepInViewport) {\n        if (leftPos >= props.minX && leftPos + width < viewport.width) {\n          lastPageX.current = event.pageX;\n          dialogRef.current.style.left = leftPos + 'px';\n        }\n        if (topPos >= props.minY && topPos + height < viewport.height) {\n          lastPageY.current = event.pageY;\n          dialogRef.current.style.top = topPos + 'px';\n        }\n      } else {\n        lastPageX.current = event.pageX;\n        dialogRef.current.style.left = leftPos + 'px';\n        lastPageY.current = event.pageY;\n        dialogRef.current.style.top = topPos + 'px';\n      }\n      props.onDrag && props.onDrag(event);\n    }\n  };\n  var onDragEnd = function onDragEnd(event) {\n    if (dragging.current) {\n      dragging.current = false;\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(document.body, 'p-unselectable-text');\n      props.onDragEnd && props.onDragEnd(event);\n    }\n  };\n  var onResizeStart = function onResizeStart(event) {\n    if (props.resizable) {\n      resizing.current = true;\n      lastPageX.current = event.pageX;\n      lastPageY.current = event.pageY;\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.addClass(document.body, 'p-unselectable-text');\n      props.onResizeStart && props.onResizeStart(event);\n    }\n  };\n  var convertToPx = function convertToPx(value, property, viewport) {\n    !viewport && (viewport = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getViewport());\n    var val = parseInt(value);\n    if (/^(\\d+|(\\.\\d+))(\\.\\d+)?%$/.test(value)) {\n      return val * (viewport[property] / 100);\n    }\n    return val;\n  };\n  var onResize = function onResize(event) {\n    if (resizing.current) {\n      var deltaX = event.pageX - lastPageX.current;\n      var deltaY = event.pageY - lastPageY.current;\n      var width = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOuterWidth(dialogRef.current);\n      var height = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getOuterHeight(dialogRef.current);\n      var offset = dialogRef.current.getBoundingClientRect();\n      var viewport = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getViewport();\n      var hasBeenDragged = !parseInt(dialogRef.current.style.top) || !parseInt(dialogRef.current.style.left);\n      var minWidth = convertToPx(dialogRef.current.style.minWidth, 'width', viewport);\n      var minHeight = convertToPx(dialogRef.current.style.minHeight, 'height', viewport);\n      var newWidth = width + deltaX;\n      var newHeight = height + deltaY;\n      if (hasBeenDragged) {\n        newWidth += deltaX;\n        newHeight += deltaY;\n      }\n      if ((!minWidth || newWidth > minWidth) && offset.left + newWidth < viewport.width) {\n        dialogRef.current.style.width = newWidth + 'px';\n      }\n      if ((!minHeight || newHeight > minHeight) && offset.top + newHeight < viewport.height) {\n        dialogRef.current.style.height = newHeight + 'px';\n      }\n      lastPageX.current = event.pageX;\n      lastPageY.current = event.pageY;\n      props.onResize && props.onResize(event);\n    }\n  };\n  var onResizeEnd = function onResizeEnd(event) {\n    if (resizing.current) {\n      resizing.current = false;\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(document.body, 'p-unselectable-text');\n      props.onResizeEnd && props.onResizeEnd(event);\n    }\n  };\n  var resetPosition = function resetPosition() {\n    dialogRef.current.style.position = '';\n    dialogRef.current.style.left = '';\n    dialogRef.current.style.top = '';\n    dialogRef.current.style.margin = '';\n  };\n  var getPositionClass = function getPositionClass() {\n    var positions = ['center', 'left', 'right', 'top', 'top-left', 'top-right', 'bottom', 'bottom-left', 'bottom-right'];\n    var pos = positions.find(function (item) {\n      return item === props.position || item.replace('-', '') === props.position;\n    });\n    return pos ? \"p-dialog-\".concat(pos) : '';\n  };\n  var onEnter = function onEnter() {\n    dialogRef.current.setAttribute(attributeSelector.current, '');\n  };\n  var onEntered = function onEntered() {\n    props.onShow && props.onShow();\n    if (props.focusOnShow) {\n      focus();\n    }\n    enableDocumentSettings();\n  };\n  var onExiting = function onExiting() {\n    if (props.modal) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.addClass(maskRef.current, 'p-component-overlay-leave');\n    }\n    if (props.blockScroll) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(document.body, 'p-overflow-hidden');\n    }\n  };\n  var onExited = function onExited() {\n    dragging.current = false;\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ZIndexUtils.clear(maskRef.current);\n    setMaskVisibleState(false);\n    disableDocumentSettings();\n  };\n  var enableDocumentSettings = function enableDocumentSettings() {\n    bindGlobalListeners();\n    if (props.blockScroll || props.maximizable && maximized) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.addClass(document.body, 'p-overflow-hidden');\n    }\n  };\n  var disableDocumentSettings = function disableDocumentSettings() {\n    unbindGlobalListeners();\n    var isMaximized = props.maximizable && maximized;\n    if (props.modal) {\n      var hasBlockScroll = document.primeDialogParams && document.primeDialogParams.some(function (param) {\n        return param.hasBlockScroll;\n      });\n      if (hasBlockScroll || isMaximized) {\n        primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(document.body, 'p-overflow-hidden');\n      }\n    } else if (props.blockScroll || isMaximized) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(document.body, 'p-overflow-hidden');\n    }\n  };\n  var bindGlobalListeners = function bindGlobalListeners() {\n    if (props.draggable) {\n      bindDocumentDragListener();\n      bindDocumentDragEndListener();\n    }\n    if (props.resizable) {\n      bindDocumentResizeListener();\n      bindDocumentResizeEndListener();\n    }\n    bindDocumentKeyDownListener();\n    var newParam = {\n      id: idState,\n      hasBlockScroll: props.blockScroll\n    };\n    document.primeDialogParams = document.primeDialogParams ? [].concat(_toConsumableArray(document.primeDialogParams), [newParam]) : [newParam];\n  };\n  var unbindGlobalListeners = function unbindGlobalListeners() {\n    unbindDocumentDragListener();\n    unbindDocumentDragEndListener();\n    unbindDocumentResizeListener();\n    unbindDocumentResizEndListener();\n    unbindDocumentKeyDownListener();\n    document.primeDialogParams = document.primeDialogParams && document.primeDialogParams.filter(function (param) {\n      return param.id !== idState;\n    });\n  };\n  var createStyle = function createStyle() {\n    styleElement.current = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.createInlineStyle(primereact_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].nonce);\n    var innerHTML = '';\n    for (var breakpoint in props.breakpoints) {\n      innerHTML += \"\\n                @media screen and (max-width: \".concat(breakpoint, \") {\\n                    .p-dialog[\").concat(attributeSelector.current, \"] {\\n                        width: \").concat(props.breakpoints[breakpoint], \" !important;\\n                    }\\n                }\\n            \");\n    }\n    styleElement.current.innerHTML = innerHTML;\n  };\n  var changeScrollOnMaximizable = function changeScrollOnMaximizable() {\n    if (!props.blockScroll) {\n      var funcName = maximized ? 'addClass' : 'removeClass';\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler[funcName](document.body, 'p-overflow-hidden');\n    }\n  };\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useMountEffect)(function () {\n    if (props.visible) {\n      setMaskVisibleState(true);\n    }\n    if (props.breakpoints) {\n      createStyle();\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    if (props.visible && !maskVisibleState) {\n      setMaskVisibleState(true);\n    }\n    if (props.visible !== visibleState && maskVisibleState) {\n      setVisibleState(props.visible);\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    if (maskVisibleState) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ZIndexUtils.set('modal', maskRef.current, primereact_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].autoZIndex, props.baseZIndex || primereact_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].zIndex.modal);\n      setVisibleState(true);\n    }\n  }, [maskVisibleState]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    changeScrollOnMaximizable();\n  }, [props.maximized, maximizedState]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUnmountEffect)(function () {\n    disableDocumentSettings();\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeInlineStyle(styleElement.current);\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ZIndexUtils.clear(maskRef.current);\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      resetPosition: resetPosition,\n      getElement: function getElement() {\n        return dialogRef.current;\n      },\n      getMask: function getMask() {\n        return maskRef.current;\n      },\n      getContent: function getContent() {\n        return contentRef.current;\n      },\n      getHeader: function getHeader() {\n        return headerRef.current;\n      },\n      getFooter: function getFooter() {\n        return footerRef.current;\n      },\n      getCloseButton: function getCloseButton() {\n        return closeRef.current;\n      }\n    };\n  });\n  var createCloseIcon = function createCloseIcon() {\n    if (props.closable) {\n      var ariaLabel = props.ariaCloseIconLabel || (0,primereact_api__WEBPACK_IMPORTED_MODULE_3__.localeOption)('close');\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        ref: closeRef,\n        type: \"button\",\n        className: \"p-dialog-header-icon p-dialog-header-close p-link\",\n        \"aria-label\": ariaLabel,\n        onClick: onClose\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-dialog-header-close-icon pi pi-times\",\n        \"aria-hidden\": \"true\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_4__.Ripple, null));\n    }\n    return null;\n  };\n  var createMaximizeIcon = function createMaximizeIcon() {\n    var iconClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-dialog-header-maximize-icon pi', {\n      'pi-window-maximize': !maximized,\n      'pi-window-minimize': maximized\n    });\n    if (props.maximizable) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        type: \"button\",\n        className: \"p-dialog-header-icon p-dialog-header-maximize p-link\",\n        onClick: toggleMaximize\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: iconClassName\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_4__.Ripple, null));\n    }\n    return null;\n  };\n  var createHeader = function createHeader() {\n    if (props.showHeader) {\n      var closeIcon = createCloseIcon();\n      var maximizeIcon = createMaximizeIcon();\n      var icons = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.icons, props);\n      var header = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.header, props);\n      var headerId = idState + '_header';\n      var headerClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-dialog-header', props.headerClassName);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: headerRef,\n        style: props.headerStyle,\n        className: headerClassName,\n        onMouseDown: onDragStart\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        id: headerId,\n        className: \"p-dialog-title\"\n      }, header), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-dialog-header-icons\"\n      }, icons, maximizeIcon, closeIcon));\n    }\n    return null;\n  };\n  var createContent = function createContent() {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-dialog-content', props.contentClassName);\n    var contentId = idState + '_content';\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      id: contentId,\n      ref: contentRef,\n      className: className,\n      style: props.contentStyle\n    }, props.children);\n  };\n  var createFooter = function createFooter() {\n    var footer = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.footer, props);\n    return footer && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      ref: footerRef,\n      className: \"p-dialog-footer\"\n    }, footer);\n  };\n  var createResizer = function createResizer() {\n    if (props.resizable) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-resizable-handle\",\n        style: {\n          zIndex: 90\n        },\n        onMouseDown: onResizeStart\n      });\n    }\n    return null;\n  };\n  var createElement = function createElement() {\n    var otherProps = DialogBase.getOtherProps(props);\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-dialog p-component', props.className, {\n      'p-dialog-rtl': props.rtl,\n      'p-dialog-maximized': maximized,\n      'p-dialog-default': !maximized,\n      'p-input-filled': primereact_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].inputStyle === 'filled',\n      'p-ripple-disabled': primereact_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ripple === false\n    });\n    var maskClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-dialog-mask', getPositionClass(), {\n      'p-component-overlay p-component-overlay-enter': props.modal,\n      'p-dialog-visible': maskVisibleState,\n      'p-dialog-draggable': props.draggable,\n      'p-dialog-resizable': props.resizable\n    }, props.maskClassName);\n    var header = createHeader();\n    var content = createContent();\n    var footer = createFooter();\n    var resizer = createResizer();\n    var headerId = idState + '_header';\n    var contentId = idState + '_content';\n    var transitionTimeout = {\n      enter: props.position === 'center' ? 150 : 300,\n      exit: props.position === 'center' ? 150 : 300\n    };\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      ref: maskRef,\n      style: props.maskStyle,\n      className: maskClassName,\n      onClick: onMaskClick\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_csstransition__WEBPACK_IMPORTED_MODULE_5__.CSSTransition, {\n      nodeRef: dialogRef,\n      classNames: \"p-dialog\",\n      timeout: transitionTimeout,\n      \"in\": visibleState,\n      options: props.transitionOptions,\n      unmountOnExit: true,\n      onEnter: onEnter,\n      onEntered: onEntered,\n      onExiting: onExiting,\n      onExited: onExited\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n      ref: dialogRef,\n      id: idState,\n      className: className,\n      style: props.style,\n      onClick: props.onClick,\n      role: \"dialog\"\n    }, otherProps, {\n      \"aria-labelledby\": headerId,\n      \"aria-describedby\": contentId,\n      \"aria-modal\": props.modal\n    }), header, content, footer, resizer)));\n  };\n  var createDialog = function createDialog() {\n    var element = createElement();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_portal__WEBPACK_IMPORTED_MODULE_6__.Portal, {\n      element: element,\n      appendTo: props.appendTo,\n      visible: true\n    });\n  };\n  return maskVisibleState && createDialog();\n});\nDialog.displayName = 'Dialog';\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9kaWFsb2cvZGlhbG9nLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBK0I7QUFDMkI7QUFDRDtBQUM4QztBQUM1RDtBQUNBO0FBQzREOztBQUV2RztBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxZQUFZLDZFQUE2RTtBQUNqRyxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFdBQVcsd0VBQTBCO0FBQ3JDLEdBQUc7QUFDSDtBQUNBLFdBQVcsc0VBQXdCO0FBQ25DO0FBQ0E7O0FBRUEsMEJBQTBCLDZDQUFnQjtBQUMxQztBQUNBLHVDQUF1QyxtRUFBaUI7QUFDeEQsd0JBQXdCLDJDQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwyQ0FBYztBQUN2QztBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMkNBQWM7QUFDdkM7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDJDQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix5Q0FBWTtBQUM5QixnQkFBZ0IseUNBQVk7QUFDNUIsbUJBQW1CLHlDQUFZO0FBQy9CLGtCQUFrQix5Q0FBWTtBQUM5QixrQkFBa0IseUNBQVk7QUFDOUIsaUJBQWlCLHlDQUFZO0FBQzdCLGlCQUFpQix5Q0FBWTtBQUM3QixpQkFBaUIseUNBQVk7QUFDN0Isa0JBQWtCLHlDQUFZO0FBQzlCLGtCQUFrQix5Q0FBWTtBQUM5QixxQkFBcUIseUNBQVk7QUFDakMsMEJBQTBCLHlDQUFZO0FBQ3RDO0FBQ0EsMEJBQTBCLGtFQUFnQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0VBQWdCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtFQUFnQjtBQUMzQztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixrRUFBZ0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0VBQWdCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSw4QkFBOEIsNkVBQStCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsbUhBQW1IO0FBQ25ILFlBQVk7QUFDWixtSEFBbUg7QUFDbkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBbUIsMENBQTBDLGlFQUFtQjtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0saUVBQW1CO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0VBQXdCO0FBQzFDLG1CQUFtQix1RUFBeUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixvRUFBc0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sb0VBQXNCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGlFQUFtQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvRUFBc0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0VBQXdCO0FBQzFDLG1CQUFtQix1RUFBeUI7QUFDNUM7QUFDQSxxQkFBcUIsb0VBQXNCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLG9FQUFzQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxpRUFBbUI7QUFDekI7QUFDQTtBQUNBLE1BQU0sb0VBQXNCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSwrREFBaUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxpRUFBbUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLFFBQVEsb0VBQXNCO0FBQzlCO0FBQ0EsTUFBTTtBQUNOLE1BQU0sb0VBQXNCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDJCQUEyQiwwRUFBNEIsQ0FBQyw0REFBZ0I7QUFDeEU7QUFDQTtBQUNBLDZGQUE2Rix5RUFBeUUsdUZBQXVGLHVCQUF1QixtQkFBbUI7QUFDdlM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSx3REFBVTtBQUNoQjtBQUNBO0FBQ0EsRUFBRSxnRUFBYztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSxpRUFBZTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSxpRUFBZTtBQUNqQjtBQUNBLE1BQU0sNkRBQWUsMkJBQTJCLGlFQUFxQixzQkFBc0IsbUVBQTBCO0FBQ3JIO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSxpRUFBZTtBQUNqQjtBQUNBLEdBQUc7QUFDSCxFQUFFLGtFQUFnQjtBQUNsQjtBQUNBLElBQUksMEVBQTRCO0FBQ2hDLElBQUksK0RBQWlCO0FBQ3JCLEdBQUc7QUFDSCxFQUFFLHNEQUF5QjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGtEQUFrRCw0REFBWTtBQUM5RCwwQkFBMEIsZ0RBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLGVBQWUsZ0RBQW1CO0FBQ3pDO0FBQ0E7QUFDQSxPQUFPLGdCQUFnQixnREFBbUIsQ0FBQyxxREFBTTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw0REFBVTtBQUNsQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMEJBQTBCLGdEQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxPQUFPLGVBQWUsZ0RBQW1CO0FBQ3pDO0FBQ0EsT0FBTyxnQkFBZ0IsZ0RBQW1CLENBQUMscURBQU07QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsdUVBQXlCO0FBQzNDLG1CQUFtQix1RUFBeUI7QUFDNUM7QUFDQSw0QkFBNEIsNERBQVU7QUFDdEMsMEJBQTBCLGdEQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sZUFBZSxnREFBbUI7QUFDekM7QUFDQTtBQUNBLE9BQU8sd0JBQXdCLGdEQUFtQjtBQUNsRDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0REFBVTtBQUM5QjtBQUNBLHdCQUF3QixnREFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGlCQUFpQix1RUFBeUI7QUFDMUMsa0NBQWtDLGdEQUFtQjtBQUNyRDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixnREFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNERBQVU7QUFDOUI7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGlFQUFxQjtBQUM3QywyQkFBMkIsNkRBQWlCO0FBQzVDLEtBQUs7QUFDTCx3QkFBd0IsNERBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0RBQW1CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxlQUFlLGdEQUFtQixDQUFDLG1FQUFhO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxlQUFlLGdEQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnREFBbUIsQ0FBQyxxREFBTTtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3ByaW1lcmVhY3QvZGlhbG9nL2RpYWxvZy5lc20uanM/ODhiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJpbWVSZWFjdCwgeyBsb2NhbGVPcHRpb24gfSBmcm9tICdwcmltZXJlYWN0L2FwaSc7XG5pbXBvcnQgeyBDU1NUcmFuc2l0aW9uIH0gZnJvbSAncHJpbWVyZWFjdC9jc3N0cmFuc2l0aW9uJztcbmltcG9ydCB7IHVzZUV2ZW50TGlzdGVuZXIsIHVzZU1vdW50RWZmZWN0LCB1c2VVcGRhdGVFZmZlY3QsIHVzZVVubW91bnRFZmZlY3QgfSBmcm9tICdwcmltZXJlYWN0L2hvb2tzJztcbmltcG9ydCB7IFBvcnRhbCB9IGZyb20gJ3ByaW1lcmVhY3QvcG9ydGFsJztcbmltcG9ydCB7IFJpcHBsZSB9IGZyb20gJ3ByaW1lcmVhY3QvcmlwcGxlJztcbmltcG9ydCB7IE9iamVjdFV0aWxzLCBVbmlxdWVDb21wb25lbnRJZCwgRG9tSGFuZGxlciwgWkluZGV4VXRpbHMsIGNsYXNzTmFtZXMgfSBmcm9tICdwcmltZXJlYWN0L3V0aWxzJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgdmFyIF9pID0gbnVsbCA9PSBhcnIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07XG4gIGlmIChudWxsICE9IF9pKSB7XG4gICAgdmFyIF9zLFxuICAgICAgX2UsXG4gICAgICBfeCxcbiAgICAgIF9yLFxuICAgICAgX2FyciA9IFtdLFxuICAgICAgX24gPSAhMCxcbiAgICAgIF9kID0gITE7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChfeCA9IChfaSA9IF9pLmNhbGwoYXJyKSkubmV4dCwgMCA9PT0gaSkge1xuICAgICAgICBpZiAoT2JqZWN0KF9pKSAhPT0gX2kpIHJldHVybjtcbiAgICAgICAgX24gPSAhMTtcbiAgICAgIH0gZWxzZSBmb3IgKDsgIShfbiA9IChfcyA9IF94LmNhbGwoX2kpKS5kb25lKSAmJiAoX2Fyci5wdXNoKF9zLnZhbHVlKSwgX2Fyci5sZW5ndGggIT09IGkpOyBfbiA9ICEwKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kID0gITAsIF9lID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9uICYmIG51bGwgIT0gX2lbXCJyZXR1cm5cIl0gJiYgKF9yID0gX2lbXCJyZXR1cm5cIl0oKSwgT2JqZWN0KF9yKSAhPT0gX3IpKSByZXR1cm47XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX2FycjtcbiAgfVxufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcbn1cblxudmFyIERpYWxvZ0Jhc2UgPSB7XG4gIGRlZmF1bHRQcm9wczoge1xuICAgIF9fVFlQRTogJ0RpYWxvZycsXG4gICAgYXBwZW5kVG86IG51bGwsXG4gICAgYXJpYUNsb3NlSWNvbkxhYmVsOiBudWxsLFxuICAgIGJhc2VaSW5kZXg6IDAsXG4gICAgYmxvY2tTY3JvbGw6IGZhbHNlLFxuICAgIGJyZWFrcG9pbnRzOiBudWxsLFxuICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICBjbG9zYWJsZTogdHJ1ZSxcbiAgICBjbG9zZU9uRXNjYXBlOiB0cnVlLFxuICAgIGNvbnRlbnRDbGFzc05hbWU6IG51bGwsXG4gICAgY29udGVudFN0eWxlOiBudWxsLFxuICAgIGRpc21pc3NhYmxlTWFzazogZmFsc2UsXG4gICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgIGZvY3VzT25TaG93OiB0cnVlLFxuICAgIGZvb3RlcjogbnVsbCxcbiAgICBoZWFkZXI6IG51bGwsXG4gICAgaGVhZGVyQ2xhc3NOYW1lOiBudWxsLFxuICAgIGhlYWRlclN0eWxlOiBudWxsLFxuICAgIGljb25zOiBudWxsLFxuICAgIGlkOiBudWxsLFxuICAgIGtlZXBJblZpZXdwb3J0OiB0cnVlLFxuICAgIG1hc2tDbGFzc05hbWU6IG51bGwsXG4gICAgbWFza1N0eWxlOiBudWxsLFxuICAgIG1heGltaXphYmxlOiBmYWxzZSxcbiAgICBtYXhpbWl6ZWQ6IGZhbHNlLFxuICAgIG1pblg6IDAsXG4gICAgbWluWTogMCxcbiAgICBtb2RhbDogdHJ1ZSxcbiAgICBvbkNsaWNrOiBudWxsLFxuICAgIG9uRHJhZzogbnVsbCxcbiAgICBvbkRyYWdFbmQ6IG51bGwsXG4gICAgb25EcmFnU3RhcnQ6IG51bGwsXG4gICAgb25IaWRlOiBudWxsLFxuICAgIG9uTWFza0NsaWNrOiBudWxsLFxuICAgIG9uTWF4aW1pemU6IG51bGwsXG4gICAgb25SZXNpemU6IG51bGwsXG4gICAgb25SZXNpemVFbmQ6IG51bGwsXG4gICAgb25SZXNpemVTdGFydDogbnVsbCxcbiAgICBvblNob3c6IG51bGwsXG4gICAgcG9zaXRpb246ICdjZW50ZXInLFxuICAgIHJlc2l6YWJsZTogdHJ1ZSxcbiAgICBydGw6IGZhbHNlLFxuICAgIHNob3dIZWFkZXI6IHRydWUsXG4gICAgc3R5bGU6IG51bGwsXG4gICAgdHJhbnNpdGlvbk9wdGlvbnM6IG51bGwsXG4gICAgdmlzaWJsZTogZmFsc2UsXG4gICAgY2hpbGRyZW46IHVuZGVmaW5lZFxuICB9LFxuICBnZXRQcm9wczogZnVuY3Rpb24gZ2V0UHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0TWVyZ2VkUHJvcHMocHJvcHMsIERpYWxvZ0Jhc2UuZGVmYXVsdFByb3BzKTtcbiAgfSxcbiAgZ2V0T3RoZXJQcm9wczogZnVuY3Rpb24gZ2V0T3RoZXJQcm9wcyhwcm9wcykge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5nZXREaWZmUHJvcHMocHJvcHMsIERpYWxvZ0Jhc2UuZGVmYXVsdFByb3BzKTtcbiAgfVxufTtcblxudmFyIERpYWxvZyA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChpblByb3BzLCByZWYpIHtcbiAgdmFyIHByb3BzID0gRGlhbG9nQmFzZS5nZXRQcm9wcyhpblByb3BzKTtcbiAgdmFyIHVuaXF1ZUlkID0gcHJvcHMuaWQgPyBwcm9wcy5pZCA6IFVuaXF1ZUNvbXBvbmVudElkKCk7XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZSh1bmlxdWVJZCksXG4gICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgaWRTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF07XG4gICAgX1JlYWN0JHVzZVN0YXRlMlsxXTtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTMgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgX1JlYWN0JHVzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTMsIDIpLFxuICAgIG1hc2tWaXNpYmxlU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU0WzBdLFxuICAgIHNldE1hc2tWaXNpYmxlU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU0WzFdO1xuICB2YXIgX1JlYWN0JHVzZVN0YXRlNSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKSxcbiAgICBfUmVhY3QkdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlNSwgMiksXG4gICAgdmlzaWJsZVN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNlswXSxcbiAgICBzZXRWaXNpYmxlU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU2WzFdO1xuICB2YXIgX1JlYWN0JHVzZVN0YXRlNyA9IFJlYWN0LnVzZVN0YXRlKHByb3BzLm1heGltaXplZCksXG4gICAgX1JlYWN0JHVzZVN0YXRlOCA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTcsIDIpLFxuICAgIG1heGltaXplZFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlOFswXSxcbiAgICBzZXRNYXhpbWl6ZWRTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZThbMV07XG4gIHZhciBkaWFsb2dSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBtYXNrUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgY29udGVudFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGhlYWRlclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGZvb3RlclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGNsb3NlUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgZHJhZ2dpbmcgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICB2YXIgcmVzaXppbmcgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICB2YXIgbGFzdFBhZ2VYID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgbGFzdFBhZ2VZID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgc3R5bGVFbGVtZW50ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgYXR0cmlidXRlU2VsZWN0b3IgPSBSZWFjdC51c2VSZWYodW5pcXVlSWQpO1xuICB2YXIgbWF4aW1pemVkID0gcHJvcHMub25NYXhpbWl6ZSA/IHByb3BzLm1heGltaXplZCA6IG1heGltaXplZFN0YXRlO1xuICB2YXIgX3VzZUV2ZW50TGlzdGVuZXIgPSB1c2VFdmVudExpc3RlbmVyKHtcbiAgICAgIHR5cGU6ICdrZXlkb3duJyxcbiAgICAgIGxpc3RlbmVyOiBmdW5jdGlvbiBsaXN0ZW5lcihldmVudCkge1xuICAgICAgICByZXR1cm4gb25LZXlEb3duKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBfdXNlRXZlbnRMaXN0ZW5lcjIgPSBfc2xpY2VkVG9BcnJheShfdXNlRXZlbnRMaXN0ZW5lciwgMiksXG4gICAgYmluZERvY3VtZW50S2V5RG93bkxpc3RlbmVyID0gX3VzZUV2ZW50TGlzdGVuZXIyWzBdLFxuICAgIHVuYmluZERvY3VtZW50S2V5RG93bkxpc3RlbmVyID0gX3VzZUV2ZW50TGlzdGVuZXIyWzFdO1xuICB2YXIgX3VzZUV2ZW50TGlzdGVuZXIzID0gdXNlRXZlbnRMaXN0ZW5lcih7XG4gICAgICB0eXBlOiAnbW91c2Vtb3ZlJyxcbiAgICAgIHRhcmdldDogZnVuY3Rpb24gdGFyZ2V0KCkge1xuICAgICAgICByZXR1cm4gd2luZG93LmRvY3VtZW50O1xuICAgICAgfSxcbiAgICAgIGxpc3RlbmVyOiBmdW5jdGlvbiBsaXN0ZW5lcihldmVudCkge1xuICAgICAgICByZXR1cm4gb25SZXNpemUoZXZlbnQpO1xuICAgICAgfVxuICAgIH0pLFxuICAgIF91c2VFdmVudExpc3RlbmVyNCA9IF9zbGljZWRUb0FycmF5KF91c2VFdmVudExpc3RlbmVyMywgMiksXG4gICAgYmluZERvY3VtZW50UmVzaXplTGlzdGVuZXIgPSBfdXNlRXZlbnRMaXN0ZW5lcjRbMF0sXG4gICAgdW5iaW5kRG9jdW1lbnRSZXNpemVMaXN0ZW5lciA9IF91c2VFdmVudExpc3RlbmVyNFsxXTtcbiAgdmFyIF91c2VFdmVudExpc3RlbmVyNSA9IHVzZUV2ZW50TGlzdGVuZXIoe1xuICAgICAgdHlwZTogJ21vdXNldXAnLFxuICAgICAgdGFyZ2V0OiBmdW5jdGlvbiB0YXJnZXQoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuZG9jdW1lbnQ7XG4gICAgICB9LFxuICAgICAgbGlzdGVuZXI6IGZ1bmN0aW9uIGxpc3RlbmVyKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBvblJlc2l6ZUVuZChldmVudCk7XG4gICAgICB9XG4gICAgfSksXG4gICAgX3VzZUV2ZW50TGlzdGVuZXI2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZUV2ZW50TGlzdGVuZXI1LCAyKSxcbiAgICBiaW5kRG9jdW1lbnRSZXNpemVFbmRMaXN0ZW5lciA9IF91c2VFdmVudExpc3RlbmVyNlswXSxcbiAgICB1bmJpbmREb2N1bWVudFJlc2l6RW5kTGlzdGVuZXIgPSBfdXNlRXZlbnRMaXN0ZW5lcjZbMV07XG4gIHZhciBfdXNlRXZlbnRMaXN0ZW5lcjcgPSB1c2VFdmVudExpc3RlbmVyKHtcbiAgICAgIHR5cGU6ICdtb3VzZW1vdmUnLFxuICAgICAgdGFyZ2V0OiBmdW5jdGlvbiB0YXJnZXQoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuZG9jdW1lbnQ7XG4gICAgICB9LFxuICAgICAgbGlzdGVuZXI6IGZ1bmN0aW9uIGxpc3RlbmVyKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBvbkRyYWcoZXZlbnQpO1xuICAgICAgfVxuICAgIH0pLFxuICAgIF91c2VFdmVudExpc3RlbmVyOCA9IF9zbGljZWRUb0FycmF5KF91c2VFdmVudExpc3RlbmVyNywgMiksXG4gICAgYmluZERvY3VtZW50RHJhZ0xpc3RlbmVyID0gX3VzZUV2ZW50TGlzdGVuZXI4WzBdLFxuICAgIHVuYmluZERvY3VtZW50RHJhZ0xpc3RlbmVyID0gX3VzZUV2ZW50TGlzdGVuZXI4WzFdO1xuICB2YXIgX3VzZUV2ZW50TGlzdGVuZXI5ID0gdXNlRXZlbnRMaXN0ZW5lcih7XG4gICAgICB0eXBlOiAnbW91c2V1cCcsXG4gICAgICB0YXJnZXQ6IGZ1bmN0aW9uIHRhcmdldCgpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5kb2N1bWVudDtcbiAgICAgIH0sXG4gICAgICBsaXN0ZW5lcjogZnVuY3Rpb24gbGlzdGVuZXIoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIG9uRHJhZ0VuZChldmVudCk7XG4gICAgICB9XG4gICAgfSksXG4gICAgX3VzZUV2ZW50TGlzdGVuZXIxMCA9IF9zbGljZWRUb0FycmF5KF91c2VFdmVudExpc3RlbmVyOSwgMiksXG4gICAgYmluZERvY3VtZW50RHJhZ0VuZExpc3RlbmVyID0gX3VzZUV2ZW50TGlzdGVuZXIxMFswXSxcbiAgICB1bmJpbmREb2N1bWVudERyYWdFbmRMaXN0ZW5lciA9IF91c2VFdmVudExpc3RlbmVyMTBbMV07XG4gIHZhciBvbkNsb3NlID0gZnVuY3Rpb24gb25DbG9zZShldmVudCkge1xuICAgIHByb3BzLm9uSGlkZSgpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG4gIHZhciBmb2N1cyA9IGZ1bmN0aW9uIGZvY3VzKCkge1xuICAgIHZhciBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICB2YXIgaXNBY3RpdmVFbGVtZW50SW5EaWFsb2cgPSBhY3RpdmVFbGVtZW50ICYmIGRpYWxvZ1JlZi5jdXJyZW50ICYmIGRpYWxvZ1JlZi5jdXJyZW50LmNvbnRhaW5zKGFjdGl2ZUVsZW1lbnQpO1xuICAgIGlmICghaXNBY3RpdmVFbGVtZW50SW5EaWFsb2cgJiYgcHJvcHMuY2xvc2FibGUgJiYgcHJvcHMuc2hvd0hlYWRlcikge1xuICAgICAgY2xvc2VSZWYuY3VycmVudC5mb2N1cygpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uTWFza0NsaWNrID0gZnVuY3Rpb24gb25NYXNrQ2xpY2soZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuZGlzbWlzc2FibGVNYXNrICYmIHByb3BzLm1vZGFsICYmIG1hc2tSZWYuY3VycmVudCA9PT0gZXZlbnQudGFyZ2V0KSB7XG4gICAgICBvbkNsb3NlKGV2ZW50KTtcbiAgICB9XG4gICAgcHJvcHMub25NYXNrQ2xpY2sgJiYgcHJvcHMub25NYXNrQ2xpY2soZXZlbnQpO1xuICB9O1xuICB2YXIgdG9nZ2xlTWF4aW1pemUgPSBmdW5jdGlvbiB0b2dnbGVNYXhpbWl6ZShldmVudCkge1xuICAgIGlmIChwcm9wcy5vbk1heGltaXplKSB7XG4gICAgICBwcm9wcy5vbk1heGltaXplKHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIG1heGltaXplZDogIW1heGltaXplZFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldE1heGltaXplZFN0YXRlKGZ1bmN0aW9uIChwcmV2TWF4aW1pemVkKSB7XG4gICAgICAgIHJldHVybiAhcHJldk1heGltaXplZDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuICB2YXIgb25LZXlEb3duID0gZnVuY3Rpb24gb25LZXlEb3duKGV2ZW50KSB7XG4gICAgdmFyIGN1cnJlbnRUYXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgIGlmICghY3VycmVudFRhcmdldCB8fCAhY3VycmVudFRhcmdldC5wcmltZURpYWxvZ1BhcmFtcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcGFyYW1zID0gY3VycmVudFRhcmdldC5wcmltZURpYWxvZ1BhcmFtcztcbiAgICB2YXIgcGFyYW1MZW5ndGggPSBwYXJhbXMubGVuZ3RoO1xuICAgIHZhciBkaWFsb2dJZCA9IHBhcmFtc1twYXJhbUxlbmd0aCAtIDFdID8gcGFyYW1zW3BhcmFtTGVuZ3RoIC0gMV0uaWQgOiB1bmRlZmluZWQ7XG4gICAgaWYgKGRpYWxvZ0lkICE9PSBpZFN0YXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBkaWFsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaWFsb2dJZCk7XG4gICAgaWYgKHByb3BzLmNsb3NhYmxlICYmIHByb3BzLmNsb3NlT25Fc2NhcGUgJiYgZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgb25DbG9zZShldmVudCk7XG4gICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgIHBhcmFtcy5zcGxpY2UocGFyYW1MZW5ndGggLSAxLCAxKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gJ1RhYicpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgZm9jdXNhYmxlRWxlbWVudHMgPSBEb21IYW5kbGVyLmdldEZvY3VzYWJsZUVsZW1lbnRzKGRpYWxvZyk7XG4gICAgICBpZiAoZm9jdXNhYmxlRWxlbWVudHMgJiYgZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAoIWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgICBmb2N1c2FibGVFbGVtZW50c1swXS5mb2N1cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBmb2N1c2VkSW5kZXggPSBmb2N1c2FibGVFbGVtZW50cy5pbmRleE9mKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuICAgICAgICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgaWYgKGZvY3VzZWRJbmRleCA9PT0gLTEgfHwgZm9jdXNlZEluZGV4ID09PSAwKSBmb2N1c2FibGVFbGVtZW50c1tmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggLSAxXS5mb2N1cygpO2Vsc2UgZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNlZEluZGV4IC0gMV0uZm9jdXMoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGZvY3VzZWRJbmRleCA9PT0gLTEgfHwgZm9jdXNlZEluZGV4ID09PSBmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggLSAxKSBmb2N1c2FibGVFbGVtZW50c1swXS5mb2N1cygpO2Vsc2UgZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNlZEluZGV4ICsgMV0uZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBvbkRyYWdTdGFydCA9IGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGV2ZW50KSB7XG4gICAgaWYgKERvbUhhbmRsZXIuaGFzQ2xhc3MoZXZlbnQudGFyZ2V0LCAncC1kaWFsb2ctaGVhZGVyLWljb24nKSB8fCBEb21IYW5kbGVyLmhhc0NsYXNzKGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LCAncC1kaWFsb2ctaGVhZGVyLWljb24nKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocHJvcHMuZHJhZ2dhYmxlKSB7XG4gICAgICBkcmFnZ2luZy5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIGxhc3RQYWdlWC5jdXJyZW50ID0gZXZlbnQucGFnZVg7XG4gICAgICBsYXN0UGFnZVkuY3VycmVudCA9IGV2ZW50LnBhZ2VZO1xuICAgICAgZGlhbG9nUmVmLmN1cnJlbnQuc3R5bGUubWFyZ2luID0gJzAnO1xuICAgICAgRG9tSGFuZGxlci5hZGRDbGFzcyhkb2N1bWVudC5ib2R5LCAncC11bnNlbGVjdGFibGUtdGV4dCcpO1xuICAgICAgcHJvcHMub25EcmFnU3RhcnQgJiYgcHJvcHMub25EcmFnU3RhcnQoZXZlbnQpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uRHJhZyA9IGZ1bmN0aW9uIG9uRHJhZyhldmVudCkge1xuICAgIGlmIChkcmFnZ2luZy5jdXJyZW50KSB7XG4gICAgICB2YXIgd2lkdGggPSBEb21IYW5kbGVyLmdldE91dGVyV2lkdGgoZGlhbG9nUmVmLmN1cnJlbnQpO1xuICAgICAgdmFyIGhlaWdodCA9IERvbUhhbmRsZXIuZ2V0T3V0ZXJIZWlnaHQoZGlhbG9nUmVmLmN1cnJlbnQpO1xuICAgICAgdmFyIGRlbHRhWCA9IGV2ZW50LnBhZ2VYIC0gbGFzdFBhZ2VYLmN1cnJlbnQ7XG4gICAgICB2YXIgZGVsdGFZID0gZXZlbnQucGFnZVkgLSBsYXN0UGFnZVkuY3VycmVudDtcbiAgICAgIHZhciBvZmZzZXQgPSBkaWFsb2dSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHZhciBsZWZ0UG9zID0gb2Zmc2V0LmxlZnQgKyBkZWx0YVg7XG4gICAgICB2YXIgdG9wUG9zID0gb2Zmc2V0LnRvcCArIGRlbHRhWTtcbiAgICAgIHZhciB2aWV3cG9ydCA9IERvbUhhbmRsZXIuZ2V0Vmlld3BvcnQoKTtcbiAgICAgIGRpYWxvZ1JlZi5jdXJyZW50LnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICAgIGlmIChwcm9wcy5rZWVwSW5WaWV3cG9ydCkge1xuICAgICAgICBpZiAobGVmdFBvcyA+PSBwcm9wcy5taW5YICYmIGxlZnRQb3MgKyB3aWR0aCA8IHZpZXdwb3J0LndpZHRoKSB7XG4gICAgICAgICAgbGFzdFBhZ2VYLmN1cnJlbnQgPSBldmVudC5wYWdlWDtcbiAgICAgICAgICBkaWFsb2dSZWYuY3VycmVudC5zdHlsZS5sZWZ0ID0gbGVmdFBvcyArICdweCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRvcFBvcyA+PSBwcm9wcy5taW5ZICYmIHRvcFBvcyArIGhlaWdodCA8IHZpZXdwb3J0LmhlaWdodCkge1xuICAgICAgICAgIGxhc3RQYWdlWS5jdXJyZW50ID0gZXZlbnQucGFnZVk7XG4gICAgICAgICAgZGlhbG9nUmVmLmN1cnJlbnQuc3R5bGUudG9wID0gdG9wUG9zICsgJ3B4JztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGFzdFBhZ2VYLmN1cnJlbnQgPSBldmVudC5wYWdlWDtcbiAgICAgICAgZGlhbG9nUmVmLmN1cnJlbnQuc3R5bGUubGVmdCA9IGxlZnRQb3MgKyAncHgnO1xuICAgICAgICBsYXN0UGFnZVkuY3VycmVudCA9IGV2ZW50LnBhZ2VZO1xuICAgICAgICBkaWFsb2dSZWYuY3VycmVudC5zdHlsZS50b3AgPSB0b3BQb3MgKyAncHgnO1xuICAgICAgfVxuICAgICAgcHJvcHMub25EcmFnICYmIHByb3BzLm9uRHJhZyhldmVudCk7XG4gICAgfVxuICB9O1xuICB2YXIgb25EcmFnRW5kID0gZnVuY3Rpb24gb25EcmFnRW5kKGV2ZW50KSB7XG4gICAgaWYgKGRyYWdnaW5nLmN1cnJlbnQpIHtcbiAgICAgIGRyYWdnaW5nLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIERvbUhhbmRsZXIucmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwgJ3AtdW5zZWxlY3RhYmxlLXRleHQnKTtcbiAgICAgIHByb3BzLm9uRHJhZ0VuZCAmJiBwcm9wcy5vbkRyYWdFbmQoZXZlbnQpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uUmVzaXplU3RhcnQgPSBmdW5jdGlvbiBvblJlc2l6ZVN0YXJ0KGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLnJlc2l6YWJsZSkge1xuICAgICAgcmVzaXppbmcuY3VycmVudCA9IHRydWU7XG4gICAgICBsYXN0UGFnZVguY3VycmVudCA9IGV2ZW50LnBhZ2VYO1xuICAgICAgbGFzdFBhZ2VZLmN1cnJlbnQgPSBldmVudC5wYWdlWTtcbiAgICAgIERvbUhhbmRsZXIuYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwgJ3AtdW5zZWxlY3RhYmxlLXRleHQnKTtcbiAgICAgIHByb3BzLm9uUmVzaXplU3RhcnQgJiYgcHJvcHMub25SZXNpemVTdGFydChldmVudCk7XG4gICAgfVxuICB9O1xuICB2YXIgY29udmVydFRvUHggPSBmdW5jdGlvbiBjb252ZXJ0VG9QeCh2YWx1ZSwgcHJvcGVydHksIHZpZXdwb3J0KSB7XG4gICAgIXZpZXdwb3J0ICYmICh2aWV3cG9ydCA9IERvbUhhbmRsZXIuZ2V0Vmlld3BvcnQoKSk7XG4gICAgdmFyIHZhbCA9IHBhcnNlSW50KHZhbHVlKTtcbiAgICBpZiAoL14oXFxkK3woXFwuXFxkKykpKFxcLlxcZCspPyUkLy50ZXN0KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbCAqICh2aWV3cG9ydFtwcm9wZXJ0eV0gLyAxMDApO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xuICB9O1xuICB2YXIgb25SZXNpemUgPSBmdW5jdGlvbiBvblJlc2l6ZShldmVudCkge1xuICAgIGlmIChyZXNpemluZy5jdXJyZW50KSB7XG4gICAgICB2YXIgZGVsdGFYID0gZXZlbnQucGFnZVggLSBsYXN0UGFnZVguY3VycmVudDtcbiAgICAgIHZhciBkZWx0YVkgPSBldmVudC5wYWdlWSAtIGxhc3RQYWdlWS5jdXJyZW50O1xuICAgICAgdmFyIHdpZHRoID0gRG9tSGFuZGxlci5nZXRPdXRlcldpZHRoKGRpYWxvZ1JlZi5jdXJyZW50KTtcbiAgICAgIHZhciBoZWlnaHQgPSBEb21IYW5kbGVyLmdldE91dGVySGVpZ2h0KGRpYWxvZ1JlZi5jdXJyZW50KTtcbiAgICAgIHZhciBvZmZzZXQgPSBkaWFsb2dSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHZhciB2aWV3cG9ydCA9IERvbUhhbmRsZXIuZ2V0Vmlld3BvcnQoKTtcbiAgICAgIHZhciBoYXNCZWVuRHJhZ2dlZCA9ICFwYXJzZUludChkaWFsb2dSZWYuY3VycmVudC5zdHlsZS50b3ApIHx8ICFwYXJzZUludChkaWFsb2dSZWYuY3VycmVudC5zdHlsZS5sZWZ0KTtcbiAgICAgIHZhciBtaW5XaWR0aCA9IGNvbnZlcnRUb1B4KGRpYWxvZ1JlZi5jdXJyZW50LnN0eWxlLm1pbldpZHRoLCAnd2lkdGgnLCB2aWV3cG9ydCk7XG4gICAgICB2YXIgbWluSGVpZ2h0ID0gY29udmVydFRvUHgoZGlhbG9nUmVmLmN1cnJlbnQuc3R5bGUubWluSGVpZ2h0LCAnaGVpZ2h0Jywgdmlld3BvcnQpO1xuICAgICAgdmFyIG5ld1dpZHRoID0gd2lkdGggKyBkZWx0YVg7XG4gICAgICB2YXIgbmV3SGVpZ2h0ID0gaGVpZ2h0ICsgZGVsdGFZO1xuICAgICAgaWYgKGhhc0JlZW5EcmFnZ2VkKSB7XG4gICAgICAgIG5ld1dpZHRoICs9IGRlbHRhWDtcbiAgICAgICAgbmV3SGVpZ2h0ICs9IGRlbHRhWTtcbiAgICAgIH1cbiAgICAgIGlmICgoIW1pbldpZHRoIHx8IG5ld1dpZHRoID4gbWluV2lkdGgpICYmIG9mZnNldC5sZWZ0ICsgbmV3V2lkdGggPCB2aWV3cG9ydC53aWR0aCkge1xuICAgICAgICBkaWFsb2dSZWYuY3VycmVudC5zdHlsZS53aWR0aCA9IG5ld1dpZHRoICsgJ3B4JztcbiAgICAgIH1cbiAgICAgIGlmICgoIW1pbkhlaWdodCB8fCBuZXdIZWlnaHQgPiBtaW5IZWlnaHQpICYmIG9mZnNldC50b3AgKyBuZXdIZWlnaHQgPCB2aWV3cG9ydC5oZWlnaHQpIHtcbiAgICAgICAgZGlhbG9nUmVmLmN1cnJlbnQuc3R5bGUuaGVpZ2h0ID0gbmV3SGVpZ2h0ICsgJ3B4JztcbiAgICAgIH1cbiAgICAgIGxhc3RQYWdlWC5jdXJyZW50ID0gZXZlbnQucGFnZVg7XG4gICAgICBsYXN0UGFnZVkuY3VycmVudCA9IGV2ZW50LnBhZ2VZO1xuICAgICAgcHJvcHMub25SZXNpemUgJiYgcHJvcHMub25SZXNpemUoZXZlbnQpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uUmVzaXplRW5kID0gZnVuY3Rpb24gb25SZXNpemVFbmQoZXZlbnQpIHtcbiAgICBpZiAocmVzaXppbmcuY3VycmVudCkge1xuICAgICAgcmVzaXppbmcuY3VycmVudCA9IGZhbHNlO1xuICAgICAgRG9tSGFuZGxlci5yZW1vdmVDbGFzcyhkb2N1bWVudC5ib2R5LCAncC11bnNlbGVjdGFibGUtdGV4dCcpO1xuICAgICAgcHJvcHMub25SZXNpemVFbmQgJiYgcHJvcHMub25SZXNpemVFbmQoZXZlbnQpO1xuICAgIH1cbiAgfTtcbiAgdmFyIHJlc2V0UG9zaXRpb24gPSBmdW5jdGlvbiByZXNldFBvc2l0aW9uKCkge1xuICAgIGRpYWxvZ1JlZi5jdXJyZW50LnN0eWxlLnBvc2l0aW9uID0gJyc7XG4gICAgZGlhbG9nUmVmLmN1cnJlbnQuc3R5bGUubGVmdCA9ICcnO1xuICAgIGRpYWxvZ1JlZi5jdXJyZW50LnN0eWxlLnRvcCA9ICcnO1xuICAgIGRpYWxvZ1JlZi5jdXJyZW50LnN0eWxlLm1hcmdpbiA9ICcnO1xuICB9O1xuICB2YXIgZ2V0UG9zaXRpb25DbGFzcyA9IGZ1bmN0aW9uIGdldFBvc2l0aW9uQ2xhc3MoKSB7XG4gICAgdmFyIHBvc2l0aW9ucyA9IFsnY2VudGVyJywgJ2xlZnQnLCAncmlnaHQnLCAndG9wJywgJ3RvcC1sZWZ0JywgJ3RvcC1yaWdodCcsICdib3R0b20nLCAnYm90dG9tLWxlZnQnLCAnYm90dG9tLXJpZ2h0J107XG4gICAgdmFyIHBvcyA9IHBvc2l0aW9ucy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbSA9PT0gcHJvcHMucG9zaXRpb24gfHwgaXRlbS5yZXBsYWNlKCctJywgJycpID09PSBwcm9wcy5wb3NpdGlvbjtcbiAgICB9KTtcbiAgICByZXR1cm4gcG9zID8gXCJwLWRpYWxvZy1cIi5jb25jYXQocG9zKSA6ICcnO1xuICB9O1xuICB2YXIgb25FbnRlciA9IGZ1bmN0aW9uIG9uRW50ZXIoKSB7XG4gICAgZGlhbG9nUmVmLmN1cnJlbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZVNlbGVjdG9yLmN1cnJlbnQsICcnKTtcbiAgfTtcbiAgdmFyIG9uRW50ZXJlZCA9IGZ1bmN0aW9uIG9uRW50ZXJlZCgpIHtcbiAgICBwcm9wcy5vblNob3cgJiYgcHJvcHMub25TaG93KCk7XG4gICAgaWYgKHByb3BzLmZvY3VzT25TaG93KSB7XG4gICAgICBmb2N1cygpO1xuICAgIH1cbiAgICBlbmFibGVEb2N1bWVudFNldHRpbmdzKCk7XG4gIH07XG4gIHZhciBvbkV4aXRpbmcgPSBmdW5jdGlvbiBvbkV4aXRpbmcoKSB7XG4gICAgaWYgKHByb3BzLm1vZGFsKSB7XG4gICAgICBEb21IYW5kbGVyLmFkZENsYXNzKG1hc2tSZWYuY3VycmVudCwgJ3AtY29tcG9uZW50LW92ZXJsYXktbGVhdmUnKTtcbiAgICB9XG4gICAgaWYgKHByb3BzLmJsb2NrU2Nyb2xsKSB7XG4gICAgICBEb21IYW5kbGVyLnJlbW92ZUNsYXNzKGRvY3VtZW50LmJvZHksICdwLW92ZXJmbG93LWhpZGRlbicpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uRXhpdGVkID0gZnVuY3Rpb24gb25FeGl0ZWQoKSB7XG4gICAgZHJhZ2dpbmcuY3VycmVudCA9IGZhbHNlO1xuICAgIFpJbmRleFV0aWxzLmNsZWFyKG1hc2tSZWYuY3VycmVudCk7XG4gICAgc2V0TWFza1Zpc2libGVTdGF0ZShmYWxzZSk7XG4gICAgZGlzYWJsZURvY3VtZW50U2V0dGluZ3MoKTtcbiAgfTtcbiAgdmFyIGVuYWJsZURvY3VtZW50U2V0dGluZ3MgPSBmdW5jdGlvbiBlbmFibGVEb2N1bWVudFNldHRpbmdzKCkge1xuICAgIGJpbmRHbG9iYWxMaXN0ZW5lcnMoKTtcbiAgICBpZiAocHJvcHMuYmxvY2tTY3JvbGwgfHwgcHJvcHMubWF4aW1pemFibGUgJiYgbWF4aW1pemVkKSB7XG4gICAgICBEb21IYW5kbGVyLmFkZENsYXNzKGRvY3VtZW50LmJvZHksICdwLW92ZXJmbG93LWhpZGRlbicpO1xuICAgIH1cbiAgfTtcbiAgdmFyIGRpc2FibGVEb2N1bWVudFNldHRpbmdzID0gZnVuY3Rpb24gZGlzYWJsZURvY3VtZW50U2V0dGluZ3MoKSB7XG4gICAgdW5iaW5kR2xvYmFsTGlzdGVuZXJzKCk7XG4gICAgdmFyIGlzTWF4aW1pemVkID0gcHJvcHMubWF4aW1pemFibGUgJiYgbWF4aW1pemVkO1xuICAgIGlmIChwcm9wcy5tb2RhbCkge1xuICAgICAgdmFyIGhhc0Jsb2NrU2Nyb2xsID0gZG9jdW1lbnQucHJpbWVEaWFsb2dQYXJhbXMgJiYgZG9jdW1lbnQucHJpbWVEaWFsb2dQYXJhbXMuc29tZShmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgcmV0dXJuIHBhcmFtLmhhc0Jsb2NrU2Nyb2xsO1xuICAgICAgfSk7XG4gICAgICBpZiAoaGFzQmxvY2tTY3JvbGwgfHwgaXNNYXhpbWl6ZWQpIHtcbiAgICAgICAgRG9tSGFuZGxlci5yZW1vdmVDbGFzcyhkb2N1bWVudC5ib2R5LCAncC1vdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByb3BzLmJsb2NrU2Nyb2xsIHx8IGlzTWF4aW1pemVkKSB7XG4gICAgICBEb21IYW5kbGVyLnJlbW92ZUNsYXNzKGRvY3VtZW50LmJvZHksICdwLW92ZXJmbG93LWhpZGRlbicpO1xuICAgIH1cbiAgfTtcbiAgdmFyIGJpbmRHbG9iYWxMaXN0ZW5lcnMgPSBmdW5jdGlvbiBiaW5kR2xvYmFsTGlzdGVuZXJzKCkge1xuICAgIGlmIChwcm9wcy5kcmFnZ2FibGUpIHtcbiAgICAgIGJpbmREb2N1bWVudERyYWdMaXN0ZW5lcigpO1xuICAgICAgYmluZERvY3VtZW50RHJhZ0VuZExpc3RlbmVyKCk7XG4gICAgfVxuICAgIGlmIChwcm9wcy5yZXNpemFibGUpIHtcbiAgICAgIGJpbmREb2N1bWVudFJlc2l6ZUxpc3RlbmVyKCk7XG4gICAgICBiaW5kRG9jdW1lbnRSZXNpemVFbmRMaXN0ZW5lcigpO1xuICAgIH1cbiAgICBiaW5kRG9jdW1lbnRLZXlEb3duTGlzdGVuZXIoKTtcbiAgICB2YXIgbmV3UGFyYW0gPSB7XG4gICAgICBpZDogaWRTdGF0ZSxcbiAgICAgIGhhc0Jsb2NrU2Nyb2xsOiBwcm9wcy5ibG9ja1Njcm9sbFxuICAgIH07XG4gICAgZG9jdW1lbnQucHJpbWVEaWFsb2dQYXJhbXMgPSBkb2N1bWVudC5wcmltZURpYWxvZ1BhcmFtcyA/IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZG9jdW1lbnQucHJpbWVEaWFsb2dQYXJhbXMpLCBbbmV3UGFyYW1dKSA6IFtuZXdQYXJhbV07XG4gIH07XG4gIHZhciB1bmJpbmRHbG9iYWxMaXN0ZW5lcnMgPSBmdW5jdGlvbiB1bmJpbmRHbG9iYWxMaXN0ZW5lcnMoKSB7XG4gICAgdW5iaW5kRG9jdW1lbnREcmFnTGlzdGVuZXIoKTtcbiAgICB1bmJpbmREb2N1bWVudERyYWdFbmRMaXN0ZW5lcigpO1xuICAgIHVuYmluZERvY3VtZW50UmVzaXplTGlzdGVuZXIoKTtcbiAgICB1bmJpbmREb2N1bWVudFJlc2l6RW5kTGlzdGVuZXIoKTtcbiAgICB1bmJpbmREb2N1bWVudEtleURvd25MaXN0ZW5lcigpO1xuICAgIGRvY3VtZW50LnByaW1lRGlhbG9nUGFyYW1zID0gZG9jdW1lbnQucHJpbWVEaWFsb2dQYXJhbXMgJiYgZG9jdW1lbnQucHJpbWVEaWFsb2dQYXJhbXMuZmlsdGVyKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgcmV0dXJuIHBhcmFtLmlkICE9PSBpZFN0YXRlO1xuICAgIH0pO1xuICB9O1xuICB2YXIgY3JlYXRlU3R5bGUgPSBmdW5jdGlvbiBjcmVhdGVTdHlsZSgpIHtcbiAgICBzdHlsZUVsZW1lbnQuY3VycmVudCA9IERvbUhhbmRsZXIuY3JlYXRlSW5saW5lU3R5bGUoUHJpbWVSZWFjdC5ub25jZSk7XG4gICAgdmFyIGlubmVySFRNTCA9ICcnO1xuICAgIGZvciAodmFyIGJyZWFrcG9pbnQgaW4gcHJvcHMuYnJlYWtwb2ludHMpIHtcbiAgICAgIGlubmVySFRNTCArPSBcIlxcbiAgICAgICAgICAgICAgICBAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiBcIi5jb25jYXQoYnJlYWtwb2ludCwgXCIpIHtcXG4gICAgICAgICAgICAgICAgICAgIC5wLWRpYWxvZ1tcIikuY29uY2F0KGF0dHJpYnV0ZVNlbGVjdG9yLmN1cnJlbnQsIFwiXSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiKS5jb25jYXQocHJvcHMuYnJlYWtwb2ludHNbYnJlYWtwb2ludF0sIFwiICFpbXBvcnRhbnQ7XFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBcIik7XG4gICAgfVxuICAgIHN0eWxlRWxlbWVudC5jdXJyZW50LmlubmVySFRNTCA9IGlubmVySFRNTDtcbiAgfTtcbiAgdmFyIGNoYW5nZVNjcm9sbE9uTWF4aW1pemFibGUgPSBmdW5jdGlvbiBjaGFuZ2VTY3JvbGxPbk1heGltaXphYmxlKCkge1xuICAgIGlmICghcHJvcHMuYmxvY2tTY3JvbGwpIHtcbiAgICAgIHZhciBmdW5jTmFtZSA9IG1heGltaXplZCA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnO1xuICAgICAgRG9tSGFuZGxlcltmdW5jTmFtZV0oZG9jdW1lbnQuYm9keSwgJ3Atb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuICB1c2VNb3VudEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHByb3BzLnZpc2libGUpIHtcbiAgICAgIHNldE1hc2tWaXNpYmxlU3RhdGUodHJ1ZSk7XG4gICAgfVxuICAgIGlmIChwcm9wcy5icmVha3BvaW50cykge1xuICAgICAgY3JlYXRlU3R5bGUoKTtcbiAgICB9XG4gIH0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChwcm9wcy52aXNpYmxlICYmICFtYXNrVmlzaWJsZVN0YXRlKSB7XG4gICAgICBzZXRNYXNrVmlzaWJsZVN0YXRlKHRydWUpO1xuICAgIH1cbiAgICBpZiAocHJvcHMudmlzaWJsZSAhPT0gdmlzaWJsZVN0YXRlICYmIG1hc2tWaXNpYmxlU3RhdGUpIHtcbiAgICAgIHNldFZpc2libGVTdGF0ZShwcm9wcy52aXNpYmxlKTtcbiAgICB9XG4gIH0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChtYXNrVmlzaWJsZVN0YXRlKSB7XG4gICAgICBaSW5kZXhVdGlscy5zZXQoJ21vZGFsJywgbWFza1JlZi5jdXJyZW50LCBQcmltZVJlYWN0LmF1dG9aSW5kZXgsIHByb3BzLmJhc2VaSW5kZXggfHwgUHJpbWVSZWFjdC56SW5kZXhbJ21vZGFsJ10pO1xuICAgICAgc2V0VmlzaWJsZVN0YXRlKHRydWUpO1xuICAgIH1cbiAgfSwgW21hc2tWaXNpYmxlU3RhdGVdKTtcbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBjaGFuZ2VTY3JvbGxPbk1heGltaXphYmxlKCk7XG4gIH0sIFtwcm9wcy5tYXhpbWl6ZWQsIG1heGltaXplZFN0YXRlXSk7XG4gIHVzZVVubW91bnRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGRpc2FibGVEb2N1bWVudFNldHRpbmdzKCk7XG4gICAgRG9tSGFuZGxlci5yZW1vdmVJbmxpbmVTdHlsZShzdHlsZUVsZW1lbnQuY3VycmVudCk7XG4gICAgWkluZGV4VXRpbHMuY2xlYXIobWFza1JlZi5jdXJyZW50KTtcbiAgfSk7XG4gIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgIHJlc2V0UG9zaXRpb246IHJlc2V0UG9zaXRpb24sXG4gICAgICBnZXRFbGVtZW50OiBmdW5jdGlvbiBnZXRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gZGlhbG9nUmVmLmN1cnJlbnQ7XG4gICAgICB9LFxuICAgICAgZ2V0TWFzazogZnVuY3Rpb24gZ2V0TWFzaygpIHtcbiAgICAgICAgcmV0dXJuIG1hc2tSZWYuY3VycmVudDtcbiAgICAgIH0sXG4gICAgICBnZXRDb250ZW50OiBmdW5jdGlvbiBnZXRDb250ZW50KCkge1xuICAgICAgICByZXR1cm4gY29udGVudFJlZi5jdXJyZW50O1xuICAgICAgfSxcbiAgICAgIGdldEhlYWRlcjogZnVuY3Rpb24gZ2V0SGVhZGVyKCkge1xuICAgICAgICByZXR1cm4gaGVhZGVyUmVmLmN1cnJlbnQ7XG4gICAgICB9LFxuICAgICAgZ2V0Rm9vdGVyOiBmdW5jdGlvbiBnZXRGb290ZXIoKSB7XG4gICAgICAgIHJldHVybiBmb290ZXJSZWYuY3VycmVudDtcbiAgICAgIH0sXG4gICAgICBnZXRDbG9zZUJ1dHRvbjogZnVuY3Rpb24gZ2V0Q2xvc2VCdXR0b24oKSB7XG4gICAgICAgIHJldHVybiBjbG9zZVJlZi5jdXJyZW50O1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICB2YXIgY3JlYXRlQ2xvc2VJY29uID0gZnVuY3Rpb24gY3JlYXRlQ2xvc2VJY29uKCkge1xuICAgIGlmIChwcm9wcy5jbG9zYWJsZSkge1xuICAgICAgdmFyIGFyaWFMYWJlbCA9IHByb3BzLmFyaWFDbG9zZUljb25MYWJlbCB8fCBsb2NhbGVPcHRpb24oJ2Nsb3NlJyk7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICByZWY6IGNsb3NlUmVmLFxuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBjbGFzc05hbWU6IFwicC1kaWFsb2ctaGVhZGVyLWljb24gcC1kaWFsb2ctaGVhZGVyLWNsb3NlIHAtbGlua1wiLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogYXJpYUxhYmVsLFxuICAgICAgICBvbkNsaWNrOiBvbkNsb3NlXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1kaWFsb2ctaGVhZGVyLWNsb3NlLWljb24gcGkgcGktdGltZXNcIixcbiAgICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIlxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJpcHBsZSwgbnVsbCkpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZU1heGltaXplSWNvbiA9IGZ1bmN0aW9uIGNyZWF0ZU1heGltaXplSWNvbigpIHtcbiAgICB2YXIgaWNvbkNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtZGlhbG9nLWhlYWRlci1tYXhpbWl6ZS1pY29uIHBpJywge1xuICAgICAgJ3BpLXdpbmRvdy1tYXhpbWl6ZSc6ICFtYXhpbWl6ZWQsXG4gICAgICAncGktd2luZG93LW1pbmltaXplJzogbWF4aW1pemVkXG4gICAgfSk7XG4gICAgaWYgKHByb3BzLm1heGltaXphYmxlKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBjbGFzc05hbWU6IFwicC1kaWFsb2ctaGVhZGVyLWljb24gcC1kaWFsb2ctaGVhZGVyLW1heGltaXplIHAtbGlua1wiLFxuICAgICAgICBvbkNsaWNrOiB0b2dnbGVNYXhpbWl6ZVxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBpY29uQ2xhc3NOYW1lXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmlwcGxlLCBudWxsKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICB2YXIgY3JlYXRlSGVhZGVyID0gZnVuY3Rpb24gY3JlYXRlSGVhZGVyKCkge1xuICAgIGlmIChwcm9wcy5zaG93SGVhZGVyKSB7XG4gICAgICB2YXIgY2xvc2VJY29uID0gY3JlYXRlQ2xvc2VJY29uKCk7XG4gICAgICB2YXIgbWF4aW1pemVJY29uID0gY3JlYXRlTWF4aW1pemVJY29uKCk7XG4gICAgICB2YXIgaWNvbnMgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLmljb25zLCBwcm9wcyk7XG4gICAgICB2YXIgaGVhZGVyID0gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy5oZWFkZXIsIHByb3BzKTtcbiAgICAgIHZhciBoZWFkZXJJZCA9IGlkU3RhdGUgKyAnX2hlYWRlcic7XG4gICAgICB2YXIgaGVhZGVyQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1kaWFsb2ctaGVhZGVyJywgcHJvcHMuaGVhZGVyQ2xhc3NOYW1lKTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIHJlZjogaGVhZGVyUmVmLFxuICAgICAgICBzdHlsZTogcHJvcHMuaGVhZGVyU3R5bGUsXG4gICAgICAgIGNsYXNzTmFtZTogaGVhZGVyQ2xhc3NOYW1lLFxuICAgICAgICBvbk1vdXNlRG93bjogb25EcmFnU3RhcnRcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgaWQ6IGhlYWRlcklkLFxuICAgICAgICBjbGFzc05hbWU6IFwicC1kaWFsb2ctdGl0bGVcIlxuICAgICAgfSwgaGVhZGVyKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1kaWFsb2ctaGVhZGVyLWljb25zXCJcbiAgICAgIH0sIGljb25zLCBtYXhpbWl6ZUljb24sIGNsb3NlSWNvbikpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZUNvbnRlbnQgPSBmdW5jdGlvbiBjcmVhdGVDb250ZW50KCkge1xuICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWRpYWxvZy1jb250ZW50JywgcHJvcHMuY29udGVudENsYXNzTmFtZSk7XG4gICAgdmFyIGNvbnRlbnRJZCA9IGlkU3RhdGUgKyAnX2NvbnRlbnQnO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBpZDogY29udGVudElkLFxuICAgICAgcmVmOiBjb250ZW50UmVmLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBzdHlsZTogcHJvcHMuY29udGVudFN0eWxlXG4gICAgfSwgcHJvcHMuY2hpbGRyZW4pO1xuICB9O1xuICB2YXIgY3JlYXRlRm9vdGVyID0gZnVuY3Rpb24gY3JlYXRlRm9vdGVyKCkge1xuICAgIHZhciBmb290ZXIgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLmZvb3RlciwgcHJvcHMpO1xuICAgIHJldHVybiBmb290ZXIgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgcmVmOiBmb290ZXJSZWYsXG4gICAgICBjbGFzc05hbWU6IFwicC1kaWFsb2ctZm9vdGVyXCJcbiAgICB9LCBmb290ZXIpO1xuICB9O1xuICB2YXIgY3JlYXRlUmVzaXplciA9IGZ1bmN0aW9uIGNyZWF0ZVJlc2l6ZXIoKSB7XG4gICAgaWYgKHByb3BzLnJlc2l6YWJsZSkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLXJlc2l6YWJsZS1oYW5kbGVcIixcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICB6SW5kZXg6IDkwXG4gICAgICAgIH0sXG4gICAgICAgIG9uTW91c2VEb3duOiBvblJlc2l6ZVN0YXJ0XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIHZhciBjcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gY3JlYXRlRWxlbWVudCgpIHtcbiAgICB2YXIgb3RoZXJQcm9wcyA9IERpYWxvZ0Jhc2UuZ2V0T3RoZXJQcm9wcyhwcm9wcyk7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtZGlhbG9nIHAtY29tcG9uZW50JywgcHJvcHMuY2xhc3NOYW1lLCB7XG4gICAgICAncC1kaWFsb2ctcnRsJzogcHJvcHMucnRsLFxuICAgICAgJ3AtZGlhbG9nLW1heGltaXplZCc6IG1heGltaXplZCxcbiAgICAgICdwLWRpYWxvZy1kZWZhdWx0JzogIW1heGltaXplZCxcbiAgICAgICdwLWlucHV0LWZpbGxlZCc6IFByaW1lUmVhY3QuaW5wdXRTdHlsZSA9PT0gJ2ZpbGxlZCcsXG4gICAgICAncC1yaXBwbGUtZGlzYWJsZWQnOiBQcmltZVJlYWN0LnJpcHBsZSA9PT0gZmFsc2VcbiAgICB9KTtcbiAgICB2YXIgbWFza0NsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtZGlhbG9nLW1hc2snLCBnZXRQb3NpdGlvbkNsYXNzKCksIHtcbiAgICAgICdwLWNvbXBvbmVudC1vdmVybGF5IHAtY29tcG9uZW50LW92ZXJsYXktZW50ZXInOiBwcm9wcy5tb2RhbCxcbiAgICAgICdwLWRpYWxvZy12aXNpYmxlJzogbWFza1Zpc2libGVTdGF0ZSxcbiAgICAgICdwLWRpYWxvZy1kcmFnZ2FibGUnOiBwcm9wcy5kcmFnZ2FibGUsXG4gICAgICAncC1kaWFsb2ctcmVzaXphYmxlJzogcHJvcHMucmVzaXphYmxlXG4gICAgfSwgcHJvcHMubWFza0NsYXNzTmFtZSk7XG4gICAgdmFyIGhlYWRlciA9IGNyZWF0ZUhlYWRlcigpO1xuICAgIHZhciBjb250ZW50ID0gY3JlYXRlQ29udGVudCgpO1xuICAgIHZhciBmb290ZXIgPSBjcmVhdGVGb290ZXIoKTtcbiAgICB2YXIgcmVzaXplciA9IGNyZWF0ZVJlc2l6ZXIoKTtcbiAgICB2YXIgaGVhZGVySWQgPSBpZFN0YXRlICsgJ19oZWFkZXInO1xuICAgIHZhciBjb250ZW50SWQgPSBpZFN0YXRlICsgJ19jb250ZW50JztcbiAgICB2YXIgdHJhbnNpdGlvblRpbWVvdXQgPSB7XG4gICAgICBlbnRlcjogcHJvcHMucG9zaXRpb24gPT09ICdjZW50ZXInID8gMTUwIDogMzAwLFxuICAgICAgZXhpdDogcHJvcHMucG9zaXRpb24gPT09ICdjZW50ZXInID8gMTUwIDogMzAwXG4gICAgfTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgcmVmOiBtYXNrUmVmLFxuICAgICAgc3R5bGU6IHByb3BzLm1hc2tTdHlsZSxcbiAgICAgIGNsYXNzTmFtZTogbWFza0NsYXNzTmFtZSxcbiAgICAgIG9uQ2xpY2s6IG9uTWFza0NsaWNrXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1NTVHJhbnNpdGlvbiwge1xuICAgICAgbm9kZVJlZjogZGlhbG9nUmVmLFxuICAgICAgY2xhc3NOYW1lczogXCJwLWRpYWxvZ1wiLFxuICAgICAgdGltZW91dDogdHJhbnNpdGlvblRpbWVvdXQsXG4gICAgICBcImluXCI6IHZpc2libGVTdGF0ZSxcbiAgICAgIG9wdGlvbnM6IHByb3BzLnRyYW5zaXRpb25PcHRpb25zLFxuICAgICAgdW5tb3VudE9uRXhpdDogdHJ1ZSxcbiAgICAgIG9uRW50ZXI6IG9uRW50ZXIsXG4gICAgICBvbkVudGVyZWQ6IG9uRW50ZXJlZCxcbiAgICAgIG9uRXhpdGluZzogb25FeGl0aW5nLFxuICAgICAgb25FeGl0ZWQ6IG9uRXhpdGVkXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX2V4dGVuZHMoe1xuICAgICAgcmVmOiBkaWFsb2dSZWYsXG4gICAgICBpZDogaWRTdGF0ZSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgc3R5bGU6IHByb3BzLnN0eWxlLFxuICAgICAgb25DbGljazogcHJvcHMub25DbGljayxcbiAgICAgIHJvbGU6IFwiZGlhbG9nXCJcbiAgICB9LCBvdGhlclByb3BzLCB7XG4gICAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBoZWFkZXJJZCxcbiAgICAgIFwiYXJpYS1kZXNjcmliZWRieVwiOiBjb250ZW50SWQsXG4gICAgICBcImFyaWEtbW9kYWxcIjogcHJvcHMubW9kYWxcbiAgICB9KSwgaGVhZGVyLCBjb250ZW50LCBmb290ZXIsIHJlc2l6ZXIpKSk7XG4gIH07XG4gIHZhciBjcmVhdGVEaWFsb2cgPSBmdW5jdGlvbiBjcmVhdGVEaWFsb2coKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KCk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFBvcnRhbCwge1xuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgIGFwcGVuZFRvOiBwcm9wcy5hcHBlbmRUbyxcbiAgICAgIHZpc2libGU6IHRydWVcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIG1hc2tWaXNpYmxlU3RhdGUgJiYgY3JlYXRlRGlhbG9nKCk7XG59KTtcbkRpYWxvZy5kaXNwbGF5TmFtZSA9ICdEaWFsb2cnO1xuXG5leHBvcnQgeyBEaWFsb2cgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/primereact/dialog/dialog.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/dropdown/dropdown.esm.js":
/*!**********************************************************!*\
  !*** ./node_modules/primereact/dropdown/dropdown.esm.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Dropdown\": function() { return /* binding */ Dropdown; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/api */ \"./node_modules/primereact/api/api.esm.js\");\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_overlayservice__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! primereact/overlayservice */ \"./node_modules/primereact/overlayservice/overlayservice.esm.js\");\n/* harmony import */ var primereact_tooltip__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! primereact/tooltip */ \"./node_modules/primereact/tooltip/tooltip.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n/* harmony import */ var primereact_csstransition__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/csstransition */ \"./node_modules/primereact/csstransition/csstransition.esm.js\");\n/* harmony import */ var primereact_portal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/portal */ \"./node_modules/primereact/portal/portal.esm.js\");\n/* harmony import */ var primereact_virtualscroller__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/virtualscroller */ \"./node_modules/primereact/virtualscroller/virtualscroller.esm.js\");\n/* harmony import */ var primereact_ripple__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/ripple */ \"./node_modules/primereact/ripple/ripple.esm.js\");\n\n\n\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\n\nfunction _arrayLikeToArray$1(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray$1(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray$1(arr, i) || _nonIterableRest();\n}\n\nvar DropdownBase = {\n  defaultProps: {\n    __TYPE: 'Dropdown',\n    appendTo: null,\n    ariaLabel: null,\n    ariaLabelledBy: null,\n    autoFocus: false,\n    className: null,\n    clearIcon: 'pi pi-times',\n    dataKey: null,\n    disabled: false,\n    dropdownIcon: 'pi pi-chevron-down',\n    editable: false,\n    emptyFilterMessage: null,\n    emptyMessage: null,\n    filter: false,\n    filterBy: null,\n    filterInputAutoFocus: true,\n    filterLocale: undefined,\n    filterMatchMode: 'contains',\n    filterPlaceholder: null,\n    filterTemplate: null,\n    focusInputRef: null,\n    id: null,\n    inputId: null,\n    inputRef: null,\n    itemTemplate: null,\n    maxLength: null,\n    name: null,\n    onBlur: null,\n    onChange: null,\n    onContextMenu: null,\n    onFilter: null,\n    onFocus: null,\n    onHide: null,\n    onMouseDown: null,\n    onShow: null,\n    optionDisabled: null,\n    optionGroupChildren: null,\n    optionGroupLabel: null,\n    optionGroupTemplate: null,\n    optionLabel: null,\n    optionValue: null,\n    options: null,\n    panelClassName: null,\n    panelStyle: null,\n    placeholder: null,\n    required: false,\n    resetFilterOnHide: false,\n    scrollHeight: '200px',\n    showClear: false,\n    showFilterClear: false,\n    showOnFocus: false,\n    style: null,\n    tabIndex: null,\n    tooltip: null,\n    tooltipOptions: null,\n    transitionOptions: null,\n    value: null,\n    valueTemplate: null,\n    virtualScrollerOptions: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, DropdownBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, DropdownBase.defaultProps);\n  }\n};\n\nvar DropdownItem = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var onClick = function onClick(event) {\n    if (props.onClick) {\n      props.onClick({\n        originalEvent: event,\n        option: props.option\n      });\n    }\n  };\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-dropdown-item', {\n    'p-highlight': props.selected,\n    'p-disabled': props.disabled,\n    'p-dropdown-item-empty': !props.label || props.label.length === 0\n  }, props.option && props.option.className);\n  var content = props.template ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.template, props.option) : props.label;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n    className: className,\n    style: props.style,\n    onClick: onClick,\n    \"aria-label\": props.label,\n    key: props.label,\n    role: \"option\",\n    \"aria-selected\": props.selected\n  }, content, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_2__.Ripple, null));\n});\nDropdownItem.displayName = 'DropdownItem';\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar DropdownPanel = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var virtualScrollerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var filterInputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var isEmptyFilter = !(props.visibleOptions && props.visibleOptions.length) && props.hasFilter;\n  var filterOptions = {\n    filter: function filter(e) {\n      return onFilterInputChange(e);\n    },\n    reset: function reset() {\n      return props.resetFilter();\n    }\n  };\n  var onEnter = function onEnter() {\n    props.onEnter(function () {\n      if (virtualScrollerRef.current) {\n        var selectedIndex = props.getSelectedOptionIndex();\n        if (selectedIndex !== -1) {\n          setTimeout(function () {\n            return virtualScrollerRef.current.scrollToIndex(selectedIndex);\n          }, 0);\n        }\n      }\n    });\n  };\n  var onEntered = function onEntered() {\n    props.onEntered(function () {\n      if (props.filter && props.filterInputAutoFocus) {\n        primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.focus(filterInputRef.current, false);\n      }\n    });\n  };\n  var onFilterInputChange = function onFilterInputChange(event) {\n    virtualScrollerRef.current && virtualScrollerRef.current.scrollToIndex(0);\n    props.onFilterInputChange && props.onFilterInputChange(event);\n  };\n  var createGroupChildren = function createGroupChildren(optionGroup, style) {\n    var groupChildren = props.getOptionGroupChildren(optionGroup);\n    return groupChildren.map(function (option, j) {\n      var optionLabel = props.getOptionLabel(option);\n      var optionKey = j + '_' + props.getOptionRenderKey(option);\n      var disabled = props.isOptionDisabled(option);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(DropdownItem, {\n        key: optionKey,\n        label: optionLabel,\n        option: option,\n        style: style,\n        template: props.itemTemplate,\n        selected: props.isSelected(option),\n        disabled: disabled,\n        onClick: props.onOptionClick\n      });\n    });\n  };\n  var createEmptyMessage = function createEmptyMessage(emptyMessage, isFilter) {\n    var message = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(emptyMessage, props) || (0,primereact_api__WEBPACK_IMPORTED_MODULE_3__.localeOption)(isFilter ? 'emptyFilterMessage' : 'emptyMessage');\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n      className: \"p-dropdown-empty-message\"\n    }, message);\n  };\n  var createItem = function createItem(option, index) {\n    var scrollerOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var style = {\n      height: scrollerOptions.props ? scrollerOptions.props.itemSize : undefined\n    };\n    if (props.optionGroupLabel) {\n      var groupContent = props.optionGroupTemplate ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.optionGroupTemplate, option, index) : props.getOptionGroupLabel(option);\n      var groupChildrenContent = createGroupChildren(option, style);\n      var key = index + '_' + props.getOptionGroupRenderKey(option);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        key: key\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n        className: \"p-dropdown-item-group\",\n        style: style\n      }, groupContent), groupChildrenContent);\n    } else {\n      var optionLabel = props.getOptionLabel(option);\n      var optionKey = index + '_' + props.getOptionRenderKey(option);\n      var disabled = props.isOptionDisabled(option);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(DropdownItem, {\n        key: optionKey,\n        label: optionLabel,\n        option: option,\n        style: style,\n        template: props.itemTemplate,\n        selected: props.isSelected(option),\n        disabled: disabled,\n        onClick: props.onOptionClick\n      });\n    }\n  };\n  var createItems = function createItems() {\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(props.visibleOptions)) {\n      return props.visibleOptions.map(createItem);\n    } else if (props.hasFilter) {\n      return createEmptyMessage(props.emptyFilterMessage, true);\n    }\n    return createEmptyMessage(props.emptyMessage);\n  };\n  var createFilterClearIcon = function createFilterClearIcon() {\n    if (props.showFilterClear && props.filterValue) {\n      var ariaLabel = (0,primereact_api__WEBPACK_IMPORTED_MODULE_3__.localeOption)('clear');\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: \"p-dropdown-filter-clear-icon pi pi-times\",\n        \"aria-label\": ariaLabel,\n        onClick: function onClick() {\n          return props.onFilterClearIconClick(function () {\n            return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.focus(filterInputRef.current);\n          });\n        }\n      });\n    }\n    return null;\n  };\n  var createFilter = function createFilter() {\n    if (props.filter) {\n      var clearIcon = createFilterClearIcon();\n      var containerClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-dropdown-filter-container', {\n        'p-dropdown-clearable-filter': !!clearIcon\n      });\n      var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: containerClassName\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n        ref: filterInputRef,\n        type: \"text\",\n        autoComplete: \"off\",\n        className: \"p-dropdown-filter p-inputtext p-component\",\n        placeholder: props.filterPlaceholder,\n        onKeyDown: props.onFilterInputKeyDown,\n        onChange: onFilterInputChange,\n        value: props.filterValue\n      }), clearIcon, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: \"p-dropdown-filter-icon pi pi-search\"\n      }));\n      if (props.filterTemplate) {\n        var defaultContentOptions = {\n          className: containerClassName,\n          element: content,\n          filterOptions: filterOptions,\n          filterInputKeyDown: props.onFilterInputKeyDown,\n          filterInputChange: onFilterInputChange,\n          filterIconClassName: 'p-dropdown-filter-icon pi pi-search',\n          clearIcon: clearIcon,\n          props: props\n        };\n        content = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.filterTemplate, defaultContentOptions);\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-dropdown-header\"\n      }, content);\n    }\n    return null;\n  };\n  var createContent = function createContent() {\n    if (props.virtualScrollerOptions) {\n      var virtualScrollerProps = _objectSpread$1(_objectSpread$1({}, props.virtualScrollerOptions), {\n        style: _objectSpread$1(_objectSpread$1({}, props.virtualScrollerOptions.style), {\n          height: props.scrollHeight\n        }),\n        className: (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-dropdown-items-wrapper', props.virtualScrollerOptions.className),\n        items: props.visibleOptions,\n        autoSize: true,\n        onLazyLoad: function onLazyLoad(event) {\n          return props.virtualScrollerOptions.onLazyLoad(_objectSpread$1(_objectSpread$1({}, event), {\n            filter: props.filterValue\n          }));\n        },\n        itemTemplate: function itemTemplate(item, options) {\n          return item && createItem(item, options.index, options);\n        },\n        contentTemplate: function contentTemplate(options) {\n          var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-dropdown-items', options.className);\n          var content = isEmptyFilter ? createEmptyMessage() : options.children;\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", {\n            ref: options.contentRef,\n            style: options.style,\n            className: className,\n            role: \"listbox\"\n          }, content);\n        }\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_virtualscroller__WEBPACK_IMPORTED_MODULE_4__.VirtualScroller, _extends({\n        ref: virtualScrollerRef\n      }, virtualScrollerProps));\n    } else {\n      var items = createItems();\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-dropdown-items-wrapper\",\n        style: {\n          maxHeight: props.scrollHeight || 'auto'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", {\n        className: \"p-dropdown-items\",\n        role: \"listbox\"\n      }, items));\n    }\n  };\n  var createElement = function createElement() {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-dropdown-panel p-component', props.panelClassName, {\n      'p-input-filled': primereact_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].inputStyle === 'filled',\n      'p-ripple-disabled': primereact_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ripple === false\n    });\n    var filter = createFilter();\n    var content = createContent();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_csstransition__WEBPACK_IMPORTED_MODULE_5__.CSSTransition, {\n      nodeRef: ref,\n      classNames: \"p-connected-overlay\",\n      \"in\": props[\"in\"],\n      timeout: {\n        enter: 120,\n        exit: 100\n      },\n      options: props.transitionOptions,\n      unmountOnExit: true,\n      onEnter: onEnter,\n      onEntering: props.onEntering,\n      onEntered: onEntered,\n      onExit: props.onExit,\n      onExited: props.onExited\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      ref: ref,\n      className: className,\n      style: props.panelStyle,\n      onClick: props.onClick\n    }, filter, content));\n  };\n  var element = createElement();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_portal__WEBPACK_IMPORTED_MODULE_6__.Portal, {\n    element: element,\n    appendTo: props.appendTo\n  });\n}));\nDropdownPanel.displayName = 'DropdownPanel';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar Dropdown = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (inProps, ref) {\n  var props = DropdownBase.getProps(inProps);\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(''),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    filterState = _React$useState2[0],\n    setFilterState = _React$useState2[1];\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    focusedState = _React$useState4[0],\n    setFocusedState = _React$useState4[1];\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    overlayVisibleState = _React$useState6[0],\n    setOverlayVisibleState = _React$useState6[1];\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var overlayRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var inputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(props.inputRef);\n  var focusInputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(props.focusInputRef);\n  var searchTimeout = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var searchValue = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var currentSearchChar = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var isLazy = props.virtualScrollerOptions && props.virtualScrollerOptions.lazy;\n  var hasFilter = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(filterState);\n  var appendTo = props.appendTo || primereact_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].appendTo;\n  var _useOverlayListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_7__.useOverlayListener)({\n      target: elementRef,\n      overlay: overlayRef,\n      listener: function listener(event, _ref) {\n        var type = _ref.type,\n          valid = _ref.valid;\n        if (valid) {\n          type === 'outside' ? !isClearClicked(event) && hide() : hide();\n        }\n      },\n      when: overlayVisibleState\n    }),\n    _useOverlayListener2 = _slicedToArray(_useOverlayListener, 2),\n    bindOverlayListener = _useOverlayListener2[0],\n    unbindOverlayListener = _useOverlayListener2[1];\n  var getVisibleOptions = function getVisibleOptions() {\n    if (hasFilter && !isLazy) {\n      var filterValue = filterState.trim().toLocaleLowerCase(props.filterLocale);\n      var searchFields = props.filterBy ? props.filterBy.split(',') : [props.optionLabel || 'label'];\n      if (props.optionGroupLabel) {\n        var filteredGroups = [];\n        var _iterator = _createForOfIteratorHelper(props.options),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var optgroup = _step.value;\n            var filteredSubOptions = primereact_api__WEBPACK_IMPORTED_MODULE_3__.FilterService.filter(getOptionGroupChildren(optgroup), searchFields, filterValue, props.filterMatchMode, props.filterLocale);\n            if (filteredSubOptions && filteredSubOptions.length) {\n              filteredGroups.push(_objectSpread(_objectSpread({}, optgroup), {\n                items: filteredSubOptions\n              }));\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        return filteredGroups;\n      } else {\n        return primereact_api__WEBPACK_IMPORTED_MODULE_3__.FilterService.filter(props.options, searchFields, filterValue, props.filterMatchMode, props.filterLocale);\n      }\n    } else {\n      return props.options;\n    }\n  };\n  var isClearClicked = function isClearClicked(event) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(event.target, 'p-dropdown-clear-icon') || primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(event.target, 'p-dropdown-filter-clear-icon');\n  };\n  var onClick = function onClick(event) {\n    if (props.disabled) {\n      return;\n    }\n    props.onClick && props.onClick(event);\n\n    // do not continue if the user defined click wants to prevent it\n    if (event.defaultPrevented) {\n      return;\n    }\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(event.target, 'p-dropdown-clear-icon') || event.target.tagName === 'INPUT') {\n      return;\n    } else if (!overlayRef.current || !(overlayRef.current && overlayRef.current.contains(event.target))) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.focus(focusInputRef.current);\n      overlayVisibleState ? hide() : show();\n    }\n  };\n  var onInputFocus = function onInputFocus(event) {\n    if (props.showOnFocus && !overlayVisibleState) {\n      show();\n    }\n    setFocusedState(true);\n    props.onFocus && props.onFocus(event);\n  };\n  var onInputBlur = function onInputBlur(event) {\n    setFocusedState(false);\n    if (props.onBlur) {\n      setTimeout(function () {\n        var currentValue = inputRef.current ? inputRef.current.value : undefined;\n        props.onBlur({\n          originalEvent: event.originalEvent,\n          value: currentValue,\n          stopPropagation: function stopPropagation() {},\n          preventDefault: function preventDefault() {},\n          target: {\n            name: props.name,\n            id: props.id,\n            value: currentValue\n          }\n        });\n      }, 200);\n    }\n  };\n  var onPanelClick = function onPanelClick(event) {\n    primereact_overlayservice__WEBPACK_IMPORTED_MODULE_8__.OverlayService.emit('overlay-click', {\n      originalEvent: event,\n      target: elementRef.current\n    });\n  };\n  var onInputKeyDown = function onInputKeyDown(event) {\n    switch (event.which) {\n      //down\n      case 40:\n        onDownKey(event);\n        break;\n\n      //up\n      case 38:\n        onUpKey(event);\n        break;\n\n      //space and enter\n      case 32:\n      case 13:\n        overlayVisibleState ? hide() : show();\n        event.preventDefault();\n        break;\n\n      //escape and tab\n      case 27:\n      case 9:\n        hide();\n        break;\n      default:\n        search(event);\n        break;\n    }\n  };\n  var onFilterInputKeyDown = function onFilterInputKeyDown(event) {\n    switch (event.which) {\n      //down\n      case 40:\n        onDownKey(event);\n        break;\n\n      //up\n      case 38:\n        onUpKey(event);\n        break;\n\n      //enter and escape\n      case 13:\n      case 27:\n        hide();\n        event.preventDefault();\n        break;\n    }\n  };\n  var onUpKey = function onUpKey(event) {\n    if (visibleOptions) {\n      var prevOption = findPrevOption(getSelectedOptionIndex());\n      if (prevOption) {\n        selectItem({\n          originalEvent: event,\n          option: prevOption\n        });\n      }\n    }\n    event.preventDefault();\n  };\n  var onDownKey = function onDownKey(event) {\n    if (visibleOptions) {\n      if (!overlayVisibleState && event.altKey) {\n        show();\n      } else {\n        var nextOption = findNextOption(getSelectedOptionIndex());\n        if (nextOption) {\n          selectItem({\n            originalEvent: event,\n            option: nextOption\n          });\n        }\n      }\n    }\n    event.preventDefault();\n  };\n  var findNextOption = function findNextOption(index) {\n    if (props.optionGroupLabel) {\n      var groupIndex = index === -1 ? 0 : index.group;\n      var optionIndex = index === -1 ? -1 : index.option;\n      var option = findNextOptionInList(getOptionGroupChildren(visibleOptions[groupIndex]), optionIndex);\n      if (option) return option;else if (groupIndex + 1 !== visibleOptions.length) return findNextOption({\n        group: groupIndex + 1,\n        option: -1\n      });else return null;\n    }\n    return findNextOptionInList(visibleOptions, index);\n  };\n  var findNextOptionInList = function findNextOptionInList(list, index) {\n    var i = index + 1;\n    if (i === list.length) {\n      return null;\n    }\n    var option = list[i];\n    return isOptionDisabled(option) ? findNextOptionInList(i) : option;\n  };\n  var findPrevOption = function findPrevOption(index) {\n    if (index === -1) {\n      return null;\n    }\n    if (props.optionGroupLabel) {\n      var groupIndex = index.group;\n      var optionIndex = index.option;\n      var option = findPrevOptionInList(getOptionGroupChildren(visibleOptions[groupIndex]), optionIndex);\n      if (option) return option;else if (groupIndex > 0) return findPrevOption({\n        group: groupIndex - 1,\n        option: getOptionGroupChildren(visibleOptions[groupIndex - 1]).length\n      });else return null;\n    }\n    return findPrevOptionInList(visibleOptions, index);\n  };\n  var findPrevOptionInList = function findPrevOptionInList(list, index) {\n    var i = index - 1;\n    if (i < 0) {\n      return null;\n    }\n    var option = list[i];\n    return isOptionDisabled(option) ? findPrevOption(i) : option;\n  };\n  var search = function search(event) {\n    if (searchTimeout.current) {\n      clearTimeout(searchTimeout.current);\n    }\n    var _char = event.key;\n    if (_char === 'Shift' || _char === 'Control' || _char === 'Alt') {\n      return;\n    }\n    if (currentSearchChar.current === _char) searchValue.current = _char;else searchValue.current = searchValue.current ? searchValue.current + _char : _char;\n    currentSearchChar.current = _char;\n    if (searchValue.current) {\n      var searchIndex = getSelectedOptionIndex();\n      var newOption = props.optionGroupLabel ? searchOptionInGroup(searchIndex) : searchOption(searchIndex + 1);\n      if (newOption) {\n        selectItem({\n          originalEvent: event,\n          option: newOption\n        });\n      }\n    }\n    searchTimeout.current = setTimeout(function () {\n      searchValue.current = null;\n    }, 250);\n  };\n  var searchOption = function searchOption(index) {\n    if (searchValue.current) {\n      return searchOptionInRange(index, visibleOptions.length) || searchOptionInRange(0, index);\n    }\n    return null;\n  };\n  var searchOptionInRange = function searchOptionInRange(start, end) {\n    for (var i = start; i < end; i++) {\n      var opt = visibleOptions[i];\n      if (matchesSearchValue(opt)) {\n        return opt;\n      }\n    }\n    return null;\n  };\n  var searchOptionInGroup = function searchOptionInGroup(index) {\n    var searchIndex = index === -1 ? {\n      group: 0,\n      option: -1\n    } : index;\n    for (var i = searchIndex.group; i < visibleOptions.length; i++) {\n      var groupOptions = getOptionGroupChildren(visibleOptions[i]);\n      for (var j = searchIndex.group === i ? searchIndex.option + 1 : 0; j < groupOptions.length; j++) {\n        if (matchesSearchValue(groupOptions[j])) {\n          return groupOptions[j];\n        }\n      }\n    }\n    for (var _i = 0; _i <= searchIndex.group; _i++) {\n      var _groupOptions = getOptionGroupChildren(visibleOptions[_i]);\n      for (var _j = 0; _j < (searchIndex.group === _i ? searchIndex.option : _groupOptions.length); _j++) {\n        if (matchesSearchValue(_groupOptions[_j])) {\n          return _groupOptions[_j];\n        }\n      }\n    }\n    return null;\n  };\n  var matchesSearchValue = function matchesSearchValue(option) {\n    var label = getOptionLabel(option);\n    if (!label) {\n      return false;\n    }\n    label = label.toLocaleLowerCase(props.filterLocale);\n    return label.startsWith(searchValue.current.toLocaleLowerCase(props.filterLocale));\n  };\n  var onEditableInputChange = function onEditableInputChange(event) {\n    if (props.onChange) {\n      props.onChange({\n        originalEvent: event.originalEvent,\n        value: event.target.value,\n        stopPropagation: function stopPropagation() {},\n        preventDefault: function preventDefault() {},\n        target: {\n          name: props.name,\n          id: props.id,\n          value: event.target.value\n        }\n      });\n    }\n  };\n  var onEditableInputFocus = function onEditableInputFocus(event) {\n    setFocusedState(true);\n    hide();\n    props.onFocus && props.onFocus(event);\n  };\n  var onOptionClick = function onOptionClick(event) {\n    var option = event.option;\n    if (!option.disabled) {\n      selectItem(event);\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.focus(focusInputRef.current);\n    }\n    hide();\n  };\n  var onFilterInputChange = function onFilterInputChange(event) {\n    var filter = event.target.value;\n    setFilterState(filter);\n    if (props.onFilter) {\n      props.onFilter({\n        originalEvent: event,\n        filter: filter\n      });\n    }\n  };\n  var onFilterClearIconClick = function onFilterClearIconClick(callback) {\n    resetFilter(callback);\n  };\n  var resetFilter = function resetFilter(callback) {\n    setFilterState('');\n    props.onFilter && props.onFilter({\n      filter: ''\n    });\n    callback && callback();\n  };\n  var clear = function clear(event) {\n    if (props.onChange) {\n      props.onChange({\n        originalEvent: event,\n        value: undefined,\n        stopPropagation: function stopPropagation() {},\n        preventDefault: function preventDefault() {},\n        target: {\n          name: props.name,\n          id: props.id,\n          value: undefined\n        }\n      });\n    }\n    updateEditableLabel();\n  };\n  var selectItem = function selectItem(event) {\n    if (selectedOption !== event.option) {\n      updateEditableLabel(event.option);\n      var optionValue = getOptionValue(event.option);\n      if (props.onChange) {\n        props.onChange({\n          originalEvent: event.originalEvent,\n          value: optionValue,\n          stopPropagation: function stopPropagation() {},\n          preventDefault: function preventDefault() {},\n          target: {\n            name: props.name,\n            id: props.id,\n            value: optionValue\n          }\n        });\n      }\n    }\n  };\n  var getSelectedOptionIndex = function getSelectedOptionIndex(options) {\n    options = options || visibleOptions;\n    if (props.value != null && options) {\n      if (props.optionGroupLabel) {\n        for (var i = 0; i < options.length; i++) {\n          var selectedOptionIndex = findOptionIndexInList(props.value, getOptionGroupChildren(options[i]));\n          if (selectedOptionIndex !== -1) {\n            return {\n              group: i,\n              option: selectedOptionIndex\n            };\n          }\n        }\n      } else {\n        return findOptionIndexInList(props.value, options);\n      }\n    }\n    return -1;\n  };\n  var equalityKey = function equalityKey() {\n    return props.optionValue ? null : props.dataKey;\n  };\n  var findOptionIndexInList = function findOptionIndexInList(value, list) {\n    var key = equalityKey();\n    return list.findIndex(function (item) {\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.equals(value, getOptionValue(item), key);\n    });\n  };\n  var isSelected = function isSelected(option) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.equals(props.value, getOptionValue(option), equalityKey());\n  };\n  var show = function show() {\n    setOverlayVisibleState(true);\n  };\n  var hide = function hide() {\n    setOverlayVisibleState(false);\n  };\n  var onOverlayEnter = function onOverlayEnter(callback) {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ZIndexUtils.set('overlay', overlayRef.current, primereact_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].autoZIndex, primereact_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].zIndex.overlay);\n    alignOverlay();\n    callback && callback();\n  };\n  var onOverlayEntered = function onOverlayEntered(callback) {\n    callback && callback();\n    bindOverlayListener();\n    props.onShow && props.onShow();\n  };\n  var onOverlayExit = function onOverlayExit() {\n    unbindOverlayListener();\n  };\n  var onOverlayExited = function onOverlayExited() {\n    if (props.filter && props.resetFilterOnHide) {\n      resetFilter();\n    }\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ZIndexUtils.clear(overlayRef.current);\n    props.onHide && props.onHide();\n  };\n  var alignOverlay = function alignOverlay() {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.alignOverlay(overlayRef.current, inputRef.current.parentElement, props.appendTo || primereact_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].appendTo);\n  };\n  var scrollInView = function scrollInView() {\n    var highlightItem = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.findSingle(overlayRef.current, 'li.p-highlight');\n    if (highlightItem && highlightItem.scrollIntoView) {\n      highlightItem.scrollIntoView({\n        block: 'nearest',\n        inline: 'nearest'\n      });\n    }\n  };\n  var updateEditableLabel = function updateEditableLabel(option) {\n    if (inputRef.current) {\n      inputRef.current.value = option ? getOptionLabel(option) : props.value || '';\n    }\n  };\n  var getOptionLabel = function getOptionLabel(option) {\n    return props.optionLabel ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(option, props.optionLabel) : option && option['label'] !== undefined ? option['label'] : option;\n  };\n  var getOptionValue = function getOptionValue(option) {\n    return props.optionValue ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(option, props.optionValue) : option && option['value'] !== undefined ? option['value'] : option;\n  };\n  var getOptionRenderKey = function getOptionRenderKey(option) {\n    return props.dataKey ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(option, props.dataKey) : getOptionLabel(option);\n  };\n  var isOptionDisabled = function isOptionDisabled(option) {\n    if (props.optionDisabled) {\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isFunction(props.optionDisabled) ? props.optionDisabled(option) : primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(option, props.optionDisabled);\n    }\n    return option && option['disabled'] !== undefined ? option['disabled'] : false;\n  };\n  var getOptionGroupRenderKey = function getOptionGroupRenderKey(optionGroup) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(optionGroup, props.optionGroupLabel);\n  };\n  var getOptionGroupLabel = function getOptionGroupLabel(optionGroup) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(optionGroup, props.optionGroupLabel);\n  };\n  var getOptionGroupChildren = function getOptionGroupChildren(optionGroup) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(optionGroup, props.optionGroupChildren);\n  };\n  var updateInputField = function updateInputField() {\n    if (props.editable && inputRef.current) {\n      var label = selectedOption ? getOptionLabel(selectedOption) : null;\n      var value = label || props.value || '';\n      inputRef.current.value = value;\n    }\n  };\n  var getSelectedOption = function getSelectedOption() {\n    var index = getSelectedOptionIndex(props.options);\n    return index !== -1 ? props.optionGroupLabel ? getOptionGroupChildren(props.options[index.group])[index.option] : props.options[index] : null;\n  };\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      show: show,\n      hide: hide,\n      focus: function focus() {\n        return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.focus(focusInputRef.current);\n      },\n      getElement: function getElement() {\n        return elementRef.current;\n      },\n      getOverlay: function getOverlay() {\n        return overlayRef.current;\n      },\n      getInput: function getInput() {\n        return inputRef.current;\n      },\n      getFocusInput: function getFocusInput() {\n        return focusInputRef.current;\n      }\n    };\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.combinedRefs(inputRef, props.inputRef);\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.combinedRefs(focusInputRef, props.focusInputRef);\n  }, [inputRef, props.inputRef, focusInputRef, props.focusInputRef]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_7__.useMountEffect)(function () {\n    if (props.autoFocus) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.focus(focusInputRef.current, props.autoFocus);\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_7__.useUpdateEffect)(function () {\n    if (overlayVisibleState && props.value) {\n      scrollInView();\n    }\n  }, [overlayVisibleState, props.value]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_7__.useUpdateEffect)(function () {\n    if (overlayVisibleState && filterState && props.filter) {\n      alignOverlay();\n    }\n  }, [overlayVisibleState, filterState, props.filter]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_7__.useUpdateEffect)(function () {\n    if (filterState && (!props.options || props.options.length === 0)) {\n      setFilterState('');\n    }\n    updateInputField();\n    if (inputRef.current) {\n      inputRef.current.selectedIndex = 1;\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_7__.useUnmountEffect)(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ZIndexUtils.clear(overlayRef.current);\n  });\n  var createHiddenSelect = function createHiddenSelect() {\n    var option = {\n      value: '',\n      label: props.placeholder\n    };\n    if (selectedOption) {\n      var optionValue = getOptionValue(selectedOption);\n      option = {\n        value: _typeof(optionValue) === 'object' ? props.options.findIndex(function (o) {\n          return o === optionValue;\n        }) : optionValue,\n        label: getOptionLabel(selectedOption)\n      };\n    }\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-hidden-accessible p-dropdown-hidden-select\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"select\", {\n      ref: inputRef,\n      required: props.required,\n      defaultValue: option.value,\n      name: props.name,\n      tabIndex: -1,\n      \"aria-hidden\": \"true\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"option\", {\n      value: option.value\n    }, option.label)));\n  };\n  var createKeyboardHelper = function createKeyboardHelper() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-hidden-accessible\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", _extends({\n      ref: focusInputRef,\n      id: props.inputId,\n      type: \"text\",\n      readOnly: true,\n      \"aria-haspopup\": \"listbox\",\n      onFocus: onInputFocus,\n      onBlur: onInputBlur,\n      onKeyDown: onInputKeyDown,\n      disabled: props.disabled,\n      tabIndex: props.tabIndex\n    }, ariaProps)));\n  };\n  var createLabel = function createLabel() {\n    var label = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(selectedOption) ? getOptionLabel(selectedOption) : null;\n    if (props.editable) {\n      var value = label || props.value || '';\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", _extends({\n        ref: inputRef,\n        type: \"text\",\n        defaultValue: value,\n        className: \"p-dropdown-label p-inputtext\",\n        disabled: props.disabled,\n        placeholder: props.placeholder,\n        maxLength: props.maxLength,\n        onInput: onEditableInputChange,\n        onFocus: onEditableInputFocus,\n        onBlur: onInputBlur,\n        \"aria-haspopup\": \"listbox\"\n      }, ariaProps));\n    } else {\n      var _className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-dropdown-label p-inputtext', {\n        'p-placeholder': label === null && props.placeholder,\n        'p-dropdown-label-empty': label === null && !props.placeholder\n      });\n      var content = props.valueTemplate ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.valueTemplate, selectedOption, props) : label || props.placeholder || 'empty';\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        ref: inputRef,\n        className: _className\n      }, content);\n    }\n  };\n  var createClearIcon = function createClearIcon() {\n    if (props.value != null && props.showClear && !props.disabled) {\n      var iconClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-dropdown-clear-icon p-clickable');\n      var iconProps = {\n        className: iconClassName,\n        onPointerUp: clear\n      };\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.IconUtils.getJSXIcon(props.clearIcon, iconProps);\n    }\n    return null;\n  };\n  var createDropdownIcon = function createDropdownIcon() {\n    var iconClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-dropdown-trigger-icon p-clickable');\n    var icon = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.IconUtils.getJSXIcon(props.dropdownIcon, {\n      className: iconClassName\n    });\n    var ariaLabel = props.placeholder || props.ariaLabel;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-dropdown-trigger\",\n      role: \"button\",\n      \"aria-haspopup\": \"listbox\",\n      \"aria-expanded\": overlayVisibleState,\n      \"aria-label\": ariaLabel\n    }, icon);\n  };\n  var visibleOptions = getVisibleOptions();\n  var selectedOption = getSelectedOption();\n  var hasTooltip = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(props.tooltip);\n  var otherProps = DropdownBase.getOtherProps(props);\n  var ariaProps = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.reduceKeys(otherProps, primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.ARIA_PROPS);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-dropdown p-component p-inputwrapper', {\n    'p-disabled': props.disabled,\n    'p-focus': focusedState,\n    'p-dropdown-clearable': props.showClear && !props.disabled,\n    'p-inputwrapper-filled': primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(props.value),\n    'p-inputwrapper-focus': focusedState || overlayVisibleState\n  }, props.className);\n  var hiddenSelect = createHiddenSelect();\n  var keyboardHelper = createKeyboardHelper();\n  var labelElement = createLabel();\n  var dropdownIcon = createDropdownIcon();\n  var clearIcon = createClearIcon();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n    ref: elementRef,\n    id: props.id,\n    className: className,\n    style: props.style\n  }, otherProps, {\n    onClick: onClick,\n    onMouseDown: props.onMouseDown,\n    onContextMenu: props.onContextMenu\n  }), keyboardHelper, hiddenSelect, labelElement, clearIcon, dropdownIcon, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(DropdownPanel, _extends({\n    ref: overlayRef,\n    visibleOptions: visibleOptions\n  }, props, {\n    appendTo: appendTo,\n    onClick: onPanelClick,\n    onOptionClick: onOptionClick,\n    filterValue: filterState,\n    hasFilter: hasFilter,\n    onFilterClearIconClick: onFilterClearIconClick,\n    resetFilter: resetFilter,\n    onFilterInputKeyDown: onFilterInputKeyDown,\n    onFilterInputChange: onFilterInputChange,\n    getOptionLabel: getOptionLabel,\n    getOptionRenderKey: getOptionRenderKey,\n    isOptionDisabled: isOptionDisabled,\n    getOptionGroupChildren: getOptionGroupChildren,\n    getOptionGroupLabel: getOptionGroupLabel,\n    getOptionGroupRenderKey: getOptionGroupRenderKey,\n    isSelected: isSelected,\n    getSelectedOptionIndex: getSelectedOptionIndex,\n    \"in\": overlayVisibleState,\n    onEnter: onOverlayEnter,\n    onEntered: onOverlayEntered,\n    onExit: onOverlayExit,\n    onExited: onOverlayExited\n  }))), hasTooltip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_tooltip__WEBPACK_IMPORTED_MODULE_9__.Tooltip, _extends({\n    target: elementRef,\n    content: props.tooltip\n  }, props.tooltipOptions)));\n}));\nDropdown.displayName = 'Dropdown';\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9kcm9wZG93bi9kcm9wZG93bi5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQStCO0FBQzBDO0FBQ2dDO0FBQzlDO0FBQ2Q7QUFDa0Q7QUFDdEM7QUFDZDtBQUNrQjtBQUNsQjs7QUFFM0M7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLFlBQVksNkVBQTZFO0FBQ2pHLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUNBQXlDLFNBQVM7QUFDbEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFdBQVcsd0VBQTBCO0FBQ3JDLEdBQUc7QUFDSDtBQUNBLFdBQVcsc0VBQXdCO0FBQ25DO0FBQ0E7O0FBRUEsZ0NBQWdDLHVDQUFVO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLGtCQUFrQiw0REFBVTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsaUNBQWlDLHVFQUF5QjtBQUMxRCxzQkFBc0IsZ0RBQW1CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyx3QkFBd0IsZ0RBQW1CLENBQUMscURBQU07QUFDckQsQ0FBQztBQUNEOztBQUVBLDZDQUE2QyxnQ0FBZ0Msb0NBQW9DLG9EQUFvRCw2REFBNkQsaUVBQWlFLHNDQUFzQztBQUN6VSxtQ0FBbUMsZ0JBQWdCLHNCQUFzQixPQUFPLHVEQUF1RCwrREFBK0QsNENBQTRDLHNLQUFzSyxtRkFBbUYsS0FBSztBQUNoZixpQ0FBaUMsdUNBQVUsZUFBZSw2Q0FBZ0I7QUFDMUUsMkJBQTJCLHlDQUFZO0FBQ3ZDLHVCQUF1Qix5Q0FBWTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDhEQUFnQjtBQUN4QjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGdEQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0JBQWtCLHVFQUF5Qix5QkFBeUIsNERBQVk7QUFDaEYsd0JBQXdCLGdEQUFtQjtBQUMzQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCx1RUFBeUI7QUFDOUU7QUFDQTtBQUNBLDBCQUEwQixnREFBbUIsQ0FBQywyQ0FBYztBQUM1RDtBQUNBLE9BQU8sZUFBZSxnREFBbUI7QUFDekM7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGdEQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0VBQXNCO0FBQzlCO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0REFBWTtBQUNsQywwQkFBMEIsZ0RBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDhEQUFnQjtBQUNuQyxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDREQUFVO0FBQ3pDO0FBQ0EsT0FBTztBQUNQLGlDQUFpQyxnREFBbUI7QUFDcEQ7QUFDQSxPQUFPLGVBQWUsZ0RBQW1CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLDJCQUEyQixnREFBbUI7QUFDckQ7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1RUFBeUI7QUFDM0M7QUFDQSwwQkFBMEIsZ0RBQW1CO0FBQzdDO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUU7QUFDbkUsaURBQWlEO0FBQ2pEO0FBQ0EsU0FBUztBQUNULG1CQUFtQiw0REFBVTtBQUM3QjtBQUNBO0FBQ0E7QUFDQSwyRkFBMkY7QUFDM0Y7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSwwQkFBMEIsNERBQVU7QUFDcEM7QUFDQSw4QkFBOEIsZ0RBQW1CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQLDBCQUEwQixnREFBbUIsQ0FBQyx1RUFBZTtBQUM3RDtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQSwwQkFBMEIsZ0RBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxlQUFlLGdEQUFtQjtBQUN6QztBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0REFBVTtBQUM5Qix3QkFBd0IsaUVBQXFCO0FBQzdDLDJCQUEyQiw2REFBaUI7QUFDNUMsS0FBSztBQUNMO0FBQ0E7QUFDQSx3QkFBd0IsZ0RBQW1CLENBQUMsbUVBQWE7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxlQUFlLGdEQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esc0JBQXNCLGdEQUFtQixDQUFDLHFEQUFNO0FBQ2hEO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEOztBQUVBLDJDQUEyQyxnQ0FBZ0Msb0NBQW9DLG9EQUFvRCw2REFBNkQsaUVBQWlFLHNDQUFzQztBQUN2VSxpQ0FBaUMsZ0JBQWdCLHNCQUFzQixPQUFPLHVEQUF1RCw2REFBNkQsNENBQTRDLG9LQUFvSyxtRkFBbUYsS0FBSztBQUMxZSx5REFBeUQsaUZBQWlGLFdBQVcsd0hBQXdILGdCQUFnQixXQUFXLHlCQUF5QixTQUFTLHdCQUF3Qiw0QkFBNEIsY0FBYyxTQUFTLCtCQUErQixzQkFBc0IsV0FBVyxZQUFZLGdLQUFnSyxrREFBa0QsU0FBUyxrQkFBa0Isa0JBQWtCLG9CQUFvQixzQkFBc0IsOEJBQThCLGNBQWMsdUJBQXVCLGVBQWUsWUFBWSxvQkFBb0IsTUFBTSxpRUFBaUUsVUFBVTtBQUM3OEIsa0RBQWtELGdCQUFnQixnRUFBZ0Usd0RBQXdELDZEQUE2RCxzREFBc0Q7QUFDN1MsdUNBQXVDLHVEQUF1RCx1Q0FBdUMsU0FBUyx1QkFBdUI7QUFDckssNEJBQTRCLHVDQUFVLGVBQWUsNkNBQWdCO0FBQ3JFO0FBQ0Esd0JBQXdCLDJDQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwyQ0FBYztBQUN2QztBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMkNBQWM7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlDQUFZO0FBQy9CLG1CQUFtQix5Q0FBWTtBQUMvQixpQkFBaUIseUNBQVk7QUFDN0Isc0JBQXNCLHlDQUFZO0FBQ2xDLHNCQUFzQix5Q0FBWTtBQUNsQyxvQkFBb0IseUNBQVk7QUFDaEMsMEJBQTBCLHlDQUFZO0FBQ3RDO0FBQ0Esa0JBQWtCLG9FQUFzQjtBQUN4QyxtQ0FBbUMsK0RBQW1CO0FBQ3RELDRCQUE0QixvRUFBa0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsOEJBQThCO0FBQzVEO0FBQ0EscUNBQXFDLGdFQUFvQjtBQUN6RDtBQUNBLGdFQUFnRTtBQUNoRTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixlQUFlLGdFQUFvQjtBQUNuQztBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUVBQW1CLDJDQUEyQyxpRUFBbUI7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBbUI7QUFDM0I7QUFDQSxNQUFNO0FBQ04sTUFBTSw4REFBZ0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hELHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxJQUFJLDBFQUFtQjtBQUN2QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQSxPQUFPLEVBQUU7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0EsT0FBTyxFQUFFO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUU7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFNBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixvQ0FBb0MsMkJBQTJCO0FBQy9EO0FBQ0EseUVBQXlFLHlCQUF5QjtBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHlCQUF5QjtBQUM5QztBQUNBLHVCQUF1Qiw2RUFBNkU7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RCxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSw4REFBZ0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3RELG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQsc0RBQXNEO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0JBQW9CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0VBQWtCO0FBQy9CLEtBQUs7QUFDTDtBQUNBO0FBQ0EsV0FBVyxnRUFBa0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksNkRBQWUsZ0NBQWdDLGlFQUFxQixFQUFFLHFFQUE0QjtBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLCtEQUFpQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxJQUFJLHFFQUF1Qix1RUFBdUUsK0RBQW1CO0FBQ3JIO0FBQ0E7QUFDQSx3QkFBd0IsbUVBQXFCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMEVBQTRCO0FBQzNEO0FBQ0E7QUFDQSwrQkFBK0IsMEVBQTRCO0FBQzNEO0FBQ0E7QUFDQSwyQkFBMkIsMEVBQTRCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLGFBQWEsb0VBQXNCLHdEQUF3RCwwRUFBNEI7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDBFQUE0QjtBQUN2QztBQUNBO0FBQ0EsV0FBVywwRUFBNEI7QUFDdkM7QUFDQTtBQUNBLFdBQVcsMEVBQTRCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsc0RBQXlCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDhEQUFnQjtBQUMvQixPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSw0Q0FBZTtBQUNqQixJQUFJLHNFQUF3QjtBQUM1QixJQUFJLHNFQUF3QjtBQUM1QixHQUFHO0FBQ0gsRUFBRSxnRUFBYztBQUNoQjtBQUNBLE1BQU0sOERBQWdCO0FBQ3RCO0FBQ0EsR0FBRztBQUNILEVBQUUsaUVBQWU7QUFDakI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsaUVBQWU7QUFDakI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsaUVBQWU7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSxrRUFBZ0I7QUFDbEIsSUFBSSwrREFBaUI7QUFDckIsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnREFBbUI7QUFDM0M7QUFDQSxLQUFLLGVBQWUsZ0RBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssZUFBZSxnREFBbUI7QUFDdkM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHdCQUF3QixnREFBbUI7QUFDM0M7QUFDQSxLQUFLLGVBQWUsZ0RBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQkFBZ0Isb0VBQXNCO0FBQ3RDO0FBQ0E7QUFDQSwwQkFBMEIsZ0RBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOLHVCQUF1Qiw0REFBVTtBQUNqQztBQUNBO0FBQ0EsT0FBTztBQUNQLDBDQUEwQyx1RUFBeUI7QUFDbkUsMEJBQTBCLGdEQUFtQjtBQUM3QztBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDREQUFVO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxrRUFBb0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNERBQVU7QUFDbEMsZUFBZSxrRUFBb0I7QUFDbkM7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3QkFBd0IsZ0RBQW1CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG9FQUFzQjtBQUN6QztBQUNBLGtCQUFrQixvRUFBc0IsYUFBYSxtRUFBcUI7QUFDMUUsa0JBQWtCLDREQUFVO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvRUFBc0I7QUFDbkQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnREFBbUIsQ0FBQywyQ0FBYyxxQkFBcUIsZ0RBQW1CO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUcscUZBQXFGLGdEQUFtQjtBQUMzRztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxnQ0FBZ0MsZ0RBQW1CLENBQUMsdURBQU87QUFDOUQ7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7O0FBRW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcmltZXJlYWN0L2Ryb3Bkb3duL2Ryb3Bkb3duLmVzbS5qcz9hYWFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcmltZVJlYWN0LCB7IGxvY2FsZU9wdGlvbiwgRmlsdGVyU2VydmljZSB9IGZyb20gJ3ByaW1lcmVhY3QvYXBpJztcbmltcG9ydCB7IHVzZU92ZXJsYXlMaXN0ZW5lciwgdXNlTW91bnRFZmZlY3QsIHVzZVVwZGF0ZUVmZmVjdCwgdXNlVW5tb3VudEVmZmVjdCB9IGZyb20gJ3ByaW1lcmVhY3QvaG9va3MnO1xuaW1wb3J0IHsgT3ZlcmxheVNlcnZpY2UgfSBmcm9tICdwcmltZXJlYWN0L292ZXJsYXlzZXJ2aWNlJztcbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICdwcmltZXJlYWN0L3Rvb2x0aXAnO1xuaW1wb3J0IHsgT2JqZWN0VXRpbHMsIGNsYXNzTmFtZXMsIERvbUhhbmRsZXIsIFpJbmRleFV0aWxzLCBJY29uVXRpbHMgfSBmcm9tICdwcmltZXJlYWN0L3V0aWxzJztcbmltcG9ydCB7IENTU1RyYW5zaXRpb24gfSBmcm9tICdwcmltZXJlYWN0L2Nzc3RyYW5zaXRpb24nO1xuaW1wb3J0IHsgUG9ydGFsIH0gZnJvbSAncHJpbWVyZWFjdC9wb3J0YWwnO1xuaW1wb3J0IHsgVmlydHVhbFNjcm9sbGVyIH0gZnJvbSAncHJpbWVyZWFjdC92aXJ0dWFsc2Nyb2xsZXInO1xuaW1wb3J0IHsgUmlwcGxlIH0gZnJvbSAncHJpbWVyZWFjdC9yaXBwbGUnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gIH0sIF90eXBlb2Yob2JqKTtcbn1cblxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7XG4gIGlmIChfdHlwZW9mKGlucHV0KSAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0O1xuICB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07XG4gIGlmIChwcmltICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTtcbiAgICBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTtcbiAgfVxuICByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTtcbn1cblxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7XG4gIHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTtcbiAgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICB2YXIgX2kgPSBudWxsID09IGFyciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcbiAgaWYgKG51bGwgIT0gX2kpIHtcbiAgICB2YXIgX3MsXG4gICAgICBfZSxcbiAgICAgIF94LFxuICAgICAgX3IsXG4gICAgICBfYXJyID0gW10sXG4gICAgICBfbiA9ICEwLFxuICAgICAgX2QgPSAhMTtcbiAgICB0cnkge1xuICAgICAgaWYgKF94ID0gKF9pID0gX2kuY2FsbChhcnIpKS5uZXh0LCAwID09PSBpKSB7XG4gICAgICAgIGlmIChPYmplY3QoX2kpICE9PSBfaSkgcmV0dXJuO1xuICAgICAgICBfbiA9ICExO1xuICAgICAgfSBlbHNlIGZvciAoOyAhKF9uID0gKF9zID0gX3guY2FsbChfaSkpLmRvbmUpICYmIChfYXJyLnB1c2goX3MudmFsdWUpLCBfYXJyLmxlbmd0aCAhPT0gaSk7IF9uID0gITApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2QgPSAhMCwgX2UgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX24gJiYgbnVsbCAhPSBfaVtcInJldHVyblwiXSAmJiAoX3IgPSBfaVtcInJldHVyblwiXSgpLCBPYmplY3QoX3IpICE9PSBfcikpIHJldHVybjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBfYXJyO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5JDEoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTtcbiAgcmV0dXJuIGFycjI7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQxKG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDEobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcbn1cblxudmFyIERyb3Bkb3duQmFzZSA9IHtcbiAgZGVmYXVsdFByb3BzOiB7XG4gICAgX19UWVBFOiAnRHJvcGRvd24nLFxuICAgIGFwcGVuZFRvOiBudWxsLFxuICAgIGFyaWFMYWJlbDogbnVsbCxcbiAgICBhcmlhTGFiZWxsZWRCeTogbnVsbCxcbiAgICBhdXRvRm9jdXM6IGZhbHNlLFxuICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICBjbGVhckljb246ICdwaSBwaS10aW1lcycsXG4gICAgZGF0YUtleTogbnVsbCxcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgZHJvcGRvd25JY29uOiAncGkgcGktY2hldnJvbi1kb3duJyxcbiAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgZW1wdHlGaWx0ZXJNZXNzYWdlOiBudWxsLFxuICAgIGVtcHR5TWVzc2FnZTogbnVsbCxcbiAgICBmaWx0ZXI6IGZhbHNlLFxuICAgIGZpbHRlckJ5OiBudWxsLFxuICAgIGZpbHRlcklucHV0QXV0b0ZvY3VzOiB0cnVlLFxuICAgIGZpbHRlckxvY2FsZTogdW5kZWZpbmVkLFxuICAgIGZpbHRlck1hdGNoTW9kZTogJ2NvbnRhaW5zJyxcbiAgICBmaWx0ZXJQbGFjZWhvbGRlcjogbnVsbCxcbiAgICBmaWx0ZXJUZW1wbGF0ZTogbnVsbCxcbiAgICBmb2N1c0lucHV0UmVmOiBudWxsLFxuICAgIGlkOiBudWxsLFxuICAgIGlucHV0SWQ6IG51bGwsXG4gICAgaW5wdXRSZWY6IG51bGwsXG4gICAgaXRlbVRlbXBsYXRlOiBudWxsLFxuICAgIG1heExlbmd0aDogbnVsbCxcbiAgICBuYW1lOiBudWxsLFxuICAgIG9uQmx1cjogbnVsbCxcbiAgICBvbkNoYW5nZTogbnVsbCxcbiAgICBvbkNvbnRleHRNZW51OiBudWxsLFxuICAgIG9uRmlsdGVyOiBudWxsLFxuICAgIG9uRm9jdXM6IG51bGwsXG4gICAgb25IaWRlOiBudWxsLFxuICAgIG9uTW91c2VEb3duOiBudWxsLFxuICAgIG9uU2hvdzogbnVsbCxcbiAgICBvcHRpb25EaXNhYmxlZDogbnVsbCxcbiAgICBvcHRpb25Hcm91cENoaWxkcmVuOiBudWxsLFxuICAgIG9wdGlvbkdyb3VwTGFiZWw6IG51bGwsXG4gICAgb3B0aW9uR3JvdXBUZW1wbGF0ZTogbnVsbCxcbiAgICBvcHRpb25MYWJlbDogbnVsbCxcbiAgICBvcHRpb25WYWx1ZTogbnVsbCxcbiAgICBvcHRpb25zOiBudWxsLFxuICAgIHBhbmVsQ2xhc3NOYW1lOiBudWxsLFxuICAgIHBhbmVsU3R5bGU6IG51bGwsXG4gICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIHJlc2V0RmlsdGVyT25IaWRlOiBmYWxzZSxcbiAgICBzY3JvbGxIZWlnaHQ6ICcyMDBweCcsXG4gICAgc2hvd0NsZWFyOiBmYWxzZSxcbiAgICBzaG93RmlsdGVyQ2xlYXI6IGZhbHNlLFxuICAgIHNob3dPbkZvY3VzOiBmYWxzZSxcbiAgICBzdHlsZTogbnVsbCxcbiAgICB0YWJJbmRleDogbnVsbCxcbiAgICB0b29sdGlwOiBudWxsLFxuICAgIHRvb2x0aXBPcHRpb25zOiBudWxsLFxuICAgIHRyYW5zaXRpb25PcHRpb25zOiBudWxsLFxuICAgIHZhbHVlOiBudWxsLFxuICAgIHZhbHVlVGVtcGxhdGU6IG51bGwsXG4gICAgdmlydHVhbFNjcm9sbGVyT3B0aW9uczogbnVsbCxcbiAgICBjaGlsZHJlbjogdW5kZWZpbmVkXG4gIH0sXG4gIGdldFByb3BzOiBmdW5jdGlvbiBnZXRQcm9wcyhwcm9wcykge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5nZXRNZXJnZWRQcm9wcyhwcm9wcywgRHJvcGRvd25CYXNlLmRlZmF1bHRQcm9wcyk7XG4gIH0sXG4gIGdldE90aGVyUHJvcHM6IGZ1bmN0aW9uIGdldE90aGVyUHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0RGlmZlByb3BzKHByb3BzLCBEcm9wZG93bkJhc2UuZGVmYXVsdFByb3BzKTtcbiAgfVxufTtcblxudmFyIERyb3Bkb3duSXRlbSA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgb25DbGljayA9IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICBpZiAocHJvcHMub25DbGljaykge1xuICAgICAgcHJvcHMub25DbGljayh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICBvcHRpb246IHByb3BzLm9wdGlvblxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1kcm9wZG93bi1pdGVtJywge1xuICAgICdwLWhpZ2hsaWdodCc6IHByb3BzLnNlbGVjdGVkLFxuICAgICdwLWRpc2FibGVkJzogcHJvcHMuZGlzYWJsZWQsXG4gICAgJ3AtZHJvcGRvd24taXRlbS1lbXB0eSc6ICFwcm9wcy5sYWJlbCB8fCBwcm9wcy5sYWJlbC5sZW5ndGggPT09IDBcbiAgfSwgcHJvcHMub3B0aW9uICYmIHByb3BzLm9wdGlvbi5jbGFzc05hbWUpO1xuICB2YXIgY29udGVudCA9IHByb3BzLnRlbXBsYXRlID8gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy50ZW1wbGF0ZSwgcHJvcHMub3B0aW9uKSA6IHByb3BzLmxhYmVsO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgc3R5bGU6IHByb3BzLnN0eWxlLFxuICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXG4gICAgXCJhcmlhLWxhYmVsXCI6IHByb3BzLmxhYmVsLFxuICAgIGtleTogcHJvcHMubGFiZWwsXG4gICAgcm9sZTogXCJvcHRpb25cIixcbiAgICBcImFyaWEtc2VsZWN0ZWRcIjogcHJvcHMuc2VsZWN0ZWRcbiAgfSwgY29udGVudCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmlwcGxlLCBudWxsKSk7XG59KTtcbkRyb3Bkb3duSXRlbS5kaXNwbGF5TmFtZSA9ICdEcm9wZG93bkl0ZW0nO1xuXG5mdW5jdGlvbiBvd25LZXlzJDEob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDEodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMkMShPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzJDEoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIERyb3Bkb3duUGFuZWwgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyggLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHZpcnR1YWxTY3JvbGxlclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGZpbHRlcklucHV0UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgaXNFbXB0eUZpbHRlciA9ICEocHJvcHMudmlzaWJsZU9wdGlvbnMgJiYgcHJvcHMudmlzaWJsZU9wdGlvbnMubGVuZ3RoKSAmJiBwcm9wcy5oYXNGaWx0ZXI7XG4gIHZhciBmaWx0ZXJPcHRpb25zID0ge1xuICAgIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKGUpIHtcbiAgICAgIHJldHVybiBvbkZpbHRlcklucHV0Q2hhbmdlKGUpO1xuICAgIH0sXG4gICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgcmV0dXJuIHByb3BzLnJlc2V0RmlsdGVyKCk7XG4gICAgfVxuICB9O1xuICB2YXIgb25FbnRlciA9IGZ1bmN0aW9uIG9uRW50ZXIoKSB7XG4gICAgcHJvcHMub25FbnRlcihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodmlydHVhbFNjcm9sbGVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkSW5kZXggPSBwcm9wcy5nZXRTZWxlY3RlZE9wdGlvbkluZGV4KCk7XG4gICAgICAgIGlmIChzZWxlY3RlZEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHZpcnR1YWxTY3JvbGxlclJlZi5jdXJyZW50LnNjcm9sbFRvSW5kZXgoc2VsZWN0ZWRJbmRleCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgdmFyIG9uRW50ZXJlZCA9IGZ1bmN0aW9uIG9uRW50ZXJlZCgpIHtcbiAgICBwcm9wcy5vbkVudGVyZWQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHByb3BzLmZpbHRlciAmJiBwcm9wcy5maWx0ZXJJbnB1dEF1dG9Gb2N1cykge1xuICAgICAgICBEb21IYW5kbGVyLmZvY3VzKGZpbHRlcklucHV0UmVmLmN1cnJlbnQsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgdmFyIG9uRmlsdGVySW5wdXRDaGFuZ2UgPSBmdW5jdGlvbiBvbkZpbHRlcklucHV0Q2hhbmdlKGV2ZW50KSB7XG4gICAgdmlydHVhbFNjcm9sbGVyUmVmLmN1cnJlbnQgJiYgdmlydHVhbFNjcm9sbGVyUmVmLmN1cnJlbnQuc2Nyb2xsVG9JbmRleCgwKTtcbiAgICBwcm9wcy5vbkZpbHRlcklucHV0Q2hhbmdlICYmIHByb3BzLm9uRmlsdGVySW5wdXRDaGFuZ2UoZXZlbnQpO1xuICB9O1xuICB2YXIgY3JlYXRlR3JvdXBDaGlsZHJlbiA9IGZ1bmN0aW9uIGNyZWF0ZUdyb3VwQ2hpbGRyZW4ob3B0aW9uR3JvdXAsIHN0eWxlKSB7XG4gICAgdmFyIGdyb3VwQ2hpbGRyZW4gPSBwcm9wcy5nZXRPcHRpb25Hcm91cENoaWxkcmVuKG9wdGlvbkdyb3VwKTtcbiAgICByZXR1cm4gZ3JvdXBDaGlsZHJlbi5tYXAoZnVuY3Rpb24gKG9wdGlvbiwgaikge1xuICAgICAgdmFyIG9wdGlvbkxhYmVsID0gcHJvcHMuZ2V0T3B0aW9uTGFiZWwob3B0aW9uKTtcbiAgICAgIHZhciBvcHRpb25LZXkgPSBqICsgJ18nICsgcHJvcHMuZ2V0T3B0aW9uUmVuZGVyS2V5KG9wdGlvbik7XG4gICAgICB2YXIgZGlzYWJsZWQgPSBwcm9wcy5pc09wdGlvbkRpc2FibGVkKG9wdGlvbik7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcGRvd25JdGVtLCB7XG4gICAgICAgIGtleTogb3B0aW9uS2V5LFxuICAgICAgICBsYWJlbDogb3B0aW9uTGFiZWwsXG4gICAgICAgIG9wdGlvbjogb3B0aW9uLFxuICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgIHRlbXBsYXRlOiBwcm9wcy5pdGVtVGVtcGxhdGUsXG4gICAgICAgIHNlbGVjdGVkOiBwcm9wcy5pc1NlbGVjdGVkKG9wdGlvbiksXG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgb25DbGljazogcHJvcHMub25PcHRpb25DbGlja1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIHZhciBjcmVhdGVFbXB0eU1lc3NhZ2UgPSBmdW5jdGlvbiBjcmVhdGVFbXB0eU1lc3NhZ2UoZW1wdHlNZXNzYWdlLCBpc0ZpbHRlcikge1xuICAgIHZhciBtZXNzYWdlID0gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChlbXB0eU1lc3NhZ2UsIHByb3BzKSB8fCBsb2NhbGVPcHRpb24oaXNGaWx0ZXIgPyAnZW1wdHlGaWx0ZXJNZXNzYWdlJyA6ICdlbXB0eU1lc3NhZ2UnKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1kcm9wZG93bi1lbXB0eS1tZXNzYWdlXCJcbiAgICB9LCBtZXNzYWdlKTtcbiAgfTtcbiAgdmFyIGNyZWF0ZUl0ZW0gPSBmdW5jdGlvbiBjcmVhdGVJdGVtKG9wdGlvbiwgaW5kZXgpIHtcbiAgICB2YXIgc2Nyb2xsZXJPcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICB2YXIgc3R5bGUgPSB7XG4gICAgICBoZWlnaHQ6IHNjcm9sbGVyT3B0aW9ucy5wcm9wcyA/IHNjcm9sbGVyT3B0aW9ucy5wcm9wcy5pdGVtU2l6ZSA6IHVuZGVmaW5lZFxuICAgIH07XG4gICAgaWYgKHByb3BzLm9wdGlvbkdyb3VwTGFiZWwpIHtcbiAgICAgIHZhciBncm91cENvbnRlbnQgPSBwcm9wcy5vcHRpb25Hcm91cFRlbXBsYXRlID8gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy5vcHRpb25Hcm91cFRlbXBsYXRlLCBvcHRpb24sIGluZGV4KSA6IHByb3BzLmdldE9wdGlvbkdyb3VwTGFiZWwob3B0aW9uKTtcbiAgICAgIHZhciBncm91cENoaWxkcmVuQ29udGVudCA9IGNyZWF0ZUdyb3VwQ2hpbGRyZW4ob3B0aW9uLCBzdHlsZSk7XG4gICAgICB2YXIga2V5ID0gaW5kZXggKyAnXycgKyBwcm9wcy5nZXRPcHRpb25Hcm91cFJlbmRlcktleShvcHRpb24pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCB7XG4gICAgICAgIGtleToga2V5XG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZHJvcGRvd24taXRlbS1ncm91cFwiLFxuICAgICAgICBzdHlsZTogc3R5bGVcbiAgICAgIH0sIGdyb3VwQ29udGVudCksIGdyb3VwQ2hpbGRyZW5Db250ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG9wdGlvbkxhYmVsID0gcHJvcHMuZ2V0T3B0aW9uTGFiZWwob3B0aW9uKTtcbiAgICAgIHZhciBvcHRpb25LZXkgPSBpbmRleCArICdfJyArIHByb3BzLmdldE9wdGlvblJlbmRlcktleShvcHRpb24pO1xuICAgICAgdmFyIGRpc2FibGVkID0gcHJvcHMuaXNPcHRpb25EaXNhYmxlZChvcHRpb24pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERyb3Bkb3duSXRlbSwge1xuICAgICAgICBrZXk6IG9wdGlvbktleSxcbiAgICAgICAgbGFiZWw6IG9wdGlvbkxhYmVsLFxuICAgICAgICBvcHRpb246IG9wdGlvbixcbiAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICB0ZW1wbGF0ZTogcHJvcHMuaXRlbVRlbXBsYXRlLFxuICAgICAgICBzZWxlY3RlZDogcHJvcHMuaXNTZWxlY3RlZChvcHRpb24pLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIG9uQ2xpY2s6IHByb3BzLm9uT3B0aW9uQ2xpY2tcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgdmFyIGNyZWF0ZUl0ZW1zID0gZnVuY3Rpb24gY3JlYXRlSXRlbXMoKSB7XG4gICAgaWYgKE9iamVjdFV0aWxzLmlzTm90RW1wdHkocHJvcHMudmlzaWJsZU9wdGlvbnMpKSB7XG4gICAgICByZXR1cm4gcHJvcHMudmlzaWJsZU9wdGlvbnMubWFwKGNyZWF0ZUl0ZW0pO1xuICAgIH0gZWxzZSBpZiAocHJvcHMuaGFzRmlsdGVyKSB7XG4gICAgICByZXR1cm4gY3JlYXRlRW1wdHlNZXNzYWdlKHByb3BzLmVtcHR5RmlsdGVyTWVzc2FnZSwgdHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVFbXB0eU1lc3NhZ2UocHJvcHMuZW1wdHlNZXNzYWdlKTtcbiAgfTtcbiAgdmFyIGNyZWF0ZUZpbHRlckNsZWFySWNvbiA9IGZ1bmN0aW9uIGNyZWF0ZUZpbHRlckNsZWFySWNvbigpIHtcbiAgICBpZiAocHJvcHMuc2hvd0ZpbHRlckNsZWFyICYmIHByb3BzLmZpbHRlclZhbHVlKSB7XG4gICAgICB2YXIgYXJpYUxhYmVsID0gbG9jYWxlT3B0aW9uKCdjbGVhcicpO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaVwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLWRyb3Bkb3duLWZpbHRlci1jbGVhci1pY29uIHBpIHBpLXRpbWVzXCIsXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBhcmlhTGFiZWwsXG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgcmV0dXJuIHByb3BzLm9uRmlsdGVyQ2xlYXJJY29uQ2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIERvbUhhbmRsZXIuZm9jdXMoZmlsdGVySW5wdXRSZWYuY3VycmVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZUZpbHRlciA9IGZ1bmN0aW9uIGNyZWF0ZUZpbHRlcigpIHtcbiAgICBpZiAocHJvcHMuZmlsdGVyKSB7XG4gICAgICB2YXIgY2xlYXJJY29uID0gY3JlYXRlRmlsdGVyQ2xlYXJJY29uKCk7XG4gICAgICB2YXIgY29udGFpbmVyQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1kcm9wZG93bi1maWx0ZXItY29udGFpbmVyJywge1xuICAgICAgICAncC1kcm9wZG93bi1jbGVhcmFibGUtZmlsdGVyJzogISFjbGVhckljb25cbiAgICAgIH0pO1xuICAgICAgdmFyIGNvbnRlbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY29udGFpbmVyQ2xhc3NOYW1lXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAgcmVmOiBmaWx0ZXJJbnB1dFJlZixcbiAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgIGF1dG9Db21wbGV0ZTogXCJvZmZcIixcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZHJvcGRvd24tZmlsdGVyIHAtaW5wdXR0ZXh0IHAtY29tcG9uZW50XCIsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBwcm9wcy5maWx0ZXJQbGFjZWhvbGRlcixcbiAgICAgICAgb25LZXlEb3duOiBwcm9wcy5vbkZpbHRlcklucHV0S2V5RG93bixcbiAgICAgICAgb25DaGFuZ2U6IG9uRmlsdGVySW5wdXRDaGFuZ2UsXG4gICAgICAgIHZhbHVlOiBwcm9wcy5maWx0ZXJWYWx1ZVxuICAgICAgfSksIGNsZWFySWNvbiwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZHJvcGRvd24tZmlsdGVyLWljb24gcGkgcGktc2VhcmNoXCJcbiAgICAgIH0pKTtcbiAgICAgIGlmIChwcm9wcy5maWx0ZXJUZW1wbGF0ZSkge1xuICAgICAgICB2YXIgZGVmYXVsdENvbnRlbnRPcHRpb25zID0ge1xuICAgICAgICAgIGNsYXNzTmFtZTogY29udGFpbmVyQ2xhc3NOYW1lLFxuICAgICAgICAgIGVsZW1lbnQ6IGNvbnRlbnQsXG4gICAgICAgICAgZmlsdGVyT3B0aW9uczogZmlsdGVyT3B0aW9ucyxcbiAgICAgICAgICBmaWx0ZXJJbnB1dEtleURvd246IHByb3BzLm9uRmlsdGVySW5wdXRLZXlEb3duLFxuICAgICAgICAgIGZpbHRlcklucHV0Q2hhbmdlOiBvbkZpbHRlcklucHV0Q2hhbmdlLFxuICAgICAgICAgIGZpbHRlckljb25DbGFzc05hbWU6ICdwLWRyb3Bkb3duLWZpbHRlci1pY29uIHBpIHBpLXNlYXJjaCcsXG4gICAgICAgICAgY2xlYXJJY29uOiBjbGVhckljb24sXG4gICAgICAgICAgcHJvcHM6IHByb3BzXG4gICAgICAgIH07XG4gICAgICAgIGNvbnRlbnQgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLmZpbHRlclRlbXBsYXRlLCBkZWZhdWx0Q29udGVudE9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZHJvcGRvd24taGVhZGVyXCJcbiAgICAgIH0sIGNvbnRlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZUNvbnRlbnQgPSBmdW5jdGlvbiBjcmVhdGVDb250ZW50KCkge1xuICAgIGlmIChwcm9wcy52aXJ0dWFsU2Nyb2xsZXJPcHRpb25zKSB7XG4gICAgICB2YXIgdmlydHVhbFNjcm9sbGVyUHJvcHMgPSBfb2JqZWN0U3ByZWFkJDEoX29iamVjdFNwcmVhZCQxKHt9LCBwcm9wcy52aXJ0dWFsU2Nyb2xsZXJPcHRpb25zKSwge1xuICAgICAgICBzdHlsZTogX29iamVjdFNwcmVhZCQxKF9vYmplY3RTcHJlYWQkMSh7fSwgcHJvcHMudmlydHVhbFNjcm9sbGVyT3B0aW9ucy5zdHlsZSksIHtcbiAgICAgICAgICBoZWlnaHQ6IHByb3BzLnNjcm9sbEhlaWdodFxuICAgICAgICB9KSxcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKCdwLWRyb3Bkb3duLWl0ZW1zLXdyYXBwZXInLCBwcm9wcy52aXJ0dWFsU2Nyb2xsZXJPcHRpb25zLmNsYXNzTmFtZSksXG4gICAgICAgIGl0ZW1zOiBwcm9wcy52aXNpYmxlT3B0aW9ucyxcbiAgICAgICAgYXV0b1NpemU6IHRydWUsXG4gICAgICAgIG9uTGF6eUxvYWQ6IGZ1bmN0aW9uIG9uTGF6eUxvYWQoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcHMudmlydHVhbFNjcm9sbGVyT3B0aW9ucy5vbkxhenlMb2FkKF9vYmplY3RTcHJlYWQkMShfb2JqZWN0U3ByZWFkJDEoe30sIGV2ZW50KSwge1xuICAgICAgICAgICAgZmlsdGVyOiBwcm9wcy5maWx0ZXJWYWx1ZVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgaXRlbVRlbXBsYXRlOiBmdW5jdGlvbiBpdGVtVGVtcGxhdGUoaXRlbSwgb3B0aW9ucykge1xuICAgICAgICAgIHJldHVybiBpdGVtICYmIGNyZWF0ZUl0ZW0oaXRlbSwgb3B0aW9ucy5pbmRleCwgb3B0aW9ucyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnRUZW1wbGF0ZTogZnVuY3Rpb24gY29udGVudFRlbXBsYXRlKG9wdGlvbnMpIHtcbiAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1kcm9wZG93bi1pdGVtcycsIG9wdGlvbnMuY2xhc3NOYW1lKTtcbiAgICAgICAgICB2YXIgY29udGVudCA9IGlzRW1wdHlGaWx0ZXIgPyBjcmVhdGVFbXB0eU1lc3NhZ2UoKSA6IG9wdGlvbnMuY2hpbGRyZW47XG4gICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwge1xuICAgICAgICAgICAgcmVmOiBvcHRpb25zLmNvbnRlbnRSZWYsXG4gICAgICAgICAgICBzdHlsZTogb3B0aW9ucy5zdHlsZSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICAgICAgcm9sZTogXCJsaXN0Ym94XCJcbiAgICAgICAgICB9LCBjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVmlydHVhbFNjcm9sbGVyLCBfZXh0ZW5kcyh7XG4gICAgICAgIHJlZjogdmlydHVhbFNjcm9sbGVyUmVmXG4gICAgICB9LCB2aXJ0dWFsU2Nyb2xsZXJQcm9wcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaXRlbXMgPSBjcmVhdGVJdGVtcygpO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZHJvcGRvd24taXRlbXMtd3JhcHBlclwiLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIG1heEhlaWdodDogcHJvcHMuc2Nyb2xsSGVpZ2h0IHx8ICdhdXRvJ1xuICAgICAgICB9XG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInVsXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZHJvcGRvd24taXRlbXNcIixcbiAgICAgICAgcm9sZTogXCJsaXN0Ym94XCJcbiAgICAgIH0sIGl0ZW1zKSk7XG4gICAgfVxuICB9O1xuICB2YXIgY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQoKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtZHJvcGRvd24tcGFuZWwgcC1jb21wb25lbnQnLCBwcm9wcy5wYW5lbENsYXNzTmFtZSwge1xuICAgICAgJ3AtaW5wdXQtZmlsbGVkJzogUHJpbWVSZWFjdC5pbnB1dFN0eWxlID09PSAnZmlsbGVkJyxcbiAgICAgICdwLXJpcHBsZS1kaXNhYmxlZCc6IFByaW1lUmVhY3QucmlwcGxlID09PSBmYWxzZVxuICAgIH0pO1xuICAgIHZhciBmaWx0ZXIgPSBjcmVhdGVGaWx0ZXIoKTtcbiAgICB2YXIgY29udGVudCA9IGNyZWF0ZUNvbnRlbnQoKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1NTVHJhbnNpdGlvbiwge1xuICAgICAgbm9kZVJlZjogcmVmLFxuICAgICAgY2xhc3NOYW1lczogXCJwLWNvbm5lY3RlZC1vdmVybGF5XCIsXG4gICAgICBcImluXCI6IHByb3BzW1wiaW5cIl0sXG4gICAgICB0aW1lb3V0OiB7XG4gICAgICAgIGVudGVyOiAxMjAsXG4gICAgICAgIGV4aXQ6IDEwMFxuICAgICAgfSxcbiAgICAgIG9wdGlvbnM6IHByb3BzLnRyYW5zaXRpb25PcHRpb25zLFxuICAgICAgdW5tb3VudE9uRXhpdDogdHJ1ZSxcbiAgICAgIG9uRW50ZXI6IG9uRW50ZXIsXG4gICAgICBvbkVudGVyaW5nOiBwcm9wcy5vbkVudGVyaW5nLFxuICAgICAgb25FbnRlcmVkOiBvbkVudGVyZWQsXG4gICAgICBvbkV4aXQ6IHByb3BzLm9uRXhpdCxcbiAgICAgIG9uRXhpdGVkOiBwcm9wcy5vbkV4aXRlZFxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBzdHlsZTogcHJvcHMucGFuZWxTdHlsZSxcbiAgICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2tcbiAgICB9LCBmaWx0ZXIsIGNvbnRlbnQpKTtcbiAgfTtcbiAgdmFyIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQb3J0YWwsIHtcbiAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgIGFwcGVuZFRvOiBwcm9wcy5hcHBlbmRUb1xuICB9KTtcbn0pKTtcbkRyb3Bkb3duUGFuZWwuZGlzcGxheU5hbWUgPSAnRHJvcGRvd25QYW5lbCc7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1tcIkBAaXRlcmF0b3JcIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdFtcInJldHVyblwiXSAhPSBudWxsKSBpdFtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07IHJldHVybiBhcnIyOyB9XG52YXIgRHJvcGRvd24gPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyggLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKGluUHJvcHMsIHJlZikge1xuICB2YXIgcHJvcHMgPSBEcm9wZG93bkJhc2UuZ2V0UHJvcHMoaW5Qcm9wcyk7XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZSgnJyksXG4gICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgZmlsdGVyU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgIHNldEZpbHRlclN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTMgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgX1JlYWN0JHVzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTMsIDIpLFxuICAgIGZvY3VzZWRTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTRbMF0sXG4gICAgc2V0Rm9jdXNlZFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNFsxXTtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTUgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgX1JlYWN0JHVzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTUsIDIpLFxuICAgIG92ZXJsYXlWaXNpYmxlU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU2WzBdLFxuICAgIHNldE92ZXJsYXlWaXNpYmxlU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU2WzFdO1xuICB2YXIgZWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIG92ZXJsYXlSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBpbnB1dFJlZiA9IFJlYWN0LnVzZVJlZihwcm9wcy5pbnB1dFJlZik7XG4gIHZhciBmb2N1c0lucHV0UmVmID0gUmVhY3QudXNlUmVmKHByb3BzLmZvY3VzSW5wdXRSZWYpO1xuICB2YXIgc2VhcmNoVGltZW91dCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHNlYXJjaFZhbHVlID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgY3VycmVudFNlYXJjaENoYXIgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBpc0xhenkgPSBwcm9wcy52aXJ0dWFsU2Nyb2xsZXJPcHRpb25zICYmIHByb3BzLnZpcnR1YWxTY3JvbGxlck9wdGlvbnMubGF6eTtcbiAgdmFyIGhhc0ZpbHRlciA9IE9iamVjdFV0aWxzLmlzTm90RW1wdHkoZmlsdGVyU3RhdGUpO1xuICB2YXIgYXBwZW5kVG8gPSBwcm9wcy5hcHBlbmRUbyB8fCBQcmltZVJlYWN0LmFwcGVuZFRvO1xuICB2YXIgX3VzZU92ZXJsYXlMaXN0ZW5lciA9IHVzZU92ZXJsYXlMaXN0ZW5lcih7XG4gICAgICB0YXJnZXQ6IGVsZW1lbnRSZWYsXG4gICAgICBvdmVybGF5OiBvdmVybGF5UmVmLFxuICAgICAgbGlzdGVuZXI6IGZ1bmN0aW9uIGxpc3RlbmVyKGV2ZW50LCBfcmVmKSB7XG4gICAgICAgIHZhciB0eXBlID0gX3JlZi50eXBlLFxuICAgICAgICAgIHZhbGlkID0gX3JlZi52YWxpZDtcbiAgICAgICAgaWYgKHZhbGlkKSB7XG4gICAgICAgICAgdHlwZSA9PT0gJ291dHNpZGUnID8gIWlzQ2xlYXJDbGlja2VkKGV2ZW50KSAmJiBoaWRlKCkgOiBoaWRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB3aGVuOiBvdmVybGF5VmlzaWJsZVN0YXRlXG4gICAgfSksXG4gICAgX3VzZU92ZXJsYXlMaXN0ZW5lcjIgPSBfc2xpY2VkVG9BcnJheShfdXNlT3ZlcmxheUxpc3RlbmVyLCAyKSxcbiAgICBiaW5kT3ZlcmxheUxpc3RlbmVyID0gX3VzZU92ZXJsYXlMaXN0ZW5lcjJbMF0sXG4gICAgdW5iaW5kT3ZlcmxheUxpc3RlbmVyID0gX3VzZU92ZXJsYXlMaXN0ZW5lcjJbMV07XG4gIHZhciBnZXRWaXNpYmxlT3B0aW9ucyA9IGZ1bmN0aW9uIGdldFZpc2libGVPcHRpb25zKCkge1xuICAgIGlmIChoYXNGaWx0ZXIgJiYgIWlzTGF6eSkge1xuICAgICAgdmFyIGZpbHRlclZhbHVlID0gZmlsdGVyU3RhdGUudHJpbSgpLnRvTG9jYWxlTG93ZXJDYXNlKHByb3BzLmZpbHRlckxvY2FsZSk7XG4gICAgICB2YXIgc2VhcmNoRmllbGRzID0gcHJvcHMuZmlsdGVyQnkgPyBwcm9wcy5maWx0ZXJCeS5zcGxpdCgnLCcpIDogW3Byb3BzLm9wdGlvbkxhYmVsIHx8ICdsYWJlbCddO1xuICAgICAgaWYgKHByb3BzLm9wdGlvbkdyb3VwTGFiZWwpIHtcbiAgICAgICAgdmFyIGZpbHRlcmVkR3JvdXBzID0gW107XG4gICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihwcm9wcy5vcHRpb25zKSxcbiAgICAgICAgICBfc3RlcDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIG9wdGdyb3VwID0gX3N0ZXAudmFsdWU7XG4gICAgICAgICAgICB2YXIgZmlsdGVyZWRTdWJPcHRpb25zID0gRmlsdGVyU2VydmljZS5maWx0ZXIoZ2V0T3B0aW9uR3JvdXBDaGlsZHJlbihvcHRncm91cCksIHNlYXJjaEZpZWxkcywgZmlsdGVyVmFsdWUsIHByb3BzLmZpbHRlck1hdGNoTW9kZSwgcHJvcHMuZmlsdGVyTG9jYWxlKTtcbiAgICAgICAgICAgIGlmIChmaWx0ZXJlZFN1Yk9wdGlvbnMgJiYgZmlsdGVyZWRTdWJPcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICBmaWx0ZXJlZEdyb3Vwcy5wdXNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3B0Z3JvdXApLCB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IGZpbHRlcmVkU3ViT3B0aW9uc1xuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkR3JvdXBzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEZpbHRlclNlcnZpY2UuZmlsdGVyKHByb3BzLm9wdGlvbnMsIHNlYXJjaEZpZWxkcywgZmlsdGVyVmFsdWUsIHByb3BzLmZpbHRlck1hdGNoTW9kZSwgcHJvcHMuZmlsdGVyTG9jYWxlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHByb3BzLm9wdGlvbnM7XG4gICAgfVxuICB9O1xuICB2YXIgaXNDbGVhckNsaWNrZWQgPSBmdW5jdGlvbiBpc0NsZWFyQ2xpY2tlZChldmVudCkge1xuICAgIHJldHVybiBEb21IYW5kbGVyLmhhc0NsYXNzKGV2ZW50LnRhcmdldCwgJ3AtZHJvcGRvd24tY2xlYXItaWNvbicpIHx8IERvbUhhbmRsZXIuaGFzQ2xhc3MoZXZlbnQudGFyZ2V0LCAncC1kcm9wZG93bi1maWx0ZXItY2xlYXItaWNvbicpO1xuICB9O1xuICB2YXIgb25DbGljayA9IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcHJvcHMub25DbGljayAmJiBwcm9wcy5vbkNsaWNrKGV2ZW50KTtcblxuICAgIC8vIGRvIG5vdCBjb250aW51ZSBpZiB0aGUgdXNlciBkZWZpbmVkIGNsaWNrIHdhbnRzIHRvIHByZXZlbnQgaXRcbiAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoRG9tSGFuZGxlci5oYXNDbGFzcyhldmVudC50YXJnZXQsICdwLWRyb3Bkb3duLWNsZWFyLWljb24nKSB8fCBldmVudC50YXJnZXQudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoIW92ZXJsYXlSZWYuY3VycmVudCB8fCAhKG92ZXJsYXlSZWYuY3VycmVudCAmJiBvdmVybGF5UmVmLmN1cnJlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkpIHtcbiAgICAgIERvbUhhbmRsZXIuZm9jdXMoZm9jdXNJbnB1dFJlZi5jdXJyZW50KTtcbiAgICAgIG92ZXJsYXlWaXNpYmxlU3RhdGUgPyBoaWRlKCkgOiBzaG93KCk7XG4gICAgfVxuICB9O1xuICB2YXIgb25JbnB1dEZvY3VzID0gZnVuY3Rpb24gb25JbnB1dEZvY3VzKGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLnNob3dPbkZvY3VzICYmICFvdmVybGF5VmlzaWJsZVN0YXRlKSB7XG4gICAgICBzaG93KCk7XG4gICAgfVxuICAgIHNldEZvY3VzZWRTdGF0ZSh0cnVlKTtcbiAgICBwcm9wcy5vbkZvY3VzICYmIHByb3BzLm9uRm9jdXMoZXZlbnQpO1xuICB9O1xuICB2YXIgb25JbnB1dEJsdXIgPSBmdW5jdGlvbiBvbklucHV0Qmx1cihldmVudCkge1xuICAgIHNldEZvY3VzZWRTdGF0ZShmYWxzZSk7XG4gICAgaWYgKHByb3BzLm9uQmx1cikge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBpbnB1dFJlZi5jdXJyZW50ID8gaW5wdXRSZWYuY3VycmVudC52YWx1ZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgcHJvcHMub25CbHVyKHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudC5vcmlnaW5hbEV2ZW50LFxuICAgICAgICAgIHZhbHVlOiBjdXJyZW50VmFsdWUsXG4gICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oKSB7fSxcbiAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7fSxcbiAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgIG5hbWU6IHByb3BzLm5hbWUsXG4gICAgICAgICAgICBpZDogcHJvcHMuaWQsXG4gICAgICAgICAgICB2YWx1ZTogY3VycmVudFZhbHVlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sIDIwMCk7XG4gICAgfVxuICB9O1xuICB2YXIgb25QYW5lbENsaWNrID0gZnVuY3Rpb24gb25QYW5lbENsaWNrKGV2ZW50KSB7XG4gICAgT3ZlcmxheVNlcnZpY2UuZW1pdCgnb3ZlcmxheS1jbGljaycsIHtcbiAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgdGFyZ2V0OiBlbGVtZW50UmVmLmN1cnJlbnRcbiAgICB9KTtcbiAgfTtcbiAgdmFyIG9uSW5wdXRLZXlEb3duID0gZnVuY3Rpb24gb25JbnB1dEtleURvd24oZXZlbnQpIHtcbiAgICBzd2l0Y2ggKGV2ZW50LndoaWNoKSB7XG4gICAgICAvL2Rvd25cbiAgICAgIGNhc2UgNDA6XG4gICAgICAgIG9uRG93bktleShldmVudCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvL3VwXG4gICAgICBjYXNlIDM4OlxuICAgICAgICBvblVwS2V5KGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIC8vc3BhY2UgYW5kIGVudGVyXG4gICAgICBjYXNlIDMyOlxuICAgICAgY2FzZSAxMzpcbiAgICAgICAgb3ZlcmxheVZpc2libGVTdGF0ZSA/IGhpZGUoKSA6IHNob3coKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIC8vZXNjYXBlIGFuZCB0YWJcbiAgICAgIGNhc2UgMjc6XG4gICAgICBjYXNlIDk6XG4gICAgICAgIGhpZGUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBzZWFyY2goZXZlbnQpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH07XG4gIHZhciBvbkZpbHRlcklucHV0S2V5RG93biA9IGZ1bmN0aW9uIG9uRmlsdGVySW5wdXRLZXlEb3duKGV2ZW50KSB7XG4gICAgc3dpdGNoIChldmVudC53aGljaCkge1xuICAgICAgLy9kb3duXG4gICAgICBjYXNlIDQwOlxuICAgICAgICBvbkRvd25LZXkoZXZlbnQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgLy91cFxuICAgICAgY2FzZSAzODpcbiAgICAgICAgb25VcEtleShldmVudCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvL2VudGVyIGFuZCBlc2NhcGVcbiAgICAgIGNhc2UgMTM6XG4gICAgICBjYXNlIDI3OlxuICAgICAgICBoaWRlKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uVXBLZXkgPSBmdW5jdGlvbiBvblVwS2V5KGV2ZW50KSB7XG4gICAgaWYgKHZpc2libGVPcHRpb25zKSB7XG4gICAgICB2YXIgcHJldk9wdGlvbiA9IGZpbmRQcmV2T3B0aW9uKGdldFNlbGVjdGVkT3B0aW9uSW5kZXgoKSk7XG4gICAgICBpZiAocHJldk9wdGlvbikge1xuICAgICAgICBzZWxlY3RJdGVtKHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICBvcHRpb246IHByZXZPcHRpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG4gIHZhciBvbkRvd25LZXkgPSBmdW5jdGlvbiBvbkRvd25LZXkoZXZlbnQpIHtcbiAgICBpZiAodmlzaWJsZU9wdGlvbnMpIHtcbiAgICAgIGlmICghb3ZlcmxheVZpc2libGVTdGF0ZSAmJiBldmVudC5hbHRLZXkpIHtcbiAgICAgICAgc2hvdygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG5leHRPcHRpb24gPSBmaW5kTmV4dE9wdGlvbihnZXRTZWxlY3RlZE9wdGlvbkluZGV4KCkpO1xuICAgICAgICBpZiAobmV4dE9wdGlvbikge1xuICAgICAgICAgIHNlbGVjdEl0ZW0oe1xuICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgICBvcHRpb246IG5leHRPcHRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuICB2YXIgZmluZE5leHRPcHRpb24gPSBmdW5jdGlvbiBmaW5kTmV4dE9wdGlvbihpbmRleCkge1xuICAgIGlmIChwcm9wcy5vcHRpb25Hcm91cExhYmVsKSB7XG4gICAgICB2YXIgZ3JvdXBJbmRleCA9IGluZGV4ID09PSAtMSA/IDAgOiBpbmRleC5ncm91cDtcbiAgICAgIHZhciBvcHRpb25JbmRleCA9IGluZGV4ID09PSAtMSA/IC0xIDogaW5kZXgub3B0aW9uO1xuICAgICAgdmFyIG9wdGlvbiA9IGZpbmROZXh0T3B0aW9uSW5MaXN0KGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4odmlzaWJsZU9wdGlvbnNbZ3JvdXBJbmRleF0pLCBvcHRpb25JbmRleCk7XG4gICAgICBpZiAob3B0aW9uKSByZXR1cm4gb3B0aW9uO2Vsc2UgaWYgKGdyb3VwSW5kZXggKyAxICE9PSB2aXNpYmxlT3B0aW9ucy5sZW5ndGgpIHJldHVybiBmaW5kTmV4dE9wdGlvbih7XG4gICAgICAgIGdyb3VwOiBncm91cEluZGV4ICsgMSxcbiAgICAgICAgb3B0aW9uOiAtMVxuICAgICAgfSk7ZWxzZSByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZpbmROZXh0T3B0aW9uSW5MaXN0KHZpc2libGVPcHRpb25zLCBpbmRleCk7XG4gIH07XG4gIHZhciBmaW5kTmV4dE9wdGlvbkluTGlzdCA9IGZ1bmN0aW9uIGZpbmROZXh0T3B0aW9uSW5MaXN0KGxpc3QsIGluZGV4KSB7XG4gICAgdmFyIGkgPSBpbmRleCArIDE7XG4gICAgaWYgKGkgPT09IGxpc3QubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIG9wdGlvbiA9IGxpc3RbaV07XG4gICAgcmV0dXJuIGlzT3B0aW9uRGlzYWJsZWQob3B0aW9uKSA/IGZpbmROZXh0T3B0aW9uSW5MaXN0KGkpIDogb3B0aW9uO1xuICB9O1xuICB2YXIgZmluZFByZXZPcHRpb24gPSBmdW5jdGlvbiBmaW5kUHJldk9wdGlvbihpbmRleCkge1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAocHJvcHMub3B0aW9uR3JvdXBMYWJlbCkge1xuICAgICAgdmFyIGdyb3VwSW5kZXggPSBpbmRleC5ncm91cDtcbiAgICAgIHZhciBvcHRpb25JbmRleCA9IGluZGV4Lm9wdGlvbjtcbiAgICAgIHZhciBvcHRpb24gPSBmaW5kUHJldk9wdGlvbkluTGlzdChnZXRPcHRpb25Hcm91cENoaWxkcmVuKHZpc2libGVPcHRpb25zW2dyb3VwSW5kZXhdKSwgb3B0aW9uSW5kZXgpO1xuICAgICAgaWYgKG9wdGlvbikgcmV0dXJuIG9wdGlvbjtlbHNlIGlmIChncm91cEluZGV4ID4gMCkgcmV0dXJuIGZpbmRQcmV2T3B0aW9uKHtcbiAgICAgICAgZ3JvdXA6IGdyb3VwSW5kZXggLSAxLFxuICAgICAgICBvcHRpb246IGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4odmlzaWJsZU9wdGlvbnNbZ3JvdXBJbmRleCAtIDFdKS5sZW5ndGhcbiAgICAgIH0pO2Vsc2UgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBmaW5kUHJldk9wdGlvbkluTGlzdCh2aXNpYmxlT3B0aW9ucywgaW5kZXgpO1xuICB9O1xuICB2YXIgZmluZFByZXZPcHRpb25Jbkxpc3QgPSBmdW5jdGlvbiBmaW5kUHJldk9wdGlvbkluTGlzdChsaXN0LCBpbmRleCkge1xuICAgIHZhciBpID0gaW5kZXggLSAxO1xuICAgIGlmIChpIDwgMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBvcHRpb24gPSBsaXN0W2ldO1xuICAgIHJldHVybiBpc09wdGlvbkRpc2FibGVkKG9wdGlvbikgPyBmaW5kUHJldk9wdGlvbihpKSA6IG9wdGlvbjtcbiAgfTtcbiAgdmFyIHNlYXJjaCA9IGZ1bmN0aW9uIHNlYXJjaChldmVudCkge1xuICAgIGlmIChzZWFyY2hUaW1lb3V0LmN1cnJlbnQpIHtcbiAgICAgIGNsZWFyVGltZW91dChzZWFyY2hUaW1lb3V0LmN1cnJlbnQpO1xuICAgIH1cbiAgICB2YXIgX2NoYXIgPSBldmVudC5rZXk7XG4gICAgaWYgKF9jaGFyID09PSAnU2hpZnQnIHx8IF9jaGFyID09PSAnQ29udHJvbCcgfHwgX2NoYXIgPT09ICdBbHQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjdXJyZW50U2VhcmNoQ2hhci5jdXJyZW50ID09PSBfY2hhcikgc2VhcmNoVmFsdWUuY3VycmVudCA9IF9jaGFyO2Vsc2Ugc2VhcmNoVmFsdWUuY3VycmVudCA9IHNlYXJjaFZhbHVlLmN1cnJlbnQgPyBzZWFyY2hWYWx1ZS5jdXJyZW50ICsgX2NoYXIgOiBfY2hhcjtcbiAgICBjdXJyZW50U2VhcmNoQ2hhci5jdXJyZW50ID0gX2NoYXI7XG4gICAgaWYgKHNlYXJjaFZhbHVlLmN1cnJlbnQpIHtcbiAgICAgIHZhciBzZWFyY2hJbmRleCA9IGdldFNlbGVjdGVkT3B0aW9uSW5kZXgoKTtcbiAgICAgIHZhciBuZXdPcHRpb24gPSBwcm9wcy5vcHRpb25Hcm91cExhYmVsID8gc2VhcmNoT3B0aW9uSW5Hcm91cChzZWFyY2hJbmRleCkgOiBzZWFyY2hPcHRpb24oc2VhcmNoSW5kZXggKyAxKTtcbiAgICAgIGlmIChuZXdPcHRpb24pIHtcbiAgICAgICAgc2VsZWN0SXRlbSh7XG4gICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgb3B0aW9uOiBuZXdPcHRpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHNlYXJjaFRpbWVvdXQuY3VycmVudCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgc2VhcmNoVmFsdWUuY3VycmVudCA9IG51bGw7XG4gICAgfSwgMjUwKTtcbiAgfTtcbiAgdmFyIHNlYXJjaE9wdGlvbiA9IGZ1bmN0aW9uIHNlYXJjaE9wdGlvbihpbmRleCkge1xuICAgIGlmIChzZWFyY2hWYWx1ZS5jdXJyZW50KSB7XG4gICAgICByZXR1cm4gc2VhcmNoT3B0aW9uSW5SYW5nZShpbmRleCwgdmlzaWJsZU9wdGlvbnMubGVuZ3RoKSB8fCBzZWFyY2hPcHRpb25JblJhbmdlKDAsIGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIHZhciBzZWFyY2hPcHRpb25JblJhbmdlID0gZnVuY3Rpb24gc2VhcmNoT3B0aW9uSW5SYW5nZShzdGFydCwgZW5kKSB7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgIHZhciBvcHQgPSB2aXNpYmxlT3B0aW9uc1tpXTtcbiAgICAgIGlmIChtYXRjaGVzU2VhcmNoVmFsdWUob3B0KSkge1xuICAgICAgICByZXR1cm4gb3B0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIHNlYXJjaE9wdGlvbkluR3JvdXAgPSBmdW5jdGlvbiBzZWFyY2hPcHRpb25Jbkdyb3VwKGluZGV4KSB7XG4gICAgdmFyIHNlYXJjaEluZGV4ID0gaW5kZXggPT09IC0xID8ge1xuICAgICAgZ3JvdXA6IDAsXG4gICAgICBvcHRpb246IC0xXG4gICAgfSA6IGluZGV4O1xuICAgIGZvciAodmFyIGkgPSBzZWFyY2hJbmRleC5ncm91cDsgaSA8IHZpc2libGVPcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZ3JvdXBPcHRpb25zID0gZ2V0T3B0aW9uR3JvdXBDaGlsZHJlbih2aXNpYmxlT3B0aW9uc1tpXSk7XG4gICAgICBmb3IgKHZhciBqID0gc2VhcmNoSW5kZXguZ3JvdXAgPT09IGkgPyBzZWFyY2hJbmRleC5vcHRpb24gKyAxIDogMDsgaiA8IGdyb3VwT3B0aW9ucy5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAobWF0Y2hlc1NlYXJjaFZhbHVlKGdyb3VwT3B0aW9uc1tqXSkpIHtcbiAgICAgICAgICByZXR1cm4gZ3JvdXBPcHRpb25zW2pdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPD0gc2VhcmNoSW5kZXguZ3JvdXA7IF9pKyspIHtcbiAgICAgIHZhciBfZ3JvdXBPcHRpb25zID0gZ2V0T3B0aW9uR3JvdXBDaGlsZHJlbih2aXNpYmxlT3B0aW9uc1tfaV0pO1xuICAgICAgZm9yICh2YXIgX2ogPSAwOyBfaiA8IChzZWFyY2hJbmRleC5ncm91cCA9PT0gX2kgPyBzZWFyY2hJbmRleC5vcHRpb24gOiBfZ3JvdXBPcHRpb25zLmxlbmd0aCk7IF9qKyspIHtcbiAgICAgICAgaWYgKG1hdGNoZXNTZWFyY2hWYWx1ZShfZ3JvdXBPcHRpb25zW19qXSkpIHtcbiAgICAgICAgICByZXR1cm4gX2dyb3VwT3B0aW9uc1tfal07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIHZhciBtYXRjaGVzU2VhcmNoVmFsdWUgPSBmdW5jdGlvbiBtYXRjaGVzU2VhcmNoVmFsdWUob3B0aW9uKSB7XG4gICAgdmFyIGxhYmVsID0gZ2V0T3B0aW9uTGFiZWwob3B0aW9uKTtcbiAgICBpZiAoIWxhYmVsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxhYmVsID0gbGFiZWwudG9Mb2NhbGVMb3dlckNhc2UocHJvcHMuZmlsdGVyTG9jYWxlKTtcbiAgICByZXR1cm4gbGFiZWwuc3RhcnRzV2l0aChzZWFyY2hWYWx1ZS5jdXJyZW50LnRvTG9jYWxlTG93ZXJDYXNlKHByb3BzLmZpbHRlckxvY2FsZSkpO1xuICB9O1xuICB2YXIgb25FZGl0YWJsZUlucHV0Q2hhbmdlID0gZnVuY3Rpb24gb25FZGl0YWJsZUlucHV0Q2hhbmdlKGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICBwcm9wcy5vbkNoYW5nZSh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnQsXG4gICAgICAgIHZhbHVlOiBldmVudC50YXJnZXQudmFsdWUsXG4gICAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKCkge30sXG4gICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHt9LFxuICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgICAgIGlkOiBwcm9wcy5pZCxcbiAgICAgICAgICB2YWx1ZTogZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uRWRpdGFibGVJbnB1dEZvY3VzID0gZnVuY3Rpb24gb25FZGl0YWJsZUlucHV0Rm9jdXMoZXZlbnQpIHtcbiAgICBzZXRGb2N1c2VkU3RhdGUodHJ1ZSk7XG4gICAgaGlkZSgpO1xuICAgIHByb3BzLm9uRm9jdXMgJiYgcHJvcHMub25Gb2N1cyhldmVudCk7XG4gIH07XG4gIHZhciBvbk9wdGlvbkNsaWNrID0gZnVuY3Rpb24gb25PcHRpb25DbGljayhldmVudCkge1xuICAgIHZhciBvcHRpb24gPSBldmVudC5vcHRpb247XG4gICAgaWYgKCFvcHRpb24uZGlzYWJsZWQpIHtcbiAgICAgIHNlbGVjdEl0ZW0oZXZlbnQpO1xuICAgICAgRG9tSGFuZGxlci5mb2N1cyhmb2N1c0lucHV0UmVmLmN1cnJlbnQpO1xuICAgIH1cbiAgICBoaWRlKCk7XG4gIH07XG4gIHZhciBvbkZpbHRlcklucHV0Q2hhbmdlID0gZnVuY3Rpb24gb25GaWx0ZXJJbnB1dENoYW5nZShldmVudCkge1xuICAgIHZhciBmaWx0ZXIgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgc2V0RmlsdGVyU3RhdGUoZmlsdGVyKTtcbiAgICBpZiAocHJvcHMub25GaWx0ZXIpIHtcbiAgICAgIHByb3BzLm9uRmlsdGVyKHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIGZpbHRlcjogZmlsdGVyXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIHZhciBvbkZpbHRlckNsZWFySWNvbkNsaWNrID0gZnVuY3Rpb24gb25GaWx0ZXJDbGVhckljb25DbGljayhjYWxsYmFjaykge1xuICAgIHJlc2V0RmlsdGVyKGNhbGxiYWNrKTtcbiAgfTtcbiAgdmFyIHJlc2V0RmlsdGVyID0gZnVuY3Rpb24gcmVzZXRGaWx0ZXIoY2FsbGJhY2spIHtcbiAgICBzZXRGaWx0ZXJTdGF0ZSgnJyk7XG4gICAgcHJvcHMub25GaWx0ZXIgJiYgcHJvcHMub25GaWx0ZXIoe1xuICAgICAgZmlsdGVyOiAnJ1xuICAgIH0pO1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gIH07XG4gIHZhciBjbGVhciA9IGZ1bmN0aW9uIGNsZWFyKGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICBwcm9wcy5vbkNoYW5nZSh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHt9LFxuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7fSxcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgICAgICBpZDogcHJvcHMuaWQsXG4gICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgdXBkYXRlRWRpdGFibGVMYWJlbCgpO1xuICB9O1xuICB2YXIgc2VsZWN0SXRlbSA9IGZ1bmN0aW9uIHNlbGVjdEl0ZW0oZXZlbnQpIHtcbiAgICBpZiAoc2VsZWN0ZWRPcHRpb24gIT09IGV2ZW50Lm9wdGlvbikge1xuICAgICAgdXBkYXRlRWRpdGFibGVMYWJlbChldmVudC5vcHRpb24pO1xuICAgICAgdmFyIG9wdGlvblZhbHVlID0gZ2V0T3B0aW9uVmFsdWUoZXZlbnQub3B0aW9uKTtcbiAgICAgIGlmIChwcm9wcy5vbkNoYW5nZSkge1xuICAgICAgICBwcm9wcy5vbkNoYW5nZSh7XG4gICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQub3JpZ2luYWxFdmVudCxcbiAgICAgICAgICB2YWx1ZTogb3B0aW9uVmFsdWUsXG4gICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oKSB7fSxcbiAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7fSxcbiAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgIG5hbWU6IHByb3BzLm5hbWUsXG4gICAgICAgICAgICBpZDogcHJvcHMuaWQsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9uVmFsdWVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIGdldFNlbGVjdGVkT3B0aW9uSW5kZXggPSBmdW5jdGlvbiBnZXRTZWxlY3RlZE9wdGlvbkluZGV4KG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB2aXNpYmxlT3B0aW9ucztcbiAgICBpZiAocHJvcHMudmFsdWUgIT0gbnVsbCAmJiBvcHRpb25zKSB7XG4gICAgICBpZiAocHJvcHMub3B0aW9uR3JvdXBMYWJlbCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgc2VsZWN0ZWRPcHRpb25JbmRleCA9IGZpbmRPcHRpb25JbmRleEluTGlzdChwcm9wcy52YWx1ZSwgZ2V0T3B0aW9uR3JvdXBDaGlsZHJlbihvcHRpb25zW2ldKSk7XG4gICAgICAgICAgaWYgKHNlbGVjdGVkT3B0aW9uSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBncm91cDogaSxcbiAgICAgICAgICAgICAgb3B0aW9uOiBzZWxlY3RlZE9wdGlvbkluZGV4XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZpbmRPcHRpb25JbmRleEluTGlzdChwcm9wcy52YWx1ZSwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcbiAgdmFyIGVxdWFsaXR5S2V5ID0gZnVuY3Rpb24gZXF1YWxpdHlLZXkoKSB7XG4gICAgcmV0dXJuIHByb3BzLm9wdGlvblZhbHVlID8gbnVsbCA6IHByb3BzLmRhdGFLZXk7XG4gIH07XG4gIHZhciBmaW5kT3B0aW9uSW5kZXhJbkxpc3QgPSBmdW5jdGlvbiBmaW5kT3B0aW9uSW5kZXhJbkxpc3QodmFsdWUsIGxpc3QpIHtcbiAgICB2YXIga2V5ID0gZXF1YWxpdHlLZXkoKTtcbiAgICByZXR1cm4gbGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBPYmplY3RVdGlscy5lcXVhbHModmFsdWUsIGdldE9wdGlvblZhbHVlKGl0ZW0pLCBrZXkpO1xuICAgIH0pO1xuICB9O1xuICB2YXIgaXNTZWxlY3RlZCA9IGZ1bmN0aW9uIGlzU2VsZWN0ZWQob3B0aW9uKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmVxdWFscyhwcm9wcy52YWx1ZSwgZ2V0T3B0aW9uVmFsdWUob3B0aW9uKSwgZXF1YWxpdHlLZXkoKSk7XG4gIH07XG4gIHZhciBzaG93ID0gZnVuY3Rpb24gc2hvdygpIHtcbiAgICBzZXRPdmVybGF5VmlzaWJsZVN0YXRlKHRydWUpO1xuICB9O1xuICB2YXIgaGlkZSA9IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgc2V0T3ZlcmxheVZpc2libGVTdGF0ZShmYWxzZSk7XG4gIH07XG4gIHZhciBvbk92ZXJsYXlFbnRlciA9IGZ1bmN0aW9uIG9uT3ZlcmxheUVudGVyKGNhbGxiYWNrKSB7XG4gICAgWkluZGV4VXRpbHMuc2V0KCdvdmVybGF5Jywgb3ZlcmxheVJlZi5jdXJyZW50LCBQcmltZVJlYWN0LmF1dG9aSW5kZXgsIFByaW1lUmVhY3QuekluZGV4WydvdmVybGF5J10pO1xuICAgIGFsaWduT3ZlcmxheSgpO1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gIH07XG4gIHZhciBvbk92ZXJsYXlFbnRlcmVkID0gZnVuY3Rpb24gb25PdmVybGF5RW50ZXJlZChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgYmluZE92ZXJsYXlMaXN0ZW5lcigpO1xuICAgIHByb3BzLm9uU2hvdyAmJiBwcm9wcy5vblNob3coKTtcbiAgfTtcbiAgdmFyIG9uT3ZlcmxheUV4aXQgPSBmdW5jdGlvbiBvbk92ZXJsYXlFeGl0KCkge1xuICAgIHVuYmluZE92ZXJsYXlMaXN0ZW5lcigpO1xuICB9O1xuICB2YXIgb25PdmVybGF5RXhpdGVkID0gZnVuY3Rpb24gb25PdmVybGF5RXhpdGVkKCkge1xuICAgIGlmIChwcm9wcy5maWx0ZXIgJiYgcHJvcHMucmVzZXRGaWx0ZXJPbkhpZGUpIHtcbiAgICAgIHJlc2V0RmlsdGVyKCk7XG4gICAgfVxuICAgIFpJbmRleFV0aWxzLmNsZWFyKG92ZXJsYXlSZWYuY3VycmVudCk7XG4gICAgcHJvcHMub25IaWRlICYmIHByb3BzLm9uSGlkZSgpO1xuICB9O1xuICB2YXIgYWxpZ25PdmVybGF5ID0gZnVuY3Rpb24gYWxpZ25PdmVybGF5KCkge1xuICAgIERvbUhhbmRsZXIuYWxpZ25PdmVybGF5KG92ZXJsYXlSZWYuY3VycmVudCwgaW5wdXRSZWYuY3VycmVudC5wYXJlbnRFbGVtZW50LCBwcm9wcy5hcHBlbmRUbyB8fCBQcmltZVJlYWN0LmFwcGVuZFRvKTtcbiAgfTtcbiAgdmFyIHNjcm9sbEluVmlldyA9IGZ1bmN0aW9uIHNjcm9sbEluVmlldygpIHtcbiAgICB2YXIgaGlnaGxpZ2h0SXRlbSA9IERvbUhhbmRsZXIuZmluZFNpbmdsZShvdmVybGF5UmVmLmN1cnJlbnQsICdsaS5wLWhpZ2hsaWdodCcpO1xuICAgIGlmIChoaWdobGlnaHRJdGVtICYmIGhpZ2hsaWdodEl0ZW0uc2Nyb2xsSW50b1ZpZXcpIHtcbiAgICAgIGhpZ2hsaWdodEl0ZW0uc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICBibG9jazogJ25lYXJlc3QnLFxuICAgICAgICBpbmxpbmU6ICduZWFyZXN0J1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICB2YXIgdXBkYXRlRWRpdGFibGVMYWJlbCA9IGZ1bmN0aW9uIHVwZGF0ZUVkaXRhYmxlTGFiZWwob3B0aW9uKSB7XG4gICAgaWYgKGlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQudmFsdWUgPSBvcHRpb24gPyBnZXRPcHRpb25MYWJlbChvcHRpb24pIDogcHJvcHMudmFsdWUgfHwgJyc7XG4gICAgfVxuICB9O1xuICB2YXIgZ2V0T3B0aW9uTGFiZWwgPSBmdW5jdGlvbiBnZXRPcHRpb25MYWJlbChvcHRpb24pIHtcbiAgICByZXR1cm4gcHJvcHMub3B0aW9uTGFiZWwgPyBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKG9wdGlvbiwgcHJvcHMub3B0aW9uTGFiZWwpIDogb3B0aW9uICYmIG9wdGlvblsnbGFiZWwnXSAhPT0gdW5kZWZpbmVkID8gb3B0aW9uWydsYWJlbCddIDogb3B0aW9uO1xuICB9O1xuICB2YXIgZ2V0T3B0aW9uVmFsdWUgPSBmdW5jdGlvbiBnZXRPcHRpb25WYWx1ZShvcHRpb24pIHtcbiAgICByZXR1cm4gcHJvcHMub3B0aW9uVmFsdWUgPyBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKG9wdGlvbiwgcHJvcHMub3B0aW9uVmFsdWUpIDogb3B0aW9uICYmIG9wdGlvblsndmFsdWUnXSAhPT0gdW5kZWZpbmVkID8gb3B0aW9uWyd2YWx1ZSddIDogb3B0aW9uO1xuICB9O1xuICB2YXIgZ2V0T3B0aW9uUmVuZGVyS2V5ID0gZnVuY3Rpb24gZ2V0T3B0aW9uUmVuZGVyS2V5KG9wdGlvbikge1xuICAgIHJldHVybiBwcm9wcy5kYXRhS2V5ID8gT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShvcHRpb24sIHByb3BzLmRhdGFLZXkpIDogZ2V0T3B0aW9uTGFiZWwob3B0aW9uKTtcbiAgfTtcbiAgdmFyIGlzT3B0aW9uRGlzYWJsZWQgPSBmdW5jdGlvbiBpc09wdGlvbkRpc2FibGVkKG9wdGlvbikge1xuICAgIGlmIChwcm9wcy5vcHRpb25EaXNhYmxlZCkge1xuICAgICAgcmV0dXJuIE9iamVjdFV0aWxzLmlzRnVuY3Rpb24ocHJvcHMub3B0aW9uRGlzYWJsZWQpID8gcHJvcHMub3B0aW9uRGlzYWJsZWQob3B0aW9uKSA6IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEob3B0aW9uLCBwcm9wcy5vcHRpb25EaXNhYmxlZCk7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb24gJiYgb3B0aW9uWydkaXNhYmxlZCddICE9PSB1bmRlZmluZWQgPyBvcHRpb25bJ2Rpc2FibGVkJ10gOiBmYWxzZTtcbiAgfTtcbiAgdmFyIGdldE9wdGlvbkdyb3VwUmVuZGVyS2V5ID0gZnVuY3Rpb24gZ2V0T3B0aW9uR3JvdXBSZW5kZXJLZXkob3B0aW9uR3JvdXApIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShvcHRpb25Hcm91cCwgcHJvcHMub3B0aW9uR3JvdXBMYWJlbCk7XG4gIH07XG4gIHZhciBnZXRPcHRpb25Hcm91cExhYmVsID0gZnVuY3Rpb24gZ2V0T3B0aW9uR3JvdXBMYWJlbChvcHRpb25Hcm91cCkge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKG9wdGlvbkdyb3VwLCBwcm9wcy5vcHRpb25Hcm91cExhYmVsKTtcbiAgfTtcbiAgdmFyIGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4gPSBmdW5jdGlvbiBnZXRPcHRpb25Hcm91cENoaWxkcmVuKG9wdGlvbkdyb3VwKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEob3B0aW9uR3JvdXAsIHByb3BzLm9wdGlvbkdyb3VwQ2hpbGRyZW4pO1xuICB9O1xuICB2YXIgdXBkYXRlSW5wdXRGaWVsZCA9IGZ1bmN0aW9uIHVwZGF0ZUlucHV0RmllbGQoKSB7XG4gICAgaWYgKHByb3BzLmVkaXRhYmxlICYmIGlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgIHZhciBsYWJlbCA9IHNlbGVjdGVkT3B0aW9uID8gZ2V0T3B0aW9uTGFiZWwoc2VsZWN0ZWRPcHRpb24pIDogbnVsbDtcbiAgICAgIHZhciB2YWx1ZSA9IGxhYmVsIHx8IHByb3BzLnZhbHVlIHx8ICcnO1xuICAgICAgaW5wdXRSZWYuY3VycmVudC52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgfTtcbiAgdmFyIGdldFNlbGVjdGVkT3B0aW9uID0gZnVuY3Rpb24gZ2V0U2VsZWN0ZWRPcHRpb24oKSB7XG4gICAgdmFyIGluZGV4ID0gZ2V0U2VsZWN0ZWRPcHRpb25JbmRleChwcm9wcy5vcHRpb25zKTtcbiAgICByZXR1cm4gaW5kZXggIT09IC0xID8gcHJvcHMub3B0aW9uR3JvdXBMYWJlbCA/IGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4ocHJvcHMub3B0aW9uc1tpbmRleC5ncm91cF0pW2luZGV4Lm9wdGlvbl0gOiBwcm9wcy5vcHRpb25zW2luZGV4XSA6IG51bGw7XG4gIH07XG4gIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgIHNob3c6IHNob3csXG4gICAgICBoaWRlOiBoaWRlLFxuICAgICAgZm9jdXM6IGZ1bmN0aW9uIGZvY3VzKCkge1xuICAgICAgICByZXR1cm4gRG9tSGFuZGxlci5mb2N1cyhmb2N1c0lucHV0UmVmLmN1cnJlbnQpO1xuICAgICAgfSxcbiAgICAgIGdldEVsZW1lbnQ6IGZ1bmN0aW9uIGdldEVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgICB9LFxuICAgICAgZ2V0T3ZlcmxheTogZnVuY3Rpb24gZ2V0T3ZlcmxheSgpIHtcbiAgICAgICAgcmV0dXJuIG92ZXJsYXlSZWYuY3VycmVudDtcbiAgICAgIH0sXG4gICAgICBnZXRJbnB1dDogZnVuY3Rpb24gZ2V0SW5wdXQoKSB7XG4gICAgICAgIHJldHVybiBpbnB1dFJlZi5jdXJyZW50O1xuICAgICAgfSxcbiAgICAgIGdldEZvY3VzSW5wdXQ6IGZ1bmN0aW9uIGdldEZvY3VzSW5wdXQoKSB7XG4gICAgICAgIHJldHVybiBmb2N1c0lucHV0UmVmLmN1cnJlbnQ7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgT2JqZWN0VXRpbHMuY29tYmluZWRSZWZzKGlucHV0UmVmLCBwcm9wcy5pbnB1dFJlZik7XG4gICAgT2JqZWN0VXRpbHMuY29tYmluZWRSZWZzKGZvY3VzSW5wdXRSZWYsIHByb3BzLmZvY3VzSW5wdXRSZWYpO1xuICB9LCBbaW5wdXRSZWYsIHByb3BzLmlucHV0UmVmLCBmb2N1c0lucHV0UmVmLCBwcm9wcy5mb2N1c0lucHV0UmVmXSk7XG4gIHVzZU1vdW50RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocHJvcHMuYXV0b0ZvY3VzKSB7XG4gICAgICBEb21IYW5kbGVyLmZvY3VzKGZvY3VzSW5wdXRSZWYuY3VycmVudCwgcHJvcHMuYXV0b0ZvY3VzKTtcbiAgICB9XG4gIH0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChvdmVybGF5VmlzaWJsZVN0YXRlICYmIHByb3BzLnZhbHVlKSB7XG4gICAgICBzY3JvbGxJblZpZXcoKTtcbiAgICB9XG4gIH0sIFtvdmVybGF5VmlzaWJsZVN0YXRlLCBwcm9wcy52YWx1ZV0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChvdmVybGF5VmlzaWJsZVN0YXRlICYmIGZpbHRlclN0YXRlICYmIHByb3BzLmZpbHRlcikge1xuICAgICAgYWxpZ25PdmVybGF5KCk7XG4gICAgfVxuICB9LCBbb3ZlcmxheVZpc2libGVTdGF0ZSwgZmlsdGVyU3RhdGUsIHByb3BzLmZpbHRlcl0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChmaWx0ZXJTdGF0ZSAmJiAoIXByb3BzLm9wdGlvbnMgfHwgcHJvcHMub3B0aW9ucy5sZW5ndGggPT09IDApKSB7XG4gICAgICBzZXRGaWx0ZXJTdGF0ZSgnJyk7XG4gICAgfVxuICAgIHVwZGF0ZUlucHV0RmllbGQoKTtcbiAgICBpZiAoaW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgaW5wdXRSZWYuY3VycmVudC5zZWxlY3RlZEluZGV4ID0gMTtcbiAgICB9XG4gIH0pO1xuICB1c2VVbm1vdW50RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBaSW5kZXhVdGlscy5jbGVhcihvdmVybGF5UmVmLmN1cnJlbnQpO1xuICB9KTtcbiAgdmFyIGNyZWF0ZUhpZGRlblNlbGVjdCA9IGZ1bmN0aW9uIGNyZWF0ZUhpZGRlblNlbGVjdCgpIHtcbiAgICB2YXIgb3B0aW9uID0ge1xuICAgICAgdmFsdWU6ICcnLFxuICAgICAgbGFiZWw6IHByb3BzLnBsYWNlaG9sZGVyXG4gICAgfTtcbiAgICBpZiAoc2VsZWN0ZWRPcHRpb24pIHtcbiAgICAgIHZhciBvcHRpb25WYWx1ZSA9IGdldE9wdGlvblZhbHVlKHNlbGVjdGVkT3B0aW9uKTtcbiAgICAgIG9wdGlvbiA9IHtcbiAgICAgICAgdmFsdWU6IF90eXBlb2Yob3B0aW9uVmFsdWUpID09PSAnb2JqZWN0JyA/IHByb3BzLm9wdGlvbnMuZmluZEluZGV4KGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgcmV0dXJuIG8gPT09IG9wdGlvblZhbHVlO1xuICAgICAgICB9KSA6IG9wdGlvblZhbHVlLFxuICAgICAgICBsYWJlbDogZ2V0T3B0aW9uTGFiZWwoc2VsZWN0ZWRPcHRpb24pXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInAtaGlkZGVuLWFjY2Vzc2libGUgcC1kcm9wZG93bi1oaWRkZW4tc2VsZWN0XCJcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiLCB7XG4gICAgICByZWY6IGlucHV0UmVmLFxuICAgICAgcmVxdWlyZWQ6IHByb3BzLnJlcXVpcmVkLFxuICAgICAgZGVmYXVsdFZhbHVlOiBvcHRpb24udmFsdWUsXG4gICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIlxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIsIHtcbiAgICAgIHZhbHVlOiBvcHRpb24udmFsdWVcbiAgICB9LCBvcHRpb24ubGFiZWwpKSk7XG4gIH07XG4gIHZhciBjcmVhdGVLZXlib2FyZEhlbHBlciA9IGZ1bmN0aW9uIGNyZWF0ZUtleWJvYXJkSGVscGVyKCkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1oaWRkZW4tYWNjZXNzaWJsZVwiXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCBfZXh0ZW5kcyh7XG4gICAgICByZWY6IGZvY3VzSW5wdXRSZWYsXG4gICAgICBpZDogcHJvcHMuaW5wdXRJZCxcbiAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgcmVhZE9ubHk6IHRydWUsXG4gICAgICBcImFyaWEtaGFzcG9wdXBcIjogXCJsaXN0Ym94XCIsXG4gICAgICBvbkZvY3VzOiBvbklucHV0Rm9jdXMsXG4gICAgICBvbkJsdXI6IG9uSW5wdXRCbHVyLFxuICAgICAgb25LZXlEb3duOiBvbklucHV0S2V5RG93bixcbiAgICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCxcbiAgICAgIHRhYkluZGV4OiBwcm9wcy50YWJJbmRleFxuICAgIH0sIGFyaWFQcm9wcykpKTtcbiAgfTtcbiAgdmFyIGNyZWF0ZUxhYmVsID0gZnVuY3Rpb24gY3JlYXRlTGFiZWwoKSB7XG4gICAgdmFyIGxhYmVsID0gT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShzZWxlY3RlZE9wdGlvbikgPyBnZXRPcHRpb25MYWJlbChzZWxlY3RlZE9wdGlvbikgOiBudWxsO1xuICAgIGlmIChwcm9wcy5lZGl0YWJsZSkge1xuICAgICAgdmFyIHZhbHVlID0gbGFiZWwgfHwgcHJvcHMudmFsdWUgfHwgJyc7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCBfZXh0ZW5kcyh7XG4gICAgICAgIHJlZjogaW5wdXRSZWYsXG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IHZhbHVlLFxuICAgICAgICBjbGFzc05hbWU6IFwicC1kcm9wZG93bi1sYWJlbCBwLWlucHV0dGV4dFwiLFxuICAgICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBwcm9wcy5wbGFjZWhvbGRlcixcbiAgICAgICAgbWF4TGVuZ3RoOiBwcm9wcy5tYXhMZW5ndGgsXG4gICAgICAgIG9uSW5wdXQ6IG9uRWRpdGFibGVJbnB1dENoYW5nZSxcbiAgICAgICAgb25Gb2N1czogb25FZGl0YWJsZUlucHV0Rm9jdXMsXG4gICAgICAgIG9uQmx1cjogb25JbnB1dEJsdXIsXG4gICAgICAgIFwiYXJpYS1oYXNwb3B1cFwiOiBcImxpc3Rib3hcIlxuICAgICAgfSwgYXJpYVByb3BzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBfY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1kcm9wZG93bi1sYWJlbCBwLWlucHV0dGV4dCcsIHtcbiAgICAgICAgJ3AtcGxhY2Vob2xkZXInOiBsYWJlbCA9PT0gbnVsbCAmJiBwcm9wcy5wbGFjZWhvbGRlcixcbiAgICAgICAgJ3AtZHJvcGRvd24tbGFiZWwtZW1wdHknOiBsYWJlbCA9PT0gbnVsbCAmJiAhcHJvcHMucGxhY2Vob2xkZXJcbiAgICAgIH0pO1xuICAgICAgdmFyIGNvbnRlbnQgPSBwcm9wcy52YWx1ZVRlbXBsYXRlID8gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy52YWx1ZVRlbXBsYXRlLCBzZWxlY3RlZE9wdGlvbiwgcHJvcHMpIDogbGFiZWwgfHwgcHJvcHMucGxhY2Vob2xkZXIgfHwgJ2VtcHR5JztcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICByZWY6IGlucHV0UmVmLFxuICAgICAgICBjbGFzc05hbWU6IF9jbGFzc05hbWVcbiAgICAgIH0sIGNvbnRlbnQpO1xuICAgIH1cbiAgfTtcbiAgdmFyIGNyZWF0ZUNsZWFySWNvbiA9IGZ1bmN0aW9uIGNyZWF0ZUNsZWFySWNvbigpIHtcbiAgICBpZiAocHJvcHMudmFsdWUgIT0gbnVsbCAmJiBwcm9wcy5zaG93Q2xlYXIgJiYgIXByb3BzLmRpc2FibGVkKSB7XG4gICAgICB2YXIgaWNvbkNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtZHJvcGRvd24tY2xlYXItaWNvbiBwLWNsaWNrYWJsZScpO1xuICAgICAgdmFyIGljb25Qcm9wcyA9IHtcbiAgICAgICAgY2xhc3NOYW1lOiBpY29uQ2xhc3NOYW1lLFxuICAgICAgICBvblBvaW50ZXJVcDogY2xlYXJcbiAgICAgIH07XG4gICAgICByZXR1cm4gSWNvblV0aWxzLmdldEpTWEljb24ocHJvcHMuY2xlYXJJY29uLCBpY29uUHJvcHMpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZURyb3Bkb3duSWNvbiA9IGZ1bmN0aW9uIGNyZWF0ZURyb3Bkb3duSWNvbigpIHtcbiAgICB2YXIgaWNvbkNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtZHJvcGRvd24tdHJpZ2dlci1pY29uIHAtY2xpY2thYmxlJyk7XG4gICAgdmFyIGljb24gPSBJY29uVXRpbHMuZ2V0SlNYSWNvbihwcm9wcy5kcm9wZG93bkljb24sIHtcbiAgICAgIGNsYXNzTmFtZTogaWNvbkNsYXNzTmFtZVxuICAgIH0pO1xuICAgIHZhciBhcmlhTGFiZWwgPSBwcm9wcy5wbGFjZWhvbGRlciB8fCBwcm9wcy5hcmlhTGFiZWw7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLWRyb3Bkb3duLXRyaWdnZXJcIixcbiAgICAgIHJvbGU6IFwiYnV0dG9uXCIsXG4gICAgICBcImFyaWEtaGFzcG9wdXBcIjogXCJsaXN0Ym94XCIsXG4gICAgICBcImFyaWEtZXhwYW5kZWRcIjogb3ZlcmxheVZpc2libGVTdGF0ZSxcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBhcmlhTGFiZWxcbiAgICB9LCBpY29uKTtcbiAgfTtcbiAgdmFyIHZpc2libGVPcHRpb25zID0gZ2V0VmlzaWJsZU9wdGlvbnMoKTtcbiAgdmFyIHNlbGVjdGVkT3B0aW9uID0gZ2V0U2VsZWN0ZWRPcHRpb24oKTtcbiAgdmFyIGhhc1Rvb2x0aXAgPSBPYmplY3RVdGlscy5pc05vdEVtcHR5KHByb3BzLnRvb2x0aXApO1xuICB2YXIgb3RoZXJQcm9wcyA9IERyb3Bkb3duQmFzZS5nZXRPdGhlclByb3BzKHByb3BzKTtcbiAgdmFyIGFyaWFQcm9wcyA9IE9iamVjdFV0aWxzLnJlZHVjZUtleXMob3RoZXJQcm9wcywgRG9tSGFuZGxlci5BUklBX1BST1BTKTtcbiAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtZHJvcGRvd24gcC1jb21wb25lbnQgcC1pbnB1dHdyYXBwZXInLCB7XG4gICAgJ3AtZGlzYWJsZWQnOiBwcm9wcy5kaXNhYmxlZCxcbiAgICAncC1mb2N1cyc6IGZvY3VzZWRTdGF0ZSxcbiAgICAncC1kcm9wZG93bi1jbGVhcmFibGUnOiBwcm9wcy5zaG93Q2xlYXIgJiYgIXByb3BzLmRpc2FibGVkLFxuICAgICdwLWlucHV0d3JhcHBlci1maWxsZWQnOiBPYmplY3RVdGlscy5pc05vdEVtcHR5KHByb3BzLnZhbHVlKSxcbiAgICAncC1pbnB1dHdyYXBwZXItZm9jdXMnOiBmb2N1c2VkU3RhdGUgfHwgb3ZlcmxheVZpc2libGVTdGF0ZVxuICB9LCBwcm9wcy5jbGFzc05hbWUpO1xuICB2YXIgaGlkZGVuU2VsZWN0ID0gY3JlYXRlSGlkZGVuU2VsZWN0KCk7XG4gIHZhciBrZXlib2FyZEhlbHBlciA9IGNyZWF0ZUtleWJvYXJkSGVscGVyKCk7XG4gIHZhciBsYWJlbEVsZW1lbnQgPSBjcmVhdGVMYWJlbCgpO1xuICB2YXIgZHJvcGRvd25JY29uID0gY3JlYXRlRHJvcGRvd25JY29uKCk7XG4gIHZhciBjbGVhckljb24gPSBjcmVhdGVDbGVhckljb24oKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiBlbGVtZW50UmVmLFxuICAgIGlkOiBwcm9wcy5pZCxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICBzdHlsZTogcHJvcHMuc3R5bGVcbiAgfSwgb3RoZXJQcm9wcywge1xuICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXG4gICAgb25Nb3VzZURvd246IHByb3BzLm9uTW91c2VEb3duLFxuICAgIG9uQ29udGV4dE1lbnU6IHByb3BzLm9uQ29udGV4dE1lbnVcbiAgfSksIGtleWJvYXJkSGVscGVyLCBoaWRkZW5TZWxlY3QsIGxhYmVsRWxlbWVudCwgY2xlYXJJY29uLCBkcm9wZG93bkljb24sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERyb3Bkb3duUGFuZWwsIF9leHRlbmRzKHtcbiAgICByZWY6IG92ZXJsYXlSZWYsXG4gICAgdmlzaWJsZU9wdGlvbnM6IHZpc2libGVPcHRpb25zXG4gIH0sIHByb3BzLCB7XG4gICAgYXBwZW5kVG86IGFwcGVuZFRvLFxuICAgIG9uQ2xpY2s6IG9uUGFuZWxDbGljayxcbiAgICBvbk9wdGlvbkNsaWNrOiBvbk9wdGlvbkNsaWNrLFxuICAgIGZpbHRlclZhbHVlOiBmaWx0ZXJTdGF0ZSxcbiAgICBoYXNGaWx0ZXI6IGhhc0ZpbHRlcixcbiAgICBvbkZpbHRlckNsZWFySWNvbkNsaWNrOiBvbkZpbHRlckNsZWFySWNvbkNsaWNrLFxuICAgIHJlc2V0RmlsdGVyOiByZXNldEZpbHRlcixcbiAgICBvbkZpbHRlcklucHV0S2V5RG93bjogb25GaWx0ZXJJbnB1dEtleURvd24sXG4gICAgb25GaWx0ZXJJbnB1dENoYW5nZTogb25GaWx0ZXJJbnB1dENoYW5nZSxcbiAgICBnZXRPcHRpb25MYWJlbDogZ2V0T3B0aW9uTGFiZWwsXG4gICAgZ2V0T3B0aW9uUmVuZGVyS2V5OiBnZXRPcHRpb25SZW5kZXJLZXksXG4gICAgaXNPcHRpb25EaXNhYmxlZDogaXNPcHRpb25EaXNhYmxlZCxcbiAgICBnZXRPcHRpb25Hcm91cENoaWxkcmVuOiBnZXRPcHRpb25Hcm91cENoaWxkcmVuLFxuICAgIGdldE9wdGlvbkdyb3VwTGFiZWw6IGdldE9wdGlvbkdyb3VwTGFiZWwsXG4gICAgZ2V0T3B0aW9uR3JvdXBSZW5kZXJLZXk6IGdldE9wdGlvbkdyb3VwUmVuZGVyS2V5LFxuICAgIGlzU2VsZWN0ZWQ6IGlzU2VsZWN0ZWQsXG4gICAgZ2V0U2VsZWN0ZWRPcHRpb25JbmRleDogZ2V0U2VsZWN0ZWRPcHRpb25JbmRleCxcbiAgICBcImluXCI6IG92ZXJsYXlWaXNpYmxlU3RhdGUsXG4gICAgb25FbnRlcjogb25PdmVybGF5RW50ZXIsXG4gICAgb25FbnRlcmVkOiBvbk92ZXJsYXlFbnRlcmVkLFxuICAgIG9uRXhpdDogb25PdmVybGF5RXhpdCxcbiAgICBvbkV4aXRlZDogb25PdmVybGF5RXhpdGVkXG4gIH0pKSksIGhhc1Rvb2x0aXAgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwgX2V4dGVuZHMoe1xuICAgIHRhcmdldDogZWxlbWVudFJlZixcbiAgICBjb250ZW50OiBwcm9wcy50b29sdGlwXG4gIH0sIHByb3BzLnRvb2x0aXBPcHRpb25zKSkpO1xufSkpO1xuRHJvcGRvd24uZGlzcGxheU5hbWUgPSAnRHJvcGRvd24nO1xuXG5leHBvcnQgeyBEcm9wZG93biB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/primereact/dropdown/dropdown.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/fileupload/fileupload.esm.js":
/*!**************************************************************!*\
  !*** ./node_modules/primereact/fileupload/fileupload.esm.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FileUpload\": function() { return /* binding */ FileUpload; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/api */ \"./node_modules/primereact/api/api.esm.js\");\n/* harmony import */ var primereact_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/button */ \"./node_modules/primereact/button/button.esm.js\");\n/* harmony import */ var primereact_messages__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/messages */ \"./node_modules/primereact/messages/messages.esm.js\");\n/* harmony import */ var primereact_progressbar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/progressbar */ \"./node_modules/primereact/progressbar/progressbar.esm.js\");\n/* harmony import */ var primereact_ripple__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/ripple */ \"./node_modules/primereact/ripple/ripple.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _arrayLikeToArray$1(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray$1(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray$1(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray$1(arr) || _nonIterableSpread();\n}\n\nfunction _readOnlyError(name) {\n  throw new TypeError(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray$1(arr, i) || _nonIterableRest();\n}\n\nvar FileUploadBase = {\n  defaultProps: {\n    __TYPE: 'FileUpload',\n    id: null,\n    name: null,\n    url: null,\n    mode: 'advanced',\n    multiple: false,\n    accept: null,\n    disabled: false,\n    auto: false,\n    maxFileSize: null,\n    invalidFileSizeMessageSummary: '{0}: Invalid file size, ',\n    invalidFileSizeMessageDetail: 'maximum upload size is {0}.',\n    style: null,\n    className: null,\n    widthCredentials: false,\n    previewWidth: 50,\n    chooseLabel: null,\n    uploadLabel: null,\n    cancelLabel: null,\n    chooseOptions: {\n      label: null,\n      icon: null,\n      iconOnly: false,\n      className: null,\n      style: null\n    },\n    uploadOptions: {\n      label: null,\n      icon: null,\n      iconOnly: false,\n      className: null,\n      style: null\n    },\n    cancelOptions: {\n      label: null,\n      icon: null,\n      iconOnly: false,\n      className: null,\n      style: null\n    },\n    customUpload: false,\n    headerClassName: null,\n    headerStyle: null,\n    contentClassName: null,\n    contentStyle: null,\n    headerTemplate: null,\n    itemTemplate: null,\n    emptyTemplate: null,\n    progressBarTemplate: null,\n    onBeforeUpload: null,\n    onBeforeSend: null,\n    onBeforeDrop: null,\n    onBeforeSelect: null,\n    onUpload: null,\n    onError: null,\n    onClear: null,\n    onSelect: null,\n    onProgress: null,\n    onValidationFail: null,\n    uploadHandler: null,\n    onRemove: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, FileUploadBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, FileUploadBase.defaultProps);\n  }\n};\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nvar BadgeBase = {\n  defaultProps: {\n    __TYPE: 'Badge',\n    value: null,\n    severity: null,\n    size: null,\n    style: null,\n    className: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, BadgeBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, BadgeBase.defaultProps);\n  }\n};\n\nvar Badge = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (inProps, ref) {\n  var props = BadgeBase.getProps(inProps);\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var otherProps = BadgeBase.getOtherProps(props);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-badge p-component', _defineProperty({\n    'p-badge-no-gutter': primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(props.value) && String(props.value).length === 1,\n    'p-badge-dot': primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isEmpty(props.value),\n    'p-badge-lg': props.size === 'large',\n    'p-badge-xl': props.size === 'xlarge'\n  }, \"p-badge-\".concat(props.severity), props.severity !== null), props.className);\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElement: function getElement() {\n        return elementRef.current;\n      }\n    };\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", _extends({\n    ref: elementRef,\n    className: className,\n    style: props.style\n  }, otherProps), props.value);\n}));\nBadge.displayName = 'Badge';\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar FileUpload = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (inProps, ref) {\n  var props = FileUploadBase.getProps(inProps);\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    uploadedFilesState = _React$useState2[0],\n    setUploadedFilesState = _React$useState2[1];\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState([]),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    filesState = _React$useState4[0],\n    setFilesState = _React$useState4[1];\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0__.useState(0),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    progressState = _React$useState6[0],\n    setProgressState = _React$useState6[1];\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\n    focusedState = _React$useState8[0],\n    setFocusedState = _React$useState8[1];\n  var _React$useState9 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n    _React$useState10 = _slicedToArray(_React$useState9, 2),\n    uploadingState = _React$useState10[0],\n    setUploadingState = _React$useState10[1];\n  var fileInputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var messagesRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var contentRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var duplicateIEEvent = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var uploadedFileCount = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n  var hasFiles = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(filesState);\n  var hasUploadedFiles = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(uploadedFilesState);\n  var disabled = props.disabled || uploadingState;\n  var chooseButtonLabel = props.chooseLabel || props.chooseOptions.label || (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.localeOption)('choose');\n  var uploadButtonLabel = props.uploadLabel || props.uploadOptions.label || (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.localeOption)('upload');\n  var cancelButtonLabel = props.cancelLabel || props.cancelOptions.label || (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.localeOption)('cancel');\n  var chooseDisabled = disabled || props.fileLimit && props.fileLimit <= filesState.length + uploadedFileCount;\n  var uploadDisabled = disabled || !hasFiles;\n  var cancelDisabled = disabled || !hasFiles;\n  var isImage = function isImage(file) {\n    return /^image\\//.test(file.type);\n  };\n  var remove = function remove(event, index) {\n    clearInput();\n    var currentFiles = _toConsumableArray(filesState);\n    var removedFile = filesState[index];\n    currentFiles.splice(index, 1);\n    setFilesState(currentFiles);\n    if (props.onRemove) {\n      props.onRemove({\n        originalEvent: event,\n        file: removedFile\n      });\n    }\n  };\n  var removeUploadedFiles = function removeUploadedFiles(event, index) {\n    clearInput();\n    var currentUploadedFiles = _toConsumableArray(uploadedFilesState);\n    var removedFile = filesState[index];\n    currentUploadedFiles.splice(index, 1);\n    setUploadedFilesState(currentUploadedFiles);\n    if (props.onRemove) {\n      props.onRemove({\n        originalEvent: event,\n        file: removedFile\n      });\n    }\n  };\n  var clearInput = function clearInput() {\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n  var clearIEInput = function clearIEInput() {\n    if (fileInputRef.current) {\n      duplicateIEEvent.current = true; //IE11 fix to prevent onFileChange trigger again\n      fileInputRef.current.value = '';\n    }\n  };\n  var formatSize = function formatSize(bytes) {\n    if (bytes === 0) {\n      return '0 B';\n    }\n    var k = 1000,\n      dm = 3,\n      sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n      i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n  };\n  var onFileSelect = function onFileSelect(event) {\n    // give caller a chance to stop the selection\n    if (props.onBeforeSelect && props.onBeforeSelect({\n      originalEvent: event,\n      files: filesState\n    }) === false) {\n      return;\n    }\n    if (event.type !== 'drop' && isIE11() && duplicateIEEvent.current) {\n      duplicateIEEvent.current = false;\n      return;\n    }\n    var currentFiles = [];\n    if (props.multiple) {\n      currentFiles = filesState ? _toConsumableArray(filesState) : [];\n    }\n    var selectedFiles = event.dataTransfer ? event.dataTransfer.files : event.target.files;\n    for (var i = 0; i < selectedFiles.length; i++) {\n      var file = selectedFiles[i];\n      if (!isFileSelected(file) && validate(file)) {\n        if (isImage(file)) {\n          file.objectURL = window.URL.createObjectURL(file);\n        }\n        currentFiles.push(file);\n      }\n    }\n    setFilesState(currentFiles);\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(currentFiles) && props.auto) {\n      upload(currentFiles);\n    }\n    if (props.onSelect) {\n      props.onSelect({\n        originalEvent: event,\n        files: selectedFiles\n      });\n    }\n    if (event.type !== 'drop' && isIE11()) {\n      clearIEInput();\n    } else {\n      clearInput();\n    }\n    if (props.mode === 'basic' && currentFiles.length > 0) {\n      fileInputRef.current.style.display = 'none';\n    }\n  };\n  var isFileSelected = function isFileSelected(file) {\n    return filesState.some(function (f) {\n      return f.name + f.type + f.size === file.name + file.type + file.size;\n    });\n  };\n  var isIE11 = function isIE11() {\n    return !!window['MSInputMethodContext'] && !!document['documentMode'];\n  };\n  var validate = function validate(file) {\n    if (props.maxFileSize && file.size > props.maxFileSize) {\n      var message = {\n        severity: 'error',\n        summary: props.invalidFileSizeMessageSummary.replace('{0}', file.name),\n        detail: props.invalidFileSizeMessageDetail.replace('{0}', formatSize(props.maxFileSize)),\n        sticky: true\n      };\n      if (props.mode === 'advanced') {\n        messagesRef.current.show(message);\n      }\n      props.onValidationFail && props.onValidationFail(file);\n      return false;\n    }\n    return true;\n  };\n  var upload = function upload(files) {\n    files = files || filesState;\n    if (files && files.nativeEvent) {\n      files = filesState;\n    }\n    if (props.customUpload) {\n      if (props.fileLimit) {\n        uploadedFileCount + files.length, _readOnlyError(\"uploadedFileCount\");\n      }\n      if (props.uploadHandler) {\n        props.uploadHandler({\n          files: files,\n          options: {\n            clear: clear,\n            props: props\n          }\n        });\n      }\n    } else {\n      setUploadingState(true);\n      var xhr = new XMLHttpRequest();\n      var formData = new FormData();\n      if (props.onBeforeUpload) {\n        props.onBeforeUpload({\n          xhr: xhr,\n          formData: formData\n        });\n      }\n      var _iterator = _createForOfIteratorHelper(files),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var file = _step.value;\n          formData.append(props.name, file, file.name);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      xhr.upload.addEventListener('progress', function (event) {\n        if (event.lengthComputable) {\n          var progress = Math.round(event.loaded * 100 / event.total);\n          setProgressState(progress);\n          if (props.onProgress) {\n            props.onProgress({\n              originalEvent: event,\n              progress: progress\n            });\n          }\n        }\n      });\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n          setProgressState(0);\n          setUploadingState(false);\n          if (xhr.status >= 200 && xhr.status < 300) {\n            if (props.fileLimit) {\n              uploadedFileCount + files.length, _readOnlyError(\"uploadedFileCount\");\n            }\n            if (props.onUpload) {\n              props.onUpload({\n                xhr: xhr,\n                files: files\n              });\n            }\n          } else {\n            if (props.onError) {\n              props.onError({\n                xhr: xhr,\n                files: files\n              });\n            }\n          }\n          setUploadedFilesState(function (prevUploadedFiles) {\n            return [].concat(_toConsumableArray(prevUploadedFiles), _toConsumableArray(files));\n          });\n          clear();\n        }\n      };\n      xhr.open('POST', props.url, true);\n      if (props.onBeforeSend) {\n        props.onBeforeSend({\n          xhr: xhr,\n          formData: formData\n        });\n      }\n      xhr.withCredentials = props.withCredentials;\n      xhr.send(formData);\n    }\n  };\n  var clear = function clear() {\n    setFilesState([]);\n    setUploadingState(false);\n    props.onClear && props.onClear();\n    clearInput();\n  };\n  var choose = function choose() {\n    fileInputRef.current.click();\n  };\n  var onFocus = function onFocus() {\n    setFocusedState(true);\n  };\n  var onBlur = function onBlur() {\n    setFocusedState(false);\n  };\n  var onKeyDown = function onKeyDown(event) {\n    if (event.which === 13) {\n      // enter\n      choose();\n    }\n  };\n  var onDragEnter = function onDragEnter(event) {\n    if (!disabled) {\n      event.dataTransfer.dropEffect = 'copy';\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  };\n  var onDragOver = function onDragOver(event) {\n    if (!disabled) {\n      event.dataTransfer.dropEffect = 'copy';\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.addClass(contentRef.current, 'p-fileupload-highlight');\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  };\n  var onDragLeave = function onDragLeave(event) {\n    if (!disabled) {\n      event.dataTransfer.dropEffect = 'copy';\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(contentRef.current, 'p-fileupload-highlight');\n    }\n  };\n  var onDrop = function onDrop(event) {\n    if (props.disabled) {\n      return;\n    }\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(contentRef.current, 'p-fileupload-highlight');\n    event.stopPropagation();\n    event.preventDefault();\n\n    // give caller a chance to stop the drop\n    if (props.onBeforeDrop && props.onBeforeDrop(event) === false) {\n      return;\n    }\n    var files = event.dataTransfer ? event.dataTransfer.files : event.target.files;\n    var allowDrop = props.multiple || primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isEmpty(filesState) && files && files.length === 1;\n    allowDrop && onFileSelect(event);\n  };\n  var onSimpleUploaderClick = function onSimpleUploaderClick() {\n    !disabled && hasFiles ? upload() : fileInputRef.current.click();\n  };\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      upload: upload,\n      clear: clear,\n      formatSize: formatSize,\n      onFileSelect: onFileSelect,\n      getInput: function getInput() {\n        return fileInputRef.current;\n      },\n      getContent: function getContent() {\n        return contentRef.current;\n      },\n      getFiles: function getFiles() {\n        return filesState;\n      },\n      setFiles: function setFiles(files) {\n        return setFilesState(files || []);\n      }\n    };\n  });\n  var createChooseButton = function createChooseButton() {\n    var _props$chooseOptions = props.chooseOptions,\n      className = _props$chooseOptions.className,\n      style = _props$chooseOptions.style,\n      _icon = _props$chooseOptions.icon,\n      iconOnly = _props$chooseOptions.iconOnly;\n    var chooseClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-button p-fileupload-choose p-component', {\n      'p-disabled': disabled,\n      'p-focus': focusedState,\n      'p-button-icon-only': iconOnly\n    }, className);\n    var labelClassName = 'p-button-label p-clickable';\n    var label = iconOnly ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: labelClassName,\n      dangerouslySetInnerHTML: {\n        __html: '&nbsp;'\n      }\n    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: labelClassName\n    }, chooseButtonLabel);\n    var input = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n      ref: fileInputRef,\n      type: \"file\",\n      onChange: onFileSelect,\n      multiple: props.multiple,\n      accept: props.accept,\n      disabled: chooseDisabled\n    });\n    var icon = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.IconUtils.getJSXIcon(_icon || 'pi pi-fw pi-plus', {\n      className: 'p-button-icon p-button-icon-left p-clickable'\n    }, {\n      props: props\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: chooseClassName,\n      style: style,\n      onClick: choose,\n      onKeyDown: onKeyDown,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      tabIndex: 0\n    }, input, icon, label, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_3__.Ripple, null));\n  };\n  var onRemoveClick = function onRemoveClick(e, badgeOptions, index) {\n    if (badgeOptions.severity === 'warning') remove(e, index);else removeUploadedFiles(e, index);\n  };\n  var createFile = function createFile(file, index, badgeOptions) {\n    var key = file.name + file.type + file.size;\n    var preview = isImage(file) ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n      role: \"presentation\",\n      className: \"p-fileupload-file-thumbnail\",\n      alt: file.name,\n      src: file.objectURL,\n      width: props.previewWidth\n    }) : null;\n    var fileName = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-fileupload-filename\"\n    }, file.name);\n    var size = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, formatSize(file.size));\n    var contentBody = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, \" \", file.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, formatSize(file.size)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Badge, {\n      className: \"p-fileupload-file-badge\",\n      value: badgeOptions.value,\n      severity: badgeOptions.severity\n    }));\n    var removeButton = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n      type: \"button\",\n      icon: \"pi pi-times\",\n      className: \"p-button-danger p-button-text p-button-rounded\",\n      onClick: function onClick(e) {\n        return onRemoveClick(e, badgeOptions, index);\n      },\n      disabled: disabled\n    }));\n    var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, preview, contentBody, removeButton);\n    if (props.itemTemplate) {\n      var defaultContentOptions = {\n        onRemove: function onRemove(event) {\n          return remove(event, index);\n        },\n        previewElement: preview,\n        fileNameElement: fileName,\n        sizeElement: size,\n        removeElement: removeButton,\n        formatSize: formatSize(file.size),\n        element: content,\n        index: index,\n        props: props\n      };\n      content = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.itemTemplate, file, defaultContentOptions);\n    }\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-fileupload-row\",\n      key: key\n    }, content);\n  };\n  var createFiles = function createFiles() {\n    var badgeOptions = {\n      severity: 'warning',\n      value: 'Pending'\n    };\n    var content = filesState.map(function (file, index) {\n      return createFile(file, index, badgeOptions);\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, content);\n  };\n  var createUploadedFiles = function createUploadedFiles() {\n    var badgeOptions = {\n      severity: 'success',\n      value: 'Completed'\n    };\n    var content = uploadedFilesState && uploadedFilesState.map(function (file, index) {\n      return createFile(file, index, badgeOptions);\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, content);\n  };\n  var createEmptyContent = function createEmptyContent() {\n    return props.emptyTemplate && !hasFiles && !hasUploadedFiles ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.emptyTemplate, props) : null;\n  };\n  var createProgressBarContent = function createProgressBarContent() {\n    if (props.progressBarTemplate) {\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.progressBarTemplate, props);\n    }\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_progressbar__WEBPACK_IMPORTED_MODULE_5__.ProgressBar, {\n      value: progressState,\n      showValue: false\n    });\n  };\n  var createAdvanced = function createAdvanced() {\n    var otherProps = FileUploadBase.getOtherProps(props);\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-fileupload p-fileupload-advanced p-component', props.className);\n    var headerClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-fileupload-buttonbar', props.headerClassName);\n    var contentClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-fileupload-content', props.contentClassName);\n    var chooseButton = createChooseButton();\n    var emptyContent = createEmptyContent();\n    var uploadButton, cancelButton, filesList, uplaodedFilesList, progressBar;\n    if (!props.auto) {\n      var uploadOptions = props.uploadOptions;\n      var cancelOptions = props.cancelOptions;\n      var uploadLabel = !uploadOptions.iconOnly ? uploadButtonLabel : '';\n      var cancelLabel = !cancelOptions.iconOnly ? cancelButtonLabel : '';\n      uploadButton = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n        type: \"button\",\n        label: uploadLabel,\n        icon: uploadOptions.icon || 'pi pi-upload',\n        onClick: upload,\n        disabled: uploadDisabled,\n        style: uploadOptions.style,\n        className: uploadOptions.className\n      });\n      cancelButton = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n        type: \"button\",\n        label: cancelLabel,\n        icon: cancelOptions.icon || 'pi pi-times',\n        onClick: clear,\n        disabled: cancelDisabled,\n        style: cancelOptions.style,\n        className: cancelOptions.className\n      });\n    }\n    if (hasFiles) {\n      filesList = createFiles();\n      progressBar = createProgressBarContent();\n    }\n    if (hasUploadedFiles) {\n      uplaodedFilesList = createUploadedFiles();\n    }\n    var header = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: headerClassName,\n      style: props.headerStyle\n    }, chooseButton, uploadButton, cancelButton);\n    if (props.headerTemplate) {\n      var defaultContentOptions = {\n        className: headerClassName,\n        chooseButton: chooseButton,\n        uploadButton: uploadButton,\n        cancelButton: cancelButton,\n        element: header,\n        props: props\n      };\n      header = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.headerTemplate, defaultContentOptions);\n    }\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n      id: props.id,\n      className: className,\n      style: props.style\n    }, otherProps), header, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      ref: contentRef,\n      className: contentClassName,\n      style: props.contentStyle,\n      onDragEnter: onDragEnter,\n      onDragOver: onDragOver,\n      onDragLeave: onDragLeave,\n      onDrop: onDrop\n    }, progressBar, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_messages__WEBPACK_IMPORTED_MODULE_6__.Messages, {\n      ref: messagesRef\n    }), hasFiles ? filesList : null, hasUploadedFiles ? uplaodedFilesList : null, emptyContent));\n  };\n  var createBasic = function createBasic() {\n    var chooseOptions = props.chooseOptions;\n    var otherProps = FileUploadBase.getOtherProps(props);\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-fileupload p-fileupload-basic p-component', props.className);\n    var buttonClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-button p-component p-fileupload-choose', {\n      'p-fileupload-choose-selected': hasFiles,\n      'p-disabled': disabled,\n      'p-focus': focusedState\n    }, chooseOptions.className);\n    var chooseIcon = chooseOptions.icon || (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)({\n      'pi pi-plus': !chooseOptions.icon && (!hasFiles || props.auto),\n      'pi pi-upload': !chooseOptions.icon && hasFiles && !props.auto\n    });\n    var labelClassName = 'p-button-label p-clickable';\n    var chooseLabel = chooseOptions.iconOnly ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: labelClassName,\n      dangerouslySetInnerHTML: {\n        __html: '&nbsp;'\n      }\n    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: labelClassName\n    }, chooseButtonLabel);\n    var label = props.auto ? chooseLabel : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: labelClassName\n    }, hasFiles ? filesState[0].name : chooseLabel);\n    var icon = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.IconUtils.getJSXIcon(chooseIcon, {\n      className: 'p-button-icon p-button-icon-left'\n    }, {\n      props: props,\n      hasFiles: hasFiles\n    });\n    var input = !hasFiles && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n      ref: fileInputRef,\n      type: \"file\",\n      accept: props.accept,\n      multiple: props.multiple,\n      disabled: disabled,\n      onChange: onFileSelect\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n      className: className,\n      style: props.style\n    }, otherProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_messages__WEBPACK_IMPORTED_MODULE_6__.Messages, {\n      ref: messagesRef\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: buttonClassName,\n      style: chooseOptions.style,\n      onMouseUp: onSimpleUploaderClick,\n      onKeyDown: onKeyDown,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      tabIndex: 0\n    }, icon, label, input, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_3__.Ripple, null)));\n  };\n  if (props.mode === 'advanced') return createAdvanced();else if (props.mode === 'basic') return createBasic();\n}));\nFileUpload.displayName = 'FileUpload';\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9maWxldXBsb2FkL2ZpbGV1cGxvYWQuZXNtLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUErQjtBQUNlO0FBQ0g7QUFDSTtBQUNNO0FBQ1Y7QUFDdUM7O0FBRWxGO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlDQUF5QyxTQUFTO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxZQUFZLDZFQUE2RTtBQUNqRyxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsRUFBRTtBQUN2QywyREFBMkQsRUFBRTtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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c0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3ByaW1lcmVhY3QvZmlsZXVwbG9hZC9maWxldXBsb2FkLmVzbS5qcz9lYjFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGxvY2FsZU9wdGlvbiB9IGZyb20gJ3ByaW1lcmVhY3QvYXBpJztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ3ByaW1lcmVhY3QvYnV0dG9uJztcbmltcG9ydCB7IE1lc3NhZ2VzIH0gZnJvbSAncHJpbWVyZWFjdC9tZXNzYWdlcyc7XG5pbXBvcnQgeyBQcm9ncmVzc0JhciB9IGZyb20gJ3ByaW1lcmVhY3QvcHJvZ3Jlc3NiYXInO1xuaW1wb3J0IHsgUmlwcGxlIH0gZnJvbSAncHJpbWVyZWFjdC9yaXBwbGUnO1xuaW1wb3J0IHsgT2JqZWN0VXRpbHMsIGNsYXNzTmFtZXMsIEljb25VdGlscywgRG9tSGFuZGxlciB9IGZyb20gJ3ByaW1lcmVhY3QvdXRpbHMnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkkMShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuICByZXR1cm4gYXJyMjtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMShhcnIpO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQxKG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDEobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQxKGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbmZ1bmN0aW9uIF9yZWFkT25seUVycm9yKG5hbWUpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlxcXCJcIiArIG5hbWUgKyBcIlxcXCIgaXMgcmVhZC1vbmx5XCIpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgdmFyIF9pID0gbnVsbCA9PSBhcnIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07XG4gIGlmIChudWxsICE9IF9pKSB7XG4gICAgdmFyIF9zLFxuICAgICAgX2UsXG4gICAgICBfeCxcbiAgICAgIF9yLFxuICAgICAgX2FyciA9IFtdLFxuICAgICAgX24gPSAhMCxcbiAgICAgIF9kID0gITE7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChfeCA9IChfaSA9IF9pLmNhbGwoYXJyKSkubmV4dCwgMCA9PT0gaSkge1xuICAgICAgICBpZiAoT2JqZWN0KF9pKSAhPT0gX2kpIHJldHVybjtcbiAgICAgICAgX24gPSAhMTtcbiAgICAgIH0gZWxzZSBmb3IgKDsgIShfbiA9IChfcyA9IF94LmNhbGwoX2kpKS5kb25lKSAmJiAoX2Fyci5wdXNoKF9zLnZhbHVlKSwgX2Fyci5sZW5ndGggIT09IGkpOyBfbiA9ICEwKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kID0gITAsIF9lID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9uICYmIG51bGwgIT0gX2lbXCJyZXR1cm5cIl0gJiYgKF9yID0gX2lbXCJyZXR1cm5cIl0oKSwgT2JqZWN0KF9yKSAhPT0gX3IpKSByZXR1cm47XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX2FycjtcbiAgfVxufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQxKGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xufVxuXG52YXIgRmlsZVVwbG9hZEJhc2UgPSB7XG4gIGRlZmF1bHRQcm9wczoge1xuICAgIF9fVFlQRTogJ0ZpbGVVcGxvYWQnLFxuICAgIGlkOiBudWxsLFxuICAgIG5hbWU6IG51bGwsXG4gICAgdXJsOiBudWxsLFxuICAgIG1vZGU6ICdhZHZhbmNlZCcsXG4gICAgbXVsdGlwbGU6IGZhbHNlLFxuICAgIGFjY2VwdDogbnVsbCxcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgYXV0bzogZmFsc2UsXG4gICAgbWF4RmlsZVNpemU6IG51bGwsXG4gICAgaW52YWxpZEZpbGVTaXplTWVzc2FnZVN1bW1hcnk6ICd7MH06IEludmFsaWQgZmlsZSBzaXplLCAnLFxuICAgIGludmFsaWRGaWxlU2l6ZU1lc3NhZ2VEZXRhaWw6ICdtYXhpbXVtIHVwbG9hZCBzaXplIGlzIHswfS4nLFxuICAgIHN0eWxlOiBudWxsLFxuICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICB3aWR0aENyZWRlbnRpYWxzOiBmYWxzZSxcbiAgICBwcmV2aWV3V2lkdGg6IDUwLFxuICAgIGNob29zZUxhYmVsOiBudWxsLFxuICAgIHVwbG9hZExhYmVsOiBudWxsLFxuICAgIGNhbmNlbExhYmVsOiBudWxsLFxuICAgIGNob29zZU9wdGlvbnM6IHtcbiAgICAgIGxhYmVsOiBudWxsLFxuICAgICAgaWNvbjogbnVsbCxcbiAgICAgIGljb25Pbmx5OiBmYWxzZSxcbiAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgIHN0eWxlOiBudWxsXG4gICAgfSxcbiAgICB1cGxvYWRPcHRpb25zOiB7XG4gICAgICBsYWJlbDogbnVsbCxcbiAgICAgIGljb246IG51bGwsXG4gICAgICBpY29uT25seTogZmFsc2UsXG4gICAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgICBzdHlsZTogbnVsbFxuICAgIH0sXG4gICAgY2FuY2VsT3B0aW9uczoge1xuICAgICAgbGFiZWw6IG51bGwsXG4gICAgICBpY29uOiBudWxsLFxuICAgICAgaWNvbk9ubHk6IGZhbHNlLFxuICAgICAgY2xhc3NOYW1lOiBudWxsLFxuICAgICAgc3R5bGU6IG51bGxcbiAgICB9LFxuICAgIGN1c3RvbVVwbG9hZDogZmFsc2UsXG4gICAgaGVhZGVyQ2xhc3NOYW1lOiBudWxsLFxuICAgIGhlYWRlclN0eWxlOiBudWxsLFxuICAgIGNvbnRlbnRDbGFzc05hbWU6IG51bGwsXG4gICAgY29udGVudFN0eWxlOiBudWxsLFxuICAgIGhlYWRlclRlbXBsYXRlOiBudWxsLFxuICAgIGl0ZW1UZW1wbGF0ZTogbnVsbCxcbiAgICBlbXB0eVRlbXBsYXRlOiBudWxsLFxuICAgIHByb2dyZXNzQmFyVGVtcGxhdGU6IG51bGwsXG4gICAgb25CZWZvcmVVcGxvYWQ6IG51bGwsXG4gICAgb25CZWZvcmVTZW5kOiBudWxsLFxuICAgIG9uQmVmb3JlRHJvcDogbnVsbCxcbiAgICBvbkJlZm9yZVNlbGVjdDogbnVsbCxcbiAgICBvblVwbG9hZDogbnVsbCxcbiAgICBvbkVycm9yOiBudWxsLFxuICAgIG9uQ2xlYXI6IG51bGwsXG4gICAgb25TZWxlY3Q6IG51bGwsXG4gICAgb25Qcm9ncmVzczogbnVsbCxcbiAgICBvblZhbGlkYXRpb25GYWlsOiBudWxsLFxuICAgIHVwbG9hZEhhbmRsZXI6IG51bGwsXG4gICAgb25SZW1vdmU6IG51bGwsXG4gICAgY2hpbGRyZW46IHVuZGVmaW5lZFxuICB9LFxuICBnZXRQcm9wczogZnVuY3Rpb24gZ2V0UHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0TWVyZ2VkUHJvcHMocHJvcHMsIEZpbGVVcGxvYWRCYXNlLmRlZmF1bHRQcm9wcyk7XG4gIH0sXG4gIGdldE90aGVyUHJvcHM6IGZ1bmN0aW9uIGdldE90aGVyUHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0RGlmZlByb3BzKHByb3BzLCBGaWxlVXBsb2FkQmFzZS5kZWZhdWx0UHJvcHMpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgfSwgX3R5cGVvZihvYmopO1xufVxuXG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHtcbiAgaWYgKF90eXBlb2YoaW5wdXQpICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7XG4gIHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtcbiAgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpO1xuICAgIGlmIChfdHlwZW9mKHJlcykgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpO1xuICB9XG4gIHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpO1xufVxuXG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHtcbiAgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpO1xuICByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxudmFyIEJhZGdlQmFzZSA9IHtcbiAgZGVmYXVsdFByb3BzOiB7XG4gICAgX19UWVBFOiAnQmFkZ2UnLFxuICAgIHZhbHVlOiBudWxsLFxuICAgIHNldmVyaXR5OiBudWxsLFxuICAgIHNpemU6IG51bGwsXG4gICAgc3R5bGU6IG51bGwsXG4gICAgY2xhc3NOYW1lOiBudWxsLFxuICAgIGNoaWxkcmVuOiB1bmRlZmluZWRcbiAgfSxcbiAgZ2V0UHJvcHM6IGZ1bmN0aW9uIGdldFByb3BzKHByb3BzKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldE1lcmdlZFByb3BzKHByb3BzLCBCYWRnZUJhc2UuZGVmYXVsdFByb3BzKTtcbiAgfSxcbiAgZ2V0T3RoZXJQcm9wczogZnVuY3Rpb24gZ2V0T3RoZXJQcm9wcyhwcm9wcykge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5nZXREaWZmUHJvcHMocHJvcHMsIEJhZGdlQmFzZS5kZWZhdWx0UHJvcHMpO1xuICB9XG59O1xuXG52YXIgQmFkZ2UgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyggLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKGluUHJvcHMsIHJlZikge1xuICB2YXIgcHJvcHMgPSBCYWRnZUJhc2UuZ2V0UHJvcHMoaW5Qcm9wcyk7XG4gIHZhciBlbGVtZW50UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgb3RoZXJQcm9wcyA9IEJhZGdlQmFzZS5nZXRPdGhlclByb3BzKHByb3BzKTtcbiAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtYmFkZ2UgcC1jb21wb25lbnQnLCBfZGVmaW5lUHJvcGVydHkoe1xuICAgICdwLWJhZGdlLW5vLWd1dHRlcic6IE9iamVjdFV0aWxzLmlzTm90RW1wdHkocHJvcHMudmFsdWUpICYmIFN0cmluZyhwcm9wcy52YWx1ZSkubGVuZ3RoID09PSAxLFxuICAgICdwLWJhZGdlLWRvdCc6IE9iamVjdFV0aWxzLmlzRW1wdHkocHJvcHMudmFsdWUpLFxuICAgICdwLWJhZGdlLWxnJzogcHJvcHMuc2l6ZSA9PT0gJ2xhcmdlJyxcbiAgICAncC1iYWRnZS14bCc6IHByb3BzLnNpemUgPT09ICd4bGFyZ2UnXG4gIH0sIFwicC1iYWRnZS1cIi5jb25jYXQocHJvcHMuc2V2ZXJpdHkpLCBwcm9wcy5zZXZlcml0eSAhPT0gbnVsbCksIHByb3BzLmNsYXNzTmFtZSk7XG4gIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgIGdldEVsZW1lbnQ6IGZ1bmN0aW9uIGdldEVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogZWxlbWVudFJlZixcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICBzdHlsZTogcHJvcHMuc3R5bGVcbiAgfSwgb3RoZXJQcm9wcyksIHByb3BzLnZhbHVlKTtcbn0pKTtcbkJhZGdlLmRpc3BsYXlOYW1lID0gJ0JhZGdlJztcblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1tcIkBAaXRlcmF0b3JcIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdFtcInJldHVyblwiXSAhPSBudWxsKSBpdFtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07IHJldHVybiBhcnIyOyB9XG52YXIgRmlsZVVwbG9hZCA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKCAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAoaW5Qcm9wcywgcmVmKSB7XG4gIHZhciBwcm9wcyA9IEZpbGVVcGxvYWRCYXNlLmdldFByb3BzKGluUHJvcHMpO1xuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoW10pLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLFxuICAgIHVwbG9hZGVkRmlsZXNTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgc2V0VXBsb2FkZWRGaWxlc1N0YXRlID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTMgPSBSZWFjdC51c2VTdGF0ZShbXSksXG4gICAgX1JlYWN0JHVzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTMsIDIpLFxuICAgIGZpbGVzU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU0WzBdLFxuICAgIHNldEZpbGVzU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU0WzFdO1xuICB2YXIgX1JlYWN0JHVzZVN0YXRlNSA9IFJlYWN0LnVzZVN0YXRlKDApLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGU1LCAyKSxcbiAgICBwcm9ncmVzc1N0YXRlID0gX1JlYWN0JHVzZVN0YXRlNlswXSxcbiAgICBzZXRQcm9ncmVzc1N0YXRlID0gX1JlYWN0JHVzZVN0YXRlNlsxXTtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTcgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgX1JlYWN0JHVzZVN0YXRlOCA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTcsIDIpLFxuICAgIGZvY3VzZWRTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZThbMF0sXG4gICAgc2V0Rm9jdXNlZFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlOFsxXTtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTkgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgX1JlYWN0JHVzZVN0YXRlMTAgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGU5LCAyKSxcbiAgICB1cGxvYWRpbmdTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTEwWzBdLFxuICAgIHNldFVwbG9hZGluZ1N0YXRlID0gX1JlYWN0JHVzZVN0YXRlMTBbMV07XG4gIHZhciBmaWxlSW5wdXRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBtZXNzYWdlc1JlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGNvbnRlbnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBkdXBsaWNhdGVJRUV2ZW50ID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgdmFyIHVwbG9hZGVkRmlsZUNvdW50ID0gUmVhY3QudXNlUmVmKDApO1xuICB2YXIgaGFzRmlsZXMgPSBPYmplY3RVdGlscy5pc05vdEVtcHR5KGZpbGVzU3RhdGUpO1xuICB2YXIgaGFzVXBsb2FkZWRGaWxlcyA9IE9iamVjdFV0aWxzLmlzTm90RW1wdHkodXBsb2FkZWRGaWxlc1N0YXRlKTtcbiAgdmFyIGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQgfHwgdXBsb2FkaW5nU3RhdGU7XG4gIHZhciBjaG9vc2VCdXR0b25MYWJlbCA9IHByb3BzLmNob29zZUxhYmVsIHx8IHByb3BzLmNob29zZU9wdGlvbnMubGFiZWwgfHwgbG9jYWxlT3B0aW9uKCdjaG9vc2UnKTtcbiAgdmFyIHVwbG9hZEJ1dHRvbkxhYmVsID0gcHJvcHMudXBsb2FkTGFiZWwgfHwgcHJvcHMudXBsb2FkT3B0aW9ucy5sYWJlbCB8fCBsb2NhbGVPcHRpb24oJ3VwbG9hZCcpO1xuICB2YXIgY2FuY2VsQnV0dG9uTGFiZWwgPSBwcm9wcy5jYW5jZWxMYWJlbCB8fCBwcm9wcy5jYW5jZWxPcHRpb25zLmxhYmVsIHx8IGxvY2FsZU9wdGlvbignY2FuY2VsJyk7XG4gIHZhciBjaG9vc2VEaXNhYmxlZCA9IGRpc2FibGVkIHx8IHByb3BzLmZpbGVMaW1pdCAmJiBwcm9wcy5maWxlTGltaXQgPD0gZmlsZXNTdGF0ZS5sZW5ndGggKyB1cGxvYWRlZEZpbGVDb3VudDtcbiAgdmFyIHVwbG9hZERpc2FibGVkID0gZGlzYWJsZWQgfHwgIWhhc0ZpbGVzO1xuICB2YXIgY2FuY2VsRGlzYWJsZWQgPSBkaXNhYmxlZCB8fCAhaGFzRmlsZXM7XG4gIHZhciBpc0ltYWdlID0gZnVuY3Rpb24gaXNJbWFnZShmaWxlKSB7XG4gICAgcmV0dXJuIC9eaW1hZ2VcXC8vLnRlc3QoZmlsZS50eXBlKTtcbiAgfTtcbiAgdmFyIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZShldmVudCwgaW5kZXgpIHtcbiAgICBjbGVhcklucHV0KCk7XG4gICAgdmFyIGN1cnJlbnRGaWxlcyA9IF90b0NvbnN1bWFibGVBcnJheShmaWxlc1N0YXRlKTtcbiAgICB2YXIgcmVtb3ZlZEZpbGUgPSBmaWxlc1N0YXRlW2luZGV4XTtcbiAgICBjdXJyZW50RmlsZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICBzZXRGaWxlc1N0YXRlKGN1cnJlbnRGaWxlcyk7XG4gICAgaWYgKHByb3BzLm9uUmVtb3ZlKSB7XG4gICAgICBwcm9wcy5vblJlbW92ZSh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICBmaWxlOiByZW1vdmVkRmlsZVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICB2YXIgcmVtb3ZlVXBsb2FkZWRGaWxlcyA9IGZ1bmN0aW9uIHJlbW92ZVVwbG9hZGVkRmlsZXMoZXZlbnQsIGluZGV4KSB7XG4gICAgY2xlYXJJbnB1dCgpO1xuICAgIHZhciBjdXJyZW50VXBsb2FkZWRGaWxlcyA9IF90b0NvbnN1bWFibGVBcnJheSh1cGxvYWRlZEZpbGVzU3RhdGUpO1xuICAgIHZhciByZW1vdmVkRmlsZSA9IGZpbGVzU3RhdGVbaW5kZXhdO1xuICAgIGN1cnJlbnRVcGxvYWRlZEZpbGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgc2V0VXBsb2FkZWRGaWxlc1N0YXRlKGN1cnJlbnRVcGxvYWRlZEZpbGVzKTtcbiAgICBpZiAocHJvcHMub25SZW1vdmUpIHtcbiAgICAgIHByb3BzLm9uUmVtb3ZlKHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIGZpbGU6IHJlbW92ZWRGaWxlXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIHZhciBjbGVhcklucHV0ID0gZnVuY3Rpb24gY2xlYXJJbnB1dCgpIHtcbiAgICBpZiAoZmlsZUlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGZpbGVJbnB1dFJlZi5jdXJyZW50LnZhbHVlID0gJyc7XG4gICAgfVxuICB9O1xuICB2YXIgY2xlYXJJRUlucHV0ID0gZnVuY3Rpb24gY2xlYXJJRUlucHV0KCkge1xuICAgIGlmIChmaWxlSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgZHVwbGljYXRlSUVFdmVudC5jdXJyZW50ID0gdHJ1ZTsgLy9JRTExIGZpeCB0byBwcmV2ZW50IG9uRmlsZUNoYW5nZSB0cmlnZ2VyIGFnYWluXG4gICAgICBmaWxlSW5wdXRSZWYuY3VycmVudC52YWx1ZSA9ICcnO1xuICAgIH1cbiAgfTtcbiAgdmFyIGZvcm1hdFNpemUgPSBmdW5jdGlvbiBmb3JtYXRTaXplKGJ5dGVzKSB7XG4gICAgaWYgKGJ5dGVzID09PSAwKSB7XG4gICAgICByZXR1cm4gJzAgQic7XG4gICAgfVxuICAgIHZhciBrID0gMTAwMCxcbiAgICAgIGRtID0gMyxcbiAgICAgIHNpemVzID0gWydCJywgJ0tCJywgJ01CJywgJ0dCJywgJ1RCJywgJ1BCJywgJ0VCJywgJ1pCJywgJ1lCJ10sXG4gICAgICBpID0gTWF0aC5mbG9vcihNYXRoLmxvZyhieXRlcykgLyBNYXRoLmxvZyhrKSk7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQoKGJ5dGVzIC8gTWF0aC5wb3coaywgaSkpLnRvRml4ZWQoZG0pKSArICcgJyArIHNpemVzW2ldO1xuICB9O1xuICB2YXIgb25GaWxlU2VsZWN0ID0gZnVuY3Rpb24gb25GaWxlU2VsZWN0KGV2ZW50KSB7XG4gICAgLy8gZ2l2ZSBjYWxsZXIgYSBjaGFuY2UgdG8gc3RvcCB0aGUgc2VsZWN0aW9uXG4gICAgaWYgKHByb3BzLm9uQmVmb3JlU2VsZWN0ICYmIHByb3BzLm9uQmVmb3JlU2VsZWN0KHtcbiAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgZmlsZXM6IGZpbGVzU3RhdGVcbiAgICB9KSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGV2ZW50LnR5cGUgIT09ICdkcm9wJyAmJiBpc0lFMTEoKSAmJiBkdXBsaWNhdGVJRUV2ZW50LmN1cnJlbnQpIHtcbiAgICAgIGR1cGxpY2F0ZUlFRXZlbnQuY3VycmVudCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY3VycmVudEZpbGVzID0gW107XG4gICAgaWYgKHByb3BzLm11bHRpcGxlKSB7XG4gICAgICBjdXJyZW50RmlsZXMgPSBmaWxlc1N0YXRlID8gX3RvQ29uc3VtYWJsZUFycmF5KGZpbGVzU3RhdGUpIDogW107XG4gICAgfVxuICAgIHZhciBzZWxlY3RlZEZpbGVzID0gZXZlbnQuZGF0YVRyYW5zZmVyID8gZXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzIDogZXZlbnQudGFyZ2V0LmZpbGVzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0ZWRGaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGZpbGUgPSBzZWxlY3RlZEZpbGVzW2ldO1xuICAgICAgaWYgKCFpc0ZpbGVTZWxlY3RlZChmaWxlKSAmJiB2YWxpZGF0ZShmaWxlKSkge1xuICAgICAgICBpZiAoaXNJbWFnZShmaWxlKSkge1xuICAgICAgICAgIGZpbGUub2JqZWN0VVJMID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEZpbGVzLnB1c2goZmlsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHNldEZpbGVzU3RhdGUoY3VycmVudEZpbGVzKTtcbiAgICBpZiAoT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShjdXJyZW50RmlsZXMpICYmIHByb3BzLmF1dG8pIHtcbiAgICAgIHVwbG9hZChjdXJyZW50RmlsZXMpO1xuICAgIH1cbiAgICBpZiAocHJvcHMub25TZWxlY3QpIHtcbiAgICAgIHByb3BzLm9uU2VsZWN0KHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIGZpbGVzOiBzZWxlY3RlZEZpbGVzXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGV2ZW50LnR5cGUgIT09ICdkcm9wJyAmJiBpc0lFMTEoKSkge1xuICAgICAgY2xlYXJJRUlucHV0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsZWFySW5wdXQoKTtcbiAgICB9XG4gICAgaWYgKHByb3BzLm1vZGUgPT09ICdiYXNpYycgJiYgY3VycmVudEZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGZpbGVJbnB1dFJlZi5jdXJyZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuICB9O1xuICB2YXIgaXNGaWxlU2VsZWN0ZWQgPSBmdW5jdGlvbiBpc0ZpbGVTZWxlY3RlZChmaWxlKSB7XG4gICAgcmV0dXJuIGZpbGVzU3RhdGUuc29tZShmdW5jdGlvbiAoZikge1xuICAgICAgcmV0dXJuIGYubmFtZSArIGYudHlwZSArIGYuc2l6ZSA9PT0gZmlsZS5uYW1lICsgZmlsZS50eXBlICsgZmlsZS5zaXplO1xuICAgIH0pO1xuICB9O1xuICB2YXIgaXNJRTExID0gZnVuY3Rpb24gaXNJRTExKCkge1xuICAgIHJldHVybiAhIXdpbmRvd1snTVNJbnB1dE1ldGhvZENvbnRleHQnXSAmJiAhIWRvY3VtZW50Wydkb2N1bWVudE1vZGUnXTtcbiAgfTtcbiAgdmFyIHZhbGlkYXRlID0gZnVuY3Rpb24gdmFsaWRhdGUoZmlsZSkge1xuICAgIGlmIChwcm9wcy5tYXhGaWxlU2l6ZSAmJiBmaWxlLnNpemUgPiBwcm9wcy5tYXhGaWxlU2l6ZSkge1xuICAgICAgdmFyIG1lc3NhZ2UgPSB7XG4gICAgICAgIHNldmVyaXR5OiAnZXJyb3InLFxuICAgICAgICBzdW1tYXJ5OiBwcm9wcy5pbnZhbGlkRmlsZVNpemVNZXNzYWdlU3VtbWFyeS5yZXBsYWNlKCd7MH0nLCBmaWxlLm5hbWUpLFxuICAgICAgICBkZXRhaWw6IHByb3BzLmludmFsaWRGaWxlU2l6ZU1lc3NhZ2VEZXRhaWwucmVwbGFjZSgnezB9JywgZm9ybWF0U2l6ZShwcm9wcy5tYXhGaWxlU2l6ZSkpLFxuICAgICAgICBzdGlja3k6IHRydWVcbiAgICAgIH07XG4gICAgICBpZiAocHJvcHMubW9kZSA9PT0gJ2FkdmFuY2VkJykge1xuICAgICAgICBtZXNzYWdlc1JlZi5jdXJyZW50LnNob3cobWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBwcm9wcy5vblZhbGlkYXRpb25GYWlsICYmIHByb3BzLm9uVmFsaWRhdGlvbkZhaWwoZmlsZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICB2YXIgdXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkKGZpbGVzKSB7XG4gICAgZmlsZXMgPSBmaWxlcyB8fCBmaWxlc1N0YXRlO1xuICAgIGlmIChmaWxlcyAmJiBmaWxlcy5uYXRpdmVFdmVudCkge1xuICAgICAgZmlsZXMgPSBmaWxlc1N0YXRlO1xuICAgIH1cbiAgICBpZiAocHJvcHMuY3VzdG9tVXBsb2FkKSB7XG4gICAgICBpZiAocHJvcHMuZmlsZUxpbWl0KSB7XG4gICAgICAgIHVwbG9hZGVkRmlsZUNvdW50ICsgZmlsZXMubGVuZ3RoLCBfcmVhZE9ubHlFcnJvcihcInVwbG9hZGVkRmlsZUNvdW50XCIpO1xuICAgICAgfVxuICAgICAgaWYgKHByb3BzLnVwbG9hZEhhbmRsZXIpIHtcbiAgICAgICAgcHJvcHMudXBsb2FkSGFuZGxlcih7XG4gICAgICAgICAgZmlsZXM6IGZpbGVzLFxuICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGNsZWFyOiBjbGVhcixcbiAgICAgICAgICAgIHByb3BzOiBwcm9wc1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFVwbG9hZGluZ1N0YXRlKHRydWUpO1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICBpZiAocHJvcHMub25CZWZvcmVVcGxvYWQpIHtcbiAgICAgICAgcHJvcHMub25CZWZvcmVVcGxvYWQoe1xuICAgICAgICAgIHhocjogeGhyLFxuICAgICAgICAgIGZvcm1EYXRhOiBmb3JtRGF0YVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihmaWxlcyksXG4gICAgICAgIF9zdGVwO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgZmlsZSA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChwcm9wcy5uYW1lLCBmaWxlLCBmaWxlLm5hbWUpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICB9XG4gICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5sZW5ndGhDb21wdXRhYmxlKSB7XG4gICAgICAgICAgdmFyIHByb2dyZXNzID0gTWF0aC5yb3VuZChldmVudC5sb2FkZWQgKiAxMDAgLyBldmVudC50b3RhbCk7XG4gICAgICAgICAgc2V0UHJvZ3Jlc3NTdGF0ZShwcm9ncmVzcyk7XG4gICAgICAgICAgaWYgKHByb3BzLm9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHByb3BzLm9uUHJvZ3Jlc3Moe1xuICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHByb2dyZXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgc2V0UHJvZ3Jlc3NTdGF0ZSgwKTtcbiAgICAgICAgICBzZXRVcGxvYWRpbmdTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgaWYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICAgIGlmIChwcm9wcy5maWxlTGltaXQpIHtcbiAgICAgICAgICAgICAgdXBsb2FkZWRGaWxlQ291bnQgKyBmaWxlcy5sZW5ndGgsIF9yZWFkT25seUVycm9yKFwidXBsb2FkZWRGaWxlQ291bnRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvcHMub25VcGxvYWQpIHtcbiAgICAgICAgICAgICAgcHJvcHMub25VcGxvYWQoe1xuICAgICAgICAgICAgICAgIHhocjogeGhyLFxuICAgICAgICAgICAgICAgIGZpbGVzOiBmaWxlc1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHByb3BzLm9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgcHJvcHMub25FcnJvcih7XG4gICAgICAgICAgICAgICAgeGhyOiB4aHIsXG4gICAgICAgICAgICAgICAgZmlsZXM6IGZpbGVzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRVcGxvYWRlZEZpbGVzU3RhdGUoZnVuY3Rpb24gKHByZXZVcGxvYWRlZEZpbGVzKSB7XG4gICAgICAgICAgICByZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcmV2VXBsb2FkZWRGaWxlcyksIF90b0NvbnN1bWFibGVBcnJheShmaWxlcykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB4aHIub3BlbignUE9TVCcsIHByb3BzLnVybCwgdHJ1ZSk7XG4gICAgICBpZiAocHJvcHMub25CZWZvcmVTZW5kKSB7XG4gICAgICAgIHByb3BzLm9uQmVmb3JlU2VuZCh7XG4gICAgICAgICAgeGhyOiB4aHIsXG4gICAgICAgICAgZm9ybURhdGE6IGZvcm1EYXRhXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHByb3BzLndpdGhDcmVkZW50aWFscztcbiAgICAgIHhoci5zZW5kKGZvcm1EYXRhKTtcbiAgICB9XG4gIH07XG4gIHZhciBjbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIHNldEZpbGVzU3RhdGUoW10pO1xuICAgIHNldFVwbG9hZGluZ1N0YXRlKGZhbHNlKTtcbiAgICBwcm9wcy5vbkNsZWFyICYmIHByb3BzLm9uQ2xlYXIoKTtcbiAgICBjbGVhcklucHV0KCk7XG4gIH07XG4gIHZhciBjaG9vc2UgPSBmdW5jdGlvbiBjaG9vc2UoKSB7XG4gICAgZmlsZUlucHV0UmVmLmN1cnJlbnQuY2xpY2soKTtcbiAgfTtcbiAgdmFyIG9uRm9jdXMgPSBmdW5jdGlvbiBvbkZvY3VzKCkge1xuICAgIHNldEZvY3VzZWRTdGF0ZSh0cnVlKTtcbiAgfTtcbiAgdmFyIG9uQmx1ciA9IGZ1bmN0aW9uIG9uQmx1cigpIHtcbiAgICBzZXRGb2N1c2VkU3RhdGUoZmFsc2UpO1xuICB9O1xuICB2YXIgb25LZXlEb3duID0gZnVuY3Rpb24gb25LZXlEb3duKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LndoaWNoID09PSAxMykge1xuICAgICAgLy8gZW50ZXJcbiAgICAgIGNob29zZSgpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uRHJhZ0VudGVyID0gZnVuY3Rpb24gb25EcmFnRW50ZXIoZXZlbnQpIHtcbiAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdjb3B5JztcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG4gIHZhciBvbkRyYWdPdmVyID0gZnVuY3Rpb24gb25EcmFnT3ZlcihldmVudCkge1xuICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ2NvcHknO1xuICAgICAgRG9tSGFuZGxlci5hZGRDbGFzcyhjb250ZW50UmVmLmN1cnJlbnQsICdwLWZpbGV1cGxvYWQtaGlnaGxpZ2h0Jyk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9O1xuICB2YXIgb25EcmFnTGVhdmUgPSBmdW5jdGlvbiBvbkRyYWdMZWF2ZShldmVudCkge1xuICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ2NvcHknO1xuICAgICAgRG9tSGFuZGxlci5yZW1vdmVDbGFzcyhjb250ZW50UmVmLmN1cnJlbnQsICdwLWZpbGV1cGxvYWQtaGlnaGxpZ2h0Jyk7XG4gICAgfVxuICB9O1xuICB2YXIgb25Ecm9wID0gZnVuY3Rpb24gb25Ecm9wKGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIERvbUhhbmRsZXIucmVtb3ZlQ2xhc3MoY29udGVudFJlZi5jdXJyZW50LCAncC1maWxldXBsb2FkLWhpZ2hsaWdodCcpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAvLyBnaXZlIGNhbGxlciBhIGNoYW5jZSB0byBzdG9wIHRoZSBkcm9wXG4gICAgaWYgKHByb3BzLm9uQmVmb3JlRHJvcCAmJiBwcm9wcy5vbkJlZm9yZURyb3AoZXZlbnQpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZmlsZXMgPSBldmVudC5kYXRhVHJhbnNmZXIgPyBldmVudC5kYXRhVHJhbnNmZXIuZmlsZXMgOiBldmVudC50YXJnZXQuZmlsZXM7XG4gICAgdmFyIGFsbG93RHJvcCA9IHByb3BzLm11bHRpcGxlIHx8IE9iamVjdFV0aWxzLmlzRW1wdHkoZmlsZXNTdGF0ZSkgJiYgZmlsZXMgJiYgZmlsZXMubGVuZ3RoID09PSAxO1xuICAgIGFsbG93RHJvcCAmJiBvbkZpbGVTZWxlY3QoZXZlbnQpO1xuICB9O1xuICB2YXIgb25TaW1wbGVVcGxvYWRlckNsaWNrID0gZnVuY3Rpb24gb25TaW1wbGVVcGxvYWRlckNsaWNrKCkge1xuICAgICFkaXNhYmxlZCAmJiBoYXNGaWxlcyA/IHVwbG9hZCgpIDogZmlsZUlucHV0UmVmLmN1cnJlbnQuY2xpY2soKTtcbiAgfTtcbiAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgdXBsb2FkOiB1cGxvYWQsXG4gICAgICBjbGVhcjogY2xlYXIsXG4gICAgICBmb3JtYXRTaXplOiBmb3JtYXRTaXplLFxuICAgICAgb25GaWxlU2VsZWN0OiBvbkZpbGVTZWxlY3QsXG4gICAgICBnZXRJbnB1dDogZnVuY3Rpb24gZ2V0SW5wdXQoKSB7XG4gICAgICAgIHJldHVybiBmaWxlSW5wdXRSZWYuY3VycmVudDtcbiAgICAgIH0sXG4gICAgICBnZXRDb250ZW50OiBmdW5jdGlvbiBnZXRDb250ZW50KCkge1xuICAgICAgICByZXR1cm4gY29udGVudFJlZi5jdXJyZW50O1xuICAgICAgfSxcbiAgICAgIGdldEZpbGVzOiBmdW5jdGlvbiBnZXRGaWxlcygpIHtcbiAgICAgICAgcmV0dXJuIGZpbGVzU3RhdGU7XG4gICAgICB9LFxuICAgICAgc2V0RmlsZXM6IGZ1bmN0aW9uIHNldEZpbGVzKGZpbGVzKSB7XG4gICAgICAgIHJldHVybiBzZXRGaWxlc1N0YXRlKGZpbGVzIHx8IFtdKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgdmFyIGNyZWF0ZUNob29zZUJ1dHRvbiA9IGZ1bmN0aW9uIGNyZWF0ZUNob29zZUJ1dHRvbigpIHtcbiAgICB2YXIgX3Byb3BzJGNob29zZU9wdGlvbnMgPSBwcm9wcy5jaG9vc2VPcHRpb25zLFxuICAgICAgY2xhc3NOYW1lID0gX3Byb3BzJGNob29zZU9wdGlvbnMuY2xhc3NOYW1lLFxuICAgICAgc3R5bGUgPSBfcHJvcHMkY2hvb3NlT3B0aW9ucy5zdHlsZSxcbiAgICAgIF9pY29uID0gX3Byb3BzJGNob29zZU9wdGlvbnMuaWNvbixcbiAgICAgIGljb25Pbmx5ID0gX3Byb3BzJGNob29zZU9wdGlvbnMuaWNvbk9ubHk7XG4gICAgdmFyIGNob29zZUNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtYnV0dG9uIHAtZmlsZXVwbG9hZC1jaG9vc2UgcC1jb21wb25lbnQnLCB7XG4gICAgICAncC1kaXNhYmxlZCc6IGRpc2FibGVkLFxuICAgICAgJ3AtZm9jdXMnOiBmb2N1c2VkU3RhdGUsXG4gICAgICAncC1idXR0b24taWNvbi1vbmx5JzogaWNvbk9ubHlcbiAgICB9LCBjbGFzc05hbWUpO1xuICAgIHZhciBsYWJlbENsYXNzTmFtZSA9ICdwLWJ1dHRvbi1sYWJlbCBwLWNsaWNrYWJsZSc7XG4gICAgdmFyIGxhYmVsID0gaWNvbk9ubHkgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBsYWJlbENsYXNzTmFtZSxcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgIF9faHRtbDogJyZuYnNwOydcbiAgICAgIH1cbiAgICB9KSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IGxhYmVsQ2xhc3NOYW1lXG4gICAgfSwgY2hvb3NlQnV0dG9uTGFiZWwpO1xuICAgIHZhciBpbnB1dCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuICAgICAgcmVmOiBmaWxlSW5wdXRSZWYsXG4gICAgICB0eXBlOiBcImZpbGVcIixcbiAgICAgIG9uQ2hhbmdlOiBvbkZpbGVTZWxlY3QsXG4gICAgICBtdWx0aXBsZTogcHJvcHMubXVsdGlwbGUsXG4gICAgICBhY2NlcHQ6IHByb3BzLmFjY2VwdCxcbiAgICAgIGRpc2FibGVkOiBjaG9vc2VEaXNhYmxlZFxuICAgIH0pO1xuICAgIHZhciBpY29uID0gSWNvblV0aWxzLmdldEpTWEljb24oX2ljb24gfHwgJ3BpIHBpLWZ3IHBpLXBsdXMnLCB7XG4gICAgICBjbGFzc05hbWU6ICdwLWJ1dHRvbi1pY29uIHAtYnV0dG9uLWljb24tbGVmdCBwLWNsaWNrYWJsZSdcbiAgICB9LCB7XG4gICAgICBwcm9wczogcHJvcHNcbiAgICB9KTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2hvb3NlQ2xhc3NOYW1lLFxuICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgb25DbGljazogY2hvb3NlLFxuICAgICAgb25LZXlEb3duOiBvbktleURvd24sXG4gICAgICBvbkZvY3VzOiBvbkZvY3VzLFxuICAgICAgb25CbHVyOiBvbkJsdXIsXG4gICAgICB0YWJJbmRleDogMFxuICAgIH0sIGlucHV0LCBpY29uLCBsYWJlbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmlwcGxlLCBudWxsKSk7XG4gIH07XG4gIHZhciBvblJlbW92ZUNsaWNrID0gZnVuY3Rpb24gb25SZW1vdmVDbGljayhlLCBiYWRnZU9wdGlvbnMsIGluZGV4KSB7XG4gICAgaWYgKGJhZGdlT3B0aW9ucy5zZXZlcml0eSA9PT0gJ3dhcm5pbmcnKSByZW1vdmUoZSwgaW5kZXgpO2Vsc2UgcmVtb3ZlVXBsb2FkZWRGaWxlcyhlLCBpbmRleCk7XG4gIH07XG4gIHZhciBjcmVhdGVGaWxlID0gZnVuY3Rpb24gY3JlYXRlRmlsZShmaWxlLCBpbmRleCwgYmFkZ2VPcHRpb25zKSB7XG4gICAgdmFyIGtleSA9IGZpbGUubmFtZSArIGZpbGUudHlwZSArIGZpbGUuc2l6ZTtcbiAgICB2YXIgcHJldmlldyA9IGlzSW1hZ2UoZmlsZSkgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7XG4gICAgICByb2xlOiBcInByZXNlbnRhdGlvblwiLFxuICAgICAgY2xhc3NOYW1lOiBcInAtZmlsZXVwbG9hZC1maWxlLXRodW1ibmFpbFwiLFxuICAgICAgYWx0OiBmaWxlLm5hbWUsXG4gICAgICBzcmM6IGZpbGUub2JqZWN0VVJMLFxuICAgICAgd2lkdGg6IHByb3BzLnByZXZpZXdXaWR0aFxuICAgIH0pIDogbnVsbDtcbiAgICB2YXIgZmlsZU5hbWUgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1maWxldXBsb2FkLWZpbGVuYW1lXCJcbiAgICB9LCBmaWxlLm5hbWUpO1xuICAgIHZhciBzaXplID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgZm9ybWF0U2l6ZShmaWxlLnNpemUpKTtcbiAgICB2YXIgY29udGVudEJvZHkgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBcIiBcIiwgZmlsZS5uYW1lKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIGZvcm1hdFNpemUoZmlsZS5zaXplKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJhZGdlLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1maWxldXBsb2FkLWZpbGUtYmFkZ2VcIixcbiAgICAgIHZhbHVlOiBiYWRnZU9wdGlvbnMudmFsdWUsXG4gICAgICBzZXZlcml0eTogYmFkZ2VPcHRpb25zLnNldmVyaXR5XG4gICAgfSkpO1xuICAgIHZhciByZW1vdmVCdXR0b24gPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICBpY29uOiBcInBpIHBpLXRpbWVzXCIsXG4gICAgICBjbGFzc05hbWU6IFwicC1idXR0b24tZGFuZ2VyIHAtYnV0dG9uLXRleHQgcC1idXR0b24tcm91bmRlZFwiLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgIHJldHVybiBvblJlbW92ZUNsaWNrKGUsIGJhZGdlT3B0aW9ucywgaW5kZXgpO1xuICAgICAgfSxcbiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZFxuICAgIH0pKTtcbiAgICB2YXIgY29udGVudCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBwcmV2aWV3LCBjb250ZW50Qm9keSwgcmVtb3ZlQnV0dG9uKTtcbiAgICBpZiAocHJvcHMuaXRlbVRlbXBsYXRlKSB7XG4gICAgICB2YXIgZGVmYXVsdENvbnRlbnRPcHRpb25zID0ge1xuICAgICAgICBvblJlbW92ZTogZnVuY3Rpb24gb25SZW1vdmUoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gcmVtb3ZlKGV2ZW50LCBpbmRleCk7XG4gICAgICAgIH0sXG4gICAgICAgIHByZXZpZXdFbGVtZW50OiBwcmV2aWV3LFxuICAgICAgICBmaWxlTmFtZUVsZW1lbnQ6IGZpbGVOYW1lLFxuICAgICAgICBzaXplRWxlbWVudDogc2l6ZSxcbiAgICAgICAgcmVtb3ZlRWxlbWVudDogcmVtb3ZlQnV0dG9uLFxuICAgICAgICBmb3JtYXRTaXplOiBmb3JtYXRTaXplKGZpbGUuc2l6ZSksXG4gICAgICAgIGVsZW1lbnQ6IGNvbnRlbnQsXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgcHJvcHM6IHByb3BzXG4gICAgICB9O1xuICAgICAgY29udGVudCA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMuaXRlbVRlbXBsYXRlLCBmaWxlLCBkZWZhdWx0Q29udGVudE9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInAtZmlsZXVwbG9hZC1yb3dcIixcbiAgICAgIGtleToga2V5XG4gICAgfSwgY29udGVudCk7XG4gIH07XG4gIHZhciBjcmVhdGVGaWxlcyA9IGZ1bmN0aW9uIGNyZWF0ZUZpbGVzKCkge1xuICAgIHZhciBiYWRnZU9wdGlvbnMgPSB7XG4gICAgICBzZXZlcml0eTogJ3dhcm5pbmcnLFxuICAgICAgdmFsdWU6ICdQZW5kaW5nJ1xuICAgIH07XG4gICAgdmFyIGNvbnRlbnQgPSBmaWxlc1N0YXRlLm1hcChmdW5jdGlvbiAoZmlsZSwgaW5kZXgpIHtcbiAgICAgIHJldHVybiBjcmVhdGVGaWxlKGZpbGUsIGluZGV4LCBiYWRnZU9wdGlvbnMpO1xuICAgIH0pO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBjb250ZW50KTtcbiAgfTtcbiAgdmFyIGNyZWF0ZVVwbG9hZGVkRmlsZXMgPSBmdW5jdGlvbiBjcmVhdGVVcGxvYWRlZEZpbGVzKCkge1xuICAgIHZhciBiYWRnZU9wdGlvbnMgPSB7XG4gICAgICBzZXZlcml0eTogJ3N1Y2Nlc3MnLFxuICAgICAgdmFsdWU6ICdDb21wbGV0ZWQnXG4gICAgfTtcbiAgICB2YXIgY29udGVudCA9IHVwbG9hZGVkRmlsZXNTdGF0ZSAmJiB1cGxvYWRlZEZpbGVzU3RhdGUubWFwKGZ1bmN0aW9uIChmaWxlLCBpbmRleCkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUZpbGUoZmlsZSwgaW5kZXgsIGJhZGdlT3B0aW9ucyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIGNvbnRlbnQpO1xuICB9O1xuICB2YXIgY3JlYXRlRW1wdHlDb250ZW50ID0gZnVuY3Rpb24gY3JlYXRlRW1wdHlDb250ZW50KCkge1xuICAgIHJldHVybiBwcm9wcy5lbXB0eVRlbXBsYXRlICYmICFoYXNGaWxlcyAmJiAhaGFzVXBsb2FkZWRGaWxlcyA/IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMuZW1wdHlUZW1wbGF0ZSwgcHJvcHMpIDogbnVsbDtcbiAgfTtcbiAgdmFyIGNyZWF0ZVByb2dyZXNzQmFyQ29udGVudCA9IGZ1bmN0aW9uIGNyZWF0ZVByb2dyZXNzQmFyQ29udGVudCgpIHtcbiAgICBpZiAocHJvcHMucHJvZ3Jlc3NCYXJUZW1wbGF0ZSkge1xuICAgICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMucHJvZ3Jlc3NCYXJUZW1wbGF0ZSwgcHJvcHMpO1xuICAgIH1cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUHJvZ3Jlc3NCYXIsIHtcbiAgICAgIHZhbHVlOiBwcm9ncmVzc1N0YXRlLFxuICAgICAgc2hvd1ZhbHVlOiBmYWxzZVxuICAgIH0pO1xuICB9O1xuICB2YXIgY3JlYXRlQWR2YW5jZWQgPSBmdW5jdGlvbiBjcmVhdGVBZHZhbmNlZCgpIHtcbiAgICB2YXIgb3RoZXJQcm9wcyA9IEZpbGVVcGxvYWRCYXNlLmdldE90aGVyUHJvcHMocHJvcHMpO1xuICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWZpbGV1cGxvYWQgcC1maWxldXBsb2FkLWFkdmFuY2VkIHAtY29tcG9uZW50JywgcHJvcHMuY2xhc3NOYW1lKTtcbiAgICB2YXIgaGVhZGVyQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1maWxldXBsb2FkLWJ1dHRvbmJhcicsIHByb3BzLmhlYWRlckNsYXNzTmFtZSk7XG4gICAgdmFyIGNvbnRlbnRDbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWZpbGV1cGxvYWQtY29udGVudCcsIHByb3BzLmNvbnRlbnRDbGFzc05hbWUpO1xuICAgIHZhciBjaG9vc2VCdXR0b24gPSBjcmVhdGVDaG9vc2VCdXR0b24oKTtcbiAgICB2YXIgZW1wdHlDb250ZW50ID0gY3JlYXRlRW1wdHlDb250ZW50KCk7XG4gICAgdmFyIHVwbG9hZEJ1dHRvbiwgY2FuY2VsQnV0dG9uLCBmaWxlc0xpc3QsIHVwbGFvZGVkRmlsZXNMaXN0LCBwcm9ncmVzc0JhcjtcbiAgICBpZiAoIXByb3BzLmF1dG8pIHtcbiAgICAgIHZhciB1cGxvYWRPcHRpb25zID0gcHJvcHMudXBsb2FkT3B0aW9ucztcbiAgICAgIHZhciBjYW5jZWxPcHRpb25zID0gcHJvcHMuY2FuY2VsT3B0aW9ucztcbiAgICAgIHZhciB1cGxvYWRMYWJlbCA9ICF1cGxvYWRPcHRpb25zLmljb25Pbmx5ID8gdXBsb2FkQnV0dG9uTGFiZWwgOiAnJztcbiAgICAgIHZhciBjYW5jZWxMYWJlbCA9ICFjYW5jZWxPcHRpb25zLmljb25Pbmx5ID8gY2FuY2VsQnV0dG9uTGFiZWwgOiAnJztcbiAgICAgIHVwbG9hZEJ1dHRvbiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBsYWJlbDogdXBsb2FkTGFiZWwsXG4gICAgICAgIGljb246IHVwbG9hZE9wdGlvbnMuaWNvbiB8fCAncGkgcGktdXBsb2FkJyxcbiAgICAgICAgb25DbGljazogdXBsb2FkLFxuICAgICAgICBkaXNhYmxlZDogdXBsb2FkRGlzYWJsZWQsXG4gICAgICAgIHN0eWxlOiB1cGxvYWRPcHRpb25zLnN0eWxlLFxuICAgICAgICBjbGFzc05hbWU6IHVwbG9hZE9wdGlvbnMuY2xhc3NOYW1lXG4gICAgICB9KTtcbiAgICAgIGNhbmNlbEJ1dHRvbiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBsYWJlbDogY2FuY2VsTGFiZWwsXG4gICAgICAgIGljb246IGNhbmNlbE9wdGlvbnMuaWNvbiB8fCAncGkgcGktdGltZXMnLFxuICAgICAgICBvbkNsaWNrOiBjbGVhcixcbiAgICAgICAgZGlzYWJsZWQ6IGNhbmNlbERpc2FibGVkLFxuICAgICAgICBzdHlsZTogY2FuY2VsT3B0aW9ucy5zdHlsZSxcbiAgICAgICAgY2xhc3NOYW1lOiBjYW5jZWxPcHRpb25zLmNsYXNzTmFtZVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChoYXNGaWxlcykge1xuICAgICAgZmlsZXNMaXN0ID0gY3JlYXRlRmlsZXMoKTtcbiAgICAgIHByb2dyZXNzQmFyID0gY3JlYXRlUHJvZ3Jlc3NCYXJDb250ZW50KCk7XG4gICAgfVxuICAgIGlmIChoYXNVcGxvYWRlZEZpbGVzKSB7XG4gICAgICB1cGxhb2RlZEZpbGVzTGlzdCA9IGNyZWF0ZVVwbG9hZGVkRmlsZXMoKTtcbiAgICB9XG4gICAgdmFyIGhlYWRlciA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogaGVhZGVyQ2xhc3NOYW1lLFxuICAgICAgc3R5bGU6IHByb3BzLmhlYWRlclN0eWxlXG4gICAgfSwgY2hvb3NlQnV0dG9uLCB1cGxvYWRCdXR0b24sIGNhbmNlbEJ1dHRvbik7XG4gICAgaWYgKHByb3BzLmhlYWRlclRlbXBsYXRlKSB7XG4gICAgICB2YXIgZGVmYXVsdENvbnRlbnRPcHRpb25zID0ge1xuICAgICAgICBjbGFzc05hbWU6IGhlYWRlckNsYXNzTmFtZSxcbiAgICAgICAgY2hvb3NlQnV0dG9uOiBjaG9vc2VCdXR0b24sXG4gICAgICAgIHVwbG9hZEJ1dHRvbjogdXBsb2FkQnV0dG9uLFxuICAgICAgICBjYW5jZWxCdXR0b246IGNhbmNlbEJ1dHRvbixcbiAgICAgICAgZWxlbWVudDogaGVhZGVyLFxuICAgICAgICBwcm9wczogcHJvcHNcbiAgICAgIH07XG4gICAgICBoZWFkZXIgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLmhlYWRlclRlbXBsYXRlLCBkZWZhdWx0Q29udGVudE9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX2V4dGVuZHMoe1xuICAgICAgaWQ6IHByb3BzLmlkLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBzdHlsZTogcHJvcHMuc3R5bGVcbiAgICB9LCBvdGhlclByb3BzKSwgaGVhZGVyLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICByZWY6IGNvbnRlbnRSZWYsXG4gICAgICBjbGFzc05hbWU6IGNvbnRlbnRDbGFzc05hbWUsXG4gICAgICBzdHlsZTogcHJvcHMuY29udGVudFN0eWxlLFxuICAgICAgb25EcmFnRW50ZXI6IG9uRHJhZ0VudGVyLFxuICAgICAgb25EcmFnT3Zlcjogb25EcmFnT3ZlcixcbiAgICAgIG9uRHJhZ0xlYXZlOiBvbkRyYWdMZWF2ZSxcbiAgICAgIG9uRHJvcDogb25Ecm9wXG4gICAgfSwgcHJvZ3Jlc3NCYXIsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1lc3NhZ2VzLCB7XG4gICAgICByZWY6IG1lc3NhZ2VzUmVmXG4gICAgfSksIGhhc0ZpbGVzID8gZmlsZXNMaXN0IDogbnVsbCwgaGFzVXBsb2FkZWRGaWxlcyA/IHVwbGFvZGVkRmlsZXNMaXN0IDogbnVsbCwgZW1wdHlDb250ZW50KSk7XG4gIH07XG4gIHZhciBjcmVhdGVCYXNpYyA9IGZ1bmN0aW9uIGNyZWF0ZUJhc2ljKCkge1xuICAgIHZhciBjaG9vc2VPcHRpb25zID0gcHJvcHMuY2hvb3NlT3B0aW9ucztcbiAgICB2YXIgb3RoZXJQcm9wcyA9IEZpbGVVcGxvYWRCYXNlLmdldE90aGVyUHJvcHMocHJvcHMpO1xuICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWZpbGV1cGxvYWQgcC1maWxldXBsb2FkLWJhc2ljIHAtY29tcG9uZW50JywgcHJvcHMuY2xhc3NOYW1lKTtcbiAgICB2YXIgYnV0dG9uQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1idXR0b24gcC1jb21wb25lbnQgcC1maWxldXBsb2FkLWNob29zZScsIHtcbiAgICAgICdwLWZpbGV1cGxvYWQtY2hvb3NlLXNlbGVjdGVkJzogaGFzRmlsZXMsXG4gICAgICAncC1kaXNhYmxlZCc6IGRpc2FibGVkLFxuICAgICAgJ3AtZm9jdXMnOiBmb2N1c2VkU3RhdGVcbiAgICB9LCBjaG9vc2VPcHRpb25zLmNsYXNzTmFtZSk7XG4gICAgdmFyIGNob29zZUljb24gPSBjaG9vc2VPcHRpb25zLmljb24gfHwgY2xhc3NOYW1lcyh7XG4gICAgICAncGkgcGktcGx1cyc6ICFjaG9vc2VPcHRpb25zLmljb24gJiYgKCFoYXNGaWxlcyB8fCBwcm9wcy5hdXRvKSxcbiAgICAgICdwaSBwaS11cGxvYWQnOiAhY2hvb3NlT3B0aW9ucy5pY29uICYmIGhhc0ZpbGVzICYmICFwcm9wcy5hdXRvXG4gICAgfSk7XG4gICAgdmFyIGxhYmVsQ2xhc3NOYW1lID0gJ3AtYnV0dG9uLWxhYmVsIHAtY2xpY2thYmxlJztcbiAgICB2YXIgY2hvb3NlTGFiZWwgPSBjaG9vc2VPcHRpb25zLmljb25Pbmx5ID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogbGFiZWxDbGFzc05hbWUsXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgICBfX2h0bWw6ICcmbmJzcDsnXG4gICAgICB9XG4gICAgfSkgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBsYWJlbENsYXNzTmFtZVxuICAgIH0sIGNob29zZUJ1dHRvbkxhYmVsKTtcbiAgICB2YXIgbGFiZWwgPSBwcm9wcy5hdXRvID8gY2hvb3NlTGFiZWwgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBsYWJlbENsYXNzTmFtZVxuICAgIH0sIGhhc0ZpbGVzID8gZmlsZXNTdGF0ZVswXS5uYW1lIDogY2hvb3NlTGFiZWwpO1xuICAgIHZhciBpY29uID0gSWNvblV0aWxzLmdldEpTWEljb24oY2hvb3NlSWNvbiwge1xuICAgICAgY2xhc3NOYW1lOiAncC1idXR0b24taWNvbiBwLWJ1dHRvbi1pY29uLWxlZnQnXG4gICAgfSwge1xuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgaGFzRmlsZXM6IGhhc0ZpbGVzXG4gICAgfSk7XG4gICAgdmFyIGlucHV0ID0gIWhhc0ZpbGVzICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuICAgICAgcmVmOiBmaWxlSW5wdXRSZWYsXG4gICAgICB0eXBlOiBcImZpbGVcIixcbiAgICAgIGFjY2VwdDogcHJvcHMuYWNjZXB0LFxuICAgICAgbXVsdGlwbGU6IHByb3BzLm11bHRpcGxlLFxuICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgb25DaGFuZ2U6IG9uRmlsZVNlbGVjdFxuICAgIH0pO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIHN0eWxlOiBwcm9wcy5zdHlsZVxuICAgIH0sIG90aGVyUHJvcHMpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNZXNzYWdlcywge1xuICAgICAgcmVmOiBtZXNzYWdlc1JlZlxuICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBidXR0b25DbGFzc05hbWUsXG4gICAgICBzdHlsZTogY2hvb3NlT3B0aW9ucy5zdHlsZSxcbiAgICAgIG9uTW91c2VVcDogb25TaW1wbGVVcGxvYWRlckNsaWNrLFxuICAgICAgb25LZXlEb3duOiBvbktleURvd24sXG4gICAgICBvbkZvY3VzOiBvbkZvY3VzLFxuICAgICAgb25CbHVyOiBvbkJsdXIsXG4gICAgICB0YWJJbmRleDogMFxuICAgIH0sIGljb24sIGxhYmVsLCBpbnB1dCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmlwcGxlLCBudWxsKSkpO1xuICB9O1xuICBpZiAocHJvcHMubW9kZSA9PT0gJ2FkdmFuY2VkJykgcmV0dXJuIGNyZWF0ZUFkdmFuY2VkKCk7ZWxzZSBpZiAocHJvcHMubW9kZSA9PT0gJ2Jhc2ljJykgcmV0dXJuIGNyZWF0ZUJhc2ljKCk7XG59KSk7XG5GaWxlVXBsb2FkLmRpc3BsYXlOYW1lID0gJ0ZpbGVVcGxvYWQnO1xuXG5leHBvcnQgeyBGaWxlVXBsb2FkIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/primereact/fileupload/fileupload.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/inputnumber/inputnumber.esm.js":
/*!****************************************************************!*\
  !*** ./node_modules/primereact/inputnumber/inputnumber.esm.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InputNumber\": function() { return /* binding */ InputNumber; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_inputtext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/inputtext */ \"./node_modules/primereact/inputtext/inputtext.esm.js\");\n/* harmony import */ var primereact_ripple__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/ripple */ \"./node_modules/primereact/ripple/ripple.esm.js\");\n/* harmony import */ var primereact_tooltip__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/tooltip */ \"./node_modules/primereact/tooltip/tooltip.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar InputNumberBase = {\n  defaultProps: {\n    __TYPE: 'InputNumber',\n    allowEmpty: true,\n    ariaLabelledBy: null,\n    autoFocus: false,\n    buttonLayout: 'stacked',\n    className: null,\n    currency: undefined,\n    currencyDisplay: undefined,\n    decrementButtonClassName: null,\n    decrementButtonIcon: 'pi pi-angle-down',\n    disabled: false,\n    format: true,\n    id: null,\n    incrementButtonClassName: null,\n    incrementButtonIcon: 'pi pi-angle-up',\n    inputClassName: null,\n    inputId: null,\n    inputMode: null,\n    inputRef: null,\n    inputStyle: null,\n    locale: undefined,\n    localeMatcher: undefined,\n    max: null,\n    maxFractionDigits: undefined,\n    maxLength: null,\n    min: null,\n    minFractionDigits: undefined,\n    mode: 'decimal',\n    name: null,\n    onBlur: null,\n    onChange: null,\n    onFocus: null,\n    onKeyDown: null,\n    onValueChange: null,\n    pattern: null,\n    placeholder: null,\n    prefix: null,\n    readOnly: false,\n    required: false,\n    showButtons: false,\n    size: null,\n    step: 1,\n    style: null,\n    suffix: null,\n    tabIndex: null,\n    tooltip: null,\n    tooltipOptions: null,\n    type: 'text',\n    useGrouping: true,\n    value: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, InputNumberBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, InputNumberBase.defaultProps);\n  }\n};\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar InputNumber = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (inProps, ref) {\n  var props = InputNumberBase.getProps(inProps);\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    focusedState = _React$useState2[0],\n    setFocusedState = _React$useState2[1];\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var inputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var timer = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var lastValue = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var numberFormat = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var groupChar = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var prefixChar = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var suffixChar = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var isSpecialChar = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var _numeral = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var _group = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var _minusSign = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var _currency = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var _decimal = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var _suffix = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var _prefix = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var _index = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var stacked = props.showButtons && props.buttonLayout === 'stacked';\n  var horizontal = props.showButtons && props.buttonLayout === 'horizontal';\n  var vertical = props.showButtons && props.buttonLayout === 'vertical';\n  var inputMode = props.inputMode || (props.mode === 'decimal' && !props.minFractionDigits ? 'numeric' : 'decimal');\n  var getOptions = function getOptions() {\n    return {\n      localeMatcher: props.localeMatcher,\n      style: props.mode,\n      currency: props.currency,\n      currencyDisplay: props.currencyDisplay,\n      useGrouping: props.useGrouping,\n      minimumFractionDigits: props.minFractionDigits,\n      maximumFractionDigits: props.maxFractionDigits\n    };\n  };\n  var constructParser = function constructParser() {\n    numberFormat.current = new Intl.NumberFormat(props.locale, getOptions());\n    var numerals = _toConsumableArray(new Intl.NumberFormat(props.locale, {\n      useGrouping: false\n    }).format(9876543210)).reverse();\n    var index = new Map(numerals.map(function (d, i) {\n      return [d, i];\n    }));\n    _numeral.current = new RegExp(\"[\".concat(numerals.join(''), \"]\"), 'g');\n    _group.current = getGroupingExpression();\n    _minusSign.current = getMinusSignExpression();\n    _currency.current = getCurrencyExpression();\n    _decimal.current = getDecimalExpression();\n    _suffix.current = getSuffixExpression();\n    _prefix.current = getPrefixExpression();\n    _index.current = function (d) {\n      return index.get(d);\n    };\n  };\n  var escapeRegExp = function escapeRegExp(text) {\n    return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n  };\n  var getDecimalExpression = function getDecimalExpression() {\n    var formatter = new Intl.NumberFormat(props.locale, _objectSpread(_objectSpread({}, getOptions()), {}, {\n      useGrouping: false\n    }));\n    return new RegExp(\"[\".concat(formatter.format(1.1).replace(_currency.current, '').trim().replace(_numeral.current, ''), \"]\"), 'g');\n  };\n  var getGroupingExpression = function getGroupingExpression() {\n    var formatter = new Intl.NumberFormat(props.locale, {\n      useGrouping: true\n    });\n    groupChar.current = formatter.format(1000000).trim().replace(_numeral.current, '').charAt(0);\n    return new RegExp(\"[\".concat(groupChar.current, \"]\"), 'g');\n  };\n  var getMinusSignExpression = function getMinusSignExpression() {\n    var formatter = new Intl.NumberFormat(props.locale, {\n      useGrouping: false\n    });\n    return new RegExp(\"[\".concat(formatter.format(-1).trim().replace(_numeral.current, ''), \"]\"), 'g');\n  };\n  var getCurrencyExpression = function getCurrencyExpression() {\n    if (props.currency) {\n      var formatter = new Intl.NumberFormat(props.locale, {\n        style: 'currency',\n        currency: props.currency,\n        currencyDisplay: props.currencyDisplay,\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0\n      });\n      return new RegExp(\"[\".concat(formatter.format(1).replace(/\\s/g, '').replace(_numeral.current, '').replace(_group.current, ''), \"]\"), 'g');\n    }\n    return new RegExp(\"[]\", 'g');\n  };\n  var getPrefixExpression = function getPrefixExpression() {\n    if (props.prefix) {\n      prefixChar.current = props.prefix;\n    } else {\n      var formatter = new Intl.NumberFormat(props.locale, {\n        style: props.mode,\n        currency: props.currency,\n        currencyDisplay: props.currencyDisplay\n      });\n      prefixChar.current = formatter.format(1).split('1')[0];\n    }\n    return new RegExp(\"\".concat(escapeRegExp(prefixChar.current || '')), 'g');\n  };\n  var getSuffixExpression = function getSuffixExpression() {\n    if (props.suffix) {\n      suffixChar.current = props.suffix;\n    } else {\n      var formatter = new Intl.NumberFormat(props.locale, {\n        style: props.mode,\n        currency: props.currency,\n        currencyDisplay: props.currencyDisplay,\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0\n      });\n      suffixChar.current = formatter.format(1).split('1')[1];\n    }\n    return new RegExp(\"\".concat(escapeRegExp(suffixChar.current || '')), 'g');\n  };\n  var formatValue = function formatValue(value) {\n    if (value != null) {\n      if (value === '-') {\n        // Minus sign\n        return value;\n      }\n      if (props.format) {\n        var formatter = new Intl.NumberFormat(props.locale, getOptions());\n        var _formattedValue = formatter.format(value);\n        if (props.prefix) {\n          _formattedValue = props.prefix + _formattedValue;\n        }\n        if (props.suffix) {\n          _formattedValue = _formattedValue + props.suffix;\n        }\n        return _formattedValue;\n      }\n      return value.toString();\n    }\n    return '';\n  };\n  var parseValue = function parseValue(text) {\n    var filteredText = text.replace(_suffix.current, '').replace(_prefix.current, '').trim().replace(/\\s/g, '').replace(_currency.current, '').replace(_group.current, '').replace(_minusSign.current, '-').replace(_decimal.current, '.').replace(_numeral.current, _index.current);\n    if (filteredText) {\n      if (filteredText === '-')\n        // Minus sign\n        return filteredText;\n      var parsedValue = +filteredText;\n      return isNaN(parsedValue) ? null : parsedValue;\n    }\n    return null;\n  };\n  var repeat = function repeat(event, interval, dir) {\n    var i = interval || 500;\n    clearTimer();\n    timer.current = setTimeout(function () {\n      repeat(event, 40, dir);\n    }, i);\n    spin(event, dir);\n  };\n  var spin = function spin(event, dir) {\n    if (inputRef.current) {\n      var step = props.step * dir;\n      var currentValue = parseValue(inputRef.current.value) || 0;\n      var newValue = validateValue(currentValue + step);\n      if (props.maxLength && props.maxLength < formatValue(newValue).length) {\n        return;\n      }\n\n      // #3913 onChange should be called before onValueChange\n      handleOnChange(event, currentValue, newValue);\n      // touch devices trigger the keyboard to display because of setSelectionRange\n      !primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.isTouchDevice() && updateInput(newValue, null, 'spin');\n      updateModel(event, newValue);\n    }\n  };\n  var onUpButtonMouseDown = function onUpButtonMouseDown(event) {\n    if (!props.disabled && !props.readOnly) {\n      props.autoFocus && primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.focus(inputRef.current, props.autoFocus);\n      repeat(event, null, 1);\n      event.preventDefault();\n    }\n  };\n  var onUpButtonMouseUp = function onUpButtonMouseUp() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n    }\n  };\n  var onUpButtonMouseLeave = function onUpButtonMouseLeave() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n    }\n  };\n  var onUpButtonKeyUp = function onUpButtonKeyUp() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n    }\n  };\n  var onUpButtonKeyDown = function onUpButtonKeyDown(event) {\n    if (!props.disabled && !props.readOnly && (event.keyCode === 32 || event.keyCode === 13)) {\n      repeat(event, null, 1);\n    }\n  };\n  var onDownButtonMouseDown = function onDownButtonMouseDown(event) {\n    if (!props.disabled && !props.readOnly) {\n      props.autoFocus && primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.focus(inputRef.current, props.autoFocus);\n      repeat(event, null, -1);\n      event.preventDefault();\n    }\n  };\n  var onDownButtonMouseUp = function onDownButtonMouseUp() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n    }\n  };\n  var onDownButtonMouseLeave = function onDownButtonMouseLeave() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n    }\n  };\n  var onDownButtonKeyUp = function onDownButtonKeyUp() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n    }\n  };\n  var onDownButtonKeyDown = function onDownButtonKeyDown(event) {\n    if (!props.disabled && !props.readOnly && (event.keyCode === 32 || event.keyCode === 13)) {\n      repeat(event, null, -1);\n    }\n  };\n  var onInput = function onInput(event) {\n    if (props.disabled || props.readOnly) {\n      return;\n    }\n    if (isSpecialChar.current) {\n      event.target.value = lastValue.current;\n    }\n    isSpecialChar.current = false;\n  };\n  var onInputKeyDown = function onInputKeyDown(event) {\n    if (props.disabled || props.readOnly) {\n      return;\n    }\n    lastValue.current = event.target.value;\n    if (event.shiftKey || event.altKey) {\n      isSpecialChar.current = true;\n      return;\n    }\n    var selectionStart = event.target.selectionStart;\n    var selectionEnd = event.target.selectionEnd;\n    var inputValue = event.target.value;\n    var newValueStr = null;\n    if (event.altKey) {\n      event.preventDefault();\n    }\n    switch (event.which) {\n      //up\n      case 38:\n        spin(event, 1);\n        event.preventDefault();\n        break;\n\n      //down\n      case 40:\n        spin(event, -1);\n        event.preventDefault();\n        break;\n\n      //left\n      case 37:\n        if (!isNumeralChar(inputValue.charAt(selectionStart - 1))) {\n          event.preventDefault();\n        }\n        break;\n\n      //right\n      case 39:\n        if (!isNumeralChar(inputValue.charAt(selectionStart))) {\n          event.preventDefault();\n        }\n        break;\n\n      //enter and tab\n      case 13:\n      case 9:\n        newValueStr = validateValue(parseValue(inputValue));\n        inputRef.current.value = formatValue(newValueStr);\n        inputRef.current.setAttribute('aria-valuenow', newValueStr);\n        updateModel(event, newValueStr);\n        break;\n\n      //backspace\n      case 8:\n        event.preventDefault();\n        if (selectionStart === selectionEnd) {\n          var deleteChar = inputValue.charAt(selectionStart - 1);\n          var _getDecimalCharIndexe = getDecimalCharIndexes(inputValue),\n            decimalCharIndex = _getDecimalCharIndexe.decimalCharIndex,\n            decimalCharIndexWithoutPrefix = _getDecimalCharIndexe.decimalCharIndexWithoutPrefix;\n          if (isNumeralChar(deleteChar)) {\n            var decimalLength = getDecimalLength(inputValue);\n            if (_group.current.test(deleteChar)) {\n              _group.current.lastIndex = 0;\n              newValueStr = inputValue.slice(0, selectionStart - 2) + inputValue.slice(selectionStart - 1);\n            } else if (_decimal.current.test(deleteChar)) {\n              _decimal.current.lastIndex = 0;\n              if (decimalLength) {\n                inputRef.current.setSelectionRange(selectionStart - 1, selectionStart - 1);\n              } else {\n                newValueStr = inputValue.slice(0, selectionStart - 1) + inputValue.slice(selectionStart);\n              }\n            } else if (decimalCharIndex > 0 && selectionStart > decimalCharIndex) {\n              var insertedText = isDecimalMode() && (props.minFractionDigits || 0) < decimalLength ? '' : '0';\n              newValueStr = inputValue.slice(0, selectionStart - 1) + insertedText + inputValue.slice(selectionStart);\n            } else if (decimalCharIndexWithoutPrefix === 1) {\n              newValueStr = inputValue.slice(0, selectionStart - 1) + '0' + inputValue.slice(selectionStart);\n              newValueStr = parseValue(newValueStr) > 0 ? newValueStr : '';\n            } else {\n              newValueStr = inputValue.slice(0, selectionStart - 1) + inputValue.slice(selectionStart);\n            }\n          }\n          updateValue(event, newValueStr, null, 'delete-single');\n        } else {\n          newValueStr = deleteRange(inputValue, selectionStart, selectionEnd);\n          updateValue(event, newValueStr, null, 'delete-range');\n        }\n        break;\n\n      // del\n      case 46:\n        event.preventDefault();\n        if (selectionStart === selectionEnd) {\n          var _deleteChar = inputValue.charAt(selectionStart);\n          var _getDecimalCharIndexe2 = getDecimalCharIndexes(inputValue),\n            _decimalCharIndex = _getDecimalCharIndexe2.decimalCharIndex,\n            _decimalCharIndexWithoutPrefix = _getDecimalCharIndexe2.decimalCharIndexWithoutPrefix;\n          if (isNumeralChar(_deleteChar)) {\n            var _decimalLength = getDecimalLength(inputValue);\n            if (_group.current.test(_deleteChar)) {\n              _group.current.lastIndex = 0;\n              newValueStr = inputValue.slice(0, selectionStart) + inputValue.slice(selectionStart + 2);\n            } else if (_decimal.current.test(_deleteChar)) {\n              _decimal.current.lastIndex = 0;\n              if (_decimalLength) {\n                inputRef.current.setSelectionRange(selectionStart + 1, selectionStart + 1);\n              } else {\n                newValueStr = inputValue.slice(0, selectionStart) + inputValue.slice(selectionStart + 1);\n              }\n            } else if (_decimalCharIndex > 0 && selectionStart > _decimalCharIndex) {\n              var _insertedText = isDecimalMode() && (props.minFractionDigits || 0) < _decimalLength ? '' : '0';\n              newValueStr = inputValue.slice(0, selectionStart) + _insertedText + inputValue.slice(selectionStart + 1);\n            } else if (_decimalCharIndexWithoutPrefix === 1) {\n              newValueStr = inputValue.slice(0, selectionStart) + '0' + inputValue.slice(selectionStart + 1);\n              newValueStr = parseValue(newValueStr) > 0 ? newValueStr : '';\n            } else {\n              newValueStr = inputValue.slice(0, selectionStart) + inputValue.slice(selectionStart + 1);\n            }\n          }\n          updateValue(event, newValueStr, null, 'delete-back-single');\n        } else {\n          newValueStr = deleteRange(inputValue, selectionStart, selectionEnd);\n          updateValue(event, newValueStr, null, 'delete-range');\n        }\n        break;\n    }\n    if (props.onKeyDown) {\n      props.onKeyDown(event);\n    }\n  };\n  var onInputKeyPress = function onInputKeyPress(event) {\n    if (props.disabled || props.readOnly) {\n      return;\n    }\n    var code = event.which || event.keyCode;\n    if (code !== 13) {\n      // to submit a form\n      event.preventDefault();\n    }\n    var _char = String.fromCharCode(code);\n    var _isDecimalSign = isDecimalSign(_char);\n    var _isMinusSign = isMinusSign(_char);\n    if (48 <= code && code <= 57 || _isMinusSign || _isDecimalSign) {\n      insert(event, _char, {\n        isDecimalSign: _isDecimalSign,\n        isMinusSign: _isMinusSign\n      });\n    }\n  };\n  var onPaste = function onPaste(event) {\n    event.preventDefault();\n    if (props.disabled || props.readOnly) {\n      return;\n    }\n    var data = (event.clipboardData || window['clipboardData']).getData('Text');\n    if (data) {\n      var filteredData = parseValue(data);\n      if (filteredData != null) {\n        insert(event, filteredData.toString());\n      }\n    }\n  };\n  var allowMinusSign = function allowMinusSign() {\n    return props.min === null || props.min < 0;\n  };\n  var isMinusSign = function isMinusSign(_char2) {\n    if (_minusSign.current.test(_char2) || _char2 === '-') {\n      _minusSign.current.lastIndex = 0;\n      return true;\n    }\n    return false;\n  };\n  var isDecimalSign = function isDecimalSign(_char3) {\n    if (_decimal.current.test(_char3)) {\n      _decimal.current.lastIndex = 0;\n      return true;\n    }\n    return false;\n  };\n  var isDecimalMode = function isDecimalMode() {\n    return props.mode === 'decimal';\n  };\n  var getDecimalCharIndexes = function getDecimalCharIndexes(val) {\n    var decimalCharIndex = val.search(_decimal.current);\n    _decimal.current.lastIndex = 0;\n    var filteredVal = val.replace(_prefix.current, '').trim().replace(/\\s/g, '').replace(_currency.current, '');\n    var decimalCharIndexWithoutPrefix = filteredVal.search(_decimal.current);\n    _decimal.current.lastIndex = 0;\n    return {\n      decimalCharIndex: decimalCharIndex,\n      decimalCharIndexWithoutPrefix: decimalCharIndexWithoutPrefix\n    };\n  };\n  var getCharIndexes = function getCharIndexes(val) {\n    var decimalCharIndex = val.search(_decimal.current);\n    _decimal.current.lastIndex = 0;\n    var minusCharIndex = val.search(_minusSign.current);\n    _minusSign.current.lastIndex = 0;\n    var suffixCharIndex = val.search(_suffix.current);\n    _suffix.current.lastIndex = 0;\n    var currencyCharIndex = val.search(_currency.current);\n    _currency.current.lastIndex = 0;\n    return {\n      decimalCharIndex: decimalCharIndex,\n      minusCharIndex: minusCharIndex,\n      suffixCharIndex: suffixCharIndex,\n      currencyCharIndex: currencyCharIndex\n    };\n  };\n  var insert = function insert(event, text) {\n    var sign = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n      isDecimalSign: false,\n      isMinusSign: false\n    };\n    var minusCharIndexOnText = text.search(_minusSign.current);\n    _minusSign.current.lastIndex = 0;\n    if (!allowMinusSign() && minusCharIndexOnText !== -1) {\n      return;\n    }\n    var selectionStart = inputRef.current.selectionStart;\n    var selectionEnd = inputRef.current.selectionEnd;\n    var inputValue = inputRef.current.value.trim();\n    var _getCharIndexes = getCharIndexes(inputValue),\n      decimalCharIndex = _getCharIndexes.decimalCharIndex,\n      minusCharIndex = _getCharIndexes.minusCharIndex,\n      suffixCharIndex = _getCharIndexes.suffixCharIndex,\n      currencyCharIndex = _getCharIndexes.currencyCharIndex;\n    var newValueStr;\n    if (sign.isMinusSign) {\n      if (selectionStart === 0) {\n        newValueStr = inputValue;\n        if (minusCharIndex === -1 || selectionEnd !== 0) {\n          newValueStr = insertText(inputValue, text, 0, selectionEnd);\n        }\n        updateValue(event, newValueStr, text, 'insert');\n      }\n    } else if (sign.isDecimalSign) {\n      if (decimalCharIndex > 0 && selectionStart === decimalCharIndex) {\n        updateValue(event, inputValue, text, 'insert');\n      } else if (decimalCharIndex > selectionStart && decimalCharIndex < selectionEnd) {\n        newValueStr = insertText(inputValue, text, selectionStart, selectionEnd);\n        updateValue(event, newValueStr, text, 'insert');\n      } else if (decimalCharIndex === -1 && props.maxFractionDigits) {\n        newValueStr = insertText(inputValue, text, selectionStart, selectionEnd);\n        updateValue(event, newValueStr, text, 'insert');\n      }\n    } else {\n      var maxFractionDigits = numberFormat.current.resolvedOptions().maximumFractionDigits;\n      var operation = selectionStart !== selectionEnd ? 'range-insert' : 'insert';\n      if (decimalCharIndex > 0 && selectionStart > decimalCharIndex) {\n        if (selectionStart + text.length - (decimalCharIndex + 1) <= maxFractionDigits) {\n          var charIndex = currencyCharIndex >= selectionStart ? currencyCharIndex - 1 : suffixCharIndex >= selectionStart ? suffixCharIndex : inputValue.length;\n          newValueStr = inputValue.slice(0, selectionStart) + text + inputValue.slice(selectionStart + text.length, charIndex) + inputValue.slice(charIndex);\n          updateValue(event, newValueStr, text, operation);\n        }\n      } else {\n        newValueStr = insertText(inputValue, text, selectionStart, selectionEnd);\n        updateValue(event, newValueStr, text, operation);\n      }\n    }\n  };\n  var insertText = function insertText(value, text, start, end) {\n    var textSplit = text === '.' ? text : text.split('.');\n    if (textSplit.length === 2) {\n      var decimalCharIndex = value.slice(start, end).search(_decimal.current);\n      _decimal.current.lastIndex = 0;\n      return decimalCharIndex > 0 ? value.slice(0, start) + formatValue(text) + value.slice(end) : value || formatValue(text);\n    } else if (end - start === value.length) {\n      return formatValue(text);\n    } else if (start === 0) {\n      var suffix = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isLetter(value[end]) ? end - 1 : end;\n      return text + value.slice(suffix);\n    } else if (end === value.length) {\n      return value.slice(0, start) + text;\n    } else {\n      return value.slice(0, start) + text + value.slice(end);\n    }\n  };\n  var deleteRange = function deleteRange(value, start, end) {\n    var newValueStr;\n    if (end - start === value.length) newValueStr = '';else if (start === 0) newValueStr = value.slice(end);else if (end === value.length) newValueStr = value.slice(0, start);else newValueStr = value.slice(0, start) + value.slice(end);\n    return newValueStr;\n  };\n  var initCursor = function initCursor() {\n    var selectionStart = inputRef.current.selectionStart;\n    var inputValue = inputRef.current.value;\n    var valueLength = inputValue.length;\n    var index = null;\n\n    // remove prefix\n    var prefixLength = (prefixChar.current || '').length;\n    inputValue = inputValue.replace(_prefix.current, '');\n    selectionStart = selectionStart - prefixLength;\n    var _char4 = inputValue.charAt(selectionStart);\n    if (isNumeralChar(_char4)) {\n      return selectionStart + prefixLength;\n    }\n\n    //left\n    var i = selectionStart - 1;\n    while (i >= 0) {\n      _char4 = inputValue.charAt(i);\n      if (isNumeralChar(_char4)) {\n        index = i + prefixLength;\n        break;\n      } else {\n        i--;\n      }\n    }\n    if (index !== null) {\n      inputRef.current.setSelectionRange(index + 1, index + 1);\n    } else {\n      i = selectionStart;\n      while (i < valueLength) {\n        _char4 = inputValue.charAt(i);\n        if (isNumeralChar(_char4)) {\n          index = i + prefixLength;\n          break;\n        } else {\n          i++;\n        }\n      }\n      if (index !== null) {\n        inputRef.current.setSelectionRange(index, index);\n      }\n    }\n    return index || 0;\n  };\n  var onInputClick = function onInputClick() {\n    initCursor();\n  };\n  var isNumeralChar = function isNumeralChar(_char5) {\n    if (_char5.length === 1 && (_numeral.current.test(_char5) || _decimal.current.test(_char5) || _group.current.test(_char5) || _minusSign.current.test(_char5))) {\n      resetRegex();\n      return true;\n    } else {\n      return false;\n    }\n  };\n  var resetRegex = function resetRegex() {\n    _numeral.current.lastIndex = 0;\n    _decimal.current.lastIndex = 0;\n    _group.current.lastIndex = 0;\n    _minusSign.current.lastIndex = 0;\n  };\n  var updateValue = function updateValue(event, valueStr, insertedValueStr, operation) {\n    var currentValue = inputRef.current.value;\n    var newValue = null;\n    if (valueStr != null) {\n      newValue = evaluateEmpty(parseValue(valueStr));\n      updateInput(newValue, insertedValueStr, operation, valueStr);\n      handleOnChange(event, currentValue, newValue);\n    }\n  };\n  var evaluateEmpty = function evaluateEmpty(newValue) {\n    return !newValue && !props.allowEmpty ? props.min || 0 : newValue;\n  };\n  var handleOnChange = function handleOnChange(event, currentValue, newValue) {\n    if (props.onChange && isValueChanged(currentValue, newValue)) {\n      props.onChange({\n        originalEvent: event,\n        value: newValue\n      });\n    }\n  };\n  var isValueChanged = function isValueChanged(currentValue, newValue) {\n    if (newValue === null && currentValue !== null) {\n      return true;\n    }\n    if (newValue != null) {\n      var parsedCurrentValue = typeof currentValue === 'string' ? parseValue(currentValue) : currentValue;\n      return newValue !== parsedCurrentValue;\n    }\n    return false;\n  };\n  var validateValue = function validateValue(value) {\n    if (value === '-') {\n      return null;\n    }\n    return validateValueByLimit(value);\n  };\n  var validateValueByLimit = function validateValueByLimit(value) {\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isEmpty(value)) {\n      return null;\n    }\n    if (props.min !== null && value < props.min) {\n      return props.min;\n    }\n    if (props.max !== null && value > props.max) {\n      return props.max;\n    }\n    return value;\n  };\n  var updateInput = function updateInput(value, insertedValueStr, operation, valueStr) {\n    insertedValueStr = insertedValueStr || '';\n    var inputEl = inputRef.current;\n    var inputValue = inputEl.value;\n    var newValue = formatValue(value);\n    var currentLength = inputValue.length;\n    if (newValue !== valueStr) {\n      newValue = concatValues(newValue, valueStr);\n    }\n    if (currentLength === 0) {\n      inputEl.value = newValue;\n      inputEl.setSelectionRange(0, 0);\n      var index = initCursor();\n      var selectionEnd = index + insertedValueStr.length;\n      inputEl.setSelectionRange(selectionEnd, selectionEnd);\n    } else {\n      var selectionStart = inputEl.selectionStart;\n      var _selectionEnd = inputEl.selectionEnd;\n      if (props.maxLength && props.maxLength < newValue.length) {\n        return;\n      }\n      inputEl.value = newValue;\n      var newLength = newValue.length;\n      if (operation === 'range-insert') {\n        var startValue = parseValue((inputValue || '').slice(0, selectionStart));\n        var startValueStr = startValue !== null ? startValue.toString() : '';\n        var startExpr = startValueStr.split('').join(\"(\".concat(groupChar.current, \")?\"));\n        var sRegex = new RegExp(startExpr, 'g');\n        sRegex.test(newValue);\n        var tExpr = insertedValueStr.split('').join(\"(\".concat(groupChar.current, \")?\"));\n        var tRegex = new RegExp(tExpr, 'g');\n        tRegex.test(newValue.slice(sRegex.lastIndex));\n        _selectionEnd = sRegex.lastIndex + tRegex.lastIndex;\n        inputEl.setSelectionRange(_selectionEnd, _selectionEnd);\n      } else if (newLength === currentLength) {\n        if (operation === 'insert' || operation === 'delete-back-single') inputEl.setSelectionRange(_selectionEnd + 1, _selectionEnd + 1);else if (operation === 'delete-single') inputEl.setSelectionRange(_selectionEnd - 1, _selectionEnd - 1);else if (operation === 'delete-range' || operation === 'spin') inputEl.setSelectionRange(_selectionEnd, _selectionEnd);\n      } else if (operation === 'delete-back-single') {\n        var prevChar = inputValue.charAt(_selectionEnd - 1);\n        var nextChar = inputValue.charAt(_selectionEnd);\n        var diff = currentLength - newLength;\n        var isGroupChar = _group.current.test(nextChar);\n        if (isGroupChar && diff === 1) {\n          _selectionEnd += 1;\n        } else if (!isGroupChar && isNumeralChar(prevChar)) {\n          _selectionEnd += -1 * diff + 1;\n        }\n        _group.current.lastIndex = 0;\n        inputEl.setSelectionRange(_selectionEnd, _selectionEnd);\n      } else if (inputValue === '-' && operation === 'insert') {\n        inputEl.setSelectionRange(0, 0);\n        var _index2 = initCursor();\n        var _selectionEnd2 = _index2 + insertedValueStr.length + 1;\n        inputEl.setSelectionRange(_selectionEnd2, _selectionEnd2);\n      } else {\n        _selectionEnd = _selectionEnd + (newLength - currentLength);\n        inputEl.setSelectionRange(_selectionEnd, _selectionEnd);\n      }\n    }\n    inputEl.setAttribute('aria-valuenow', value);\n  };\n  var updateInputValue = function updateInputValue(newValue) {\n    newValue = evaluateEmpty(newValue);\n    var inputEl = inputRef.current;\n    var value = inputEl.value;\n    var _formattedValue = formattedValue(newValue);\n    if (value !== _formattedValue) {\n      inputEl.value = _formattedValue;\n      inputEl.setAttribute('aria-valuenow', newValue);\n    }\n  };\n  var formattedValue = function formattedValue(val) {\n    return formatValue(evaluateEmpty(val));\n  };\n  var concatValues = function concatValues(val1, val2) {\n    if (val1 && val2) {\n      var decimalCharIndex = val2.search(_decimal.current);\n      _decimal.current.lastIndex = 0;\n      return decimalCharIndex !== -1 ? val1.split(_decimal.current)[0] + val2.slice(decimalCharIndex) : val1;\n    }\n    return val1;\n  };\n  var getDecimalLength = function getDecimalLength(value) {\n    if (value) {\n      var valueSplit = value.split(_decimal.current);\n      if (valueSplit.length === 2) {\n        return valueSplit[1].replace(_suffix.current, '').trim().replace(/\\s/g, '').replace(_currency.current, '').length;\n      }\n    }\n    return 0;\n  };\n  var updateModel = function updateModel(event, value) {\n    if (props.onValueChange) {\n      props.onValueChange({\n        originalEvent: event,\n        value: value,\n        stopPropagation: function stopPropagation() {},\n        preventDefault: function preventDefault() {},\n        target: {\n          name: props.name,\n          id: props.id,\n          value: value\n        }\n      });\n    }\n  };\n  var onInputFocus = function onInputFocus(event) {\n    setFocusedState(true);\n    props.onFocus && props.onFocus(event);\n    if ((props.suffix || props.currency || props.prefix) && inputRef.current) {\n      // GitHub #1866 Cursor must be placed before/after symbol or arrow keys don't work\n      var selectionEnd = initCursor();\n      inputRef.current.setSelectionRange(selectionEnd, selectionEnd);\n    }\n  };\n  var onInputBlur = function onInputBlur(event) {\n    setFocusedState(false);\n    if (inputRef.current) {\n      var currentValue = inputRef.current.value;\n      if (isValueChanged(currentValue, props.value)) {\n        var newValue = validateValue(parseValue(currentValue));\n        updateInputValue(newValue);\n        updateModel(event, newValue);\n      }\n    }\n    props.onBlur && props.onBlur(event);\n  };\n  var clearTimer = function clearTimer() {\n    if (timer.current) {\n      clearInterval(timer.current);\n    }\n  };\n  var changeValue = function changeValue() {\n    updateInputValue(validateValueByLimit(props.value));\n    var newValue = validateValue(props.value);\n    if (props.value !== null && props.value !== newValue) {\n      updateModel(null, newValue);\n    }\n  };\n  var getFormatter = function getFormatter() {\n    return numberFormat.current;\n  };\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      focus: function focus() {\n        return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.focus(inputRef.current);\n      },\n      getFormatter: getFormatter,\n      getElement: function getElement() {\n        return elementRef.current;\n      },\n      getInput: function getInput() {\n        return inputRef.current;\n      }\n    };\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.combinedRefs(inputRef, props.inputRef);\n  }, [inputRef, props.inputRef]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useMountEffect)(function () {\n    constructParser();\n    var newValue = validateValue(props.value);\n    if (props.value !== null && props.value !== newValue) {\n      updateModel(null, newValue);\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    constructParser();\n    changeValue();\n  }, [props.locale, props.localeMatcher, props.mode, props.currency, props.currencyDisplay, props.useGrouping, props.minFractionDigits, props.maxFractionDigits, props.suffix, props.prefix]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    changeValue();\n  }, [props.value]);\n  var createInputElement = function createInputElement() {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-inputnumber-input', props.inputClassName);\n    var valueToRender = formattedValue(props.value);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_inputtext__WEBPACK_IMPORTED_MODULE_3__.InputText, _extends({\n      ref: inputRef,\n      id: props.inputId,\n      style: props.inputStyle,\n      role: \"spinbutton\",\n      className: className,\n      defaultValue: valueToRender,\n      type: props.type,\n      size: props.size,\n      tabIndex: props.tabIndex,\n      inputMode: inputMode,\n      maxLength: props.maxLength,\n      disabled: props.disabled,\n      required: props.required,\n      pattern: props.pattern,\n      placeholder: props.placeholder,\n      readOnly: props.readOnly,\n      name: props.name,\n      autoFocus: props.autoFocus,\n      onKeyDown: onInputKeyDown,\n      onKeyPress: onInputKeyPress,\n      onInput: onInput,\n      onClick: onInputClick,\n      onBlur: onInputBlur,\n      onFocus: onInputFocus,\n      onPaste: onPaste,\n      min: props.min,\n      max: props.max,\n      \"aria-valuemin\": props.min,\n      \"aria-valuemax\": props.max,\n      \"aria-valuenow\": props.value\n    }, ariaProps, dataProps));\n  };\n  var createUpButton = function createUpButton() {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-inputnumber-button p-inputnumber-button-up p-button p-button-icon-only p-component', {\n      'p-disabled': props.disabled\n    }, props.incrementButtonClassName);\n    var icon = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-button-icon', props.incrementButtonIcon);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n      type: \"button\",\n      className: className,\n      onPointerLeave: onUpButtonMouseLeave,\n      onPointerDown: onUpButtonMouseDown,\n      onPointerUp: onUpButtonMouseUp,\n      onKeyDown: onUpButtonKeyDown,\n      onKeyUp: onUpButtonKeyUp,\n      disabled: props.disabled,\n      tabIndex: -1\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: icon\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_4__.Ripple, null));\n  };\n  var createDownButton = function createDownButton() {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-inputnumber-button p-inputnumber-button-down p-button p-button-icon-only p-component', {\n      'p-disabled': props.disabled\n    }, props.decrementButtonClassName);\n    var icon = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-button-icon', props.decrementButtonIcon);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n      type: \"button\",\n      className: className,\n      onPointerLeave: onDownButtonMouseLeave,\n      onPointerDown: onDownButtonMouseDown,\n      onPointerUp: onDownButtonMouseUp,\n      onKeyDown: onDownButtonKeyDown,\n      onKeyUp: onDownButtonKeyUp,\n      disabled: props.disabled,\n      tabIndex: -1\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: icon\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_4__.Ripple, null));\n  };\n  var createButtonGroup = function createButtonGroup() {\n    var upButton = props.showButtons && createUpButton();\n    var downButton = props.showButtons && createDownButton();\n    if (stacked) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-inputnumber-button-group\"\n      }, upButton, downButton);\n    }\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, upButton, downButton);\n  };\n  var hasTooltip = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(props.tooltip);\n  var otherProps = InputNumberBase.getOtherProps(props);\n  var dataProps = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.reduceKeys(otherProps, primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.DATA_PROPS);\n  var ariaProps = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.reduceKeys(otherProps, primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.ARIA_PROPS);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-inputnumber p-component p-inputwrapper', {\n    'p-inputwrapper-filled': props.value != null && props.value.toString().length > 0,\n    'p-inputwrapper-focus': focusedState,\n    'p-inputnumber-buttons-stacked': stacked,\n    'p-inputnumber-buttons-horizontal': horizontal,\n    'p-inputnumber-buttons-vertical': vertical\n  }, props.className);\n  var inputElement = createInputElement();\n  var buttonGroup = createButtonGroup();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", _extends({\n    ref: elementRef,\n    id: props.id,\n    className: className,\n    style: props.style\n  }, otherProps), inputElement, buttonGroup), hasTooltip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_tooltip__WEBPACK_IMPORTED_MODULE_5__.Tooltip, _extends({\n    target: elementRef,\n    content: props.tooltip\n  }, props.tooltipOptions)));\n}));\nInputNumber.displayName = 'InputNumber';\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9pbnB1dG51bWJlci9pbnB1dG51bWJlci5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBK0I7QUFDb0M7QUFDbEI7QUFDTjtBQUNFO0FBQzBCOztBQUV2RTtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUNBQXlDLFNBQVM7QUFDbEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsWUFBWSw2RUFBNkU7QUFDakcsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTixtQkFBbUIsa0VBQW9CO0FBQ3ZDO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQscURBQXFELG1FQUFtRTtBQUMvSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFtQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsMElBQTBJLHdHQUF3RztBQUNsUCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQsb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsc0RBQXlCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLGVBQWUsOERBQWdCO0FBQy9CLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSw0Q0FBZTtBQUNqQixJQUFJLHNFQUF3QjtBQUM1QixHQUFHO0FBQ0gsRUFBRSxnRUFBYztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsaUVBQWU7QUFDakI7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFLGlFQUFlO0FBQ2pCO0FBQ0EsR0FBRztBQUNIO0FBQ0Esb0JBQW9CLDREQUFVO0FBQzlCO0FBQ0Esd0JBQXdCLGdEQUFtQixDQUFDLDJEQUFTO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esb0JBQW9CLDREQUFVO0FBQzlCO0FBQ0EsS0FBSztBQUNMLGVBQWUsNERBQVU7QUFDekIsd0JBQXdCLGdEQUFtQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGVBQWUsZ0RBQW1CO0FBQ3ZDO0FBQ0EsS0FBSyxnQkFBZ0IsZ0RBQW1CLENBQUMscURBQU07QUFDL0M7QUFDQTtBQUNBLG9CQUFvQiw0REFBVTtBQUM5QjtBQUNBLEtBQUs7QUFDTCxlQUFlLDREQUFVO0FBQ3pCLHdCQUF3QixnREFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxlQUFlLGdEQUFtQjtBQUN2QztBQUNBLEtBQUssZ0JBQWdCLGdEQUFtQixDQUFDLHFEQUFNO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZ0RBQW1CO0FBQzdDO0FBQ0EsT0FBTztBQUNQO0FBQ0Esd0JBQXdCLGdEQUFtQixDQUFDLDJDQUFjO0FBQzFEO0FBQ0EsbUJBQW1CLG9FQUFzQjtBQUN6QztBQUNBLGtCQUFrQixvRUFBc0IsYUFBYSxtRUFBcUI7QUFDMUUsa0JBQWtCLG9FQUFzQixhQUFhLG1FQUFxQjtBQUMxRSxrQkFBa0IsNERBQVU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esc0JBQXNCLGdEQUFtQixDQUFDLDJDQUFjLHFCQUFxQixnREFBbUI7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHNFQUFzRSxnREFBbUIsQ0FBQyx1REFBTztBQUNwRztBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDs7QUFFdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3ByaW1lcmVhY3QvaW5wdXRudW1iZXIvaW5wdXRudW1iZXIuZXNtLmpzP2VjNTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlTW91bnRFZmZlY3QsIHVzZVVwZGF0ZUVmZmVjdCB9IGZyb20gJ3ByaW1lcmVhY3QvaG9va3MnO1xuaW1wb3J0IHsgSW5wdXRUZXh0IH0gZnJvbSAncHJpbWVyZWFjdC9pbnB1dHRleHQnO1xuaW1wb3J0IHsgUmlwcGxlIH0gZnJvbSAncHJpbWVyZWFjdC9yaXBwbGUnO1xuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJ3ByaW1lcmVhY3QvdG9vbHRpcCc7XG5pbXBvcnQgeyBPYmplY3RVdGlscywgRG9tSGFuZGxlciwgY2xhc3NOYW1lcyB9IGZyb20gJ3ByaW1lcmVhY3QvdXRpbHMnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gIH0sIF90eXBlb2Yob2JqKTtcbn1cblxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7XG4gIGlmIChfdHlwZW9mKGlucHV0KSAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0O1xuICB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07XG4gIGlmIChwcmltICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTtcbiAgICBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTtcbiAgfVxuICByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTtcbn1cblxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7XG4gIHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTtcbiAgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgdmFyIF9pID0gbnVsbCA9PSBhcnIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07XG4gIGlmIChudWxsICE9IF9pKSB7XG4gICAgdmFyIF9zLFxuICAgICAgX2UsXG4gICAgICBfeCxcbiAgICAgIF9yLFxuICAgICAgX2FyciA9IFtdLFxuICAgICAgX24gPSAhMCxcbiAgICAgIF9kID0gITE7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChfeCA9IChfaSA9IF9pLmNhbGwoYXJyKSkubmV4dCwgMCA9PT0gaSkge1xuICAgICAgICBpZiAoT2JqZWN0KF9pKSAhPT0gX2kpIHJldHVybjtcbiAgICAgICAgX24gPSAhMTtcbiAgICAgIH0gZWxzZSBmb3IgKDsgIShfbiA9IChfcyA9IF94LmNhbGwoX2kpKS5kb25lKSAmJiAoX2Fyci5wdXNoKF9zLnZhbHVlKSwgX2Fyci5sZW5ndGggIT09IGkpOyBfbiA9ICEwKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kID0gITAsIF9lID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9uICYmIG51bGwgIT0gX2lbXCJyZXR1cm5cIl0gJiYgKF9yID0gX2lbXCJyZXR1cm5cIl0oKSwgT2JqZWN0KF9yKSAhPT0gX3IpKSByZXR1cm47XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX2FycjtcbiAgfVxufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcbn1cblxudmFyIElucHV0TnVtYmVyQmFzZSA9IHtcbiAgZGVmYXVsdFByb3BzOiB7XG4gICAgX19UWVBFOiAnSW5wdXROdW1iZXInLFxuICAgIGFsbG93RW1wdHk6IHRydWUsXG4gICAgYXJpYUxhYmVsbGVkQnk6IG51bGwsXG4gICAgYXV0b0ZvY3VzOiBmYWxzZSxcbiAgICBidXR0b25MYXlvdXQ6ICdzdGFja2VkJyxcbiAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgY3VycmVuY3k6IHVuZGVmaW5lZCxcbiAgICBjdXJyZW5jeURpc3BsYXk6IHVuZGVmaW5lZCxcbiAgICBkZWNyZW1lbnRCdXR0b25DbGFzc05hbWU6IG51bGwsXG4gICAgZGVjcmVtZW50QnV0dG9uSWNvbjogJ3BpIHBpLWFuZ2xlLWRvd24nLFxuICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICBmb3JtYXQ6IHRydWUsXG4gICAgaWQ6IG51bGwsXG4gICAgaW5jcmVtZW50QnV0dG9uQ2xhc3NOYW1lOiBudWxsLFxuICAgIGluY3JlbWVudEJ1dHRvbkljb246ICdwaSBwaS1hbmdsZS11cCcsXG4gICAgaW5wdXRDbGFzc05hbWU6IG51bGwsXG4gICAgaW5wdXRJZDogbnVsbCxcbiAgICBpbnB1dE1vZGU6IG51bGwsXG4gICAgaW5wdXRSZWY6IG51bGwsXG4gICAgaW5wdXRTdHlsZTogbnVsbCxcbiAgICBsb2NhbGU6IHVuZGVmaW5lZCxcbiAgICBsb2NhbGVNYXRjaGVyOiB1bmRlZmluZWQsXG4gICAgbWF4OiBudWxsLFxuICAgIG1heEZyYWN0aW9uRGlnaXRzOiB1bmRlZmluZWQsXG4gICAgbWF4TGVuZ3RoOiBudWxsLFxuICAgIG1pbjogbnVsbCxcbiAgICBtaW5GcmFjdGlvbkRpZ2l0czogdW5kZWZpbmVkLFxuICAgIG1vZGU6ICdkZWNpbWFsJyxcbiAgICBuYW1lOiBudWxsLFxuICAgIG9uQmx1cjogbnVsbCxcbiAgICBvbkNoYW5nZTogbnVsbCxcbiAgICBvbkZvY3VzOiBudWxsLFxuICAgIG9uS2V5RG93bjogbnVsbCxcbiAgICBvblZhbHVlQ2hhbmdlOiBudWxsLFxuICAgIHBhdHRlcm46IG51bGwsXG4gICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgcHJlZml4OiBudWxsLFxuICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgc2hvd0J1dHRvbnM6IGZhbHNlLFxuICAgIHNpemU6IG51bGwsXG4gICAgc3RlcDogMSxcbiAgICBzdHlsZTogbnVsbCxcbiAgICBzdWZmaXg6IG51bGwsXG4gICAgdGFiSW5kZXg6IG51bGwsXG4gICAgdG9vbHRpcDogbnVsbCxcbiAgICB0b29sdGlwT3B0aW9uczogbnVsbCxcbiAgICB0eXBlOiAndGV4dCcsXG4gICAgdXNlR3JvdXBpbmc6IHRydWUsXG4gICAgdmFsdWU6IG51bGwsXG4gICAgY2hpbGRyZW46IHVuZGVmaW5lZFxuICB9LFxuICBnZXRQcm9wczogZnVuY3Rpb24gZ2V0UHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0TWVyZ2VkUHJvcHMocHJvcHMsIElucHV0TnVtYmVyQmFzZS5kZWZhdWx0UHJvcHMpO1xuICB9LFxuICBnZXRPdGhlclByb3BzOiBmdW5jdGlvbiBnZXRPdGhlclByb3BzKHByb3BzKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldERpZmZQcm9wcyhwcm9wcywgSW5wdXROdW1iZXJCYXNlLmRlZmF1bHRQcm9wcyk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIElucHV0TnVtYmVyID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oIC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChpblByb3BzLCByZWYpIHtcbiAgdmFyIHByb3BzID0gSW5wdXROdW1iZXJCYXNlLmdldFByb3BzKGluUHJvcHMpO1xuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLFxuICAgIGZvY3VzZWRTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgc2V0Rm9jdXNlZFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcbiAgdmFyIGVsZW1lbnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBpbnB1dFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHRpbWVyID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgbGFzdFZhbHVlID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgbnVtYmVyRm9ybWF0ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgZ3JvdXBDaGFyID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgcHJlZml4Q2hhciA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHN1ZmZpeENoYXIgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBpc1NwZWNpYWxDaGFyID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgX251bWVyYWwgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBfZ3JvdXAgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBfbWludXNTaWduID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgX2N1cnJlbmN5ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgX2RlY2ltYWwgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBfc3VmZml4ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgX3ByZWZpeCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIF9pbmRleCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHN0YWNrZWQgPSBwcm9wcy5zaG93QnV0dG9ucyAmJiBwcm9wcy5idXR0b25MYXlvdXQgPT09ICdzdGFja2VkJztcbiAgdmFyIGhvcml6b250YWwgPSBwcm9wcy5zaG93QnV0dG9ucyAmJiBwcm9wcy5idXR0b25MYXlvdXQgPT09ICdob3Jpem9udGFsJztcbiAgdmFyIHZlcnRpY2FsID0gcHJvcHMuc2hvd0J1dHRvbnMgJiYgcHJvcHMuYnV0dG9uTGF5b3V0ID09PSAndmVydGljYWwnO1xuICB2YXIgaW5wdXRNb2RlID0gcHJvcHMuaW5wdXRNb2RlIHx8IChwcm9wcy5tb2RlID09PSAnZGVjaW1hbCcgJiYgIXByb3BzLm1pbkZyYWN0aW9uRGlnaXRzID8gJ251bWVyaWMnIDogJ2RlY2ltYWwnKTtcbiAgdmFyIGdldE9wdGlvbnMgPSBmdW5jdGlvbiBnZXRPcHRpb25zKCkge1xuICAgIHJldHVybiB7XG4gICAgICBsb2NhbGVNYXRjaGVyOiBwcm9wcy5sb2NhbGVNYXRjaGVyLFxuICAgICAgc3R5bGU6IHByb3BzLm1vZGUsXG4gICAgICBjdXJyZW5jeTogcHJvcHMuY3VycmVuY3ksXG4gICAgICBjdXJyZW5jeURpc3BsYXk6IHByb3BzLmN1cnJlbmN5RGlzcGxheSxcbiAgICAgIHVzZUdyb3VwaW5nOiBwcm9wcy51c2VHcm91cGluZyxcbiAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogcHJvcHMubWluRnJhY3Rpb25EaWdpdHMsXG4gICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IHByb3BzLm1heEZyYWN0aW9uRGlnaXRzXG4gICAgfTtcbiAgfTtcbiAgdmFyIGNvbnN0cnVjdFBhcnNlciA9IGZ1bmN0aW9uIGNvbnN0cnVjdFBhcnNlcigpIHtcbiAgICBudW1iZXJGb3JtYXQuY3VycmVudCA9IG5ldyBJbnRsLk51bWJlckZvcm1hdChwcm9wcy5sb2NhbGUsIGdldE9wdGlvbnMoKSk7XG4gICAgdmFyIG51bWVyYWxzID0gX3RvQ29uc3VtYWJsZUFycmF5KG5ldyBJbnRsLk51bWJlckZvcm1hdChwcm9wcy5sb2NhbGUsIHtcbiAgICAgIHVzZUdyb3VwaW5nOiBmYWxzZVxuICAgIH0pLmZvcm1hdCg5ODc2NTQzMjEwKSkucmV2ZXJzZSgpO1xuICAgIHZhciBpbmRleCA9IG5ldyBNYXAobnVtZXJhbHMubWFwKGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICByZXR1cm4gW2QsIGldO1xuICAgIH0pKTtcbiAgICBfbnVtZXJhbC5jdXJyZW50ID0gbmV3IFJlZ0V4cChcIltcIi5jb25jYXQobnVtZXJhbHMuam9pbignJyksIFwiXVwiKSwgJ2cnKTtcbiAgICBfZ3JvdXAuY3VycmVudCA9IGdldEdyb3VwaW5nRXhwcmVzc2lvbigpO1xuICAgIF9taW51c1NpZ24uY3VycmVudCA9IGdldE1pbnVzU2lnbkV4cHJlc3Npb24oKTtcbiAgICBfY3VycmVuY3kuY3VycmVudCA9IGdldEN1cnJlbmN5RXhwcmVzc2lvbigpO1xuICAgIF9kZWNpbWFsLmN1cnJlbnQgPSBnZXREZWNpbWFsRXhwcmVzc2lvbigpO1xuICAgIF9zdWZmaXguY3VycmVudCA9IGdldFN1ZmZpeEV4cHJlc3Npb24oKTtcbiAgICBfcHJlZml4LmN1cnJlbnQgPSBnZXRQcmVmaXhFeHByZXNzaW9uKCk7XG4gICAgX2luZGV4LmN1cnJlbnQgPSBmdW5jdGlvbiAoZCkge1xuICAgICAgcmV0dXJuIGluZGV4LmdldChkKTtcbiAgICB9O1xuICB9O1xuICB2YXIgZXNjYXBlUmVnRXhwID0gZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHRleHQpIHtcbiAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9bLVtcXF17fSgpKis/LixcXFxcXiR8I1xcc10vZywgJ1xcXFwkJicpO1xuICB9O1xuICB2YXIgZ2V0RGVjaW1hbEV4cHJlc3Npb24gPSBmdW5jdGlvbiBnZXREZWNpbWFsRXhwcmVzc2lvbigpIHtcbiAgICB2YXIgZm9ybWF0dGVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KHByb3BzLmxvY2FsZSwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBnZXRPcHRpb25zKCkpLCB7fSwge1xuICAgICAgdXNlR3JvdXBpbmc6IGZhbHNlXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKFwiW1wiLmNvbmNhdChmb3JtYXR0ZXIuZm9ybWF0KDEuMSkucmVwbGFjZShfY3VycmVuY3kuY3VycmVudCwgJycpLnRyaW0oKS5yZXBsYWNlKF9udW1lcmFsLmN1cnJlbnQsICcnKSwgXCJdXCIpLCAnZycpO1xuICB9O1xuICB2YXIgZ2V0R3JvdXBpbmdFeHByZXNzaW9uID0gZnVuY3Rpb24gZ2V0R3JvdXBpbmdFeHByZXNzaW9uKCkge1xuICAgIHZhciBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQocHJvcHMubG9jYWxlLCB7XG4gICAgICB1c2VHcm91cGluZzogdHJ1ZVxuICAgIH0pO1xuICAgIGdyb3VwQ2hhci5jdXJyZW50ID0gZm9ybWF0dGVyLmZvcm1hdCgxMDAwMDAwKS50cmltKCkucmVwbGFjZShfbnVtZXJhbC5jdXJyZW50LCAnJykuY2hhckF0KDApO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKFwiW1wiLmNvbmNhdChncm91cENoYXIuY3VycmVudCwgXCJdXCIpLCAnZycpO1xuICB9O1xuICB2YXIgZ2V0TWludXNTaWduRXhwcmVzc2lvbiA9IGZ1bmN0aW9uIGdldE1pbnVzU2lnbkV4cHJlc3Npb24oKSB7XG4gICAgdmFyIGZvcm1hdHRlciA9IG5ldyBJbnRsLk51bWJlckZvcm1hdChwcm9wcy5sb2NhbGUsIHtcbiAgICAgIHVzZUdyb3VwaW5nOiBmYWxzZVxuICAgIH0pO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKFwiW1wiLmNvbmNhdChmb3JtYXR0ZXIuZm9ybWF0KC0xKS50cmltKCkucmVwbGFjZShfbnVtZXJhbC5jdXJyZW50LCAnJyksIFwiXVwiKSwgJ2cnKTtcbiAgfTtcbiAgdmFyIGdldEN1cnJlbmN5RXhwcmVzc2lvbiA9IGZ1bmN0aW9uIGdldEN1cnJlbmN5RXhwcmVzc2lvbigpIHtcbiAgICBpZiAocHJvcHMuY3VycmVuY3kpIHtcbiAgICAgIHZhciBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQocHJvcHMubG9jYWxlLCB7XG4gICAgICAgIHN0eWxlOiAnY3VycmVuY3knLFxuICAgICAgICBjdXJyZW5jeTogcHJvcHMuY3VycmVuY3ksXG4gICAgICAgIGN1cnJlbmN5RGlzcGxheTogcHJvcHMuY3VycmVuY3lEaXNwbGF5LFxuICAgICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDAsXG4gICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cChcIltcIi5jb25jYXQoZm9ybWF0dGVyLmZvcm1hdCgxKS5yZXBsYWNlKC9cXHMvZywgJycpLnJlcGxhY2UoX251bWVyYWwuY3VycmVudCwgJycpLnJlcGxhY2UoX2dyb3VwLmN1cnJlbnQsICcnKSwgXCJdXCIpLCAnZycpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFJlZ0V4cChcIltdXCIsICdnJyk7XG4gIH07XG4gIHZhciBnZXRQcmVmaXhFeHByZXNzaW9uID0gZnVuY3Rpb24gZ2V0UHJlZml4RXhwcmVzc2lvbigpIHtcbiAgICBpZiAocHJvcHMucHJlZml4KSB7XG4gICAgICBwcmVmaXhDaGFyLmN1cnJlbnQgPSBwcm9wcy5wcmVmaXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQocHJvcHMubG9jYWxlLCB7XG4gICAgICAgIHN0eWxlOiBwcm9wcy5tb2RlLFxuICAgICAgICBjdXJyZW5jeTogcHJvcHMuY3VycmVuY3ksXG4gICAgICAgIGN1cnJlbmN5RGlzcGxheTogcHJvcHMuY3VycmVuY3lEaXNwbGF5XG4gICAgICB9KTtcbiAgICAgIHByZWZpeENoYXIuY3VycmVudCA9IGZvcm1hdHRlci5mb3JtYXQoMSkuc3BsaXQoJzEnKVswXTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoXCJcIi5jb25jYXQoZXNjYXBlUmVnRXhwKHByZWZpeENoYXIuY3VycmVudCB8fCAnJykpLCAnZycpO1xuICB9O1xuICB2YXIgZ2V0U3VmZml4RXhwcmVzc2lvbiA9IGZ1bmN0aW9uIGdldFN1ZmZpeEV4cHJlc3Npb24oKSB7XG4gICAgaWYgKHByb3BzLnN1ZmZpeCkge1xuICAgICAgc3VmZml4Q2hhci5jdXJyZW50ID0gcHJvcHMuc3VmZml4O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZm9ybWF0dGVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KHByb3BzLmxvY2FsZSwge1xuICAgICAgICBzdHlsZTogcHJvcHMubW9kZSxcbiAgICAgICAgY3VycmVuY3k6IHByb3BzLmN1cnJlbmN5LFxuICAgICAgICBjdXJyZW5jeURpc3BsYXk6IHByb3BzLmN1cnJlbmN5RGlzcGxheSxcbiAgICAgICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAwLFxuICAgICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDBcbiAgICAgIH0pO1xuICAgICAgc3VmZml4Q2hhci5jdXJyZW50ID0gZm9ybWF0dGVyLmZvcm1hdCgxKS5zcGxpdCgnMScpWzFdO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFJlZ0V4cChcIlwiLmNvbmNhdChlc2NhcGVSZWdFeHAoc3VmZml4Q2hhci5jdXJyZW50IHx8ICcnKSksICdnJyk7XG4gIH07XG4gIHZhciBmb3JtYXRWYWx1ZSA9IGZ1bmN0aW9uIGZvcm1hdFZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gJy0nKSB7XG4gICAgICAgIC8vIE1pbnVzIHNpZ25cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHByb3BzLmZvcm1hdCkge1xuICAgICAgICB2YXIgZm9ybWF0dGVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KHByb3BzLmxvY2FsZSwgZ2V0T3B0aW9ucygpKTtcbiAgICAgICAgdmFyIF9mb3JtYXR0ZWRWYWx1ZSA9IGZvcm1hdHRlci5mb3JtYXQodmFsdWUpO1xuICAgICAgICBpZiAocHJvcHMucHJlZml4KSB7XG4gICAgICAgICAgX2Zvcm1hdHRlZFZhbHVlID0gcHJvcHMucHJlZml4ICsgX2Zvcm1hdHRlZFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wcy5zdWZmaXgpIHtcbiAgICAgICAgICBfZm9ybWF0dGVkVmFsdWUgPSBfZm9ybWF0dGVkVmFsdWUgKyBwcm9wcy5zdWZmaXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9mb3JtYXR0ZWRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH07XG4gIHZhciBwYXJzZVZhbHVlID0gZnVuY3Rpb24gcGFyc2VWYWx1ZSh0ZXh0KSB7XG4gICAgdmFyIGZpbHRlcmVkVGV4dCA9IHRleHQucmVwbGFjZShfc3VmZml4LmN1cnJlbnQsICcnKS5yZXBsYWNlKF9wcmVmaXguY3VycmVudCwgJycpLnRyaW0oKS5yZXBsYWNlKC9cXHMvZywgJycpLnJlcGxhY2UoX2N1cnJlbmN5LmN1cnJlbnQsICcnKS5yZXBsYWNlKF9ncm91cC5jdXJyZW50LCAnJykucmVwbGFjZShfbWludXNTaWduLmN1cnJlbnQsICctJykucmVwbGFjZShfZGVjaW1hbC5jdXJyZW50LCAnLicpLnJlcGxhY2UoX251bWVyYWwuY3VycmVudCwgX2luZGV4LmN1cnJlbnQpO1xuICAgIGlmIChmaWx0ZXJlZFRleHQpIHtcbiAgICAgIGlmIChmaWx0ZXJlZFRleHQgPT09ICctJylcbiAgICAgICAgLy8gTWludXMgc2lnblxuICAgICAgICByZXR1cm4gZmlsdGVyZWRUZXh0O1xuICAgICAgdmFyIHBhcnNlZFZhbHVlID0gK2ZpbHRlcmVkVGV4dDtcbiAgICAgIHJldHVybiBpc05hTihwYXJzZWRWYWx1ZSkgPyBudWxsIDogcGFyc2VkVmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICB2YXIgcmVwZWF0ID0gZnVuY3Rpb24gcmVwZWF0KGV2ZW50LCBpbnRlcnZhbCwgZGlyKSB7XG4gICAgdmFyIGkgPSBpbnRlcnZhbCB8fCA1MDA7XG4gICAgY2xlYXJUaW1lcigpO1xuICAgIHRpbWVyLmN1cnJlbnQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlcGVhdChldmVudCwgNDAsIGRpcik7XG4gICAgfSwgaSk7XG4gICAgc3BpbihldmVudCwgZGlyKTtcbiAgfTtcbiAgdmFyIHNwaW4gPSBmdW5jdGlvbiBzcGluKGV2ZW50LCBkaXIpIHtcbiAgICBpZiAoaW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgdmFyIHN0ZXAgPSBwcm9wcy5zdGVwICogZGlyO1xuICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHBhcnNlVmFsdWUoaW5wdXRSZWYuY3VycmVudC52YWx1ZSkgfHwgMDtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IHZhbGlkYXRlVmFsdWUoY3VycmVudFZhbHVlICsgc3RlcCk7XG4gICAgICBpZiAocHJvcHMubWF4TGVuZ3RoICYmIHByb3BzLm1heExlbmd0aCA8IGZvcm1hdFZhbHVlKG5ld1ZhbHVlKS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyAjMzkxMyBvbkNoYW5nZSBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSBvblZhbHVlQ2hhbmdlXG4gICAgICBoYW5kbGVPbkNoYW5nZShldmVudCwgY3VycmVudFZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICAvLyB0b3VjaCBkZXZpY2VzIHRyaWdnZXIgdGhlIGtleWJvYXJkIHRvIGRpc3BsYXkgYmVjYXVzZSBvZiBzZXRTZWxlY3Rpb25SYW5nZVxuICAgICAgIURvbUhhbmRsZXIuaXNUb3VjaERldmljZSgpICYmIHVwZGF0ZUlucHV0KG5ld1ZhbHVlLCBudWxsLCAnc3BpbicpO1xuICAgICAgdXBkYXRlTW9kZWwoZXZlbnQsIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH07XG4gIHZhciBvblVwQnV0dG9uTW91c2VEb3duID0gZnVuY3Rpb24gb25VcEJ1dHRvbk1vdXNlRG93bihldmVudCkge1xuICAgIGlmICghcHJvcHMuZGlzYWJsZWQgJiYgIXByb3BzLnJlYWRPbmx5KSB7XG4gICAgICBwcm9wcy5hdXRvRm9jdXMgJiYgRG9tSGFuZGxlci5mb2N1cyhpbnB1dFJlZi5jdXJyZW50LCBwcm9wcy5hdXRvRm9jdXMpO1xuICAgICAgcmVwZWF0KGV2ZW50LCBudWxsLCAxKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9O1xuICB2YXIgb25VcEJ1dHRvbk1vdXNlVXAgPSBmdW5jdGlvbiBvblVwQnV0dG9uTW91c2VVcCgpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFwcm9wcy5yZWFkT25seSkge1xuICAgICAgY2xlYXJUaW1lcigpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uVXBCdXR0b25Nb3VzZUxlYXZlID0gZnVuY3Rpb24gb25VcEJ1dHRvbk1vdXNlTGVhdmUoKSB7XG4gICAgaWYgKCFwcm9wcy5kaXNhYmxlZCAmJiAhcHJvcHMucmVhZE9ubHkpIHtcbiAgICAgIGNsZWFyVGltZXIoKTtcbiAgICB9XG4gIH07XG4gIHZhciBvblVwQnV0dG9uS2V5VXAgPSBmdW5jdGlvbiBvblVwQnV0dG9uS2V5VXAoKSB7XG4gICAgaWYgKCFwcm9wcy5kaXNhYmxlZCAmJiAhcHJvcHMucmVhZE9ubHkpIHtcbiAgICAgIGNsZWFyVGltZXIoKTtcbiAgICB9XG4gIH07XG4gIHZhciBvblVwQnV0dG9uS2V5RG93biA9IGZ1bmN0aW9uIG9uVXBCdXR0b25LZXlEb3duKGV2ZW50KSB7XG4gICAgaWYgKCFwcm9wcy5kaXNhYmxlZCAmJiAhcHJvcHMucmVhZE9ubHkgJiYgKGV2ZW50LmtleUNvZGUgPT09IDMyIHx8IGV2ZW50LmtleUNvZGUgPT09IDEzKSkge1xuICAgICAgcmVwZWF0KGV2ZW50LCBudWxsLCAxKTtcbiAgICB9XG4gIH07XG4gIHZhciBvbkRvd25CdXR0b25Nb3VzZURvd24gPSBmdW5jdGlvbiBvbkRvd25CdXR0b25Nb3VzZURvd24oZXZlbnQpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFwcm9wcy5yZWFkT25seSkge1xuICAgICAgcHJvcHMuYXV0b0ZvY3VzICYmIERvbUhhbmRsZXIuZm9jdXMoaW5wdXRSZWYuY3VycmVudCwgcHJvcHMuYXV0b0ZvY3VzKTtcbiAgICAgIHJlcGVhdChldmVudCwgbnVsbCwgLTEpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG4gIHZhciBvbkRvd25CdXR0b25Nb3VzZVVwID0gZnVuY3Rpb24gb25Eb3duQnV0dG9uTW91c2VVcCgpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFwcm9wcy5yZWFkT25seSkge1xuICAgICAgY2xlYXJUaW1lcigpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uRG93bkJ1dHRvbk1vdXNlTGVhdmUgPSBmdW5jdGlvbiBvbkRvd25CdXR0b25Nb3VzZUxlYXZlKCkge1xuICAgIGlmICghcHJvcHMuZGlzYWJsZWQgJiYgIXByb3BzLnJlYWRPbmx5KSB7XG4gICAgICBjbGVhclRpbWVyKCk7XG4gICAgfVxuICB9O1xuICB2YXIgb25Eb3duQnV0dG9uS2V5VXAgPSBmdW5jdGlvbiBvbkRvd25CdXR0b25LZXlVcCgpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFwcm9wcy5yZWFkT25seSkge1xuICAgICAgY2xlYXJUaW1lcigpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uRG93bkJ1dHRvbktleURvd24gPSBmdW5jdGlvbiBvbkRvd25CdXR0b25LZXlEb3duKGV2ZW50KSB7XG4gICAgaWYgKCFwcm9wcy5kaXNhYmxlZCAmJiAhcHJvcHMucmVhZE9ubHkgJiYgKGV2ZW50LmtleUNvZGUgPT09IDMyIHx8IGV2ZW50LmtleUNvZGUgPT09IDEzKSkge1xuICAgICAgcmVwZWF0KGV2ZW50LCBudWxsLCAtMSk7XG4gICAgfVxuICB9O1xuICB2YXIgb25JbnB1dCA9IGZ1bmN0aW9uIG9uSW5wdXQoZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQgfHwgcHJvcHMucmVhZE9ubHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzU3BlY2lhbENoYXIuY3VycmVudCkge1xuICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gbGFzdFZhbHVlLmN1cnJlbnQ7XG4gICAgfVxuICAgIGlzU3BlY2lhbENoYXIuY3VycmVudCA9IGZhbHNlO1xuICB9O1xuICB2YXIgb25JbnB1dEtleURvd24gPSBmdW5jdGlvbiBvbklucHV0S2V5RG93bihldmVudCkge1xuICAgIGlmIChwcm9wcy5kaXNhYmxlZCB8fCBwcm9wcy5yZWFkT25seSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsYXN0VmFsdWUuY3VycmVudCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICBpZiAoZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQuYWx0S2V5KSB7XG4gICAgICBpc1NwZWNpYWxDaGFyLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgc2VsZWN0aW9uU3RhcnQgPSBldmVudC50YXJnZXQuc2VsZWN0aW9uU3RhcnQ7XG4gICAgdmFyIHNlbGVjdGlvbkVuZCA9IGV2ZW50LnRhcmdldC5zZWxlY3Rpb25FbmQ7XG4gICAgdmFyIGlucHV0VmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgdmFyIG5ld1ZhbHVlU3RyID0gbnVsbDtcbiAgICBpZiAoZXZlbnQuYWx0S2V5KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBzd2l0Y2ggKGV2ZW50LndoaWNoKSB7XG4gICAgICAvL3VwXG4gICAgICBjYXNlIDM4OlxuICAgICAgICBzcGluKGV2ZW50LCAxKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIC8vZG93blxuICAgICAgY2FzZSA0MDpcbiAgICAgICAgc3BpbihldmVudCwgLTEpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgLy9sZWZ0XG4gICAgICBjYXNlIDM3OlxuICAgICAgICBpZiAoIWlzTnVtZXJhbENoYXIoaW5wdXRWYWx1ZS5jaGFyQXQoc2VsZWN0aW9uU3RhcnQgLSAxKSkpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvL3JpZ2h0XG4gICAgICBjYXNlIDM5OlxuICAgICAgICBpZiAoIWlzTnVtZXJhbENoYXIoaW5wdXRWYWx1ZS5jaGFyQXQoc2VsZWN0aW9uU3RhcnQpKSkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIC8vZW50ZXIgYW5kIHRhYlxuICAgICAgY2FzZSAxMzpcbiAgICAgIGNhc2UgOTpcbiAgICAgICAgbmV3VmFsdWVTdHIgPSB2YWxpZGF0ZVZhbHVlKHBhcnNlVmFsdWUoaW5wdXRWYWx1ZSkpO1xuICAgICAgICBpbnB1dFJlZi5jdXJyZW50LnZhbHVlID0gZm9ybWF0VmFsdWUobmV3VmFsdWVTdHIpO1xuICAgICAgICBpbnB1dFJlZi5jdXJyZW50LnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIG5ld1ZhbHVlU3RyKTtcbiAgICAgICAgdXBkYXRlTW9kZWwoZXZlbnQsIG5ld1ZhbHVlU3RyKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIC8vYmFja3NwYWNlXG4gICAgICBjYXNlIDg6XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmIChzZWxlY3Rpb25TdGFydCA9PT0gc2VsZWN0aW9uRW5kKSB7XG4gICAgICAgICAgdmFyIGRlbGV0ZUNoYXIgPSBpbnB1dFZhbHVlLmNoYXJBdChzZWxlY3Rpb25TdGFydCAtIDEpO1xuICAgICAgICAgIHZhciBfZ2V0RGVjaW1hbENoYXJJbmRleGUgPSBnZXREZWNpbWFsQ2hhckluZGV4ZXMoaW5wdXRWYWx1ZSksXG4gICAgICAgICAgICBkZWNpbWFsQ2hhckluZGV4ID0gX2dldERlY2ltYWxDaGFySW5kZXhlLmRlY2ltYWxDaGFySW5kZXgsXG4gICAgICAgICAgICBkZWNpbWFsQ2hhckluZGV4V2l0aG91dFByZWZpeCA9IF9nZXREZWNpbWFsQ2hhckluZGV4ZS5kZWNpbWFsQ2hhckluZGV4V2l0aG91dFByZWZpeDtcbiAgICAgICAgICBpZiAoaXNOdW1lcmFsQ2hhcihkZWxldGVDaGFyKSkge1xuICAgICAgICAgICAgdmFyIGRlY2ltYWxMZW5ndGggPSBnZXREZWNpbWFsTGVuZ3RoKGlucHV0VmFsdWUpO1xuICAgICAgICAgICAgaWYgKF9ncm91cC5jdXJyZW50LnRlc3QoZGVsZXRlQ2hhcikpIHtcbiAgICAgICAgICAgICAgX2dyb3VwLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnB1dFZhbHVlLnNsaWNlKDAsIHNlbGVjdGlvblN0YXJ0IC0gMikgKyBpbnB1dFZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0IC0gMSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF9kZWNpbWFsLmN1cnJlbnQudGVzdChkZWxldGVDaGFyKSkge1xuICAgICAgICAgICAgICBfZGVjaW1hbC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgIGlmIChkZWNpbWFsTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRSZWYuY3VycmVudC5zZXRTZWxlY3Rpb25SYW5nZShzZWxlY3Rpb25TdGFydCAtIDEsIHNlbGVjdGlvblN0YXJ0IC0gMSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnB1dFZhbHVlLnNsaWNlKDAsIHNlbGVjdGlvblN0YXJ0IC0gMSkgKyBpbnB1dFZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkZWNpbWFsQ2hhckluZGV4ID4gMCAmJiBzZWxlY3Rpb25TdGFydCA+IGRlY2ltYWxDaGFySW5kZXgpIHtcbiAgICAgICAgICAgICAgdmFyIGluc2VydGVkVGV4dCA9IGlzRGVjaW1hbE1vZGUoKSAmJiAocHJvcHMubWluRnJhY3Rpb25EaWdpdHMgfHwgMCkgPCBkZWNpbWFsTGVuZ3RoID8gJycgOiAnMCc7XG4gICAgICAgICAgICAgIG5ld1ZhbHVlU3RyID0gaW5wdXRWYWx1ZS5zbGljZSgwLCBzZWxlY3Rpb25TdGFydCAtIDEpICsgaW5zZXJ0ZWRUZXh0ICsgaW5wdXRWYWx1ZS5zbGljZShzZWxlY3Rpb25TdGFydCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRlY2ltYWxDaGFySW5kZXhXaXRob3V0UHJlZml4ID09PSAxKSB7XG4gICAgICAgICAgICAgIG5ld1ZhbHVlU3RyID0gaW5wdXRWYWx1ZS5zbGljZSgwLCBzZWxlY3Rpb25TdGFydCAtIDEpICsgJzAnICsgaW5wdXRWYWx1ZS5zbGljZShzZWxlY3Rpb25TdGFydCk7XG4gICAgICAgICAgICAgIG5ld1ZhbHVlU3RyID0gcGFyc2VWYWx1ZShuZXdWYWx1ZVN0cikgPiAwID8gbmV3VmFsdWVTdHIgOiAnJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld1ZhbHVlU3RyID0gaW5wdXRWYWx1ZS5zbGljZSgwLCBzZWxlY3Rpb25TdGFydCAtIDEpICsgaW5wdXRWYWx1ZS5zbGljZShzZWxlY3Rpb25TdGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZVZhbHVlKGV2ZW50LCBuZXdWYWx1ZVN0ciwgbnVsbCwgJ2RlbGV0ZS1zaW5nbGUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdWYWx1ZVN0ciA9IGRlbGV0ZVJhbmdlKGlucHV0VmFsdWUsIHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpO1xuICAgICAgICAgIHVwZGF0ZVZhbHVlKGV2ZW50LCBuZXdWYWx1ZVN0ciwgbnVsbCwgJ2RlbGV0ZS1yYW5nZScpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvLyBkZWxcbiAgICAgIGNhc2UgNDY6XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmIChzZWxlY3Rpb25TdGFydCA9PT0gc2VsZWN0aW9uRW5kKSB7XG4gICAgICAgICAgdmFyIF9kZWxldGVDaGFyID0gaW5wdXRWYWx1ZS5jaGFyQXQoc2VsZWN0aW9uU3RhcnQpO1xuICAgICAgICAgIHZhciBfZ2V0RGVjaW1hbENoYXJJbmRleGUyID0gZ2V0RGVjaW1hbENoYXJJbmRleGVzKGlucHV0VmFsdWUpLFxuICAgICAgICAgICAgX2RlY2ltYWxDaGFySW5kZXggPSBfZ2V0RGVjaW1hbENoYXJJbmRleGUyLmRlY2ltYWxDaGFySW5kZXgsXG4gICAgICAgICAgICBfZGVjaW1hbENoYXJJbmRleFdpdGhvdXRQcmVmaXggPSBfZ2V0RGVjaW1hbENoYXJJbmRleGUyLmRlY2ltYWxDaGFySW5kZXhXaXRob3V0UHJlZml4O1xuICAgICAgICAgIGlmIChpc051bWVyYWxDaGFyKF9kZWxldGVDaGFyKSkge1xuICAgICAgICAgICAgdmFyIF9kZWNpbWFsTGVuZ3RoID0gZ2V0RGVjaW1hbExlbmd0aChpbnB1dFZhbHVlKTtcbiAgICAgICAgICAgIGlmIChfZ3JvdXAuY3VycmVudC50ZXN0KF9kZWxldGVDaGFyKSkge1xuICAgICAgICAgICAgICBfZ3JvdXAuY3VycmVudC5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICBuZXdWYWx1ZVN0ciA9IGlucHV0VmFsdWUuc2xpY2UoMCwgc2VsZWN0aW9uU3RhcnQpICsgaW5wdXRWYWx1ZS5zbGljZShzZWxlY3Rpb25TdGFydCArIDIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChfZGVjaW1hbC5jdXJyZW50LnRlc3QoX2RlbGV0ZUNoYXIpKSB7XG4gICAgICAgICAgICAgIF9kZWNpbWFsLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgaWYgKF9kZWNpbWFsTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRSZWYuY3VycmVudC5zZXRTZWxlY3Rpb25SYW5nZShzZWxlY3Rpb25TdGFydCArIDEsIHNlbGVjdGlvblN0YXJ0ICsgMSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnB1dFZhbHVlLnNsaWNlKDAsIHNlbGVjdGlvblN0YXJ0KSArIGlucHV0VmFsdWUuc2xpY2Uoc2VsZWN0aW9uU3RhcnQgKyAxKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChfZGVjaW1hbENoYXJJbmRleCA+IDAgJiYgc2VsZWN0aW9uU3RhcnQgPiBfZGVjaW1hbENoYXJJbmRleCkge1xuICAgICAgICAgICAgICB2YXIgX2luc2VydGVkVGV4dCA9IGlzRGVjaW1hbE1vZGUoKSAmJiAocHJvcHMubWluRnJhY3Rpb25EaWdpdHMgfHwgMCkgPCBfZGVjaW1hbExlbmd0aCA/ICcnIDogJzAnO1xuICAgICAgICAgICAgICBuZXdWYWx1ZVN0ciA9IGlucHV0VmFsdWUuc2xpY2UoMCwgc2VsZWN0aW9uU3RhcnQpICsgX2luc2VydGVkVGV4dCArIGlucHV0VmFsdWUuc2xpY2Uoc2VsZWN0aW9uU3RhcnQgKyAxKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoX2RlY2ltYWxDaGFySW5kZXhXaXRob3V0UHJlZml4ID09PSAxKSB7XG4gICAgICAgICAgICAgIG5ld1ZhbHVlU3RyID0gaW5wdXRWYWx1ZS5zbGljZSgwLCBzZWxlY3Rpb25TdGFydCkgKyAnMCcgKyBpbnB1dFZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0ICsgMSk7XG4gICAgICAgICAgICAgIG5ld1ZhbHVlU3RyID0gcGFyc2VWYWx1ZShuZXdWYWx1ZVN0cikgPiAwID8gbmV3VmFsdWVTdHIgOiAnJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld1ZhbHVlU3RyID0gaW5wdXRWYWx1ZS5zbGljZSgwLCBzZWxlY3Rpb25TdGFydCkgKyBpbnB1dFZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0ICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZVZhbHVlKGV2ZW50LCBuZXdWYWx1ZVN0ciwgbnVsbCwgJ2RlbGV0ZS1iYWNrLXNpbmdsZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld1ZhbHVlU3RyID0gZGVsZXRlUmFuZ2UoaW5wdXRWYWx1ZSwgc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCk7XG4gICAgICAgICAgdXBkYXRlVmFsdWUoZXZlbnQsIG5ld1ZhbHVlU3RyLCBudWxsLCAnZGVsZXRlLXJhbmdlJyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmIChwcm9wcy5vbktleURvd24pIHtcbiAgICAgIHByb3BzLm9uS2V5RG93bihldmVudCk7XG4gICAgfVxuICB9O1xuICB2YXIgb25JbnB1dEtleVByZXNzID0gZnVuY3Rpb24gb25JbnB1dEtleVByZXNzKGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLmRpc2FibGVkIHx8IHByb3BzLnJlYWRPbmx5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjb2RlID0gZXZlbnQud2hpY2ggfHwgZXZlbnQua2V5Q29kZTtcbiAgICBpZiAoY29kZSAhPT0gMTMpIHtcbiAgICAgIC8vIHRvIHN1Ym1pdCBhIGZvcm1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIHZhciBfY2hhciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gICAgdmFyIF9pc0RlY2ltYWxTaWduID0gaXNEZWNpbWFsU2lnbihfY2hhcik7XG4gICAgdmFyIF9pc01pbnVzU2lnbiA9IGlzTWludXNTaWduKF9jaGFyKTtcbiAgICBpZiAoNDggPD0gY29kZSAmJiBjb2RlIDw9IDU3IHx8IF9pc01pbnVzU2lnbiB8fCBfaXNEZWNpbWFsU2lnbikge1xuICAgICAgaW5zZXJ0KGV2ZW50LCBfY2hhciwge1xuICAgICAgICBpc0RlY2ltYWxTaWduOiBfaXNEZWNpbWFsU2lnbixcbiAgICAgICAgaXNNaW51c1NpZ246IF9pc01pbnVzU2lnblxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICB2YXIgb25QYXN0ZSA9IGZ1bmN0aW9uIG9uUGFzdGUoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChwcm9wcy5kaXNhYmxlZCB8fCBwcm9wcy5yZWFkT25seSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZGF0YSA9IChldmVudC5jbGlwYm9hcmREYXRhIHx8IHdpbmRvd1snY2xpcGJvYXJkRGF0YSddKS5nZXREYXRhKCdUZXh0Jyk7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHZhciBmaWx0ZXJlZERhdGEgPSBwYXJzZVZhbHVlKGRhdGEpO1xuICAgICAgaWYgKGZpbHRlcmVkRGF0YSAhPSBudWxsKSB7XG4gICAgICAgIGluc2VydChldmVudCwgZmlsdGVyZWREYXRhLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIGFsbG93TWludXNTaWduID0gZnVuY3Rpb24gYWxsb3dNaW51c1NpZ24oKSB7XG4gICAgcmV0dXJuIHByb3BzLm1pbiA9PT0gbnVsbCB8fCBwcm9wcy5taW4gPCAwO1xuICB9O1xuICB2YXIgaXNNaW51c1NpZ24gPSBmdW5jdGlvbiBpc01pbnVzU2lnbihfY2hhcjIpIHtcbiAgICBpZiAoX21pbnVzU2lnbi5jdXJyZW50LnRlc3QoX2NoYXIyKSB8fCBfY2hhcjIgPT09ICctJykge1xuICAgICAgX21pbnVzU2lnbi5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICB2YXIgaXNEZWNpbWFsU2lnbiA9IGZ1bmN0aW9uIGlzRGVjaW1hbFNpZ24oX2NoYXIzKSB7XG4gICAgaWYgKF9kZWNpbWFsLmN1cnJlbnQudGVzdChfY2hhcjMpKSB7XG4gICAgICBfZGVjaW1hbC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICB2YXIgaXNEZWNpbWFsTW9kZSA9IGZ1bmN0aW9uIGlzRGVjaW1hbE1vZGUoKSB7XG4gICAgcmV0dXJuIHByb3BzLm1vZGUgPT09ICdkZWNpbWFsJztcbiAgfTtcbiAgdmFyIGdldERlY2ltYWxDaGFySW5kZXhlcyA9IGZ1bmN0aW9uIGdldERlY2ltYWxDaGFySW5kZXhlcyh2YWwpIHtcbiAgICB2YXIgZGVjaW1hbENoYXJJbmRleCA9IHZhbC5zZWFyY2goX2RlY2ltYWwuY3VycmVudCk7XG4gICAgX2RlY2ltYWwuY3VycmVudC5sYXN0SW5kZXggPSAwO1xuICAgIHZhciBmaWx0ZXJlZFZhbCA9IHZhbC5yZXBsYWNlKF9wcmVmaXguY3VycmVudCwgJycpLnRyaW0oKS5yZXBsYWNlKC9cXHMvZywgJycpLnJlcGxhY2UoX2N1cnJlbmN5LmN1cnJlbnQsICcnKTtcbiAgICB2YXIgZGVjaW1hbENoYXJJbmRleFdpdGhvdXRQcmVmaXggPSBmaWx0ZXJlZFZhbC5zZWFyY2goX2RlY2ltYWwuY3VycmVudCk7XG4gICAgX2RlY2ltYWwuY3VycmVudC5sYXN0SW5kZXggPSAwO1xuICAgIHJldHVybiB7XG4gICAgICBkZWNpbWFsQ2hhckluZGV4OiBkZWNpbWFsQ2hhckluZGV4LFxuICAgICAgZGVjaW1hbENoYXJJbmRleFdpdGhvdXRQcmVmaXg6IGRlY2ltYWxDaGFySW5kZXhXaXRob3V0UHJlZml4XG4gICAgfTtcbiAgfTtcbiAgdmFyIGdldENoYXJJbmRleGVzID0gZnVuY3Rpb24gZ2V0Q2hhckluZGV4ZXModmFsKSB7XG4gICAgdmFyIGRlY2ltYWxDaGFySW5kZXggPSB2YWwuc2VhcmNoKF9kZWNpbWFsLmN1cnJlbnQpO1xuICAgIF9kZWNpbWFsLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgICB2YXIgbWludXNDaGFySW5kZXggPSB2YWwuc2VhcmNoKF9taW51c1NpZ24uY3VycmVudCk7XG4gICAgX21pbnVzU2lnbi5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgdmFyIHN1ZmZpeENoYXJJbmRleCA9IHZhbC5zZWFyY2goX3N1ZmZpeC5jdXJyZW50KTtcbiAgICBfc3VmZml4LmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgICB2YXIgY3VycmVuY3lDaGFySW5kZXggPSB2YWwuc2VhcmNoKF9jdXJyZW5jeS5jdXJyZW50KTtcbiAgICBfY3VycmVuY3kuY3VycmVudC5sYXN0SW5kZXggPSAwO1xuICAgIHJldHVybiB7XG4gICAgICBkZWNpbWFsQ2hhckluZGV4OiBkZWNpbWFsQ2hhckluZGV4LFxuICAgICAgbWludXNDaGFySW5kZXg6IG1pbnVzQ2hhckluZGV4LFxuICAgICAgc3VmZml4Q2hhckluZGV4OiBzdWZmaXhDaGFySW5kZXgsXG4gICAgICBjdXJyZW5jeUNoYXJJbmRleDogY3VycmVuY3lDaGFySW5kZXhcbiAgICB9O1xuICB9O1xuICB2YXIgaW5zZXJ0ID0gZnVuY3Rpb24gaW5zZXJ0KGV2ZW50LCB0ZXh0KSB7XG4gICAgdmFyIHNpZ24gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHtcbiAgICAgIGlzRGVjaW1hbFNpZ246IGZhbHNlLFxuICAgICAgaXNNaW51c1NpZ246IGZhbHNlXG4gICAgfTtcbiAgICB2YXIgbWludXNDaGFySW5kZXhPblRleHQgPSB0ZXh0LnNlYXJjaChfbWludXNTaWduLmN1cnJlbnQpO1xuICAgIF9taW51c1NpZ24uY3VycmVudC5sYXN0SW5kZXggPSAwO1xuICAgIGlmICghYWxsb3dNaW51c1NpZ24oKSAmJiBtaW51c0NoYXJJbmRleE9uVGV4dCAhPT0gLTEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gaW5wdXRSZWYuY3VycmVudC5zZWxlY3Rpb25TdGFydDtcbiAgICB2YXIgc2VsZWN0aW9uRW5kID0gaW5wdXRSZWYuY3VycmVudC5zZWxlY3Rpb25FbmQ7XG4gICAgdmFyIGlucHV0VmFsdWUgPSBpbnB1dFJlZi5jdXJyZW50LnZhbHVlLnRyaW0oKTtcbiAgICB2YXIgX2dldENoYXJJbmRleGVzID0gZ2V0Q2hhckluZGV4ZXMoaW5wdXRWYWx1ZSksXG4gICAgICBkZWNpbWFsQ2hhckluZGV4ID0gX2dldENoYXJJbmRleGVzLmRlY2ltYWxDaGFySW5kZXgsXG4gICAgICBtaW51c0NoYXJJbmRleCA9IF9nZXRDaGFySW5kZXhlcy5taW51c0NoYXJJbmRleCxcbiAgICAgIHN1ZmZpeENoYXJJbmRleCA9IF9nZXRDaGFySW5kZXhlcy5zdWZmaXhDaGFySW5kZXgsXG4gICAgICBjdXJyZW5jeUNoYXJJbmRleCA9IF9nZXRDaGFySW5kZXhlcy5jdXJyZW5jeUNoYXJJbmRleDtcbiAgICB2YXIgbmV3VmFsdWVTdHI7XG4gICAgaWYgKHNpZ24uaXNNaW51c1NpZ24pIHtcbiAgICAgIGlmIChzZWxlY3Rpb25TdGFydCA9PT0gMCkge1xuICAgICAgICBuZXdWYWx1ZVN0ciA9IGlucHV0VmFsdWU7XG4gICAgICAgIGlmIChtaW51c0NoYXJJbmRleCA9PT0gLTEgfHwgc2VsZWN0aW9uRW5kICE9PSAwKSB7XG4gICAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnNlcnRUZXh0KGlucHV0VmFsdWUsIHRleHQsIDAsIHNlbGVjdGlvbkVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlVmFsdWUoZXZlbnQsIG5ld1ZhbHVlU3RyLCB0ZXh0LCAnaW5zZXJ0Jyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzaWduLmlzRGVjaW1hbFNpZ24pIHtcbiAgICAgIGlmIChkZWNpbWFsQ2hhckluZGV4ID4gMCAmJiBzZWxlY3Rpb25TdGFydCA9PT0gZGVjaW1hbENoYXJJbmRleCkge1xuICAgICAgICB1cGRhdGVWYWx1ZShldmVudCwgaW5wdXRWYWx1ZSwgdGV4dCwgJ2luc2VydCcpO1xuICAgICAgfSBlbHNlIGlmIChkZWNpbWFsQ2hhckluZGV4ID4gc2VsZWN0aW9uU3RhcnQgJiYgZGVjaW1hbENoYXJJbmRleCA8IHNlbGVjdGlvbkVuZCkge1xuICAgICAgICBuZXdWYWx1ZVN0ciA9IGluc2VydFRleHQoaW5wdXRWYWx1ZSwgdGV4dCwgc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCk7XG4gICAgICAgIHVwZGF0ZVZhbHVlKGV2ZW50LCBuZXdWYWx1ZVN0ciwgdGV4dCwgJ2luc2VydCcpO1xuICAgICAgfSBlbHNlIGlmIChkZWNpbWFsQ2hhckluZGV4ID09PSAtMSAmJiBwcm9wcy5tYXhGcmFjdGlvbkRpZ2l0cykge1xuICAgICAgICBuZXdWYWx1ZVN0ciA9IGluc2VydFRleHQoaW5wdXRWYWx1ZSwgdGV4dCwgc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCk7XG4gICAgICAgIHVwZGF0ZVZhbHVlKGV2ZW50LCBuZXdWYWx1ZVN0ciwgdGV4dCwgJ2luc2VydCcpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbWF4RnJhY3Rpb25EaWdpdHMgPSBudW1iZXJGb3JtYXQuY3VycmVudC5yZXNvbHZlZE9wdGlvbnMoKS5tYXhpbXVtRnJhY3Rpb25EaWdpdHM7XG4gICAgICB2YXIgb3BlcmF0aW9uID0gc2VsZWN0aW9uU3RhcnQgIT09IHNlbGVjdGlvbkVuZCA/ICdyYW5nZS1pbnNlcnQnIDogJ2luc2VydCc7XG4gICAgICBpZiAoZGVjaW1hbENoYXJJbmRleCA+IDAgJiYgc2VsZWN0aW9uU3RhcnQgPiBkZWNpbWFsQ2hhckluZGV4KSB7XG4gICAgICAgIGlmIChzZWxlY3Rpb25TdGFydCArIHRleHQubGVuZ3RoIC0gKGRlY2ltYWxDaGFySW5kZXggKyAxKSA8PSBtYXhGcmFjdGlvbkRpZ2l0cykge1xuICAgICAgICAgIHZhciBjaGFySW5kZXggPSBjdXJyZW5jeUNoYXJJbmRleCA+PSBzZWxlY3Rpb25TdGFydCA/IGN1cnJlbmN5Q2hhckluZGV4IC0gMSA6IHN1ZmZpeENoYXJJbmRleCA+PSBzZWxlY3Rpb25TdGFydCA/IHN1ZmZpeENoYXJJbmRleCA6IGlucHV0VmFsdWUubGVuZ3RoO1xuICAgICAgICAgIG5ld1ZhbHVlU3RyID0gaW5wdXRWYWx1ZS5zbGljZSgwLCBzZWxlY3Rpb25TdGFydCkgKyB0ZXh0ICsgaW5wdXRWYWx1ZS5zbGljZShzZWxlY3Rpb25TdGFydCArIHRleHQubGVuZ3RoLCBjaGFySW5kZXgpICsgaW5wdXRWYWx1ZS5zbGljZShjaGFySW5kZXgpO1xuICAgICAgICAgIHVwZGF0ZVZhbHVlKGV2ZW50LCBuZXdWYWx1ZVN0ciwgdGV4dCwgb3BlcmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnNlcnRUZXh0KGlucHV0VmFsdWUsIHRleHQsIHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpO1xuICAgICAgICB1cGRhdGVWYWx1ZShldmVudCwgbmV3VmFsdWVTdHIsIHRleHQsIG9wZXJhdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICB2YXIgaW5zZXJ0VGV4dCA9IGZ1bmN0aW9uIGluc2VydFRleHQodmFsdWUsIHRleHQsIHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgdGV4dFNwbGl0ID0gdGV4dCA9PT0gJy4nID8gdGV4dCA6IHRleHQuc3BsaXQoJy4nKTtcbiAgICBpZiAodGV4dFNwbGl0Lmxlbmd0aCA9PT0gMikge1xuICAgICAgdmFyIGRlY2ltYWxDaGFySW5kZXggPSB2YWx1ZS5zbGljZShzdGFydCwgZW5kKS5zZWFyY2goX2RlY2ltYWwuY3VycmVudCk7XG4gICAgICBfZGVjaW1hbC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgICByZXR1cm4gZGVjaW1hbENoYXJJbmRleCA+IDAgPyB2YWx1ZS5zbGljZSgwLCBzdGFydCkgKyBmb3JtYXRWYWx1ZSh0ZXh0KSArIHZhbHVlLnNsaWNlKGVuZCkgOiB2YWx1ZSB8fCBmb3JtYXRWYWx1ZSh0ZXh0KTtcbiAgICB9IGVsc2UgaWYgKGVuZCAtIHN0YXJ0ID09PSB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmb3JtYXRWYWx1ZSh0ZXh0KTtcbiAgICB9IGVsc2UgaWYgKHN0YXJ0ID09PSAwKSB7XG4gICAgICB2YXIgc3VmZml4ID0gT2JqZWN0VXRpbHMuaXNMZXR0ZXIodmFsdWVbZW5kXSkgPyBlbmQgLSAxIDogZW5kO1xuICAgICAgcmV0dXJuIHRleHQgKyB2YWx1ZS5zbGljZShzdWZmaXgpO1xuICAgIH0gZWxzZSBpZiAoZW5kID09PSB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB2YWx1ZS5zbGljZSgwLCBzdGFydCkgKyB0ZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsdWUuc2xpY2UoMCwgc3RhcnQpICsgdGV4dCArIHZhbHVlLnNsaWNlKGVuZCk7XG4gICAgfVxuICB9O1xuICB2YXIgZGVsZXRlUmFuZ2UgPSBmdW5jdGlvbiBkZWxldGVSYW5nZSh2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgIHZhciBuZXdWYWx1ZVN0cjtcbiAgICBpZiAoZW5kIC0gc3RhcnQgPT09IHZhbHVlLmxlbmd0aCkgbmV3VmFsdWVTdHIgPSAnJztlbHNlIGlmIChzdGFydCA9PT0gMCkgbmV3VmFsdWVTdHIgPSB2YWx1ZS5zbGljZShlbmQpO2Vsc2UgaWYgKGVuZCA9PT0gdmFsdWUubGVuZ3RoKSBuZXdWYWx1ZVN0ciA9IHZhbHVlLnNsaWNlKDAsIHN0YXJ0KTtlbHNlIG5ld1ZhbHVlU3RyID0gdmFsdWUuc2xpY2UoMCwgc3RhcnQpICsgdmFsdWUuc2xpY2UoZW5kKTtcbiAgICByZXR1cm4gbmV3VmFsdWVTdHI7XG4gIH07XG4gIHZhciBpbml0Q3Vyc29yID0gZnVuY3Rpb24gaW5pdEN1cnNvcigpIHtcbiAgICB2YXIgc2VsZWN0aW9uU3RhcnQgPSBpbnB1dFJlZi5jdXJyZW50LnNlbGVjdGlvblN0YXJ0O1xuICAgIHZhciBpbnB1dFZhbHVlID0gaW5wdXRSZWYuY3VycmVudC52YWx1ZTtcbiAgICB2YXIgdmFsdWVMZW5ndGggPSBpbnB1dFZhbHVlLmxlbmd0aDtcbiAgICB2YXIgaW5kZXggPSBudWxsO1xuXG4gICAgLy8gcmVtb3ZlIHByZWZpeFxuICAgIHZhciBwcmVmaXhMZW5ndGggPSAocHJlZml4Q2hhci5jdXJyZW50IHx8ICcnKS5sZW5ndGg7XG4gICAgaW5wdXRWYWx1ZSA9IGlucHV0VmFsdWUucmVwbGFjZShfcHJlZml4LmN1cnJlbnQsICcnKTtcbiAgICBzZWxlY3Rpb25TdGFydCA9IHNlbGVjdGlvblN0YXJ0IC0gcHJlZml4TGVuZ3RoO1xuICAgIHZhciBfY2hhcjQgPSBpbnB1dFZhbHVlLmNoYXJBdChzZWxlY3Rpb25TdGFydCk7XG4gICAgaWYgKGlzTnVtZXJhbENoYXIoX2NoYXI0KSkge1xuICAgICAgcmV0dXJuIHNlbGVjdGlvblN0YXJ0ICsgcHJlZml4TGVuZ3RoO1xuICAgIH1cblxuICAgIC8vbGVmdFxuICAgIHZhciBpID0gc2VsZWN0aW9uU3RhcnQgLSAxO1xuICAgIHdoaWxlIChpID49IDApIHtcbiAgICAgIF9jaGFyNCA9IGlucHV0VmFsdWUuY2hhckF0KGkpO1xuICAgICAgaWYgKGlzTnVtZXJhbENoYXIoX2NoYXI0KSkge1xuICAgICAgICBpbmRleCA9IGkgKyBwcmVmaXhMZW5ndGg7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaS0tO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW5kZXggIT09IG51bGwpIHtcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQuc2V0U2VsZWN0aW9uUmFuZ2UoaW5kZXggKyAxLCBpbmRleCArIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpID0gc2VsZWN0aW9uU3RhcnQ7XG4gICAgICB3aGlsZSAoaSA8IHZhbHVlTGVuZ3RoKSB7XG4gICAgICAgIF9jaGFyNCA9IGlucHV0VmFsdWUuY2hhckF0KGkpO1xuICAgICAgICBpZiAoaXNOdW1lcmFsQ2hhcihfY2hhcjQpKSB7XG4gICAgICAgICAgaW5kZXggPSBpICsgcHJlZml4TGVuZ3RoO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgIGlucHV0UmVmLmN1cnJlbnQuc2V0U2VsZWN0aW9uUmFuZ2UoaW5kZXgsIGluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4IHx8IDA7XG4gIH07XG4gIHZhciBvbklucHV0Q2xpY2sgPSBmdW5jdGlvbiBvbklucHV0Q2xpY2soKSB7XG4gICAgaW5pdEN1cnNvcigpO1xuICB9O1xuICB2YXIgaXNOdW1lcmFsQ2hhciA9IGZ1bmN0aW9uIGlzTnVtZXJhbENoYXIoX2NoYXI1KSB7XG4gICAgaWYgKF9jaGFyNS5sZW5ndGggPT09IDEgJiYgKF9udW1lcmFsLmN1cnJlbnQudGVzdChfY2hhcjUpIHx8IF9kZWNpbWFsLmN1cnJlbnQudGVzdChfY2hhcjUpIHx8IF9ncm91cC5jdXJyZW50LnRlc3QoX2NoYXI1KSB8fCBfbWludXNTaWduLmN1cnJlbnQudGVzdChfY2hhcjUpKSkge1xuICAgICAgcmVzZXRSZWdleCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG4gIHZhciByZXNldFJlZ2V4ID0gZnVuY3Rpb24gcmVzZXRSZWdleCgpIHtcbiAgICBfbnVtZXJhbC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgX2RlY2ltYWwuY3VycmVudC5sYXN0SW5kZXggPSAwO1xuICAgIF9ncm91cC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgX21pbnVzU2lnbi5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gIH07XG4gIHZhciB1cGRhdGVWYWx1ZSA9IGZ1bmN0aW9uIHVwZGF0ZVZhbHVlKGV2ZW50LCB2YWx1ZVN0ciwgaW5zZXJ0ZWRWYWx1ZVN0ciwgb3BlcmF0aW9uKSB7XG4gICAgdmFyIGN1cnJlbnRWYWx1ZSA9IGlucHV0UmVmLmN1cnJlbnQudmFsdWU7XG4gICAgdmFyIG5ld1ZhbHVlID0gbnVsbDtcbiAgICBpZiAodmFsdWVTdHIgIT0gbnVsbCkge1xuICAgICAgbmV3VmFsdWUgPSBldmFsdWF0ZUVtcHR5KHBhcnNlVmFsdWUodmFsdWVTdHIpKTtcbiAgICAgIHVwZGF0ZUlucHV0KG5ld1ZhbHVlLCBpbnNlcnRlZFZhbHVlU3RyLCBvcGVyYXRpb24sIHZhbHVlU3RyKTtcbiAgICAgIGhhbmRsZU9uQ2hhbmdlKGV2ZW50LCBjdXJyZW50VmFsdWUsIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH07XG4gIHZhciBldmFsdWF0ZUVtcHR5ID0gZnVuY3Rpb24gZXZhbHVhdGVFbXB0eShuZXdWYWx1ZSkge1xuICAgIHJldHVybiAhbmV3VmFsdWUgJiYgIXByb3BzLmFsbG93RW1wdHkgPyBwcm9wcy5taW4gfHwgMCA6IG5ld1ZhbHVlO1xuICB9O1xuICB2YXIgaGFuZGxlT25DaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVPbkNoYW5nZShldmVudCwgY3VycmVudFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgIGlmIChwcm9wcy5vbkNoYW5nZSAmJiBpc1ZhbHVlQ2hhbmdlZChjdXJyZW50VmFsdWUsIG5ld1ZhbHVlKSkge1xuICAgICAgcHJvcHMub25DaGFuZ2Uoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgdmFsdWU6IG5ld1ZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIHZhciBpc1ZhbHVlQ2hhbmdlZCA9IGZ1bmN0aW9uIGlzVmFsdWVDaGFuZ2VkKGN1cnJlbnRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICBpZiAobmV3VmFsdWUgPT09IG51bGwgJiYgY3VycmVudFZhbHVlICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG5ld1ZhbHVlICE9IG51bGwpIHtcbiAgICAgIHZhciBwYXJzZWRDdXJyZW50VmFsdWUgPSB0eXBlb2YgY3VycmVudFZhbHVlID09PSAnc3RyaW5nJyA/IHBhcnNlVmFsdWUoY3VycmVudFZhbHVlKSA6IGN1cnJlbnRWYWx1ZTtcbiAgICAgIHJldHVybiBuZXdWYWx1ZSAhPT0gcGFyc2VkQ3VycmVudFZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIHZhciB2YWxpZGF0ZVZhbHVlID0gZnVuY3Rpb24gdmFsaWRhdGVWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gJy0nKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHZhbGlkYXRlVmFsdWVCeUxpbWl0KHZhbHVlKTtcbiAgfTtcbiAgdmFyIHZhbGlkYXRlVmFsdWVCeUxpbWl0ID0gZnVuY3Rpb24gdmFsaWRhdGVWYWx1ZUJ5TGltaXQodmFsdWUpIHtcbiAgICBpZiAoT2JqZWN0VXRpbHMuaXNFbXB0eSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAocHJvcHMubWluICE9PSBudWxsICYmIHZhbHVlIDwgcHJvcHMubWluKSB7XG4gICAgICByZXR1cm4gcHJvcHMubWluO1xuICAgIH1cbiAgICBpZiAocHJvcHMubWF4ICE9PSBudWxsICYmIHZhbHVlID4gcHJvcHMubWF4KSB7XG4gICAgICByZXR1cm4gcHJvcHMubWF4O1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG4gIHZhciB1cGRhdGVJbnB1dCA9IGZ1bmN0aW9uIHVwZGF0ZUlucHV0KHZhbHVlLCBpbnNlcnRlZFZhbHVlU3RyLCBvcGVyYXRpb24sIHZhbHVlU3RyKSB7XG4gICAgaW5zZXJ0ZWRWYWx1ZVN0ciA9IGluc2VydGVkVmFsdWVTdHIgfHwgJyc7XG4gICAgdmFyIGlucHV0RWwgPSBpbnB1dFJlZi5jdXJyZW50O1xuICAgIHZhciBpbnB1dFZhbHVlID0gaW5wdXRFbC52YWx1ZTtcbiAgICB2YXIgbmV3VmFsdWUgPSBmb3JtYXRWYWx1ZSh2YWx1ZSk7XG4gICAgdmFyIGN1cnJlbnRMZW5ndGggPSBpbnB1dFZhbHVlLmxlbmd0aDtcbiAgICBpZiAobmV3VmFsdWUgIT09IHZhbHVlU3RyKSB7XG4gICAgICBuZXdWYWx1ZSA9IGNvbmNhdFZhbHVlcyhuZXdWYWx1ZSwgdmFsdWVTdHIpO1xuICAgIH1cbiAgICBpZiAoY3VycmVudExlbmd0aCA9PT0gMCkge1xuICAgICAgaW5wdXRFbC52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgaW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZSgwLCAwKTtcbiAgICAgIHZhciBpbmRleCA9IGluaXRDdXJzb3IoKTtcbiAgICAgIHZhciBzZWxlY3Rpb25FbmQgPSBpbmRleCArIGluc2VydGVkVmFsdWVTdHIubGVuZ3RoO1xuICAgICAgaW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZShzZWxlY3Rpb25FbmQsIHNlbGVjdGlvbkVuZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IGlucHV0RWwuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICB2YXIgX3NlbGVjdGlvbkVuZCA9IGlucHV0RWwuc2VsZWN0aW9uRW5kO1xuICAgICAgaWYgKHByb3BzLm1heExlbmd0aCAmJiBwcm9wcy5tYXhMZW5ndGggPCBuZXdWYWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW5wdXRFbC52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgdmFyIG5ld0xlbmd0aCA9IG5ld1ZhbHVlLmxlbmd0aDtcbiAgICAgIGlmIChvcGVyYXRpb24gPT09ICdyYW5nZS1pbnNlcnQnKSB7XG4gICAgICAgIHZhciBzdGFydFZhbHVlID0gcGFyc2VWYWx1ZSgoaW5wdXRWYWx1ZSB8fCAnJykuc2xpY2UoMCwgc2VsZWN0aW9uU3RhcnQpKTtcbiAgICAgICAgdmFyIHN0YXJ0VmFsdWVTdHIgPSBzdGFydFZhbHVlICE9PSBudWxsID8gc3RhcnRWYWx1ZS50b1N0cmluZygpIDogJyc7XG4gICAgICAgIHZhciBzdGFydEV4cHIgPSBzdGFydFZhbHVlU3RyLnNwbGl0KCcnKS5qb2luKFwiKFwiLmNvbmNhdChncm91cENoYXIuY3VycmVudCwgXCIpP1wiKSk7XG4gICAgICAgIHZhciBzUmVnZXggPSBuZXcgUmVnRXhwKHN0YXJ0RXhwciwgJ2cnKTtcbiAgICAgICAgc1JlZ2V4LnRlc3QobmV3VmFsdWUpO1xuICAgICAgICB2YXIgdEV4cHIgPSBpbnNlcnRlZFZhbHVlU3RyLnNwbGl0KCcnKS5qb2luKFwiKFwiLmNvbmNhdChncm91cENoYXIuY3VycmVudCwgXCIpP1wiKSk7XG4gICAgICAgIHZhciB0UmVnZXggPSBuZXcgUmVnRXhwKHRFeHByLCAnZycpO1xuICAgICAgICB0UmVnZXgudGVzdChuZXdWYWx1ZS5zbGljZShzUmVnZXgubGFzdEluZGV4KSk7XG4gICAgICAgIF9zZWxlY3Rpb25FbmQgPSBzUmVnZXgubGFzdEluZGV4ICsgdFJlZ2V4Lmxhc3RJbmRleDtcbiAgICAgICAgaW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZShfc2VsZWN0aW9uRW5kLCBfc2VsZWN0aW9uRW5kKTtcbiAgICAgIH0gZWxzZSBpZiAobmV3TGVuZ3RoID09PSBjdXJyZW50TGVuZ3RoKSB7XG4gICAgICAgIGlmIChvcGVyYXRpb24gPT09ICdpbnNlcnQnIHx8IG9wZXJhdGlvbiA9PT0gJ2RlbGV0ZS1iYWNrLXNpbmdsZScpIGlucHV0RWwuc2V0U2VsZWN0aW9uUmFuZ2UoX3NlbGVjdGlvbkVuZCArIDEsIF9zZWxlY3Rpb25FbmQgKyAxKTtlbHNlIGlmIChvcGVyYXRpb24gPT09ICdkZWxldGUtc2luZ2xlJykgaW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZShfc2VsZWN0aW9uRW5kIC0gMSwgX3NlbGVjdGlvbkVuZCAtIDEpO2Vsc2UgaWYgKG9wZXJhdGlvbiA9PT0gJ2RlbGV0ZS1yYW5nZScgfHwgb3BlcmF0aW9uID09PSAnc3BpbicpIGlucHV0RWwuc2V0U2VsZWN0aW9uUmFuZ2UoX3NlbGVjdGlvbkVuZCwgX3NlbGVjdGlvbkVuZCk7XG4gICAgICB9IGVsc2UgaWYgKG9wZXJhdGlvbiA9PT0gJ2RlbGV0ZS1iYWNrLXNpbmdsZScpIHtcbiAgICAgICAgdmFyIHByZXZDaGFyID0gaW5wdXRWYWx1ZS5jaGFyQXQoX3NlbGVjdGlvbkVuZCAtIDEpO1xuICAgICAgICB2YXIgbmV4dENoYXIgPSBpbnB1dFZhbHVlLmNoYXJBdChfc2VsZWN0aW9uRW5kKTtcbiAgICAgICAgdmFyIGRpZmYgPSBjdXJyZW50TGVuZ3RoIC0gbmV3TGVuZ3RoO1xuICAgICAgICB2YXIgaXNHcm91cENoYXIgPSBfZ3JvdXAuY3VycmVudC50ZXN0KG5leHRDaGFyKTtcbiAgICAgICAgaWYgKGlzR3JvdXBDaGFyICYmIGRpZmYgPT09IDEpIHtcbiAgICAgICAgICBfc2VsZWN0aW9uRW5kICs9IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzR3JvdXBDaGFyICYmIGlzTnVtZXJhbENoYXIocHJldkNoYXIpKSB7XG4gICAgICAgICAgX3NlbGVjdGlvbkVuZCArPSAtMSAqIGRpZmYgKyAxO1xuICAgICAgICB9XG4gICAgICAgIF9ncm91cC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgICAgIGlucHV0RWwuc2V0U2VsZWN0aW9uUmFuZ2UoX3NlbGVjdGlvbkVuZCwgX3NlbGVjdGlvbkVuZCk7XG4gICAgICB9IGVsc2UgaWYgKGlucHV0VmFsdWUgPT09ICctJyAmJiBvcGVyYXRpb24gPT09ICdpbnNlcnQnKSB7XG4gICAgICAgIGlucHV0RWwuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgMCk7XG4gICAgICAgIHZhciBfaW5kZXgyID0gaW5pdEN1cnNvcigpO1xuICAgICAgICB2YXIgX3NlbGVjdGlvbkVuZDIgPSBfaW5kZXgyICsgaW5zZXJ0ZWRWYWx1ZVN0ci5sZW5ndGggKyAxO1xuICAgICAgICBpbnB1dEVsLnNldFNlbGVjdGlvblJhbmdlKF9zZWxlY3Rpb25FbmQyLCBfc2VsZWN0aW9uRW5kMik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfc2VsZWN0aW9uRW5kID0gX3NlbGVjdGlvbkVuZCArIChuZXdMZW5ndGggLSBjdXJyZW50TGVuZ3RoKTtcbiAgICAgICAgaW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZShfc2VsZWN0aW9uRW5kLCBfc2VsZWN0aW9uRW5kKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaW5wdXRFbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVub3cnLCB2YWx1ZSk7XG4gIH07XG4gIHZhciB1cGRhdGVJbnB1dFZhbHVlID0gZnVuY3Rpb24gdXBkYXRlSW5wdXRWYWx1ZShuZXdWYWx1ZSkge1xuICAgIG5ld1ZhbHVlID0gZXZhbHVhdGVFbXB0eShuZXdWYWx1ZSk7XG4gICAgdmFyIGlucHV0RWwgPSBpbnB1dFJlZi5jdXJyZW50O1xuICAgIHZhciB2YWx1ZSA9IGlucHV0RWwudmFsdWU7XG4gICAgdmFyIF9mb3JtYXR0ZWRWYWx1ZSA9IGZvcm1hdHRlZFZhbHVlKG5ld1ZhbHVlKTtcbiAgICBpZiAodmFsdWUgIT09IF9mb3JtYXR0ZWRWYWx1ZSkge1xuICAgICAgaW5wdXRFbC52YWx1ZSA9IF9mb3JtYXR0ZWRWYWx1ZTtcbiAgICAgIGlucHV0RWwuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93JywgbmV3VmFsdWUpO1xuICAgIH1cbiAgfTtcbiAgdmFyIGZvcm1hdHRlZFZhbHVlID0gZnVuY3Rpb24gZm9ybWF0dGVkVmFsdWUodmFsKSB7XG4gICAgcmV0dXJuIGZvcm1hdFZhbHVlKGV2YWx1YXRlRW1wdHkodmFsKSk7XG4gIH07XG4gIHZhciBjb25jYXRWYWx1ZXMgPSBmdW5jdGlvbiBjb25jYXRWYWx1ZXModmFsMSwgdmFsMikge1xuICAgIGlmICh2YWwxICYmIHZhbDIpIHtcbiAgICAgIHZhciBkZWNpbWFsQ2hhckluZGV4ID0gdmFsMi5zZWFyY2goX2RlY2ltYWwuY3VycmVudCk7XG4gICAgICBfZGVjaW1hbC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgICByZXR1cm4gZGVjaW1hbENoYXJJbmRleCAhPT0gLTEgPyB2YWwxLnNwbGl0KF9kZWNpbWFsLmN1cnJlbnQpWzBdICsgdmFsMi5zbGljZShkZWNpbWFsQ2hhckluZGV4KSA6IHZhbDE7XG4gICAgfVxuICAgIHJldHVybiB2YWwxO1xuICB9O1xuICB2YXIgZ2V0RGVjaW1hbExlbmd0aCA9IGZ1bmN0aW9uIGdldERlY2ltYWxMZW5ndGgodmFsdWUpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHZhciB2YWx1ZVNwbGl0ID0gdmFsdWUuc3BsaXQoX2RlY2ltYWwuY3VycmVudCk7XG4gICAgICBpZiAodmFsdWVTcGxpdC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlU3BsaXRbMV0ucmVwbGFjZShfc3VmZml4LmN1cnJlbnQsICcnKS50cmltKCkucmVwbGFjZSgvXFxzL2csICcnKS5yZXBsYWNlKF9jdXJyZW5jeS5jdXJyZW50LCAnJykubGVuZ3RoO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfTtcbiAgdmFyIHVwZGF0ZU1vZGVsID0gZnVuY3Rpb24gdXBkYXRlTW9kZWwoZXZlbnQsIHZhbHVlKSB7XG4gICAgaWYgKHByb3BzLm9uVmFsdWVDaGFuZ2UpIHtcbiAgICAgIHByb3BzLm9uVmFsdWVDaGFuZ2Uoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHt9LFxuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7fSxcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgICAgICBpZDogcHJvcHMuaWQsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uSW5wdXRGb2N1cyA9IGZ1bmN0aW9uIG9uSW5wdXRGb2N1cyhldmVudCkge1xuICAgIHNldEZvY3VzZWRTdGF0ZSh0cnVlKTtcbiAgICBwcm9wcy5vbkZvY3VzICYmIHByb3BzLm9uRm9jdXMoZXZlbnQpO1xuICAgIGlmICgocHJvcHMuc3VmZml4IHx8IHByb3BzLmN1cnJlbmN5IHx8IHByb3BzLnByZWZpeCkgJiYgaW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgLy8gR2l0SHViICMxODY2IEN1cnNvciBtdXN0IGJlIHBsYWNlZCBiZWZvcmUvYWZ0ZXIgc3ltYm9sIG9yIGFycm93IGtleXMgZG9uJ3Qgd29ya1xuICAgICAgdmFyIHNlbGVjdGlvbkVuZCA9IGluaXRDdXJzb3IoKTtcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQuc2V0U2VsZWN0aW9uUmFuZ2Uoc2VsZWN0aW9uRW5kLCBzZWxlY3Rpb25FbmQpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uSW5wdXRCbHVyID0gZnVuY3Rpb24gb25JbnB1dEJsdXIoZXZlbnQpIHtcbiAgICBzZXRGb2N1c2VkU3RhdGUoZmFsc2UpO1xuICAgIGlmIChpbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICB2YXIgY3VycmVudFZhbHVlID0gaW5wdXRSZWYuY3VycmVudC52YWx1ZTtcbiAgICAgIGlmIChpc1ZhbHVlQ2hhbmdlZChjdXJyZW50VmFsdWUsIHByb3BzLnZhbHVlKSkge1xuICAgICAgICB2YXIgbmV3VmFsdWUgPSB2YWxpZGF0ZVZhbHVlKHBhcnNlVmFsdWUoY3VycmVudFZhbHVlKSk7XG4gICAgICAgIHVwZGF0ZUlucHV0VmFsdWUobmV3VmFsdWUpO1xuICAgICAgICB1cGRhdGVNb2RlbChldmVudCwgbmV3VmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBwcm9wcy5vbkJsdXIgJiYgcHJvcHMub25CbHVyKGV2ZW50KTtcbiAgfTtcbiAgdmFyIGNsZWFyVGltZXIgPSBmdW5jdGlvbiBjbGVhclRpbWVyKCkge1xuICAgIGlmICh0aW1lci5jdXJyZW50KSB7XG4gICAgICBjbGVhckludGVydmFsKHRpbWVyLmN1cnJlbnQpO1xuICAgIH1cbiAgfTtcbiAgdmFyIGNoYW5nZVZhbHVlID0gZnVuY3Rpb24gY2hhbmdlVmFsdWUoKSB7XG4gICAgdXBkYXRlSW5wdXRWYWx1ZSh2YWxpZGF0ZVZhbHVlQnlMaW1pdChwcm9wcy52YWx1ZSkpO1xuICAgIHZhciBuZXdWYWx1ZSA9IHZhbGlkYXRlVmFsdWUocHJvcHMudmFsdWUpO1xuICAgIGlmIChwcm9wcy52YWx1ZSAhPT0gbnVsbCAmJiBwcm9wcy52YWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgIHVwZGF0ZU1vZGVsKG51bGwsIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH07XG4gIHZhciBnZXRGb3JtYXR0ZXIgPSBmdW5jdGlvbiBnZXRGb3JtYXR0ZXIoKSB7XG4gICAgcmV0dXJuIG51bWJlckZvcm1hdC5jdXJyZW50O1xuICB9O1xuICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9wczogcHJvcHMsXG4gICAgICBmb2N1czogZnVuY3Rpb24gZm9jdXMoKSB7XG4gICAgICAgIHJldHVybiBEb21IYW5kbGVyLmZvY3VzKGlucHV0UmVmLmN1cnJlbnQpO1xuICAgICAgfSxcbiAgICAgIGdldEZvcm1hdHRlcjogZ2V0Rm9ybWF0dGVyLFxuICAgICAgZ2V0RWxlbWVudDogZnVuY3Rpb24gZ2V0RWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRSZWYuY3VycmVudDtcbiAgICAgIH0sXG4gICAgICBnZXRJbnB1dDogZnVuY3Rpb24gZ2V0SW5wdXQoKSB7XG4gICAgICAgIHJldHVybiBpbnB1dFJlZi5jdXJyZW50O1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIE9iamVjdFV0aWxzLmNvbWJpbmVkUmVmcyhpbnB1dFJlZiwgcHJvcHMuaW5wdXRSZWYpO1xuICB9LCBbaW5wdXRSZWYsIHByb3BzLmlucHV0UmVmXSk7XG4gIHVzZU1vdW50RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdHJ1Y3RQYXJzZXIoKTtcbiAgICB2YXIgbmV3VmFsdWUgPSB2YWxpZGF0ZVZhbHVlKHByb3BzLnZhbHVlKTtcbiAgICBpZiAocHJvcHMudmFsdWUgIT09IG51bGwgJiYgcHJvcHMudmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICB1cGRhdGVNb2RlbChudWxsLCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9KTtcbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdHJ1Y3RQYXJzZXIoKTtcbiAgICBjaGFuZ2VWYWx1ZSgpO1xuICB9LCBbcHJvcHMubG9jYWxlLCBwcm9wcy5sb2NhbGVNYXRjaGVyLCBwcm9wcy5tb2RlLCBwcm9wcy5jdXJyZW5jeSwgcHJvcHMuY3VycmVuY3lEaXNwbGF5LCBwcm9wcy51c2VHcm91cGluZywgcHJvcHMubWluRnJhY3Rpb25EaWdpdHMsIHByb3BzLm1heEZyYWN0aW9uRGlnaXRzLCBwcm9wcy5zdWZmaXgsIHByb3BzLnByZWZpeF0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGNoYW5nZVZhbHVlKCk7XG4gIH0sIFtwcm9wcy52YWx1ZV0pO1xuICB2YXIgY3JlYXRlSW5wdXRFbGVtZW50ID0gZnVuY3Rpb24gY3JlYXRlSW5wdXRFbGVtZW50KCkge1xuICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWlucHV0bnVtYmVyLWlucHV0JywgcHJvcHMuaW5wdXRDbGFzc05hbWUpO1xuICAgIHZhciB2YWx1ZVRvUmVuZGVyID0gZm9ybWF0dGVkVmFsdWUocHJvcHMudmFsdWUpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJbnB1dFRleHQsIF9leHRlbmRzKHtcbiAgICAgIHJlZjogaW5wdXRSZWYsXG4gICAgICBpZDogcHJvcHMuaW5wdXRJZCxcbiAgICAgIHN0eWxlOiBwcm9wcy5pbnB1dFN0eWxlLFxuICAgICAgcm9sZTogXCJzcGluYnV0dG9uXCIsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIGRlZmF1bHRWYWx1ZTogdmFsdWVUb1JlbmRlcixcbiAgICAgIHR5cGU6IHByb3BzLnR5cGUsXG4gICAgICBzaXplOiBwcm9wcy5zaXplLFxuICAgICAgdGFiSW5kZXg6IHByb3BzLnRhYkluZGV4LFxuICAgICAgaW5wdXRNb2RlOiBpbnB1dE1vZGUsXG4gICAgICBtYXhMZW5ndGg6IHByb3BzLm1heExlbmd0aCxcbiAgICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCxcbiAgICAgIHJlcXVpcmVkOiBwcm9wcy5yZXF1aXJlZCxcbiAgICAgIHBhdHRlcm46IHByb3BzLnBhdHRlcm4sXG4gICAgICBwbGFjZWhvbGRlcjogcHJvcHMucGxhY2Vob2xkZXIsXG4gICAgICByZWFkT25seTogcHJvcHMucmVhZE9ubHksXG4gICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgYXV0b0ZvY3VzOiBwcm9wcy5hdXRvRm9jdXMsXG4gICAgICBvbktleURvd246IG9uSW5wdXRLZXlEb3duLFxuICAgICAgb25LZXlQcmVzczogb25JbnB1dEtleVByZXNzLFxuICAgICAgb25JbnB1dDogb25JbnB1dCxcbiAgICAgIG9uQ2xpY2s6IG9uSW5wdXRDbGljayxcbiAgICAgIG9uQmx1cjogb25JbnB1dEJsdXIsXG4gICAgICBvbkZvY3VzOiBvbklucHV0Rm9jdXMsXG4gICAgICBvblBhc3RlOiBvblBhc3RlLFxuICAgICAgbWluOiBwcm9wcy5taW4sXG4gICAgICBtYXg6IHByb3BzLm1heCxcbiAgICAgIFwiYXJpYS12YWx1ZW1pblwiOiBwcm9wcy5taW4sXG4gICAgICBcImFyaWEtdmFsdWVtYXhcIjogcHJvcHMubWF4LFxuICAgICAgXCJhcmlhLXZhbHVlbm93XCI6IHByb3BzLnZhbHVlXG4gICAgfSwgYXJpYVByb3BzLCBkYXRhUHJvcHMpKTtcbiAgfTtcbiAgdmFyIGNyZWF0ZVVwQnV0dG9uID0gZnVuY3Rpb24gY3JlYXRlVXBCdXR0b24oKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtaW5wdXRudW1iZXItYnV0dG9uIHAtaW5wdXRudW1iZXItYnV0dG9uLXVwIHAtYnV0dG9uIHAtYnV0dG9uLWljb24tb25seSBwLWNvbXBvbmVudCcsIHtcbiAgICAgICdwLWRpc2FibGVkJzogcHJvcHMuZGlzYWJsZWRcbiAgICB9LCBwcm9wcy5pbmNyZW1lbnRCdXR0b25DbGFzc05hbWUpO1xuICAgIHZhciBpY29uID0gY2xhc3NOYW1lcygncC1idXR0b24taWNvbicsIHByb3BzLmluY3JlbWVudEJ1dHRvbkljb24pO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBvblBvaW50ZXJMZWF2ZTogb25VcEJ1dHRvbk1vdXNlTGVhdmUsXG4gICAgICBvblBvaW50ZXJEb3duOiBvblVwQnV0dG9uTW91c2VEb3duLFxuICAgICAgb25Qb2ludGVyVXA6IG9uVXBCdXR0b25Nb3VzZVVwLFxuICAgICAgb25LZXlEb3duOiBvblVwQnV0dG9uS2V5RG93bixcbiAgICAgIG9uS2V5VXA6IG9uVXBCdXR0b25LZXlVcCxcbiAgICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCxcbiAgICAgIHRhYkluZGV4OiAtMVxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IGljb25cbiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmlwcGxlLCBudWxsKSk7XG4gIH07XG4gIHZhciBjcmVhdGVEb3duQnV0dG9uID0gZnVuY3Rpb24gY3JlYXRlRG93bkJ1dHRvbigpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1pbnB1dG51bWJlci1idXR0b24gcC1pbnB1dG51bWJlci1idXR0b24tZG93biBwLWJ1dHRvbiBwLWJ1dHRvbi1pY29uLW9ubHkgcC1jb21wb25lbnQnLCB7XG4gICAgICAncC1kaXNhYmxlZCc6IHByb3BzLmRpc2FibGVkXG4gICAgfSwgcHJvcHMuZGVjcmVtZW50QnV0dG9uQ2xhc3NOYW1lKTtcbiAgICB2YXIgaWNvbiA9IGNsYXNzTmFtZXMoJ3AtYnV0dG9uLWljb24nLCBwcm9wcy5kZWNyZW1lbnRCdXR0b25JY29uKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgb25Qb2ludGVyTGVhdmU6IG9uRG93bkJ1dHRvbk1vdXNlTGVhdmUsXG4gICAgICBvblBvaW50ZXJEb3duOiBvbkRvd25CdXR0b25Nb3VzZURvd24sXG4gICAgICBvblBvaW50ZXJVcDogb25Eb3duQnV0dG9uTW91c2VVcCxcbiAgICAgIG9uS2V5RG93bjogb25Eb3duQnV0dG9uS2V5RG93bixcbiAgICAgIG9uS2V5VXA6IG9uRG93bkJ1dHRvbktleVVwLFxuICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgdGFiSW5kZXg6IC0xXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogaWNvblxuICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSaXBwbGUsIG51bGwpKTtcbiAgfTtcbiAgdmFyIGNyZWF0ZUJ1dHRvbkdyb3VwID0gZnVuY3Rpb24gY3JlYXRlQnV0dG9uR3JvdXAoKSB7XG4gICAgdmFyIHVwQnV0dG9uID0gcHJvcHMuc2hvd0J1dHRvbnMgJiYgY3JlYXRlVXBCdXR0b24oKTtcbiAgICB2YXIgZG93bkJ1dHRvbiA9IHByb3BzLnNob3dCdXR0b25zICYmIGNyZWF0ZURvd25CdXR0b24oKTtcbiAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLWlucHV0bnVtYmVyLWJ1dHRvbi1ncm91cFwiXG4gICAgICB9LCB1cEJ1dHRvbiwgZG93bkJ1dHRvbik7XG4gICAgfVxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgdXBCdXR0b24sIGRvd25CdXR0b24pO1xuICB9O1xuICB2YXIgaGFzVG9vbHRpcCA9IE9iamVjdFV0aWxzLmlzTm90RW1wdHkocHJvcHMudG9vbHRpcCk7XG4gIHZhciBvdGhlclByb3BzID0gSW5wdXROdW1iZXJCYXNlLmdldE90aGVyUHJvcHMocHJvcHMpO1xuICB2YXIgZGF0YVByb3BzID0gT2JqZWN0VXRpbHMucmVkdWNlS2V5cyhvdGhlclByb3BzLCBEb21IYW5kbGVyLkRBVEFfUFJPUFMpO1xuICB2YXIgYXJpYVByb3BzID0gT2JqZWN0VXRpbHMucmVkdWNlS2V5cyhvdGhlclByb3BzLCBEb21IYW5kbGVyLkFSSUFfUFJPUFMpO1xuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1pbnB1dG51bWJlciBwLWNvbXBvbmVudCBwLWlucHV0d3JhcHBlcicsIHtcbiAgICAncC1pbnB1dHdyYXBwZXItZmlsbGVkJzogcHJvcHMudmFsdWUgIT0gbnVsbCAmJiBwcm9wcy52YWx1ZS50b1N0cmluZygpLmxlbmd0aCA+IDAsXG4gICAgJ3AtaW5wdXR3cmFwcGVyLWZvY3VzJzogZm9jdXNlZFN0YXRlLFxuICAgICdwLWlucHV0bnVtYmVyLWJ1dHRvbnMtc3RhY2tlZCc6IHN0YWNrZWQsXG4gICAgJ3AtaW5wdXRudW1iZXItYnV0dG9ucy1ob3Jpem9udGFsJzogaG9yaXpvbnRhbCxcbiAgICAncC1pbnB1dG51bWJlci1idXR0b25zLXZlcnRpY2FsJzogdmVydGljYWxcbiAgfSwgcHJvcHMuY2xhc3NOYW1lKTtcbiAgdmFyIGlucHV0RWxlbWVudCA9IGNyZWF0ZUlucHV0RWxlbWVudCgpO1xuICB2YXIgYnV0dG9uR3JvdXAgPSBjcmVhdGVCdXR0b25Hcm91cCgpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiBlbGVtZW50UmVmLFxuICAgIGlkOiBwcm9wcy5pZCxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICBzdHlsZTogcHJvcHMuc3R5bGVcbiAgfSwgb3RoZXJQcm9wcyksIGlucHV0RWxlbWVudCwgYnV0dG9uR3JvdXApLCBoYXNUb29sdGlwICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRvb2x0aXAsIF9leHRlbmRzKHtcbiAgICB0YXJnZXQ6IGVsZW1lbnRSZWYsXG4gICAgY29udGVudDogcHJvcHMudG9vbHRpcFxuICB9LCBwcm9wcy50b29sdGlwT3B0aW9ucykpKTtcbn0pKTtcbklucHV0TnVtYmVyLmRpc3BsYXlOYW1lID0gJ0lucHV0TnVtYmVyJztcblxuZXhwb3J0IHsgSW5wdXROdW1iZXIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/primereact/inputnumber/inputnumber.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/inputtext/inputtext.esm.js":
/*!************************************************************!*\
  !*** ./node_modules/primereact/inputtext/inputtext.esm.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InputText\": function() { return /* binding */ InputText; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_keyfilter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/keyfilter */ \"./node_modules/primereact/keyfilter/keyfilter.esm.js\");\n/* harmony import */ var primereact_tooltip__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/tooltip */ \"./node_modules/primereact/tooltip/tooltip.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nvar InputTextBase = {\n  defaultProps: {\n    __TYPE: 'InputText',\n    keyfilter: null,\n    validateOnly: false,\n    tooltip: null,\n    tooltipOptions: null,\n    onInput: null,\n    onKeyDown: null,\n    onPaste: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, InputTextBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, InputTextBase.defaultProps);\n  }\n};\n\nvar InputText = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (inProps, ref) {\n  var props = InputTextBase.getProps(inProps);\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(ref);\n  var onKeyDown = function onKeyDown(event) {\n    props.onKeyDown && props.onKeyDown(event);\n    if (props.keyfilter) {\n      primereact_keyfilter__WEBPACK_IMPORTED_MODULE_2__.KeyFilter.onKeyPress(event, props.keyfilter, props.validateOnly);\n    }\n  };\n  var onInput = function onInput(event) {\n    var validatePattern = true;\n    if (props.keyfilter && props.validateOnly) {\n      validatePattern = primereact_keyfilter__WEBPACK_IMPORTED_MODULE_2__.KeyFilter.validate(event, props.keyfilter);\n    }\n    props.onInput && props.onInput(event, validatePattern);\n    if (!props.onChange) {\n      var target = event.target;\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(target.value) ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.addClass(target, 'p-filled') : primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(target, 'p-filled');\n    }\n  };\n  var onPaste = function onPaste(event) {\n    props.onPaste && props.onPaste(event);\n    if (props.keyfilter) {\n      primereact_keyfilter__WEBPACK_IMPORTED_MODULE_2__.KeyFilter.onPaste(event, props.keyfilter, props.validateOnly);\n    }\n  };\n  var currentValue = elementRef.current && elementRef.current.value;\n  var isFilled = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(props.value) || primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(props.defaultValue) || primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(currentValue);\n  }, [props.value, props.defaultValue, currentValue]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.combinedRefs(elementRef, ref);\n  }, [elementRef, ref]);\n  var hasTooltip = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(props.tooltip);\n  var otherProps = InputTextBase.getOtherProps(props);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-inputtext p-component', {\n    'p-disabled': props.disabled,\n    'p-filled': isFilled\n  }, props.className);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", _extends({\n    ref: elementRef\n  }, otherProps, {\n    className: className,\n    onInput: onInput,\n    onKeyDown: onKeyDown,\n    onPaste: onPaste\n  })), hasTooltip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_tooltip__WEBPACK_IMPORTED_MODULE_3__.Tooltip, _extends({\n    target: elementRef,\n    content: props.tooltip\n  }, props.tooltipOptions)));\n}));\nInputText.displayName = 'InputText';\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9pbnB1dHRleHQvaW5wdXR0ZXh0LmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBK0I7QUFDa0I7QUFDSjtBQUMwQjs7QUFFdkU7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsV0FBVyx3RUFBMEI7QUFDckMsR0FBRztBQUNIO0FBQ0EsV0FBVyxzRUFBd0I7QUFDbkM7QUFDQTs7QUFFQSw2QkFBNkIsdUNBQVUsZUFBZSw2Q0FBZ0I7QUFDdEU7QUFDQSxtQkFBbUIseUNBQVk7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsTUFBTSxzRUFBb0I7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvRUFBa0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLG9FQUFzQixpQkFBaUIsaUVBQW1CLHVCQUF1QixvRUFBc0I7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sbUVBQWlCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwwQ0FBYTtBQUM5QixXQUFXLG9FQUFzQixpQkFBaUIsb0VBQXNCLHdCQUF3QixvRUFBc0I7QUFDdEgsR0FBRztBQUNILEVBQUUsNENBQWU7QUFDakIsSUFBSSxzRUFBd0I7QUFDNUIsR0FBRztBQUNILG1CQUFtQixvRUFBc0I7QUFDekM7QUFDQSxrQkFBa0IsNERBQVU7QUFDNUI7QUFDQTtBQUNBLEdBQUc7QUFDSCxzQkFBc0IsZ0RBQW1CLENBQUMsMkNBQWMscUJBQXFCLGdEQUFtQjtBQUNoRztBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsK0JBQStCLGdEQUFtQixDQUFDLHVEQUFPO0FBQzdEO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEOztBQUVxQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9pbnB1dHRleHQvaW5wdXR0ZXh0LmVzbS5qcz9kMzg5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEtleUZpbHRlciB9IGZyb20gJ3ByaW1lcmVhY3Qva2V5ZmlsdGVyJztcbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICdwcmltZXJlYWN0L3Rvb2x0aXAnO1xuaW1wb3J0IHsgT2JqZWN0VXRpbHMsIGNsYXNzTmFtZXMsIERvbUhhbmRsZXIgfSBmcm9tICdwcmltZXJlYWN0L3V0aWxzJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbnZhciBJbnB1dFRleHRCYXNlID0ge1xuICBkZWZhdWx0UHJvcHM6IHtcbiAgICBfX1RZUEU6ICdJbnB1dFRleHQnLFxuICAgIGtleWZpbHRlcjogbnVsbCxcbiAgICB2YWxpZGF0ZU9ubHk6IGZhbHNlLFxuICAgIHRvb2x0aXA6IG51bGwsXG4gICAgdG9vbHRpcE9wdGlvbnM6IG51bGwsXG4gICAgb25JbnB1dDogbnVsbCxcbiAgICBvbktleURvd246IG51bGwsXG4gICAgb25QYXN0ZTogbnVsbCxcbiAgICBjaGlsZHJlbjogdW5kZWZpbmVkXG4gIH0sXG4gIGdldFByb3BzOiBmdW5jdGlvbiBnZXRQcm9wcyhwcm9wcykge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5nZXRNZXJnZWRQcm9wcyhwcm9wcywgSW5wdXRUZXh0QmFzZS5kZWZhdWx0UHJvcHMpO1xuICB9LFxuICBnZXRPdGhlclByb3BzOiBmdW5jdGlvbiBnZXRPdGhlclByb3BzKHByb3BzKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldERpZmZQcm9wcyhwcm9wcywgSW5wdXRUZXh0QmFzZS5kZWZhdWx0UHJvcHMpO1xuICB9XG59O1xuXG52YXIgSW5wdXRUZXh0ID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oIC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChpblByb3BzLCByZWYpIHtcbiAgdmFyIHByb3BzID0gSW5wdXRUZXh0QmFzZS5nZXRQcm9wcyhpblByb3BzKTtcbiAgdmFyIGVsZW1lbnRSZWYgPSBSZWFjdC51c2VSZWYocmVmKTtcbiAgdmFyIG9uS2V5RG93biA9IGZ1bmN0aW9uIG9uS2V5RG93bihldmVudCkge1xuICAgIHByb3BzLm9uS2V5RG93biAmJiBwcm9wcy5vbktleURvd24oZXZlbnQpO1xuICAgIGlmIChwcm9wcy5rZXlmaWx0ZXIpIHtcbiAgICAgIEtleUZpbHRlci5vbktleVByZXNzKGV2ZW50LCBwcm9wcy5rZXlmaWx0ZXIsIHByb3BzLnZhbGlkYXRlT25seSk7XG4gICAgfVxuICB9O1xuICB2YXIgb25JbnB1dCA9IGZ1bmN0aW9uIG9uSW5wdXQoZXZlbnQpIHtcbiAgICB2YXIgdmFsaWRhdGVQYXR0ZXJuID0gdHJ1ZTtcbiAgICBpZiAocHJvcHMua2V5ZmlsdGVyICYmIHByb3BzLnZhbGlkYXRlT25seSkge1xuICAgICAgdmFsaWRhdGVQYXR0ZXJuID0gS2V5RmlsdGVyLnZhbGlkYXRlKGV2ZW50LCBwcm9wcy5rZXlmaWx0ZXIpO1xuICAgIH1cbiAgICBwcm9wcy5vbklucHV0ICYmIHByb3BzLm9uSW5wdXQoZXZlbnQsIHZhbGlkYXRlUGF0dGVybik7XG4gICAgaWYgKCFwcm9wcy5vbkNoYW5nZSkge1xuICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIE9iamVjdFV0aWxzLmlzTm90RW1wdHkodGFyZ2V0LnZhbHVlKSA/IERvbUhhbmRsZXIuYWRkQ2xhc3ModGFyZ2V0LCAncC1maWxsZWQnKSA6IERvbUhhbmRsZXIucmVtb3ZlQ2xhc3ModGFyZ2V0LCAncC1maWxsZWQnKTtcbiAgICB9XG4gIH07XG4gIHZhciBvblBhc3RlID0gZnVuY3Rpb24gb25QYXN0ZShldmVudCkge1xuICAgIHByb3BzLm9uUGFzdGUgJiYgcHJvcHMub25QYXN0ZShldmVudCk7XG4gICAgaWYgKHByb3BzLmtleWZpbHRlcikge1xuICAgICAgS2V5RmlsdGVyLm9uUGFzdGUoZXZlbnQsIHByb3BzLmtleWZpbHRlciwgcHJvcHMudmFsaWRhdGVPbmx5KTtcbiAgICB9XG4gIH07XG4gIHZhciBjdXJyZW50VmFsdWUgPSBlbGVtZW50UmVmLmN1cnJlbnQgJiYgZWxlbWVudFJlZi5jdXJyZW50LnZhbHVlO1xuICB2YXIgaXNGaWxsZWQgPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy52YWx1ZSkgfHwgT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy5kZWZhdWx0VmFsdWUpIHx8IE9iamVjdFV0aWxzLmlzTm90RW1wdHkoY3VycmVudFZhbHVlKTtcbiAgfSwgW3Byb3BzLnZhbHVlLCBwcm9wcy5kZWZhdWx0VmFsdWUsIGN1cnJlbnRWYWx1ZV0pO1xuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIE9iamVjdFV0aWxzLmNvbWJpbmVkUmVmcyhlbGVtZW50UmVmLCByZWYpO1xuICB9LCBbZWxlbWVudFJlZiwgcmVmXSk7XG4gIHZhciBoYXNUb29sdGlwID0gT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy50b29sdGlwKTtcbiAgdmFyIG90aGVyUHJvcHMgPSBJbnB1dFRleHRCYXNlLmdldE90aGVyUHJvcHMocHJvcHMpO1xuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1pbnB1dHRleHQgcC1jb21wb25lbnQnLCB7XG4gICAgJ3AtZGlzYWJsZWQnOiBwcm9wcy5kaXNhYmxlZCxcbiAgICAncC1maWxsZWQnOiBpc0ZpbGxlZFxuICB9LCBwcm9wcy5jbGFzc05hbWUpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogZWxlbWVudFJlZlxuICB9LCBvdGhlclByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgb25JbnB1dDogb25JbnB1dCxcbiAgICBvbktleURvd246IG9uS2V5RG93bixcbiAgICBvblBhc3RlOiBvblBhc3RlXG4gIH0pKSwgaGFzVG9vbHRpcCAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUb29sdGlwLCBfZXh0ZW5kcyh7XG4gICAgdGFyZ2V0OiBlbGVtZW50UmVmLFxuICAgIGNvbnRlbnQ6IHByb3BzLnRvb2x0aXBcbiAgfSwgcHJvcHMudG9vbHRpcE9wdGlvbnMpKSk7XG59KSk7XG5JbnB1dFRleHQuZGlzcGxheU5hbWUgPSAnSW5wdXRUZXh0JztcblxuZXhwb3J0IHsgSW5wdXRUZXh0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/primereact/inputtext/inputtext.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/inputtextarea/inputtextarea.esm.js":
/*!********************************************************************!*\
  !*** ./node_modules/primereact/inputtextarea/inputtextarea.esm.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InputTextarea\": function() { return /* binding */ InputTextarea; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_keyfilter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/keyfilter */ \"./node_modules/primereact/keyfilter/keyfilter.esm.js\");\n/* harmony import */ var primereact_tooltip__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/tooltip */ \"./node_modules/primereact/tooltip/tooltip.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nvar InputTextareaBase = {\n  defaultProps: {\n    __TYPE: 'InputTextarea',\n    autoResize: false,\n    keyfilter: null,\n    onBlur: null,\n    onFocus: null,\n    onInput: null,\n    onKeyDown: null,\n    onKeyUp: null,\n    onPaste: null,\n    tooltip: null,\n    tooltipOptions: null,\n    validateOnly: false,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, InputTextareaBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, InputTextareaBase.defaultProps);\n  }\n};\n\nvar InputTextarea = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (inProps, ref) {\n  var props = InputTextareaBase.getProps(inProps);\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(ref);\n  var cachedScrollHeight = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n  var onFocus = function onFocus(event) {\n    if (props.autoResize) {\n      resize();\n    }\n    props.onFocus && props.onFocus(event);\n  };\n  var onBlur = function onBlur(event) {\n    if (props.autoResize) {\n      resize();\n    }\n    props.onBlur && props.onBlur(event);\n  };\n  var onKeyUp = function onKeyUp(event) {\n    if (props.autoResize) {\n      resize();\n    }\n    props.onKeyUp && props.onKeyUp(event);\n  };\n  var onKeyDown = function onKeyDown(event) {\n    props.onKeyDown && props.onKeyDown(event);\n    if (props.keyfilter) {\n      primereact_keyfilter__WEBPACK_IMPORTED_MODULE_2__.KeyFilter.onKeyPress(event, props.keyfilter, props.validateOnly);\n    }\n  };\n  var onPaste = function onPaste(event) {\n    props.onPaste && props.onPaste(event);\n    if (props.keyfilter) {\n      primereact_keyfilter__WEBPACK_IMPORTED_MODULE_2__.KeyFilter.onPaste(event, props.keyfilter, props.validateOnly);\n    }\n  };\n  var onInput = function onInput(event) {\n    if (props.autoResize) {\n      resize();\n    }\n    props.onInput && props.onInput(event);\n    var target = event.target;\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(target.value) ? primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.addClass(target, 'p-filled') : primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(target, 'p-filled');\n  };\n  var resize = function resize(initial) {\n    var inputEl = elementRef.current;\n    if (inputEl && primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.isVisible(inputEl)) {\n      if (!cachedScrollHeight.current) {\n        cachedScrollHeight.current = inputEl.scrollHeight;\n        inputEl.style.overflow = 'hidden';\n      }\n      if (cachedScrollHeight.current !== inputEl.scrollHeight || initial) {\n        inputEl.style.height = '';\n        inputEl.style.height = inputEl.scrollHeight + 'px';\n        if (parseFloat(inputEl.style.height) >= parseFloat(inputEl.style.maxHeight)) {\n          inputEl.style.overflowY = 'scroll';\n          inputEl.style.height = inputEl.style.maxHeight;\n        } else {\n          inputEl.style.overflow = 'hidden';\n        }\n        cachedScrollHeight.current = inputEl.scrollHeight;\n      }\n    }\n  };\n  var currentValue = elementRef.current && elementRef.current.value;\n  var isFilled = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(props.value) || primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(props.defaultValue) || primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(currentValue);\n  }, [props.value, props.defaultValue, currentValue]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.combinedRefs(elementRef, ref);\n  }, [elementRef, ref]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    if (props.autoResize) {\n      resize(true);\n    }\n  }, [props.autoResize]);\n  var hasTooltip = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(props.tooltip);\n  var otherProps = InputTextareaBase.getOtherProps(props);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-inputtextarea p-inputtext p-component', {\n    'p-disabled': props.disabled,\n    'p-filled': isFilled,\n    'p-inputtextarea-resizable': props.autoResize\n  }, props.className);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"textarea\", _extends({\n    ref: elementRef\n  }, otherProps, {\n    className: className,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onKeyUp: onKeyUp,\n    onKeyDown: onKeyDown,\n    onInput: onInput,\n    onPaste: onPaste\n  })), hasTooltip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_tooltip__WEBPACK_IMPORTED_MODULE_3__.Tooltip, _extends({\n    target: elementRef,\n    content: props.tooltip\n  }, props.tooltipOptions)));\n}));\nInputTextarea.displayName = 'InputTextarea';\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9pbnB1dHRleHRhcmVhL2lucHV0dGV4dGFyZWEuZXNtLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUErQjtBQUNrQjtBQUNKO0FBQzBCOztBQUV2RTtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFdBQVcsd0VBQTBCO0FBQ3JDLEdBQUc7QUFDSDtBQUNBLFdBQVcsc0VBQXdCO0FBQ25DO0FBQ0E7O0FBRUEsaUNBQWlDLHVDQUFVLGVBQWUsNkNBQWdCO0FBQzFFO0FBQ0EsbUJBQW1CLHlDQUFZO0FBQy9CLDJCQUEyQix5Q0FBWTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHNFQUFvQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxtRUFBaUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksb0VBQXNCLGlCQUFpQixpRUFBbUIsdUJBQXVCLG9FQUFzQjtBQUMzRztBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsa0VBQW9CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDBDQUFhO0FBQzlCLFdBQVcsb0VBQXNCLGlCQUFpQixvRUFBc0Isd0JBQXdCLG9FQUFzQjtBQUN0SCxHQUFHO0FBQ0gsRUFBRSw0Q0FBZTtBQUNqQixJQUFJLHNFQUF3QjtBQUM1QixHQUFHO0FBQ0gsRUFBRSw0Q0FBZTtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsbUJBQW1CLG9FQUFzQjtBQUN6QztBQUNBLGtCQUFrQiw0REFBVTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsc0JBQXNCLGdEQUFtQixDQUFDLDJDQUFjLHFCQUFxQixnREFBbUI7QUFDaEc7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLCtCQUErQixnREFBbUIsQ0FBQyx1REFBTztBQUM3RDtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDs7QUFFeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3ByaW1lcmVhY3QvaW5wdXR0ZXh0YXJlYS9pbnB1dHRleHRhcmVhLmVzbS5qcz9jYjc4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEtleUZpbHRlciB9IGZyb20gJ3ByaW1lcmVhY3Qva2V5ZmlsdGVyJztcbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICdwcmltZXJlYWN0L3Rvb2x0aXAnO1xuaW1wb3J0IHsgT2JqZWN0VXRpbHMsIGNsYXNzTmFtZXMsIERvbUhhbmRsZXIgfSBmcm9tICdwcmltZXJlYWN0L3V0aWxzJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbnZhciBJbnB1dFRleHRhcmVhQmFzZSA9IHtcbiAgZGVmYXVsdFByb3BzOiB7XG4gICAgX19UWVBFOiAnSW5wdXRUZXh0YXJlYScsXG4gICAgYXV0b1Jlc2l6ZTogZmFsc2UsXG4gICAga2V5ZmlsdGVyOiBudWxsLFxuICAgIG9uQmx1cjogbnVsbCxcbiAgICBvbkZvY3VzOiBudWxsLFxuICAgIG9uSW5wdXQ6IG51bGwsXG4gICAgb25LZXlEb3duOiBudWxsLFxuICAgIG9uS2V5VXA6IG51bGwsXG4gICAgb25QYXN0ZTogbnVsbCxcbiAgICB0b29sdGlwOiBudWxsLFxuICAgIHRvb2x0aXBPcHRpb25zOiBudWxsLFxuICAgIHZhbGlkYXRlT25seTogZmFsc2UsXG4gICAgY2hpbGRyZW46IHVuZGVmaW5lZFxuICB9LFxuICBnZXRQcm9wczogZnVuY3Rpb24gZ2V0UHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0TWVyZ2VkUHJvcHMocHJvcHMsIElucHV0VGV4dGFyZWFCYXNlLmRlZmF1bHRQcm9wcyk7XG4gIH0sXG4gIGdldE90aGVyUHJvcHM6IGZ1bmN0aW9uIGdldE90aGVyUHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0RGlmZlByb3BzKHByb3BzLCBJbnB1dFRleHRhcmVhQmFzZS5kZWZhdWx0UHJvcHMpO1xuICB9XG59O1xuXG52YXIgSW5wdXRUZXh0YXJlYSA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKCAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAoaW5Qcm9wcywgcmVmKSB7XG4gIHZhciBwcm9wcyA9IElucHV0VGV4dGFyZWFCYXNlLmdldFByb3BzKGluUHJvcHMpO1xuICB2YXIgZWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZihyZWYpO1xuICB2YXIgY2FjaGVkU2Nyb2xsSGVpZ2h0ID0gUmVhY3QudXNlUmVmKDApO1xuICB2YXIgb25Gb2N1cyA9IGZ1bmN0aW9uIG9uRm9jdXMoZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuYXV0b1Jlc2l6ZSkge1xuICAgICAgcmVzaXplKCk7XG4gICAgfVxuICAgIHByb3BzLm9uRm9jdXMgJiYgcHJvcHMub25Gb2N1cyhldmVudCk7XG4gIH07XG4gIHZhciBvbkJsdXIgPSBmdW5jdGlvbiBvbkJsdXIoZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuYXV0b1Jlc2l6ZSkge1xuICAgICAgcmVzaXplKCk7XG4gICAgfVxuICAgIHByb3BzLm9uQmx1ciAmJiBwcm9wcy5vbkJsdXIoZXZlbnQpO1xuICB9O1xuICB2YXIgb25LZXlVcCA9IGZ1bmN0aW9uIG9uS2V5VXAoZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuYXV0b1Jlc2l6ZSkge1xuICAgICAgcmVzaXplKCk7XG4gICAgfVxuICAgIHByb3BzLm9uS2V5VXAgJiYgcHJvcHMub25LZXlVcChldmVudCk7XG4gIH07XG4gIHZhciBvbktleURvd24gPSBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcbiAgICBwcm9wcy5vbktleURvd24gJiYgcHJvcHMub25LZXlEb3duKGV2ZW50KTtcbiAgICBpZiAocHJvcHMua2V5ZmlsdGVyKSB7XG4gICAgICBLZXlGaWx0ZXIub25LZXlQcmVzcyhldmVudCwgcHJvcHMua2V5ZmlsdGVyLCBwcm9wcy52YWxpZGF0ZU9ubHkpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uUGFzdGUgPSBmdW5jdGlvbiBvblBhc3RlKGV2ZW50KSB7XG4gICAgcHJvcHMub25QYXN0ZSAmJiBwcm9wcy5vblBhc3RlKGV2ZW50KTtcbiAgICBpZiAocHJvcHMua2V5ZmlsdGVyKSB7XG4gICAgICBLZXlGaWx0ZXIub25QYXN0ZShldmVudCwgcHJvcHMua2V5ZmlsdGVyLCBwcm9wcy52YWxpZGF0ZU9ubHkpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uSW5wdXQgPSBmdW5jdGlvbiBvbklucHV0KGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLmF1dG9SZXNpemUpIHtcbiAgICAgIHJlc2l6ZSgpO1xuICAgIH1cbiAgICBwcm9wcy5vbklucHV0ICYmIHByb3BzLm9uSW5wdXQoZXZlbnQpO1xuICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgT2JqZWN0VXRpbHMuaXNOb3RFbXB0eSh0YXJnZXQudmFsdWUpID8gRG9tSGFuZGxlci5hZGRDbGFzcyh0YXJnZXQsICdwLWZpbGxlZCcpIDogRG9tSGFuZGxlci5yZW1vdmVDbGFzcyh0YXJnZXQsICdwLWZpbGxlZCcpO1xuICB9O1xuICB2YXIgcmVzaXplID0gZnVuY3Rpb24gcmVzaXplKGluaXRpYWwpIHtcbiAgICB2YXIgaW5wdXRFbCA9IGVsZW1lbnRSZWYuY3VycmVudDtcbiAgICBpZiAoaW5wdXRFbCAmJiBEb21IYW5kbGVyLmlzVmlzaWJsZShpbnB1dEVsKSkge1xuICAgICAgaWYgKCFjYWNoZWRTY3JvbGxIZWlnaHQuY3VycmVudCkge1xuICAgICAgICBjYWNoZWRTY3JvbGxIZWlnaHQuY3VycmVudCA9IGlucHV0RWwuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICBpbnB1dEVsLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICB9XG4gICAgICBpZiAoY2FjaGVkU2Nyb2xsSGVpZ2h0LmN1cnJlbnQgIT09IGlucHV0RWwuc2Nyb2xsSGVpZ2h0IHx8IGluaXRpYWwpIHtcbiAgICAgICAgaW5wdXRFbC5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgICAgaW5wdXRFbC5zdHlsZS5oZWlnaHQgPSBpbnB1dEVsLnNjcm9sbEhlaWdodCArICdweCc7XG4gICAgICAgIGlmIChwYXJzZUZsb2F0KGlucHV0RWwuc3R5bGUuaGVpZ2h0KSA+PSBwYXJzZUZsb2F0KGlucHV0RWwuc3R5bGUubWF4SGVpZ2h0KSkge1xuICAgICAgICAgIGlucHV0RWwuc3R5bGUub3ZlcmZsb3dZID0gJ3Njcm9sbCc7XG4gICAgICAgICAgaW5wdXRFbC5zdHlsZS5oZWlnaHQgPSBpbnB1dEVsLnN0eWxlLm1heEhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnB1dEVsLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgIH1cbiAgICAgICAgY2FjaGVkU2Nyb2xsSGVpZ2h0LmN1cnJlbnQgPSBpbnB1dEVsLnNjcm9sbEhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBjdXJyZW50VmFsdWUgPSBlbGVtZW50UmVmLmN1cnJlbnQgJiYgZWxlbWVudFJlZi5jdXJyZW50LnZhbHVlO1xuICB2YXIgaXNGaWxsZWQgPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy52YWx1ZSkgfHwgT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy5kZWZhdWx0VmFsdWUpIHx8IE9iamVjdFV0aWxzLmlzTm90RW1wdHkoY3VycmVudFZhbHVlKTtcbiAgfSwgW3Byb3BzLnZhbHVlLCBwcm9wcy5kZWZhdWx0VmFsdWUsIGN1cnJlbnRWYWx1ZV0pO1xuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIE9iamVjdFV0aWxzLmNvbWJpbmVkUmVmcyhlbGVtZW50UmVmLCByZWYpO1xuICB9LCBbZWxlbWVudFJlZiwgcmVmXSk7XG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHByb3BzLmF1dG9SZXNpemUpIHtcbiAgICAgIHJlc2l6ZSh0cnVlKTtcbiAgICB9XG4gIH0sIFtwcm9wcy5hdXRvUmVzaXplXSk7XG4gIHZhciBoYXNUb29sdGlwID0gT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy50b29sdGlwKTtcbiAgdmFyIG90aGVyUHJvcHMgPSBJbnB1dFRleHRhcmVhQmFzZS5nZXRPdGhlclByb3BzKHByb3BzKTtcbiAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtaW5wdXR0ZXh0YXJlYSBwLWlucHV0dGV4dCBwLWNvbXBvbmVudCcsIHtcbiAgICAncC1kaXNhYmxlZCc6IHByb3BzLmRpc2FibGVkLFxuICAgICdwLWZpbGxlZCc6IGlzRmlsbGVkLFxuICAgICdwLWlucHV0dGV4dGFyZWEtcmVzaXphYmxlJzogcHJvcHMuYXV0b1Jlc2l6ZVxuICB9LCBwcm9wcy5jbGFzc05hbWUpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogZWxlbWVudFJlZlxuICB9LCBvdGhlclByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgb25Gb2N1czogb25Gb2N1cyxcbiAgICBvbkJsdXI6IG9uQmx1cixcbiAgICBvbktleVVwOiBvbktleVVwLFxuICAgIG9uS2V5RG93bjogb25LZXlEb3duLFxuICAgIG9uSW5wdXQ6IG9uSW5wdXQsXG4gICAgb25QYXN0ZTogb25QYXN0ZVxuICB9KSksIGhhc1Rvb2x0aXAgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwgX2V4dGVuZHMoe1xuICAgIHRhcmdldDogZWxlbWVudFJlZixcbiAgICBjb250ZW50OiBwcm9wcy50b29sdGlwXG4gIH0sIHByb3BzLnRvb2x0aXBPcHRpb25zKSkpO1xufSkpO1xuSW5wdXRUZXh0YXJlYS5kaXNwbGF5TmFtZSA9ICdJbnB1dFRleHRhcmVhJztcblxuZXhwb3J0IHsgSW5wdXRUZXh0YXJlYSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/primereact/inputtextarea/inputtextarea.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/keyfilter/keyfilter.esm.js":
/*!************************************************************!*\
  !*** ./node_modules/primereact/keyfilter/keyfilter.esm.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"KeyFilter\": function() { return /* binding */ KeyFilter; }\n/* harmony export */ });\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nvar KeyFilter = {\n  /* eslint-disable */\n  DEFAULT_MASKS: {\n    pint: /[\\d]/,\n    \"int\": /[\\d\\-]/,\n    pnum: /[\\d\\.]/,\n    money: /[\\d\\.\\s,]/,\n    num: /[\\d\\-\\.]/,\n    hex: /[0-9a-f]/i,\n    email: /[a-z0-9_\\.\\-@]/i,\n    alpha: /[a-z_]/i,\n    alphanum: /[a-z0-9_]/i\n  },\n  /* eslint-enable */getRegex: function getRegex(keyfilter) {\n    return KeyFilter.DEFAULT_MASKS[keyfilter] ? KeyFilter.DEFAULT_MASKS[keyfilter] : keyfilter;\n  },\n  onKeyPress: function onKeyPress(e, keyfilter, validateOnly) {\n    if (validateOnly) {\n      return;\n    }\n    if (e.ctrlKey || e.altKey) {\n      return;\n    }\n    var isPrintableKey = e.key.length === 1;\n    if (!isPrintableKey) {\n      return;\n    }\n    var regex = this.getRegex(keyfilter);\n    if (!regex.test(e.key)) {\n      e.preventDefault();\n    }\n  },\n  onPaste: function onPaste(e, keyfilter, validateOnly) {\n    if (validateOnly) {\n      return;\n    }\n    var regex = this.getRegex(keyfilter);\n    var clipboard = e.clipboardData.getData('text');\n\n    // loop over each letter pasted and if any fail prevent the paste\n    _toConsumableArray(clipboard).forEach(function (c) {\n      if (!regex.test(c)) {\n        e.preventDefault();\n        return false;\n      }\n    });\n  },\n  validate: function validate(e, keyfilter) {\n    var value = e.target.value,\n      validatePattern = true;\n    var regex = this.getRegex(keyfilter);\n    if (value && !regex.test(value)) {\n      validatePattern = false;\n    }\n    return validatePattern;\n  }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9rZXlmaWx0ZXIva2V5ZmlsdGVyLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBLHlDQUF5QyxTQUFTO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVxQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9rZXlmaWx0ZXIva2V5ZmlsdGVyLmVzbS5qcz82ZmNlIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpO1xufVxuXG52YXIgS2V5RmlsdGVyID0ge1xuICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICBERUZBVUxUX01BU0tTOiB7XG4gICAgcGludDogL1tcXGRdLyxcbiAgICBcImludFwiOiAvW1xcZFxcLV0vLFxuICAgIHBudW06IC9bXFxkXFwuXS8sXG4gICAgbW9uZXk6IC9bXFxkXFwuXFxzLF0vLFxuICAgIG51bTogL1tcXGRcXC1cXC5dLyxcbiAgICBoZXg6IC9bMC05YS1mXS9pLFxuICAgIGVtYWlsOiAvW2EtejAtOV9cXC5cXC1AXS9pLFxuICAgIGFscGhhOiAvW2Etel9dL2ksXG4gICAgYWxwaGFudW06IC9bYS16MC05X10vaVxuICB9LFxuICAvKiBlc2xpbnQtZW5hYmxlICovZ2V0UmVnZXg6IGZ1bmN0aW9uIGdldFJlZ2V4KGtleWZpbHRlcikge1xuICAgIHJldHVybiBLZXlGaWx0ZXIuREVGQVVMVF9NQVNLU1trZXlmaWx0ZXJdID8gS2V5RmlsdGVyLkRFRkFVTFRfTUFTS1Nba2V5ZmlsdGVyXSA6IGtleWZpbHRlcjtcbiAgfSxcbiAgb25LZXlQcmVzczogZnVuY3Rpb24gb25LZXlQcmVzcyhlLCBrZXlmaWx0ZXIsIHZhbGlkYXRlT25seSkge1xuICAgIGlmICh2YWxpZGF0ZU9ubHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGUuY3RybEtleSB8fCBlLmFsdEtleSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgaXNQcmludGFibGVLZXkgPSBlLmtleS5sZW5ndGggPT09IDE7XG4gICAgaWYgKCFpc1ByaW50YWJsZUtleSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcmVnZXggPSB0aGlzLmdldFJlZ2V4KGtleWZpbHRlcik7XG4gICAgaWYgKCFyZWdleC50ZXN0KGUua2V5KSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSxcbiAgb25QYXN0ZTogZnVuY3Rpb24gb25QYXN0ZShlLCBrZXlmaWx0ZXIsIHZhbGlkYXRlT25seSkge1xuICAgIGlmICh2YWxpZGF0ZU9ubHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHJlZ2V4ID0gdGhpcy5nZXRSZWdleChrZXlmaWx0ZXIpO1xuICAgIHZhciBjbGlwYm9hcmQgPSBlLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgndGV4dCcpO1xuXG4gICAgLy8gbG9vcCBvdmVyIGVhY2ggbGV0dGVyIHBhc3RlZCBhbmQgaWYgYW55IGZhaWwgcHJldmVudCB0aGUgcGFzdGVcbiAgICBfdG9Db25zdW1hYmxlQXJyYXkoY2xpcGJvYXJkKS5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgICBpZiAoIXJlZ2V4LnRlc3QoYykpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIHZhbGlkYXRlOiBmdW5jdGlvbiB2YWxpZGF0ZShlLCBrZXlmaWx0ZXIpIHtcbiAgICB2YXIgdmFsdWUgPSBlLnRhcmdldC52YWx1ZSxcbiAgICAgIHZhbGlkYXRlUGF0dGVybiA9IHRydWU7XG4gICAgdmFyIHJlZ2V4ID0gdGhpcy5nZXRSZWdleChrZXlmaWx0ZXIpO1xuICAgIGlmICh2YWx1ZSAmJiAhcmVnZXgudGVzdCh2YWx1ZSkpIHtcbiAgICAgIHZhbGlkYXRlUGF0dGVybiA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsaWRhdGVQYXR0ZXJuO1xuICB9XG59O1xuXG5leHBvcnQgeyBLZXlGaWx0ZXIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/primereact/keyfilter/keyfilter.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/messages/messages.esm.js":
/*!**********************************************************!*\
  !*** ./node_modules/primereact/messages/messages.esm.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Messages\": function() { return /* binding */ Messages; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-transition-group */ \"./node_modules/react-transition-group/esm/index.js\");\n/* harmony import */ var primereact_csstransition__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/csstransition */ \"./node_modules/primereact/csstransition/csstransition.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n/* harmony import */ var primereact_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/api */ \"./node_modules/primereact/api/api.esm.js\");\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_ripple__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/ripple */ \"./node_modules/primereact/ripple/ripple.esm.js\");\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar MessagesBase = {\n  defaultProps: {\n    __TYPE: 'Messages',\n    id: null,\n    className: null,\n    style: null,\n    transitionOptions: null,\n    onRemove: null,\n    onClick: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, MessagesBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, MessagesBase.defaultProps);\n  }\n};\n\nvar UIMessage = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var _props$message = props.message,\n    severity = _props$message.severity,\n    content = _props$message.content,\n    summary = _props$message.summary,\n    detail = _props$message.detail,\n    closable = _props$message.closable,\n    life = _props$message.life,\n    sticky = _props$message.sticky,\n    icon = _props$message.icon;\n  var _useTimeout = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useTimeout)(function () {\n      onClose(null);\n    }, life || 3000, !sticky),\n    _useTimeout2 = _slicedToArray(_useTimeout, 1),\n    clearTimer = _useTimeout2[0];\n  var onClose = function onClose(event) {\n    clearTimer();\n    props.onClose && props.onClose(props.message);\n    if (event) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  };\n  var onClick = function onClick() {\n    props.onClick && props.onClick(props.message);\n  };\n  var createCloseIcon = function createCloseIcon() {\n    if (closable !== false) {\n      var ariaLabel = (0,primereact_api__WEBPACK_IMPORTED_MODULE_3__.localeOption)('close');\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        type: \"button\",\n        className: \"p-message-close p-link\",\n        \"aria-label\": ariaLabel,\n        onClick: onClose\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: \"p-message-close-icon pi pi-times\",\n        \"aria-hidden\": \"true\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_4__.Ripple, null));\n    }\n    return null;\n  };\n  var createMessage = function createMessage() {\n    if (props.message) {\n      var iconValue = icon;\n      if (!iconValue) {\n        iconValue = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('pi', {\n          'pi-info-circle': severity === 'info',\n          'pi-exclamation-triangle': severity === 'warn',\n          'pi-times-circle': severity === 'error',\n          'pi-check': severity === 'success'\n        });\n      }\n      var iconContent = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.IconUtils.getJSXIcon(iconValue, {\n        className: 'p-message-icon'\n      }, {\n        props: props\n      });\n      return content || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, iconContent, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-message-summary\"\n      }, summary), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-message-detail\"\n      }, detail));\n    }\n    return null;\n  };\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-message p-component p-message-' + severity);\n  var closeIcon = createCloseIcon();\n  var message = createMessage();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    ref: ref,\n    className: className,\n    onClick: onClick\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-message-wrapper\"\n  }, message, closeIcon));\n}));\nUIMessage.displayName = 'UIMessage';\n\nvar messageIdx = 0;\nvar Messages = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (inProps, ref) {\n  var props = MessagesBase.getProps(inProps);\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    messagesState = _React$useState2[0],\n    setMessagesState = _React$useState2[1];\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var show = function show(value) {\n    if (value) {\n      var messages = assignIdentifiers(value, true);\n      if (Array.isArray(value)) {\n        for (var i = 0; i < value.length; i++) {\n          value[i].id = messageIdx++;\n          messages = [].concat(_toConsumableArray(messagesState), _toConsumableArray(value));\n        }\n      } else {\n        value.id = messageIdx++;\n        messages = messagesState ? [].concat(_toConsumableArray(messagesState), [value]) : [value];\n      }\n      setMessagesState(messages);\n    }\n  };\n  var assignIdentifiers = function assignIdentifiers(value, copy) {\n    var messages;\n    if (Array.isArray(value)) {\n      for (var i = 0; i < value.length; i++) {\n        value[i].id = messageIdx++;\n        if (copy) {\n          messages = [].concat(_toConsumableArray(messagesState), _toConsumableArray(value));\n        } else {\n          messages = value;\n        }\n      }\n    } else {\n      value.id = messageIdx++;\n      if (copy) {\n        messages = messagesState ? [].concat(_toConsumableArray(messagesState), [value]) : [value];\n      } else {\n        messages = [value];\n      }\n    }\n    return messages;\n  };\n  var clear = function clear() {\n    setMessagesState([]);\n  };\n  var replace = function replace(value) {\n    var replaced = assignIdentifiers(value, false);\n    setMessagesState(replaced);\n  };\n  var onClose = function onClose(message) {\n    setMessagesState(messagesState.filter(function (msg) {\n      return msg.id !== message.id;\n    }));\n    props.onRemove && props.onRemove(message);\n  };\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      show: show,\n      replace: replace,\n      clear: clear,\n      getElement: function getElement() {\n        return elementRef.current;\n      }\n    };\n  });\n  var otherProps = MessagesBase.getOtherProps(props);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n    id: props.id,\n    ref: elementRef,\n    className: props.className,\n    style: props.style\n  }, otherProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_transition_group__WEBPACK_IMPORTED_MODULE_5__.TransitionGroup, null, messagesState && messagesState.map(function (message) {\n    var messageRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createRef();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_csstransition__WEBPACK_IMPORTED_MODULE_6__.CSSTransition, {\n      nodeRef: messageRef,\n      key: message.id,\n      classNames: \"p-message\",\n      unmountOnExit: true,\n      timeout: {\n        enter: 300,\n        exit: 300\n      },\n      options: props.transitionOptions\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(UIMessage, {\n      ref: messageRef,\n      message: message,\n      onClick: props.onClick,\n      onClose: onClose\n    }));\n  })));\n}));\nMessages.displayName = 'Messages';\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9tZXNzYWdlcy9tZXNzYWdlcy5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQStCO0FBQzBCO0FBQ0E7QUFDYTtBQUN4QjtBQUNBO0FBQ0g7O0FBRTNDO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlDQUF5QyxTQUFTO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLFlBQVksNkVBQTZFO0FBQ2pHLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsV0FBVyx3RUFBMEI7QUFDckMsR0FBRztBQUNIO0FBQ0EsV0FBVyxzRUFBd0I7QUFDbkM7QUFDQTs7QUFFQSw2QkFBNkIsdUNBQVUsZUFBZSw2Q0FBZ0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDREQUFVO0FBQzlCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0REFBWTtBQUNsQywwQkFBMEIsZ0RBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxlQUFlLGdEQUFtQjtBQUN6QztBQUNBO0FBQ0EsT0FBTyxnQkFBZ0IsZ0RBQW1CLENBQUMscURBQU07QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNERBQVU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSx3QkFBd0Isa0VBQW9CO0FBQzVDO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQLHFDQUFxQyxnREFBbUIsQ0FBQywyQ0FBYyxrQ0FBa0MsZ0RBQW1CO0FBQzVIO0FBQ0EsT0FBTyx5QkFBeUIsZ0RBQW1CO0FBQ25EO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw0REFBVTtBQUM1QjtBQUNBO0FBQ0Esc0JBQXNCLGdEQUFtQjtBQUN6QztBQUNBO0FBQ0E7QUFDQSxHQUFHLGVBQWUsZ0RBQW1CO0FBQ3JDO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDs7QUFFQTtBQUNBLDRCQUE0Qix1Q0FBVSxlQUFlLDZDQUFnQjtBQUNyRTtBQUNBLHdCQUF3QiwyQ0FBYztBQUN0QztBQUNBO0FBQ0E7QUFDQSxtQkFBbUIseUNBQVk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0JBQWtCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isa0JBQWtCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsRUFBRSxzREFBeUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esc0JBQXNCLGdEQUFtQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsNEJBQTRCLGdEQUFtQixDQUFDLG1FQUFlO0FBQ2xFLGtDQUFrQyw0Q0FBZTtBQUNqRCx3QkFBd0IsZ0RBQW1CLENBQUMsbUVBQWE7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLLGVBQWUsZ0RBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7O0FBRW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcmltZXJlYWN0L21lc3NhZ2VzL21lc3NhZ2VzLmVzbS5qcz9iZTNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRyYW5zaXRpb25Hcm91cCB9IGZyb20gJ3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAnO1xuaW1wb3J0IHsgQ1NTVHJhbnNpdGlvbiB9IGZyb20gJ3ByaW1lcmVhY3QvY3NzdHJhbnNpdGlvbic7XG5pbXBvcnQgeyBPYmplY3RVdGlscywgY2xhc3NOYW1lcywgSWNvblV0aWxzIH0gZnJvbSAncHJpbWVyZWFjdC91dGlscyc7XG5pbXBvcnQgeyBsb2NhbGVPcHRpb24gfSBmcm9tICdwcmltZXJlYWN0L2FwaSc7XG5pbXBvcnQgeyB1c2VUaW1lb3V0IH0gZnJvbSAncHJpbWVyZWFjdC9ob29rcyc7XG5pbXBvcnQgeyBSaXBwbGUgfSBmcm9tICdwcmltZXJlYWN0L3JpcHBsZSc7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuICByZXR1cm4gYXJyMjtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IG51bGwgPT0gYXJyID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdO1xuICBpZiAobnVsbCAhPSBfaSkge1xuICAgIHZhciBfcyxcbiAgICAgIF9lLFxuICAgICAgX3gsXG4gICAgICBfcixcbiAgICAgIF9hcnIgPSBbXSxcbiAgICAgIF9uID0gITAsXG4gICAgICBfZCA9ICExO1xuICAgIHRyeSB7XG4gICAgICBpZiAoX3ggPSAoX2kgPSBfaS5jYWxsKGFycikpLm5leHQsIDAgPT09IGkpIHtcbiAgICAgICAgaWYgKE9iamVjdChfaSkgIT09IF9pKSByZXR1cm47XG4gICAgICAgIF9uID0gITE7XG4gICAgICB9IGVsc2UgZm9yICg7ICEoX24gPSAoX3MgPSBfeC5jYWxsKF9pKSkuZG9uZSkgJiYgKF9hcnIucHVzaChfcy52YWx1ZSksIF9hcnIubGVuZ3RoICE9PSBpKTsgX24gPSAhMCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZCA9ICEwLCBfZSA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFfbiAmJiBudWxsICE9IF9pW1wicmV0dXJuXCJdICYmIChfciA9IF9pW1wicmV0dXJuXCJdKCksIE9iamVjdChfcikgIT09IF9yKSkgcmV0dXJuO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF9hcnI7XG4gIH1cbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7XG59XG5cbnZhciBNZXNzYWdlc0Jhc2UgPSB7XG4gIGRlZmF1bHRQcm9wczoge1xuICAgIF9fVFlQRTogJ01lc3NhZ2VzJyxcbiAgICBpZDogbnVsbCxcbiAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgc3R5bGU6IG51bGwsXG4gICAgdHJhbnNpdGlvbk9wdGlvbnM6IG51bGwsXG4gICAgb25SZW1vdmU6IG51bGwsXG4gICAgb25DbGljazogbnVsbCxcbiAgICBjaGlsZHJlbjogdW5kZWZpbmVkXG4gIH0sXG4gIGdldFByb3BzOiBmdW5jdGlvbiBnZXRQcm9wcyhwcm9wcykge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5nZXRNZXJnZWRQcm9wcyhwcm9wcywgTWVzc2FnZXNCYXNlLmRlZmF1bHRQcm9wcyk7XG4gIH0sXG4gIGdldE90aGVyUHJvcHM6IGZ1bmN0aW9uIGdldE90aGVyUHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0RGlmZlByb3BzKHByb3BzLCBNZXNzYWdlc0Jhc2UuZGVmYXVsdFByb3BzKTtcbiAgfVxufTtcblxudmFyIFVJTWVzc2FnZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKCAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgX3Byb3BzJG1lc3NhZ2UgPSBwcm9wcy5tZXNzYWdlLFxuICAgIHNldmVyaXR5ID0gX3Byb3BzJG1lc3NhZ2Uuc2V2ZXJpdHksXG4gICAgY29udGVudCA9IF9wcm9wcyRtZXNzYWdlLmNvbnRlbnQsXG4gICAgc3VtbWFyeSA9IF9wcm9wcyRtZXNzYWdlLnN1bW1hcnksXG4gICAgZGV0YWlsID0gX3Byb3BzJG1lc3NhZ2UuZGV0YWlsLFxuICAgIGNsb3NhYmxlID0gX3Byb3BzJG1lc3NhZ2UuY2xvc2FibGUsXG4gICAgbGlmZSA9IF9wcm9wcyRtZXNzYWdlLmxpZmUsXG4gICAgc3RpY2t5ID0gX3Byb3BzJG1lc3NhZ2Uuc3RpY2t5LFxuICAgIGljb24gPSBfcHJvcHMkbWVzc2FnZS5pY29uO1xuICB2YXIgX3VzZVRpbWVvdXQgPSB1c2VUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIG9uQ2xvc2UobnVsbCk7XG4gICAgfSwgbGlmZSB8fCAzMDAwLCAhc3RpY2t5KSxcbiAgICBfdXNlVGltZW91dDIgPSBfc2xpY2VkVG9BcnJheShfdXNlVGltZW91dCwgMSksXG4gICAgY2xlYXJUaW1lciA9IF91c2VUaW1lb3V0MlswXTtcbiAgdmFyIG9uQ2xvc2UgPSBmdW5jdGlvbiBvbkNsb3NlKGV2ZW50KSB7XG4gICAgY2xlYXJUaW1lcigpO1xuICAgIHByb3BzLm9uQ2xvc2UgJiYgcHJvcHMub25DbG9zZShwcm9wcy5tZXNzYWdlKTtcbiAgICBpZiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH07XG4gIHZhciBvbkNsaWNrID0gZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICBwcm9wcy5vbkNsaWNrICYmIHByb3BzLm9uQ2xpY2socHJvcHMubWVzc2FnZSk7XG4gIH07XG4gIHZhciBjcmVhdGVDbG9zZUljb24gPSBmdW5jdGlvbiBjcmVhdGVDbG9zZUljb24oKSB7XG4gICAgaWYgKGNsb3NhYmxlICE9PSBmYWxzZSkge1xuICAgICAgdmFyIGFyaWFMYWJlbCA9IGxvY2FsZU9wdGlvbignY2xvc2UnKTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJwLW1lc3NhZ2UtY2xvc2UgcC1saW5rXCIsXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBhcmlhTGFiZWwsXG4gICAgICAgIG9uQ2xpY2s6IG9uQ2xvc2VcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaVwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLW1lc3NhZ2UtY2xvc2UtaWNvbiBwaSBwaS10aW1lc1wiLFxuICAgICAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmlwcGxlLCBudWxsKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICB2YXIgY3JlYXRlTWVzc2FnZSA9IGZ1bmN0aW9uIGNyZWF0ZU1lc3NhZ2UoKSB7XG4gICAgaWYgKHByb3BzLm1lc3NhZ2UpIHtcbiAgICAgIHZhciBpY29uVmFsdWUgPSBpY29uO1xuICAgICAgaWYgKCFpY29uVmFsdWUpIHtcbiAgICAgICAgaWNvblZhbHVlID0gY2xhc3NOYW1lcygncGknLCB7XG4gICAgICAgICAgJ3BpLWluZm8tY2lyY2xlJzogc2V2ZXJpdHkgPT09ICdpbmZvJyxcbiAgICAgICAgICAncGktZXhjbGFtYXRpb24tdHJpYW5nbGUnOiBzZXZlcml0eSA9PT0gJ3dhcm4nLFxuICAgICAgICAgICdwaS10aW1lcy1jaXJjbGUnOiBzZXZlcml0eSA9PT0gJ2Vycm9yJyxcbiAgICAgICAgICAncGktY2hlY2snOiBzZXZlcml0eSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdmFyIGljb25Db250ZW50ID0gSWNvblV0aWxzLmdldEpTWEljb24oaWNvblZhbHVlLCB7XG4gICAgICAgIGNsYXNzTmFtZTogJ3AtbWVzc2FnZS1pY29uJ1xuICAgICAgfSwge1xuICAgICAgICBwcm9wczogcHJvcHNcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNvbnRlbnQgfHwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGljb25Db250ZW50LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1tZXNzYWdlLXN1bW1hcnlcIlxuICAgICAgfSwgc3VtbWFyeSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLW1lc3NhZ2UtZGV0YWlsXCJcbiAgICAgIH0sIGRldGFpbCkpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtbWVzc2FnZSBwLWNvbXBvbmVudCBwLW1lc3NhZ2UtJyArIHNldmVyaXR5KTtcbiAgdmFyIGNsb3NlSWNvbiA9IGNyZWF0ZUNsb3NlSWNvbigpO1xuICB2YXIgbWVzc2FnZSA9IGNyZWF0ZU1lc3NhZ2UoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICByZWY6IHJlZixcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICBvbkNsaWNrOiBvbkNsaWNrXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwicC1tZXNzYWdlLXdyYXBwZXJcIlxuICB9LCBtZXNzYWdlLCBjbG9zZUljb24pKTtcbn0pKTtcblVJTWVzc2FnZS5kaXNwbGF5TmFtZSA9ICdVSU1lc3NhZ2UnO1xuXG52YXIgbWVzc2FnZUlkeCA9IDA7XG52YXIgTWVzc2FnZXMgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyggLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKGluUHJvcHMsIHJlZikge1xuICB2YXIgcHJvcHMgPSBNZXNzYWdlc0Jhc2UuZ2V0UHJvcHMoaW5Qcm9wcyk7XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShbXSksXG4gICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgbWVzc2FnZXNTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgc2V0TWVzc2FnZXNTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG4gIHZhciBlbGVtZW50UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgc2hvdyA9IGZ1bmN0aW9uIHNob3codmFsdWUpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHZhciBtZXNzYWdlcyA9IGFzc2lnbklkZW50aWZpZXJzKHZhbHVlLCB0cnVlKTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFsdWVbaV0uaWQgPSBtZXNzYWdlSWR4Kys7XG4gICAgICAgICAgbWVzc2FnZXMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KG1lc3NhZ2VzU3RhdGUpLCBfdG9Db25zdW1hYmxlQXJyYXkodmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUuaWQgPSBtZXNzYWdlSWR4Kys7XG4gICAgICAgIG1lc3NhZ2VzID0gbWVzc2FnZXNTdGF0ZSA/IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobWVzc2FnZXNTdGF0ZSksIFt2YWx1ZV0pIDogW3ZhbHVlXTtcbiAgICAgIH1cbiAgICAgIHNldE1lc3NhZ2VzU3RhdGUobWVzc2FnZXMpO1xuICAgIH1cbiAgfTtcbiAgdmFyIGFzc2lnbklkZW50aWZpZXJzID0gZnVuY3Rpb24gYXNzaWduSWRlbnRpZmllcnModmFsdWUsIGNvcHkpIHtcbiAgICB2YXIgbWVzc2FnZXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlW2ldLmlkID0gbWVzc2FnZUlkeCsrO1xuICAgICAgICBpZiAoY29weSkge1xuICAgICAgICAgIG1lc3NhZ2VzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShtZXNzYWdlc1N0YXRlKSwgX3RvQ29uc3VtYWJsZUFycmF5KHZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWVzc2FnZXMgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZS5pZCA9IG1lc3NhZ2VJZHgrKztcbiAgICAgIGlmIChjb3B5KSB7XG4gICAgICAgIG1lc3NhZ2VzID0gbWVzc2FnZXNTdGF0ZSA/IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobWVzc2FnZXNTdGF0ZSksIFt2YWx1ZV0pIDogW3ZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2VzID0gW3ZhbHVlXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2VzO1xuICB9O1xuICB2YXIgY2xlYXIgPSBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICBzZXRNZXNzYWdlc1N0YXRlKFtdKTtcbiAgfTtcbiAgdmFyIHJlcGxhY2UgPSBmdW5jdGlvbiByZXBsYWNlKHZhbHVlKSB7XG4gICAgdmFyIHJlcGxhY2VkID0gYXNzaWduSWRlbnRpZmllcnModmFsdWUsIGZhbHNlKTtcbiAgICBzZXRNZXNzYWdlc1N0YXRlKHJlcGxhY2VkKTtcbiAgfTtcbiAgdmFyIG9uQ2xvc2UgPSBmdW5jdGlvbiBvbkNsb3NlKG1lc3NhZ2UpIHtcbiAgICBzZXRNZXNzYWdlc1N0YXRlKG1lc3NhZ2VzU3RhdGUuZmlsdGVyKGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgIHJldHVybiBtc2cuaWQgIT09IG1lc3NhZ2UuaWQ7XG4gICAgfSkpO1xuICAgIHByb3BzLm9uUmVtb3ZlICYmIHByb3BzLm9uUmVtb3ZlKG1lc3NhZ2UpO1xuICB9O1xuICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9wczogcHJvcHMsXG4gICAgICBzaG93OiBzaG93LFxuICAgICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICAgIGNsZWFyOiBjbGVhcixcbiAgICAgIGdldEVsZW1lbnQ6IGZ1bmN0aW9uIGdldEVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHZhciBvdGhlclByb3BzID0gTWVzc2FnZXNCYXNlLmdldE90aGVyUHJvcHMocHJvcHMpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX2V4dGVuZHMoe1xuICAgIGlkOiBwcm9wcy5pZCxcbiAgICByZWY6IGVsZW1lbnRSZWYsXG4gICAgY2xhc3NOYW1lOiBwcm9wcy5jbGFzc05hbWUsXG4gICAgc3R5bGU6IHByb3BzLnN0eWxlXG4gIH0sIG90aGVyUHJvcHMpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2l0aW9uR3JvdXAsIG51bGwsIG1lc3NhZ2VzU3RhdGUgJiYgbWVzc2FnZXNTdGF0ZS5tYXAoZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICB2YXIgbWVzc2FnZVJlZiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVSZWYoKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1NTVHJhbnNpdGlvbiwge1xuICAgICAgbm9kZVJlZjogbWVzc2FnZVJlZixcbiAgICAgIGtleTogbWVzc2FnZS5pZCxcbiAgICAgIGNsYXNzTmFtZXM6IFwicC1tZXNzYWdlXCIsXG4gICAgICB1bm1vdW50T25FeGl0OiB0cnVlLFxuICAgICAgdGltZW91dDoge1xuICAgICAgICBlbnRlcjogMzAwLFxuICAgICAgICBleGl0OiAzMDBcbiAgICAgIH0sXG4gICAgICBvcHRpb25zOiBwcm9wcy50cmFuc2l0aW9uT3B0aW9uc1xuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFVJTWVzc2FnZSwge1xuICAgICAgcmVmOiBtZXNzYWdlUmVmLFxuICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2ssXG4gICAgICBvbkNsb3NlOiBvbkNsb3NlXG4gICAgfSkpO1xuICB9KSkpO1xufSkpO1xuTWVzc2FnZXMuZGlzcGxheU5hbWUgPSAnTWVzc2FnZXMnO1xuXG5leHBvcnQgeyBNZXNzYWdlcyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/primereact/messages/messages.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/overlayservice/overlayservice.esm.js":
/*!**********************************************************************!*\
  !*** ./node_modules/primereact/overlayservice/overlayservice.esm.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OverlayService\": function() { return /* binding */ OverlayService; }\n/* harmony export */ });\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\nvar OverlayService = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_0__.EventBus)();\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9vdmVybGF5c2VydmljZS9vdmVybGF5c2VydmljZS5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEM7O0FBRTVDLHFCQUFxQiwwREFBUTs7QUFFSCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9vdmVybGF5c2VydmljZS9vdmVybGF5c2VydmljZS5lc20uanM/NDhhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gJ3ByaW1lcmVhY3QvdXRpbHMnO1xuXG52YXIgT3ZlcmxheVNlcnZpY2UgPSBFdmVudEJ1cygpO1xuXG5leHBvcnQgeyBPdmVybGF5U2VydmljZSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/primereact/overlayservice/overlayservice.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/paginator/paginator.esm.js":
/*!************************************************************!*\
  !*** ./node_modules/primereact/paginator/paginator.esm.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Paginator\": function() { return /* binding */ Paginator; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n/* harmony import */ var primereact_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/api */ \"./node_modules/primereact/api/api.esm.js\");\n/* harmony import */ var primereact_ripple__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/ripple */ \"./node_modules/primereact/ripple/ripple.esm.js\");\n/* harmony import */ var primereact_inputnumber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/inputnumber */ \"./node_modules/primereact/inputnumber/inputnumber.esm.js\");\n/* harmony import */ var primereact_dropdown__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/dropdown */ \"./node_modules/primereact/dropdown/dropdown.esm.js\");\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nvar PaginatorBase = {\n  defaultProps: {\n    __TYPE: 'Paginator',\n    totalRecords: 0,\n    rows: 0,\n    first: 0,\n    pageLinkSize: 5,\n    rowsPerPageOptions: null,\n    alwaysShow: true,\n    style: null,\n    className: null,\n    template: 'FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown',\n    onPageChange: null,\n    leftContent: null,\n    rightContent: null,\n    dropdownAppendTo: null,\n    currentPageReportTemplate: '({currentPage} of {totalPages})',\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, PaginatorBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, PaginatorBase.defaultProps);\n  }\n};\nvar CurrentPageReportBase = {\n  defaultProps: {\n    __TYPE: 'CurrentPageReport',\n    pageCount: null,\n    page: null,\n    first: null,\n    rows: null,\n    totalRecords: null,\n    reportTemplate: '({currentPage} of {totalPages})',\n    template: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, CurrentPageReportBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, CurrentPageReportBase.defaultProps);\n  }\n};\nvar FirstPageLinkBase = {\n  defaultProps: {\n    __TYPE: 'FirstPageLink',\n    disabled: false,\n    onClick: null,\n    template: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, FirstPageLinkBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, FirstPageLinkBase.defaultProps);\n  }\n};\nvar JumpToPageInputBase = {\n  defaultProps: {\n    __TYPE: 'JumpToPageInput',\n    page: null,\n    rows: null,\n    pageCount: null,\n    disabled: false,\n    template: null,\n    onChange: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, JumpToPageInputBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, JumpToPageInputBase.defaultProps);\n  }\n};\nvar LastPageLinkBase = {\n  defaultProps: {\n    __TYPE: 'LastPageLink',\n    disabled: false,\n    onClick: null,\n    template: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, LastPageLinkBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, LastPageLinkBase.defaultProps);\n  }\n};\nvar NextPageLinkBase = {\n  defaultProps: {\n    __TYPE: 'NextPageLink',\n    disabled: false,\n    onClick: null,\n    template: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, NextPageLinkBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, NextPageLinkBase.defaultProps);\n  }\n};\nvar PageLinksBase = {\n  defaultProps: {\n    __TYPE: 'PageLinks',\n    value: null,\n    page: null,\n    rows: null,\n    pageCount: null,\n    links: null,\n    template: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, PageLinksBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, PageLinksBase.defaultProps);\n  }\n};\nvar PrevPageLinkBase = {\n  defaultProps: {\n    __TYPE: 'PrevPageLink',\n    disabled: false,\n    onClick: null,\n    template: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, PrevPageLinkBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, PrevPageLinkBase.defaultProps);\n  }\n};\nvar RowsPerPageDropdownBase = {\n  defaultProps: {\n    __TYPE: 'RowsPerPageDropdown',\n    options: null,\n    value: null,\n    page: null,\n    pageCount: null,\n    totalRecords: 0,\n    appendTo: null,\n    onChange: null,\n    template: null,\n    disabled: false,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, RowsPerPageDropdownBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, RowsPerPageDropdownBase.defaultProps);\n  }\n};\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar CurrentPageReport = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (inProps) {\n  var props = CurrentPageReportBase.getProps(inProps);\n  var report = {\n    currentPage: props.page + 1,\n    totalPages: props.pageCount,\n    first: Math.min(props.first + 1, props.totalRecords),\n    last: Math.min(props.first + props.rows, props.totalRecords),\n    rows: props.rows,\n    totalRecords: props.totalRecords\n  };\n  var text = props.reportTemplate.replace('{currentPage}', report.currentPage).replace('{totalPages}', report.totalPages).replace('{first}', report.first).replace('{last}', report.last).replace('{rows}', report.rows).replace('{totalRecords}', report.totalRecords);\n  var element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"p-paginator-current\"\n  }, text);\n  if (props.template) {\n    var defaultOptions = _objectSpread(_objectSpread({}, report), {\n      className: 'p-paginator-current',\n      element: element,\n      props: props\n    });\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.template, defaultOptions);\n  }\n  return element;\n});\nCurrentPageReport.displayName = 'CurrentPageReport';\n\nvar FirstPageLink = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (inProps) {\n  var props = FirstPageLinkBase.getProps(inProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-paginator-first p-paginator-element p-link', {\n    'p-disabled': props.disabled\n  });\n  var iconClassName = 'p-paginator-icon pi pi-angle-double-left';\n  var element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n    type: \"button\",\n    className: className,\n    onClick: props.onClick,\n    disabled: props.disabled,\n    \"aria-label\": (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.ariaLabel)('firstPageLabel')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: iconClassName\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_3__.Ripple, null));\n  if (props.template) {\n    var defaultOptions = {\n      onClick: props.onClick,\n      className: className,\n      iconClassName: iconClassName,\n      disabled: props.disabled,\n      element: element,\n      props: props\n    };\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.template, defaultOptions);\n  }\n  return element;\n});\nFirstPageLink.displayName = 'FirstPageLink';\n\nvar JumpToPageInput = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (inProps) {\n  var props = JumpToPageInputBase.getProps(inProps);\n  var onChange = function onChange(event) {\n    if (props.onChange) {\n      props.onChange(props.rows * (event.value - 1), props.rows);\n    }\n  };\n  var value = props.pageCount > 0 ? props.page + 1 : 0;\n  var element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_inputnumber__WEBPACK_IMPORTED_MODULE_4__.InputNumber, {\n    value: value,\n    onChange: onChange,\n    className: \"p-paginator-page-input\",\n    disabled: props.disabled\n  });\n  if (props.template) {\n    var defaultOptions = {\n      value: value,\n      onChange: onChange,\n      disabled: props.disabled,\n      className: 'p-paginator-page-input',\n      element: element,\n      props: props\n    };\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.template, defaultOptions);\n  }\n  return element;\n});\nJumpToPageInput.displayName = 'JumpToPageInput';\n\nvar LastPageLink = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (inProps) {\n  var props = LastPageLinkBase.getProps(inProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-paginator-last p-paginator-element p-link', {\n    'p-disabled': props.disabled\n  });\n  var iconClassName = 'p-paginator-icon pi pi-angle-double-right';\n  var element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n    type: \"button\",\n    className: className,\n    onClick: props.onClick,\n    disabled: props.disabled,\n    \"aria-label\": (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.ariaLabel)('lastPageLabel')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: iconClassName\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_3__.Ripple, null));\n  if (props.template) {\n    var defaultOptions = {\n      onClick: props.onClick,\n      className: className,\n      iconClassName: iconClassName,\n      disabled: props.disabled,\n      element: element,\n      props: props\n    };\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.template, defaultOptions);\n  }\n  return element;\n});\nLastPageLink.displayName = 'LastPageLink';\n\nvar NextPageLink = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (inProps) {\n  var props = NextPageLinkBase.getProps(inProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-paginator-next p-paginator-element p-link', {\n    'p-disabled': props.disabled\n  });\n  var iconClassName = 'p-paginator-icon pi pi-angle-right';\n  var element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n    type: \"button\",\n    className: className,\n    onClick: props.onClick,\n    disabled: props.disabled,\n    \"aria-label\": (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.ariaLabel)('nextPageLabel')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: iconClassName\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_3__.Ripple, null));\n  if (props.template) {\n    var defaultOptions = {\n      onClick: props.onClick,\n      className: className,\n      iconClassName: iconClassName,\n      disabled: props.disabled,\n      element: element,\n      props: props\n    };\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.template, defaultOptions);\n  }\n  return element;\n});\nNextPageLink.displayName = 'NextPageLink';\n\nvar PageLinks = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (inProps) {\n  var props = PageLinksBase.getProps(inProps);\n  var onPageLinkClick = function onPageLinkClick(event, pageLink) {\n    if (props.onClick) {\n      props.onClick({\n        originalEvent: event,\n        value: pageLink\n      });\n    }\n    event.preventDefault();\n  };\n  var elements;\n  if (props.value) {\n    var startPageInView = props.value[0];\n    var endPageInView = props.value[props.value.length - 1];\n    elements = props.value.map(function (pageLink) {\n      var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-paginator-page p-paginator-element p-link', {\n        'p-paginator-page-start': pageLink === startPageInView,\n        'p-paginator-page-end': pageLink === endPageInView,\n        'p-highlight': pageLink - 1 === props.page\n      });\n      var element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        type: \"button\",\n        className: className,\n        onClick: function onClick(e) {\n          return onPageLinkClick(e, pageLink);\n        },\n        \"aria-label\": \"\".concat((0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.ariaLabel)('pageLabel'), \" \").concat(pageLink + 1)\n      }, pageLink, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_3__.Ripple, null));\n      if (props.template) {\n        var defaultOptions = {\n          onClick: function onClick(e) {\n            return onPageLinkClick(e, pageLink);\n          },\n          className: className,\n          view: {\n            startPage: startPageInView - 1,\n            endPage: endPageInView - 1\n          },\n          page: pageLink - 1,\n          currentPage: props.page,\n          totalPages: props.pageCount,\n          element: element,\n          props: props\n        };\n        element = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.template, defaultOptions);\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        key: pageLink\n      }, element);\n    });\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"p-paginator-pages\"\n  }, elements);\n});\nPageLinks.displayName = 'PageLinks';\n\nvar PrevPageLink = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (inProps) {\n  var props = PrevPageLinkBase.getProps(inProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-paginator-prev p-paginator-element p-link', {\n    'p-disabled': props.disabled\n  });\n  var iconClassName = 'p-paginator-icon pi pi-angle-left';\n  var element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n    type: \"button\",\n    className: className,\n    onClick: props.onClick,\n    disabled: props.disabled,\n    \"aria-label\": (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.ariaLabel)('previousPageLabel')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: iconClassName\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_3__.Ripple, null));\n  if (props.template) {\n    var defaultOptions = {\n      onClick: props.onClick,\n      className: className,\n      iconClassName: iconClassName,\n      disabled: props.disabled,\n      element: element,\n      props: props\n    };\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.template, defaultOptions);\n  }\n  return element;\n});\nPrevPageLink.displayName = 'PrevPageLink';\n\nvar RowsPerPageDropdown = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (inProps) {\n  var props = RowsPerPageDropdownBase.getProps(inProps);\n  var hasOptions = props.options && props.options.length > 0;\n  var options = hasOptions ? props.options.map(function (opt) {\n    return {\n      label: String(opt),\n      value: opt\n    };\n  }) : [];\n  var ariaLabel = (0,primereact_api__WEBPACK_IMPORTED_MODULE_2__.localeOption)('choose');\n  var element = hasOptions ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_dropdown__WEBPACK_IMPORTED_MODULE_5__.Dropdown, {\n    value: props.value,\n    options: options,\n    onChange: props.onChange,\n    appendTo: props.appendTo,\n    disabled: props.disabled,\n    placeholder: ariaLabel,\n    \"aria-label\": ariaLabel\n  }) : null;\n  if (props.template) {\n    var defaultOptions = {\n      value: props.value,\n      options: options,\n      onChange: props.onChange,\n      appendTo: props.appendTo,\n      currentPage: props.page,\n      totalPages: props.pageCount,\n      totalRecords: props.totalRecords,\n      disabled: props.disabled,\n      element: element,\n      props: props\n    };\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.template, defaultOptions);\n  }\n  return element;\n});\nRowsPerPageDropdown.displayName = 'RowsPerPageDropdown';\n\nvar Paginator = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (inProps, ref) {\n  var props = PaginatorBase.getProps(inProps);\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var page = Math.floor(props.first / props.rows);\n  var pageCount = Math.ceil(props.totalRecords / props.rows);\n  var isFirstPage = page === 0;\n  var isLastPage = page === pageCount - 1;\n  var isEmpty = pageCount === 0;\n  var calculatePageLinkBoundaries = function calculatePageLinkBoundaries() {\n    var numberOfPages = pageCount;\n    var visiblePages = Math.min(props.pageLinkSize, numberOfPages);\n\n    //calculate range, keep current in middle if necessary\n    var start = Math.max(0, Math.ceil(page - visiblePages / 2));\n    var end = Math.min(numberOfPages - 1, start + visiblePages - 1);\n\n    //check when approaching to last page\n    var delta = props.pageLinkSize - (end - start + 1);\n    start = Math.max(0, start - delta);\n    return [start, end];\n  };\n  var updatePageLinks = function updatePageLinks() {\n    var pageLinks = [];\n    var boundaries = calculatePageLinkBoundaries();\n    var start = boundaries[0];\n    var end = boundaries[1];\n    for (var i = start; i <= end; i++) {\n      pageLinks.push(i + 1);\n    }\n    return pageLinks;\n  };\n  var changePage = function changePage(first, rows) {\n    var pc = pageCount;\n    var p = Math.floor(first / rows);\n    if (p >= 0 && p < pc) {\n      var newPageState = {\n        first: first,\n        rows: rows,\n        page: p,\n        pageCount: pc\n      };\n      if (props.onPageChange) {\n        props.onPageChange(newPageState);\n      }\n    }\n  };\n  var changePageToFirst = function changePageToFirst(event) {\n    changePage(0, props.rows);\n    event.preventDefault();\n  };\n  var changePageToPrev = function changePageToPrev(event) {\n    changePage(props.first - props.rows, props.rows);\n    event.preventDefault();\n  };\n  var onPageLinkClick = function onPageLinkClick(event) {\n    changePage((event.value - 1) * props.rows, props.rows);\n  };\n  var changePageToNext = function changePageToNext(event) {\n    changePage(props.first + props.rows, props.rows);\n    event.preventDefault();\n  };\n  var changePageToLast = function changePageToLast(event) {\n    changePage((pageCount - 1) * props.rows, props.rows);\n    event.preventDefault();\n  };\n  var onRowsChange = function onRowsChange(event) {\n    var rows = event.value;\n    changePage(0, rows);\n  };\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElement: function getElement() {\n        return elementRef.current;\n      }\n    };\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_6__.useUpdateEffect)(function () {\n    if (page > 0 && props.first >= props.totalRecords) {\n      changePage((pageCount - 1) * props.rows, props.rows);\n    }\n  }, [props.totalRecords]);\n  var createElement = function createElement(key, template) {\n    var element;\n    switch (key) {\n      case 'FirstPageLink':\n        element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(FirstPageLink, {\n          key: key,\n          onClick: changePageToFirst,\n          disabled: isFirstPage || isEmpty,\n          template: template\n        });\n        break;\n      case 'PrevPageLink':\n        element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(PrevPageLink, {\n          key: key,\n          onClick: changePageToPrev,\n          disabled: isFirstPage || isEmpty,\n          template: template\n        });\n        break;\n      case 'NextPageLink':\n        element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(NextPageLink, {\n          key: key,\n          onClick: changePageToNext,\n          disabled: isLastPage || isEmpty,\n          template: template\n        });\n        break;\n      case 'LastPageLink':\n        element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(LastPageLink, {\n          key: key,\n          onClick: changePageToLast,\n          disabled: isLastPage || isEmpty,\n          template: template\n        });\n        break;\n      case 'PageLinks':\n        element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageLinks, {\n          key: key,\n          value: updatePageLinks(),\n          page: page,\n          rows: props.rows,\n          pageCount: pageCount,\n          onClick: onPageLinkClick,\n          template: template\n        });\n        break;\n      case 'RowsPerPageDropdown':\n        element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(RowsPerPageDropdown, {\n          key: key,\n          value: props.rows,\n          page: page,\n          pageCount: pageCount,\n          totalRecords: props.totalRecords,\n          options: props.rowsPerPageOptions,\n          onChange: onRowsChange,\n          appendTo: props.dropdownAppendTo,\n          template: template,\n          disabled: isEmpty\n        });\n        break;\n      case 'CurrentPageReport':\n        element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(CurrentPageReport, {\n          reportTemplate: props.currentPageReportTemplate,\n          key: key,\n          page: page,\n          pageCount: pageCount,\n          first: props.first,\n          rows: props.rows,\n          totalRecords: props.totalRecords,\n          template: template\n        });\n        break;\n      case 'JumpToPageInput':\n        element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(JumpToPageInput, {\n          key: key,\n          rows: props.rows,\n          page: page,\n          pageCount: pageCount,\n          onChange: changePage,\n          disabled: isEmpty,\n          template: template\n        });\n        break;\n      default:\n        element = null;\n        break;\n    }\n    return element;\n  };\n  var createElements = function createElements() {\n    var template = props.template;\n    if (template) {\n      if (_typeof(template) === 'object') {\n        return template.layout ? template.layout.split(' ').map(function (value) {\n          var key = value.trim();\n          return createElement(key, template[key]);\n        }) : Object.entries(template).map(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n            key = _ref2[0],\n            _template = _ref2[1];\n          return createElement(key, _template);\n        });\n      }\n      return template.split(' ').map(function (value) {\n        return createElement(value.trim());\n      });\n    }\n    return null;\n  };\n  if (!props.alwaysShow && pageCount === 1) {\n    return null;\n  } else {\n    var otherProps = PaginatorBase.getOtherProps(props);\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-paginator p-component', props.className);\n    var leftContent = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.leftContent, props);\n    var rightContent = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.rightContent, props);\n    var elements = createElements();\n    var leftElement = leftContent && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-paginator-left-content\"\n    }, leftContent);\n    var rightElement = rightContent && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-paginator-right-content\"\n    }, rightContent);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n      ref: elementRef,\n      className: className,\n      style: props.style\n    }, otherProps), leftElement, elements, rightElement);\n  }\n}));\nPaginator.displayName = 'Paginator';\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9wYWdpbmF0b3IvcGFnaW5hdG9yLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBK0I7QUFDb0I7QUFDUTtBQUNGO0FBQ2Q7QUFDVTtBQUNOOztBQUUvQztBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxZQUFZLDZFQUE2RTtBQUNqRyxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlDQUF5QyxTQUFTO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxhQUFhLElBQUksV0FBVztBQUM5RDtBQUNBLEdBQUc7QUFDSDtBQUNBLFdBQVcsd0VBQTBCO0FBQ3JDLEdBQUc7QUFDSDtBQUNBLFdBQVcsc0VBQXdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGFBQWEsSUFBSSxXQUFXO0FBQ25EO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxXQUFXLHdFQUEwQjtBQUNyQyxHQUFHO0FBQ0g7QUFDQSxXQUFXLHNFQUF3QjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxXQUFXLHdFQUEwQjtBQUNyQyxHQUFHO0FBQ0g7QUFDQSxXQUFXLHNFQUF3QjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxXQUFXLHdFQUEwQjtBQUNyQyxHQUFHO0FBQ0g7QUFDQSxXQUFXLHNFQUF3QjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxXQUFXLHdFQUEwQjtBQUNyQyxHQUFHO0FBQ0g7QUFDQSxXQUFXLHNFQUF3QjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxXQUFXLHdFQUEwQjtBQUNyQyxHQUFHO0FBQ0g7QUFDQSxXQUFXLHNFQUF3QjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxXQUFXLHdFQUEwQjtBQUNyQyxHQUFHO0FBQ0g7QUFDQSxXQUFXLHNFQUF3QjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxXQUFXLHdFQUEwQjtBQUNyQyxHQUFHO0FBQ0g7QUFDQSxXQUFXLHNFQUF3QjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFVBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxzREFBeUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsaUVBQWU7QUFDakI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdEQUFtQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsK0JBQStCLGdEQUFtQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsK0JBQStCLGdEQUFtQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsK0JBQStCLGdEQUFtQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsK0JBQStCLGdEQUFtQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsK0JBQStCLGdEQUFtQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsK0JBQStCLGdEQUFtQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSwrQkFBK0IsZ0RBQW1CO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxvQkFBb0IsNERBQVU7QUFDOUIsc0JBQXNCLHVFQUF5QjtBQUMvQyx1QkFBdUIsdUVBQXlCO0FBQ2hEO0FBQ0Esa0RBQWtELGdEQUFtQjtBQUNyRTtBQUNBLEtBQUs7QUFDTCxvREFBb0QsZ0RBQW1CO0FBQ3ZFO0FBQ0EsS0FBSztBQUNMLHdCQUF3QixnREFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNEOztBQUVxQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9wYWdpbmF0b3IvcGFnaW5hdG9yLmVzbS5qcz9iMDgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVVwZGF0ZUVmZmVjdCB9IGZyb20gJ3ByaW1lcmVhY3QvaG9va3MnO1xuaW1wb3J0IHsgT2JqZWN0VXRpbHMsIGNsYXNzTmFtZXMgfSBmcm9tICdwcmltZXJlYWN0L3V0aWxzJztcbmltcG9ydCB7IGFyaWFMYWJlbCwgbG9jYWxlT3B0aW9uIH0gZnJvbSAncHJpbWVyZWFjdC9hcGknO1xuaW1wb3J0IHsgUmlwcGxlIH0gZnJvbSAncHJpbWVyZWFjdC9yaXBwbGUnO1xuaW1wb3J0IHsgSW5wdXROdW1iZXIgfSBmcm9tICdwcmltZXJlYWN0L2lucHV0bnVtYmVyJztcbmltcG9ydCB7IERyb3Bkb3duIH0gZnJvbSAncHJpbWVyZWFjdC9kcm9wZG93bic7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgdmFyIF9pID0gbnVsbCA9PSBhcnIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07XG4gIGlmIChudWxsICE9IF9pKSB7XG4gICAgdmFyIF9zLFxuICAgICAgX2UsXG4gICAgICBfeCxcbiAgICAgIF9yLFxuICAgICAgX2FyciA9IFtdLFxuICAgICAgX24gPSAhMCxcbiAgICAgIF9kID0gITE7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChfeCA9IChfaSA9IF9pLmNhbGwoYXJyKSkubmV4dCwgMCA9PT0gaSkge1xuICAgICAgICBpZiAoT2JqZWN0KF9pKSAhPT0gX2kpIHJldHVybjtcbiAgICAgICAgX24gPSAhMTtcbiAgICAgIH0gZWxzZSBmb3IgKDsgIShfbiA9IChfcyA9IF94LmNhbGwoX2kpKS5kb25lKSAmJiAoX2Fyci5wdXNoKF9zLnZhbHVlKSwgX2Fyci5sZW5ndGggIT09IGkpOyBfbiA9ICEwKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kID0gITAsIF9lID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9uICYmIG51bGwgIT0gX2lbXCJyZXR1cm5cIl0gJiYgKF9yID0gX2lbXCJyZXR1cm5cIl0oKSwgT2JqZWN0KF9yKSAhPT0gX3IpKSByZXR1cm47XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX2FycjtcbiAgfVxufVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuICByZXR1cm4gYXJyMjtcbn1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcbn1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gIH0sIF90eXBlb2Yob2JqKTtcbn1cblxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7XG4gIGlmIChfdHlwZW9mKGlucHV0KSAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0O1xuICB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07XG4gIGlmIChwcmltICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTtcbiAgICBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTtcbiAgfVxuICByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTtcbn1cblxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7XG4gIHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTtcbiAgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbnZhciBQYWdpbmF0b3JCYXNlID0ge1xuICBkZWZhdWx0UHJvcHM6IHtcbiAgICBfX1RZUEU6ICdQYWdpbmF0b3InLFxuICAgIHRvdGFsUmVjb3JkczogMCxcbiAgICByb3dzOiAwLFxuICAgIGZpcnN0OiAwLFxuICAgIHBhZ2VMaW5rU2l6ZTogNSxcbiAgICByb3dzUGVyUGFnZU9wdGlvbnM6IG51bGwsXG4gICAgYWx3YXlzU2hvdzogdHJ1ZSxcbiAgICBzdHlsZTogbnVsbCxcbiAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgdGVtcGxhdGU6ICdGaXJzdFBhZ2VMaW5rIFByZXZQYWdlTGluayBQYWdlTGlua3MgTmV4dFBhZ2VMaW5rIExhc3RQYWdlTGluayBSb3dzUGVyUGFnZURyb3Bkb3duJyxcbiAgICBvblBhZ2VDaGFuZ2U6IG51bGwsXG4gICAgbGVmdENvbnRlbnQ6IG51bGwsXG4gICAgcmlnaHRDb250ZW50OiBudWxsLFxuICAgIGRyb3Bkb3duQXBwZW5kVG86IG51bGwsXG4gICAgY3VycmVudFBhZ2VSZXBvcnRUZW1wbGF0ZTogJyh7Y3VycmVudFBhZ2V9IG9mIHt0b3RhbFBhZ2VzfSknLFxuICAgIGNoaWxkcmVuOiB1bmRlZmluZWRcbiAgfSxcbiAgZ2V0UHJvcHM6IGZ1bmN0aW9uIGdldFByb3BzKHByb3BzKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldE1lcmdlZFByb3BzKHByb3BzLCBQYWdpbmF0b3JCYXNlLmRlZmF1bHRQcm9wcyk7XG4gIH0sXG4gIGdldE90aGVyUHJvcHM6IGZ1bmN0aW9uIGdldE90aGVyUHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0RGlmZlByb3BzKHByb3BzLCBQYWdpbmF0b3JCYXNlLmRlZmF1bHRQcm9wcyk7XG4gIH1cbn07XG52YXIgQ3VycmVudFBhZ2VSZXBvcnRCYXNlID0ge1xuICBkZWZhdWx0UHJvcHM6IHtcbiAgICBfX1RZUEU6ICdDdXJyZW50UGFnZVJlcG9ydCcsXG4gICAgcGFnZUNvdW50OiBudWxsLFxuICAgIHBhZ2U6IG51bGwsXG4gICAgZmlyc3Q6IG51bGwsXG4gICAgcm93czogbnVsbCxcbiAgICB0b3RhbFJlY29yZHM6IG51bGwsXG4gICAgcmVwb3J0VGVtcGxhdGU6ICcoe2N1cnJlbnRQYWdlfSBvZiB7dG90YWxQYWdlc30pJyxcbiAgICB0ZW1wbGF0ZTogbnVsbCxcbiAgICBjaGlsZHJlbjogdW5kZWZpbmVkXG4gIH0sXG4gIGdldFByb3BzOiBmdW5jdGlvbiBnZXRQcm9wcyhwcm9wcykge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5nZXRNZXJnZWRQcm9wcyhwcm9wcywgQ3VycmVudFBhZ2VSZXBvcnRCYXNlLmRlZmF1bHRQcm9wcyk7XG4gIH0sXG4gIGdldE90aGVyUHJvcHM6IGZ1bmN0aW9uIGdldE90aGVyUHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0RGlmZlByb3BzKHByb3BzLCBDdXJyZW50UGFnZVJlcG9ydEJhc2UuZGVmYXVsdFByb3BzKTtcbiAgfVxufTtcbnZhciBGaXJzdFBhZ2VMaW5rQmFzZSA9IHtcbiAgZGVmYXVsdFByb3BzOiB7XG4gICAgX19UWVBFOiAnRmlyc3RQYWdlTGluaycsXG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIG9uQ2xpY2s6IG51bGwsXG4gICAgdGVtcGxhdGU6IG51bGwsXG4gICAgY2hpbGRyZW46IHVuZGVmaW5lZFxuICB9LFxuICBnZXRQcm9wczogZnVuY3Rpb24gZ2V0UHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0TWVyZ2VkUHJvcHMocHJvcHMsIEZpcnN0UGFnZUxpbmtCYXNlLmRlZmF1bHRQcm9wcyk7XG4gIH0sXG4gIGdldE90aGVyUHJvcHM6IGZ1bmN0aW9uIGdldE90aGVyUHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0RGlmZlByb3BzKHByb3BzLCBGaXJzdFBhZ2VMaW5rQmFzZS5kZWZhdWx0UHJvcHMpO1xuICB9XG59O1xudmFyIEp1bXBUb1BhZ2VJbnB1dEJhc2UgPSB7XG4gIGRlZmF1bHRQcm9wczoge1xuICAgIF9fVFlQRTogJ0p1bXBUb1BhZ2VJbnB1dCcsXG4gICAgcGFnZTogbnVsbCxcbiAgICByb3dzOiBudWxsLFxuICAgIHBhZ2VDb3VudDogbnVsbCxcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgdGVtcGxhdGU6IG51bGwsXG4gICAgb25DaGFuZ2U6IG51bGwsXG4gICAgY2hpbGRyZW46IHVuZGVmaW5lZFxuICB9LFxuICBnZXRQcm9wczogZnVuY3Rpb24gZ2V0UHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0TWVyZ2VkUHJvcHMocHJvcHMsIEp1bXBUb1BhZ2VJbnB1dEJhc2UuZGVmYXVsdFByb3BzKTtcbiAgfSxcbiAgZ2V0T3RoZXJQcm9wczogZnVuY3Rpb24gZ2V0T3RoZXJQcm9wcyhwcm9wcykge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5nZXREaWZmUHJvcHMocHJvcHMsIEp1bXBUb1BhZ2VJbnB1dEJhc2UuZGVmYXVsdFByb3BzKTtcbiAgfVxufTtcbnZhciBMYXN0UGFnZUxpbmtCYXNlID0ge1xuICBkZWZhdWx0UHJvcHM6IHtcbiAgICBfX1RZUEU6ICdMYXN0UGFnZUxpbmsnLFxuICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICBvbkNsaWNrOiBudWxsLFxuICAgIHRlbXBsYXRlOiBudWxsLFxuICAgIGNoaWxkcmVuOiB1bmRlZmluZWRcbiAgfSxcbiAgZ2V0UHJvcHM6IGZ1bmN0aW9uIGdldFByb3BzKHByb3BzKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldE1lcmdlZFByb3BzKHByb3BzLCBMYXN0UGFnZUxpbmtCYXNlLmRlZmF1bHRQcm9wcyk7XG4gIH0sXG4gIGdldE90aGVyUHJvcHM6IGZ1bmN0aW9uIGdldE90aGVyUHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0RGlmZlByb3BzKHByb3BzLCBMYXN0UGFnZUxpbmtCYXNlLmRlZmF1bHRQcm9wcyk7XG4gIH1cbn07XG52YXIgTmV4dFBhZ2VMaW5rQmFzZSA9IHtcbiAgZGVmYXVsdFByb3BzOiB7XG4gICAgX19UWVBFOiAnTmV4dFBhZ2VMaW5rJyxcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgb25DbGljazogbnVsbCxcbiAgICB0ZW1wbGF0ZTogbnVsbCxcbiAgICBjaGlsZHJlbjogdW5kZWZpbmVkXG4gIH0sXG4gIGdldFByb3BzOiBmdW5jdGlvbiBnZXRQcm9wcyhwcm9wcykge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5nZXRNZXJnZWRQcm9wcyhwcm9wcywgTmV4dFBhZ2VMaW5rQmFzZS5kZWZhdWx0UHJvcHMpO1xuICB9LFxuICBnZXRPdGhlclByb3BzOiBmdW5jdGlvbiBnZXRPdGhlclByb3BzKHByb3BzKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldERpZmZQcm9wcyhwcm9wcywgTmV4dFBhZ2VMaW5rQmFzZS5kZWZhdWx0UHJvcHMpO1xuICB9XG59O1xudmFyIFBhZ2VMaW5rc0Jhc2UgPSB7XG4gIGRlZmF1bHRQcm9wczoge1xuICAgIF9fVFlQRTogJ1BhZ2VMaW5rcycsXG4gICAgdmFsdWU6IG51bGwsXG4gICAgcGFnZTogbnVsbCxcbiAgICByb3dzOiBudWxsLFxuICAgIHBhZ2VDb3VudDogbnVsbCxcbiAgICBsaW5rczogbnVsbCxcbiAgICB0ZW1wbGF0ZTogbnVsbCxcbiAgICBjaGlsZHJlbjogdW5kZWZpbmVkXG4gIH0sXG4gIGdldFByb3BzOiBmdW5jdGlvbiBnZXRQcm9wcyhwcm9wcykge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5nZXRNZXJnZWRQcm9wcyhwcm9wcywgUGFnZUxpbmtzQmFzZS5kZWZhdWx0UHJvcHMpO1xuICB9LFxuICBnZXRPdGhlclByb3BzOiBmdW5jdGlvbiBnZXRPdGhlclByb3BzKHByb3BzKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldERpZmZQcm9wcyhwcm9wcywgUGFnZUxpbmtzQmFzZS5kZWZhdWx0UHJvcHMpO1xuICB9XG59O1xudmFyIFByZXZQYWdlTGlua0Jhc2UgPSB7XG4gIGRlZmF1bHRQcm9wczoge1xuICAgIF9fVFlQRTogJ1ByZXZQYWdlTGluaycsXG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIG9uQ2xpY2s6IG51bGwsXG4gICAgdGVtcGxhdGU6IG51bGwsXG4gICAgY2hpbGRyZW46IHVuZGVmaW5lZFxuICB9LFxuICBnZXRQcm9wczogZnVuY3Rpb24gZ2V0UHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0TWVyZ2VkUHJvcHMocHJvcHMsIFByZXZQYWdlTGlua0Jhc2UuZGVmYXVsdFByb3BzKTtcbiAgfSxcbiAgZ2V0T3RoZXJQcm9wczogZnVuY3Rpb24gZ2V0T3RoZXJQcm9wcyhwcm9wcykge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5nZXREaWZmUHJvcHMocHJvcHMsIFByZXZQYWdlTGlua0Jhc2UuZGVmYXVsdFByb3BzKTtcbiAgfVxufTtcbnZhciBSb3dzUGVyUGFnZURyb3Bkb3duQmFzZSA9IHtcbiAgZGVmYXVsdFByb3BzOiB7XG4gICAgX19UWVBFOiAnUm93c1BlclBhZ2VEcm9wZG93bicsXG4gICAgb3B0aW9uczogbnVsbCxcbiAgICB2YWx1ZTogbnVsbCxcbiAgICBwYWdlOiBudWxsLFxuICAgIHBhZ2VDb3VudDogbnVsbCxcbiAgICB0b3RhbFJlY29yZHM6IDAsXG4gICAgYXBwZW5kVG86IG51bGwsXG4gICAgb25DaGFuZ2U6IG51bGwsXG4gICAgdGVtcGxhdGU6IG51bGwsXG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIGNoaWxkcmVuOiB1bmRlZmluZWRcbiAgfSxcbiAgZ2V0UHJvcHM6IGZ1bmN0aW9uIGdldFByb3BzKHByb3BzKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldE1lcmdlZFByb3BzKHByb3BzLCBSb3dzUGVyUGFnZURyb3Bkb3duQmFzZS5kZWZhdWx0UHJvcHMpO1xuICB9LFxuICBnZXRPdGhlclByb3BzOiBmdW5jdGlvbiBnZXRPdGhlclByb3BzKHByb3BzKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldERpZmZQcm9wcyhwcm9wcywgUm93c1BlclBhZ2VEcm9wZG93bkJhc2UuZGVmYXVsdFByb3BzKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG52YXIgQ3VycmVudFBhZ2VSZXBvcnQgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyhmdW5jdGlvbiAoaW5Qcm9wcykge1xuICB2YXIgcHJvcHMgPSBDdXJyZW50UGFnZVJlcG9ydEJhc2UuZ2V0UHJvcHMoaW5Qcm9wcyk7XG4gIHZhciByZXBvcnQgPSB7XG4gICAgY3VycmVudFBhZ2U6IHByb3BzLnBhZ2UgKyAxLFxuICAgIHRvdGFsUGFnZXM6IHByb3BzLnBhZ2VDb3VudCxcbiAgICBmaXJzdDogTWF0aC5taW4ocHJvcHMuZmlyc3QgKyAxLCBwcm9wcy50b3RhbFJlY29yZHMpLFxuICAgIGxhc3Q6IE1hdGgubWluKHByb3BzLmZpcnN0ICsgcHJvcHMucm93cywgcHJvcHMudG90YWxSZWNvcmRzKSxcbiAgICByb3dzOiBwcm9wcy5yb3dzLFxuICAgIHRvdGFsUmVjb3JkczogcHJvcHMudG90YWxSZWNvcmRzXG4gIH07XG4gIHZhciB0ZXh0ID0gcHJvcHMucmVwb3J0VGVtcGxhdGUucmVwbGFjZSgne2N1cnJlbnRQYWdlfScsIHJlcG9ydC5jdXJyZW50UGFnZSkucmVwbGFjZSgne3RvdGFsUGFnZXN9JywgcmVwb3J0LnRvdGFsUGFnZXMpLnJlcGxhY2UoJ3tmaXJzdH0nLCByZXBvcnQuZmlyc3QpLnJlcGxhY2UoJ3tsYXN0fScsIHJlcG9ydC5sYXN0KS5yZXBsYWNlKCd7cm93c30nLCByZXBvcnQucm93cykucmVwbGFjZSgne3RvdGFsUmVjb3Jkc30nLCByZXBvcnQudG90YWxSZWNvcmRzKTtcbiAgdmFyIGVsZW1lbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJwLXBhZ2luYXRvci1jdXJyZW50XCJcbiAgfSwgdGV4dCk7XG4gIGlmIChwcm9wcy50ZW1wbGF0ZSkge1xuICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmVwb3J0KSwge1xuICAgICAgY2xhc3NOYW1lOiAncC1wYWdpbmF0b3ItY3VycmVudCcsXG4gICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgcHJvcHM6IHByb3BzXG4gICAgfSk7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMudGVtcGxhdGUsIGRlZmF1bHRPcHRpb25zKTtcbiAgfVxuICByZXR1cm4gZWxlbWVudDtcbn0pO1xuQ3VycmVudFBhZ2VSZXBvcnQuZGlzcGxheU5hbWUgPSAnQ3VycmVudFBhZ2VSZXBvcnQnO1xuXG52YXIgRmlyc3RQYWdlTGluayA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKGZ1bmN0aW9uIChpblByb3BzKSB7XG4gIHZhciBwcm9wcyA9IEZpcnN0UGFnZUxpbmtCYXNlLmdldFByb3BzKGluUHJvcHMpO1xuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1wYWdpbmF0b3ItZmlyc3QgcC1wYWdpbmF0b3ItZWxlbWVudCBwLWxpbmsnLCB7XG4gICAgJ3AtZGlzYWJsZWQnOiBwcm9wcy5kaXNhYmxlZFxuICB9KTtcbiAgdmFyIGljb25DbGFzc05hbWUgPSAncC1wYWdpbmF0b3ItaWNvbiBwaSBwaS1hbmdsZS1kb3VibGUtbGVmdCc7XG4gIHZhciBlbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgb25DbGljazogcHJvcHMub25DbGljayxcbiAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgXCJhcmlhLWxhYmVsXCI6IGFyaWFMYWJlbCgnZmlyc3RQYWdlTGFiZWwnKVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogaWNvbkNsYXNzTmFtZVxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmlwcGxlLCBudWxsKSk7XG4gIGlmIChwcm9wcy50ZW1wbGF0ZSkge1xuICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2ssXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIGljb25DbGFzc05hbWU6IGljb25DbGFzc05hbWUsXG4gICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgcHJvcHM6IHByb3BzXG4gICAgfTtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy50ZW1wbGF0ZSwgZGVmYXVsdE9wdGlvbnMpO1xuICB9XG4gIHJldHVybiBlbGVtZW50O1xufSk7XG5GaXJzdFBhZ2VMaW5rLmRpc3BsYXlOYW1lID0gJ0ZpcnN0UGFnZUxpbmsnO1xuXG52YXIgSnVtcFRvUGFnZUlucHV0ID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oZnVuY3Rpb24gKGluUHJvcHMpIHtcbiAgdmFyIHByb3BzID0gSnVtcFRvUGFnZUlucHV0QmFzZS5nZXRQcm9wcyhpblByb3BzKTtcbiAgdmFyIG9uQ2hhbmdlID0gZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHtcbiAgICBpZiAocHJvcHMub25DaGFuZ2UpIHtcbiAgICAgIHByb3BzLm9uQ2hhbmdlKHByb3BzLnJvd3MgKiAoZXZlbnQudmFsdWUgLSAxKSwgcHJvcHMucm93cyk7XG4gICAgfVxuICB9O1xuICB2YXIgdmFsdWUgPSBwcm9wcy5wYWdlQ291bnQgPiAwID8gcHJvcHMucGFnZSArIDEgOiAwO1xuICB2YXIgZWxlbWVudCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElucHV0TnVtYmVyLCB7XG4gICAgdmFsdWU6IHZhbHVlLFxuICAgIG9uQ2hhbmdlOiBvbkNoYW5nZSxcbiAgICBjbGFzc05hbWU6IFwicC1wYWdpbmF0b3ItcGFnZS1pbnB1dFwiLFxuICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZFxuICB9KTtcbiAgaWYgKHByb3BzLnRlbXBsYXRlKSB7XG4gICAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgY2xhc3NOYW1lOiAncC1wYWdpbmF0b3ItcGFnZS1pbnB1dCcsXG4gICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgcHJvcHM6IHByb3BzXG4gICAgfTtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy50ZW1wbGF0ZSwgZGVmYXVsdE9wdGlvbnMpO1xuICB9XG4gIHJldHVybiBlbGVtZW50O1xufSk7XG5KdW1wVG9QYWdlSW5wdXQuZGlzcGxheU5hbWUgPSAnSnVtcFRvUGFnZUlucHV0JztcblxudmFyIExhc3RQYWdlTGluayA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKGZ1bmN0aW9uIChpblByb3BzKSB7XG4gIHZhciBwcm9wcyA9IExhc3RQYWdlTGlua0Jhc2UuZ2V0UHJvcHMoaW5Qcm9wcyk7XG4gIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLXBhZ2luYXRvci1sYXN0IHAtcGFnaW5hdG9yLWVsZW1lbnQgcC1saW5rJywge1xuICAgICdwLWRpc2FibGVkJzogcHJvcHMuZGlzYWJsZWRcbiAgfSk7XG4gIHZhciBpY29uQ2xhc3NOYW1lID0gJ3AtcGFnaW5hdG9yLWljb24gcGkgcGktYW5nbGUtZG91YmxlLXJpZ2h0JztcbiAgdmFyIGVsZW1lbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrLFxuICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCxcbiAgICBcImFyaWEtbGFiZWxcIjogYXJpYUxhYmVsKCdsYXN0UGFnZUxhYmVsJylcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IGljb25DbGFzc05hbWVcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJpcHBsZSwgbnVsbCkpO1xuICBpZiAocHJvcHMudGVtcGxhdGUpIHtcbiAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBpY29uQ2xhc3NOYW1lOiBpY29uQ2xhc3NOYW1lLFxuICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgIHByb3BzOiBwcm9wc1xuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMudGVtcGxhdGUsIGRlZmF1bHRPcHRpb25zKTtcbiAgfVxuICByZXR1cm4gZWxlbWVudDtcbn0pO1xuTGFzdFBhZ2VMaW5rLmRpc3BsYXlOYW1lID0gJ0xhc3RQYWdlTGluayc7XG5cbnZhciBOZXh0UGFnZUxpbmsgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyhmdW5jdGlvbiAoaW5Qcm9wcykge1xuICB2YXIgcHJvcHMgPSBOZXh0UGFnZUxpbmtCYXNlLmdldFByb3BzKGluUHJvcHMpO1xuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1wYWdpbmF0b3ItbmV4dCBwLXBhZ2luYXRvci1lbGVtZW50IHAtbGluaycsIHtcbiAgICAncC1kaXNhYmxlZCc6IHByb3BzLmRpc2FibGVkXG4gIH0pO1xuICB2YXIgaWNvbkNsYXNzTmFtZSA9ICdwLXBhZ2luYXRvci1pY29uIHBpIHBpLWFuZ2xlLXJpZ2h0JztcbiAgdmFyIGVsZW1lbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrLFxuICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCxcbiAgICBcImFyaWEtbGFiZWxcIjogYXJpYUxhYmVsKCduZXh0UGFnZUxhYmVsJylcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IGljb25DbGFzc05hbWVcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJpcHBsZSwgbnVsbCkpO1xuICBpZiAocHJvcHMudGVtcGxhdGUpIHtcbiAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBpY29uQ2xhc3NOYW1lOiBpY29uQ2xhc3NOYW1lLFxuICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgIHByb3BzOiBwcm9wc1xuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMudGVtcGxhdGUsIGRlZmF1bHRPcHRpb25zKTtcbiAgfVxuICByZXR1cm4gZWxlbWVudDtcbn0pO1xuTmV4dFBhZ2VMaW5rLmRpc3BsYXlOYW1lID0gJ05leHRQYWdlTGluayc7XG5cbnZhciBQYWdlTGlua3MgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyhmdW5jdGlvbiAoaW5Qcm9wcykge1xuICB2YXIgcHJvcHMgPSBQYWdlTGlua3NCYXNlLmdldFByb3BzKGluUHJvcHMpO1xuICB2YXIgb25QYWdlTGlua0NsaWNrID0gZnVuY3Rpb24gb25QYWdlTGlua0NsaWNrKGV2ZW50LCBwYWdlTGluaykge1xuICAgIGlmIChwcm9wcy5vbkNsaWNrKSB7XG4gICAgICBwcm9wcy5vbkNsaWNrKHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIHZhbHVlOiBwYWdlTGlua1xuICAgICAgfSk7XG4gICAgfVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG4gIHZhciBlbGVtZW50cztcbiAgaWYgKHByb3BzLnZhbHVlKSB7XG4gICAgdmFyIHN0YXJ0UGFnZUluVmlldyA9IHByb3BzLnZhbHVlWzBdO1xuICAgIHZhciBlbmRQYWdlSW5WaWV3ID0gcHJvcHMudmFsdWVbcHJvcHMudmFsdWUubGVuZ3RoIC0gMV07XG4gICAgZWxlbWVudHMgPSBwcm9wcy52YWx1ZS5tYXAoZnVuY3Rpb24gKHBhZ2VMaW5rKSB7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1wYWdpbmF0b3ItcGFnZSBwLXBhZ2luYXRvci1lbGVtZW50IHAtbGluaycsIHtcbiAgICAgICAgJ3AtcGFnaW5hdG9yLXBhZ2Utc3RhcnQnOiBwYWdlTGluayA9PT0gc3RhcnRQYWdlSW5WaWV3LFxuICAgICAgICAncC1wYWdpbmF0b3ItcGFnZS1lbmQnOiBwYWdlTGluayA9PT0gZW5kUGFnZUluVmlldyxcbiAgICAgICAgJ3AtaGlnaGxpZ2h0JzogcGFnZUxpbmsgLSAxID09PSBwcm9wcy5wYWdlXG4gICAgICB9KTtcbiAgICAgIHZhciBlbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgcmV0dXJuIG9uUGFnZUxpbmtDbGljayhlLCBwYWdlTGluayk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBcIlwiLmNvbmNhdChhcmlhTGFiZWwoJ3BhZ2VMYWJlbCcpLCBcIiBcIikuY29uY2F0KHBhZ2VMaW5rICsgMSlcbiAgICAgIH0sIHBhZ2VMaW5rLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSaXBwbGUsIG51bGwpKTtcbiAgICAgIGlmIChwcm9wcy50ZW1wbGF0ZSkge1xuICAgICAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgICByZXR1cm4gb25QYWdlTGlua0NsaWNrKGUsIHBhZ2VMaW5rKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICAgIHZpZXc6IHtcbiAgICAgICAgICAgIHN0YXJ0UGFnZTogc3RhcnRQYWdlSW5WaWV3IC0gMSxcbiAgICAgICAgICAgIGVuZFBhZ2U6IGVuZFBhZ2VJblZpZXcgLSAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwYWdlOiBwYWdlTGluayAtIDEsXG4gICAgICAgICAgY3VycmVudFBhZ2U6IHByb3BzLnBhZ2UsXG4gICAgICAgICAgdG90YWxQYWdlczogcHJvcHMucGFnZUNvdW50LFxuICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgcHJvcHM6IHByb3BzXG4gICAgICAgIH07XG4gICAgICAgIGVsZW1lbnQgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLnRlbXBsYXRlLCBkZWZhdWx0T3B0aW9ucyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIHtcbiAgICAgICAga2V5OiBwYWdlTGlua1xuICAgICAgfSwgZWxlbWVudCk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInAtcGFnaW5hdG9yLXBhZ2VzXCJcbiAgfSwgZWxlbWVudHMpO1xufSk7XG5QYWdlTGlua3MuZGlzcGxheU5hbWUgPSAnUGFnZUxpbmtzJztcblxudmFyIFByZXZQYWdlTGluayA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKGZ1bmN0aW9uIChpblByb3BzKSB7XG4gIHZhciBwcm9wcyA9IFByZXZQYWdlTGlua0Jhc2UuZ2V0UHJvcHMoaW5Qcm9wcyk7XG4gIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLXBhZ2luYXRvci1wcmV2IHAtcGFnaW5hdG9yLWVsZW1lbnQgcC1saW5rJywge1xuICAgICdwLWRpc2FibGVkJzogcHJvcHMuZGlzYWJsZWRcbiAgfSk7XG4gIHZhciBpY29uQ2xhc3NOYW1lID0gJ3AtcGFnaW5hdG9yLWljb24gcGkgcGktYW5nbGUtbGVmdCc7XG4gIHZhciBlbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgb25DbGljazogcHJvcHMub25DbGljayxcbiAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgXCJhcmlhLWxhYmVsXCI6IGFyaWFMYWJlbCgncHJldmlvdXNQYWdlTGFiZWwnKVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogaWNvbkNsYXNzTmFtZVxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmlwcGxlLCBudWxsKSk7XG4gIGlmIChwcm9wcy50ZW1wbGF0ZSkge1xuICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2ssXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIGljb25DbGFzc05hbWU6IGljb25DbGFzc05hbWUsXG4gICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgcHJvcHM6IHByb3BzXG4gICAgfTtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy50ZW1wbGF0ZSwgZGVmYXVsdE9wdGlvbnMpO1xuICB9XG4gIHJldHVybiBlbGVtZW50O1xufSk7XG5QcmV2UGFnZUxpbmsuZGlzcGxheU5hbWUgPSAnUHJldlBhZ2VMaW5rJztcblxudmFyIFJvd3NQZXJQYWdlRHJvcGRvd24gPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyhmdW5jdGlvbiAoaW5Qcm9wcykge1xuICB2YXIgcHJvcHMgPSBSb3dzUGVyUGFnZURyb3Bkb3duQmFzZS5nZXRQcm9wcyhpblByb3BzKTtcbiAgdmFyIGhhc09wdGlvbnMgPSBwcm9wcy5vcHRpb25zICYmIHByb3BzLm9wdGlvbnMubGVuZ3RoID4gMDtcbiAgdmFyIG9wdGlvbnMgPSBoYXNPcHRpb25zID8gcHJvcHMub3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdCkge1xuICAgIHJldHVybiB7XG4gICAgICBsYWJlbDogU3RyaW5nKG9wdCksXG4gICAgICB2YWx1ZTogb3B0XG4gICAgfTtcbiAgfSkgOiBbXTtcbiAgdmFyIGFyaWFMYWJlbCA9IGxvY2FsZU9wdGlvbignY2hvb3NlJyk7XG4gIHZhciBlbGVtZW50ID0gaGFzT3B0aW9ucyA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERyb3Bkb3duLCB7XG4gICAgdmFsdWU6IHByb3BzLnZhbHVlLFxuICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgb25DaGFuZ2U6IHByb3BzLm9uQ2hhbmdlLFxuICAgIGFwcGVuZFRvOiBwcm9wcy5hcHBlbmRUbyxcbiAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgcGxhY2Vob2xkZXI6IGFyaWFMYWJlbCxcbiAgICBcImFyaWEtbGFiZWxcIjogYXJpYUxhYmVsXG4gIH0pIDogbnVsbDtcbiAgaWYgKHByb3BzLnRlbXBsYXRlKSB7XG4gICAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgdmFsdWU6IHByb3BzLnZhbHVlLFxuICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgIG9uQ2hhbmdlOiBwcm9wcy5vbkNoYW5nZSxcbiAgICAgIGFwcGVuZFRvOiBwcm9wcy5hcHBlbmRUbyxcbiAgICAgIGN1cnJlbnRQYWdlOiBwcm9wcy5wYWdlLFxuICAgICAgdG90YWxQYWdlczogcHJvcHMucGFnZUNvdW50LFxuICAgICAgdG90YWxSZWNvcmRzOiBwcm9wcy50b3RhbFJlY29yZHMsXG4gICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgcHJvcHM6IHByb3BzXG4gICAgfTtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy50ZW1wbGF0ZSwgZGVmYXVsdE9wdGlvbnMpO1xuICB9XG4gIHJldHVybiBlbGVtZW50O1xufSk7XG5Sb3dzUGVyUGFnZURyb3Bkb3duLmRpc3BsYXlOYW1lID0gJ1Jvd3NQZXJQYWdlRHJvcGRvd24nO1xuXG52YXIgUGFnaW5hdG9yID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oIC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChpblByb3BzLCByZWYpIHtcbiAgdmFyIHByb3BzID0gUGFnaW5hdG9yQmFzZS5nZXRQcm9wcyhpblByb3BzKTtcbiAgdmFyIGVsZW1lbnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBwYWdlID0gTWF0aC5mbG9vcihwcm9wcy5maXJzdCAvIHByb3BzLnJvd3MpO1xuICB2YXIgcGFnZUNvdW50ID0gTWF0aC5jZWlsKHByb3BzLnRvdGFsUmVjb3JkcyAvIHByb3BzLnJvd3MpO1xuICB2YXIgaXNGaXJzdFBhZ2UgPSBwYWdlID09PSAwO1xuICB2YXIgaXNMYXN0UGFnZSA9IHBhZ2UgPT09IHBhZ2VDb3VudCAtIDE7XG4gIHZhciBpc0VtcHR5ID0gcGFnZUNvdW50ID09PSAwO1xuICB2YXIgY2FsY3VsYXRlUGFnZUxpbmtCb3VuZGFyaWVzID0gZnVuY3Rpb24gY2FsY3VsYXRlUGFnZUxpbmtCb3VuZGFyaWVzKCkge1xuICAgIHZhciBudW1iZXJPZlBhZ2VzID0gcGFnZUNvdW50O1xuICAgIHZhciB2aXNpYmxlUGFnZXMgPSBNYXRoLm1pbihwcm9wcy5wYWdlTGlua1NpemUsIG51bWJlck9mUGFnZXMpO1xuXG4gICAgLy9jYWxjdWxhdGUgcmFuZ2UsIGtlZXAgY3VycmVudCBpbiBtaWRkbGUgaWYgbmVjZXNzYXJ5XG4gICAgdmFyIHN0YXJ0ID0gTWF0aC5tYXgoMCwgTWF0aC5jZWlsKHBhZ2UgLSB2aXNpYmxlUGFnZXMgLyAyKSk7XG4gICAgdmFyIGVuZCA9IE1hdGgubWluKG51bWJlck9mUGFnZXMgLSAxLCBzdGFydCArIHZpc2libGVQYWdlcyAtIDEpO1xuXG4gICAgLy9jaGVjayB3aGVuIGFwcHJvYWNoaW5nIHRvIGxhc3QgcGFnZVxuICAgIHZhciBkZWx0YSA9IHByb3BzLnBhZ2VMaW5rU2l6ZSAtIChlbmQgLSBzdGFydCArIDEpO1xuICAgIHN0YXJ0ID0gTWF0aC5tYXgoMCwgc3RhcnQgLSBkZWx0YSk7XG4gICAgcmV0dXJuIFtzdGFydCwgZW5kXTtcbiAgfTtcbiAgdmFyIHVwZGF0ZVBhZ2VMaW5rcyA9IGZ1bmN0aW9uIHVwZGF0ZVBhZ2VMaW5rcygpIHtcbiAgICB2YXIgcGFnZUxpbmtzID0gW107XG4gICAgdmFyIGJvdW5kYXJpZXMgPSBjYWxjdWxhdGVQYWdlTGlua0JvdW5kYXJpZXMoKTtcbiAgICB2YXIgc3RhcnQgPSBib3VuZGFyaWVzWzBdO1xuICAgIHZhciBlbmQgPSBib3VuZGFyaWVzWzFdO1xuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8PSBlbmQ7IGkrKykge1xuICAgICAgcGFnZUxpbmtzLnB1c2goaSArIDEpO1xuICAgIH1cbiAgICByZXR1cm4gcGFnZUxpbmtzO1xuICB9O1xuICB2YXIgY2hhbmdlUGFnZSA9IGZ1bmN0aW9uIGNoYW5nZVBhZ2UoZmlyc3QsIHJvd3MpIHtcbiAgICB2YXIgcGMgPSBwYWdlQ291bnQ7XG4gICAgdmFyIHAgPSBNYXRoLmZsb29yKGZpcnN0IC8gcm93cyk7XG4gICAgaWYgKHAgPj0gMCAmJiBwIDwgcGMpIHtcbiAgICAgIHZhciBuZXdQYWdlU3RhdGUgPSB7XG4gICAgICAgIGZpcnN0OiBmaXJzdCxcbiAgICAgICAgcm93czogcm93cyxcbiAgICAgICAgcGFnZTogcCxcbiAgICAgICAgcGFnZUNvdW50OiBwY1xuICAgICAgfTtcbiAgICAgIGlmIChwcm9wcy5vblBhZ2VDaGFuZ2UpIHtcbiAgICAgICAgcHJvcHMub25QYWdlQ2hhbmdlKG5ld1BhZ2VTdGF0ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICB2YXIgY2hhbmdlUGFnZVRvRmlyc3QgPSBmdW5jdGlvbiBjaGFuZ2VQYWdlVG9GaXJzdChldmVudCkge1xuICAgIGNoYW5nZVBhZ2UoMCwgcHJvcHMucm93cyk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfTtcbiAgdmFyIGNoYW5nZVBhZ2VUb1ByZXYgPSBmdW5jdGlvbiBjaGFuZ2VQYWdlVG9QcmV2KGV2ZW50KSB7XG4gICAgY2hhbmdlUGFnZShwcm9wcy5maXJzdCAtIHByb3BzLnJvd3MsIHByb3BzLnJvd3MpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG4gIHZhciBvblBhZ2VMaW5rQ2xpY2sgPSBmdW5jdGlvbiBvblBhZ2VMaW5rQ2xpY2soZXZlbnQpIHtcbiAgICBjaGFuZ2VQYWdlKChldmVudC52YWx1ZSAtIDEpICogcHJvcHMucm93cywgcHJvcHMucm93cyk7XG4gIH07XG4gIHZhciBjaGFuZ2VQYWdlVG9OZXh0ID0gZnVuY3Rpb24gY2hhbmdlUGFnZVRvTmV4dChldmVudCkge1xuICAgIGNoYW5nZVBhZ2UocHJvcHMuZmlyc3QgKyBwcm9wcy5yb3dzLCBwcm9wcy5yb3dzKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuICB2YXIgY2hhbmdlUGFnZVRvTGFzdCA9IGZ1bmN0aW9uIGNoYW5nZVBhZ2VUb0xhc3QoZXZlbnQpIHtcbiAgICBjaGFuZ2VQYWdlKChwYWdlQ291bnQgLSAxKSAqIHByb3BzLnJvd3MsIHByb3BzLnJvd3MpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG4gIHZhciBvblJvd3NDaGFuZ2UgPSBmdW5jdGlvbiBvblJvd3NDaGFuZ2UoZXZlbnQpIHtcbiAgICB2YXIgcm93cyA9IGV2ZW50LnZhbHVlO1xuICAgIGNoYW5nZVBhZ2UoMCwgcm93cyk7XG4gIH07XG4gIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgIGdldEVsZW1lbnQ6IGZ1bmN0aW9uIGdldEVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHVzZVVwZGF0ZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHBhZ2UgPiAwICYmIHByb3BzLmZpcnN0ID49IHByb3BzLnRvdGFsUmVjb3Jkcykge1xuICAgICAgY2hhbmdlUGFnZSgocGFnZUNvdW50IC0gMSkgKiBwcm9wcy5yb3dzLCBwcm9wcy5yb3dzKTtcbiAgICB9XG4gIH0sIFtwcm9wcy50b3RhbFJlY29yZHNdKTtcbiAgdmFyIGNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KGtleSwgdGVtcGxhdGUpIHtcbiAgICB2YXIgZWxlbWVudDtcbiAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgY2FzZSAnRmlyc3RQYWdlTGluayc6XG4gICAgICAgIGVsZW1lbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGaXJzdFBhZ2VMaW5rLCB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgb25DbGljazogY2hhbmdlUGFnZVRvRmlyc3QsXG4gICAgICAgICAgZGlzYWJsZWQ6IGlzRmlyc3RQYWdlIHx8IGlzRW1wdHksXG4gICAgICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1ByZXZQYWdlTGluayc6XG4gICAgICAgIGVsZW1lbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQcmV2UGFnZUxpbmssIHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICBvbkNsaWNrOiBjaGFuZ2VQYWdlVG9QcmV2LFxuICAgICAgICAgIGRpc2FibGVkOiBpc0ZpcnN0UGFnZSB8fCBpc0VtcHR5LFxuICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZVxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdOZXh0UGFnZUxpbmsnOlxuICAgICAgICBlbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTmV4dFBhZ2VMaW5rLCB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgb25DbGljazogY2hhbmdlUGFnZVRvTmV4dCxcbiAgICAgICAgICBkaXNhYmxlZDogaXNMYXN0UGFnZSB8fCBpc0VtcHR5LFxuICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZVxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdMYXN0UGFnZUxpbmsnOlxuICAgICAgICBlbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTGFzdFBhZ2VMaW5rLCB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgb25DbGljazogY2hhbmdlUGFnZVRvTGFzdCxcbiAgICAgICAgICBkaXNhYmxlZDogaXNMYXN0UGFnZSB8fCBpc0VtcHR5LFxuICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZVxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdQYWdlTGlua3MnOlxuICAgICAgICBlbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUGFnZUxpbmtzLCB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgdmFsdWU6IHVwZGF0ZVBhZ2VMaW5rcygpLFxuICAgICAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICAgICAgcm93czogcHJvcHMucm93cyxcbiAgICAgICAgICBwYWdlQ291bnQ6IHBhZ2VDb3VudCxcbiAgICAgICAgICBvbkNsaWNrOiBvblBhZ2VMaW5rQ2xpY2ssXG4gICAgICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1Jvd3NQZXJQYWdlRHJvcGRvd24nOlxuICAgICAgICBlbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUm93c1BlclBhZ2VEcm9wZG93biwge1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHZhbHVlOiBwcm9wcy5yb3dzLFxuICAgICAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICAgICAgcGFnZUNvdW50OiBwYWdlQ291bnQsXG4gICAgICAgICAgdG90YWxSZWNvcmRzOiBwcm9wcy50b3RhbFJlY29yZHMsXG4gICAgICAgICAgb3B0aW9uczogcHJvcHMucm93c1BlclBhZ2VPcHRpb25zLFxuICAgICAgICAgIG9uQ2hhbmdlOiBvblJvd3NDaGFuZ2UsXG4gICAgICAgICAgYXBwZW5kVG86IHByb3BzLmRyb3Bkb3duQXBwZW5kVG8sXG4gICAgICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgICAgICAgIGRpc2FibGVkOiBpc0VtcHR5XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0N1cnJlbnRQYWdlUmVwb3J0JzpcbiAgICAgICAgZWxlbWVudCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEN1cnJlbnRQYWdlUmVwb3J0LCB7XG4gICAgICAgICAgcmVwb3J0VGVtcGxhdGU6IHByb3BzLmN1cnJlbnRQYWdlUmVwb3J0VGVtcGxhdGUsXG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgcGFnZTogcGFnZSxcbiAgICAgICAgICBwYWdlQ291bnQ6IHBhZ2VDb3VudCxcbiAgICAgICAgICBmaXJzdDogcHJvcHMuZmlyc3QsXG4gICAgICAgICAgcm93czogcHJvcHMucm93cyxcbiAgICAgICAgICB0b3RhbFJlY29yZHM6IHByb3BzLnRvdGFsUmVjb3JkcyxcbiAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGVcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnSnVtcFRvUGFnZUlucHV0JzpcbiAgICAgICAgZWxlbWVudCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEp1bXBUb1BhZ2VJbnB1dCwge1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHJvd3M6IHByb3BzLnJvd3MsXG4gICAgICAgICAgcGFnZTogcGFnZSxcbiAgICAgICAgICBwYWdlQ291bnQ6IHBhZ2VDb3VudCxcbiAgICAgICAgICBvbkNoYW5nZTogY2hhbmdlUGFnZSxcbiAgICAgICAgICBkaXNhYmxlZDogaXNFbXB0eSxcbiAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGVcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZWxlbWVudCA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfTtcbiAgdmFyIGNyZWF0ZUVsZW1lbnRzID0gZnVuY3Rpb24gY3JlYXRlRWxlbWVudHMoKSB7XG4gICAgdmFyIHRlbXBsYXRlID0gcHJvcHMudGVtcGxhdGU7XG4gICAgaWYgKHRlbXBsYXRlKSB7XG4gICAgICBpZiAoX3R5cGVvZih0ZW1wbGF0ZSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZS5sYXlvdXQgPyB0ZW1wbGF0ZS5sYXlvdXQuc3BsaXQoJyAnKS5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHZhbHVlLnRyaW0oKTtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChrZXksIHRlbXBsYXRlW2tleV0pO1xuICAgICAgICB9KSA6IE9iamVjdC5lbnRyaWVzKHRlbXBsYXRlKS5tYXAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSxcbiAgICAgICAgICAgIGtleSA9IF9yZWYyWzBdLFxuICAgICAgICAgICAgX3RlbXBsYXRlID0gX3JlZjJbMV07XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoa2V5LCBfdGVtcGxhdGUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0ZW1wbGF0ZS5zcGxpdCgnICcpLm1hcChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQodmFsdWUudHJpbSgpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgaWYgKCFwcm9wcy5hbHdheXNTaG93ICYmIHBhZ2VDb3VudCA9PT0gMSkge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIHZhciBvdGhlclByb3BzID0gUGFnaW5hdG9yQmFzZS5nZXRPdGhlclByb3BzKHByb3BzKTtcbiAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1wYWdpbmF0b3IgcC1jb21wb25lbnQnLCBwcm9wcy5jbGFzc05hbWUpO1xuICAgIHZhciBsZWZ0Q29udGVudCA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMubGVmdENvbnRlbnQsIHByb3BzKTtcbiAgICB2YXIgcmlnaHRDb250ZW50ID0gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy5yaWdodENvbnRlbnQsIHByb3BzKTtcbiAgICB2YXIgZWxlbWVudHMgPSBjcmVhdGVFbGVtZW50cygpO1xuICAgIHZhciBsZWZ0RWxlbWVudCA9IGxlZnRDb250ZW50ICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLXBhZ2luYXRvci1sZWZ0LWNvbnRlbnRcIlxuICAgIH0sIGxlZnRDb250ZW50KTtcbiAgICB2YXIgcmlnaHRFbGVtZW50ID0gcmlnaHRDb250ZW50ICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLXBhZ2luYXRvci1yaWdodC1jb250ZW50XCJcbiAgICB9LCByaWdodENvbnRlbnQpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7XG4gICAgICByZWY6IGVsZW1lbnRSZWYsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIHN0eWxlOiBwcm9wcy5zdHlsZVxuICAgIH0sIG90aGVyUHJvcHMpLCBsZWZ0RWxlbWVudCwgZWxlbWVudHMsIHJpZ2h0RWxlbWVudCk7XG4gIH1cbn0pKTtcblBhZ2luYXRvci5kaXNwbGF5TmFtZSA9ICdQYWdpbmF0b3InO1xuXG5leHBvcnQgeyBQYWdpbmF0b3IgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/primereact/paginator/paginator.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/progressbar/progressbar.esm.js":
/*!****************************************************************!*\
  !*** ./node_modules/primereact/progressbar/progressbar.esm.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ProgressBar\": function() { return /* binding */ ProgressBar; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nvar ProgressBarBase = {\n  defaultProps: {\n    __TYPE: 'ProgressBar',\n    id: null,\n    value: null,\n    showValue: true,\n    unit: '%',\n    style: null,\n    className: null,\n    mode: 'determinate',\n    displayValueTemplate: null,\n    color: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, ProgressBarBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, ProgressBarBase.defaultProps);\n  }\n};\n\nvar ProgressBar = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (inProps, ref) {\n  var props = ProgressBarBase.getProps(inProps);\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var createLabel = function createLabel() {\n    if (props.showValue && props.value != null) {\n      var label = props.displayValueTemplate ? props.displayValueTemplate(props.value) : props.value + props.unit;\n      return label;\n    }\n    return null;\n  };\n  var createDeterminate = function createDeterminate() {\n    var otherProps = ProgressBarBase.getOtherProps(props);\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-progressbar p-component p-progressbar-determinate', props.className);\n    var label = createLabel();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n      role: \"progressbar\",\n      id: props.id,\n      ref: elementRef,\n      className: className,\n      style: props.style,\n      \"aria-valuemin\": \"0\",\n      \"aria-valuenow\": props.value,\n      \"aria-valuemax\": \"100\"\n    }, otherProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-progressbar-value p-progressbar-value-animate\",\n      style: {\n        width: props.value + '%',\n        display: 'flex',\n        backgroundColor: props.color\n      }\n    }, props.value != null && props.value !== 0 && props.showValue && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-progressbar-label\"\n    }, label)));\n  };\n  var createIndeterminate = function createIndeterminate() {\n    var otherProps = ProgressBarBase.getOtherProps(props);\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-progressbar p-component p-progressbar-indeterminate', props.className);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n      role: \"progressbar\",\n      id: props.id,\n      ref: elementRef,\n      className: className,\n      style: props.style\n    }, otherProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-progressbar-indeterminate-container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-progressbar-value p-progressbar-value-animate\",\n      style: {\n        backgroundColor: props.color\n      }\n    })));\n  };\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElement: function getElement() {\n        return elementRef.current;\n      }\n    };\n  });\n  if (props.mode === 'determinate') return createDeterminate();else if (props.mode === 'indeterminate') return createIndeterminate();else throw new Error(props.mode + \" is not a valid mode for the ProgressBar. Valid values are 'determinate' and 'indeterminate'\");\n}));\nProgressBar.displayName = 'ProgressBar';\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUErQjtBQUM0Qjs7QUFFM0Q7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFdBQVcsd0VBQTBCO0FBQ3JDLEdBQUc7QUFDSDtBQUNBLFdBQVcsc0VBQXdCO0FBQ25DO0FBQ0E7O0FBRUEsK0JBQStCLHVDQUFVLGVBQWUsNkNBQWdCO0FBQ3hFO0FBQ0EsbUJBQW1CLHlDQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0REFBVTtBQUM5QjtBQUNBLHdCQUF3QixnREFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssNEJBQTRCLGdEQUFtQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDhFQUE4RSxnREFBbUI7QUFDdEc7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDREQUFVO0FBQzlCLHdCQUF3QixnREFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssNEJBQTRCLGdEQUFtQjtBQUNwRDtBQUNBLEtBQUssZUFBZSxnREFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxFQUFFLHNEQUF5QjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsK0RBQStELHNFQUFzRTtBQUNySSxDQUFDO0FBQ0Q7O0FBRXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcmltZXJlYWN0L3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmVzbS5qcz9lNDI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE9iamVjdFV0aWxzLCBjbGFzc05hbWVzIH0gZnJvbSAncHJpbWVyZWFjdC91dGlscyc7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG52YXIgUHJvZ3Jlc3NCYXJCYXNlID0ge1xuICBkZWZhdWx0UHJvcHM6IHtcbiAgICBfX1RZUEU6ICdQcm9ncmVzc0JhcicsXG4gICAgaWQ6IG51bGwsXG4gICAgdmFsdWU6IG51bGwsXG4gICAgc2hvd1ZhbHVlOiB0cnVlLFxuICAgIHVuaXQ6ICclJyxcbiAgICBzdHlsZTogbnVsbCxcbiAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgbW9kZTogJ2RldGVybWluYXRlJyxcbiAgICBkaXNwbGF5VmFsdWVUZW1wbGF0ZTogbnVsbCxcbiAgICBjb2xvcjogbnVsbCxcbiAgICBjaGlsZHJlbjogdW5kZWZpbmVkXG4gIH0sXG4gIGdldFByb3BzOiBmdW5jdGlvbiBnZXRQcm9wcyhwcm9wcykge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5nZXRNZXJnZWRQcm9wcyhwcm9wcywgUHJvZ3Jlc3NCYXJCYXNlLmRlZmF1bHRQcm9wcyk7XG4gIH0sXG4gIGdldE90aGVyUHJvcHM6IGZ1bmN0aW9uIGdldE90aGVyUHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0RGlmZlByb3BzKHByb3BzLCBQcm9ncmVzc0JhckJhc2UuZGVmYXVsdFByb3BzKTtcbiAgfVxufTtcblxudmFyIFByb2dyZXNzQmFyID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oIC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChpblByb3BzLCByZWYpIHtcbiAgdmFyIHByb3BzID0gUHJvZ3Jlc3NCYXJCYXNlLmdldFByb3BzKGluUHJvcHMpO1xuICB2YXIgZWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGNyZWF0ZUxhYmVsID0gZnVuY3Rpb24gY3JlYXRlTGFiZWwoKSB7XG4gICAgaWYgKHByb3BzLnNob3dWYWx1ZSAmJiBwcm9wcy52YWx1ZSAhPSBudWxsKSB7XG4gICAgICB2YXIgbGFiZWwgPSBwcm9wcy5kaXNwbGF5VmFsdWVUZW1wbGF0ZSA/IHByb3BzLmRpc3BsYXlWYWx1ZVRlbXBsYXRlKHByb3BzLnZhbHVlKSA6IHByb3BzLnZhbHVlICsgcHJvcHMudW5pdDtcbiAgICAgIHJldHVybiBsYWJlbDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIHZhciBjcmVhdGVEZXRlcm1pbmF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZURldGVybWluYXRlKCkge1xuICAgIHZhciBvdGhlclByb3BzID0gUHJvZ3Jlc3NCYXJCYXNlLmdldE90aGVyUHJvcHMocHJvcHMpO1xuICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLXByb2dyZXNzYmFyIHAtY29tcG9uZW50IHAtcHJvZ3Jlc3NiYXItZGV0ZXJtaW5hdGUnLCBwcm9wcy5jbGFzc05hbWUpO1xuICAgIHZhciBsYWJlbCA9IGNyZWF0ZUxhYmVsKCk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHtcbiAgICAgIHJvbGU6IFwicHJvZ3Jlc3NiYXJcIixcbiAgICAgIGlkOiBwcm9wcy5pZCxcbiAgICAgIHJlZjogZWxlbWVudFJlZixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgc3R5bGU6IHByb3BzLnN0eWxlLFxuICAgICAgXCJhcmlhLXZhbHVlbWluXCI6IFwiMFwiLFxuICAgICAgXCJhcmlhLXZhbHVlbm93XCI6IHByb3BzLnZhbHVlLFxuICAgICAgXCJhcmlhLXZhbHVlbWF4XCI6IFwiMTAwXCJcbiAgICB9LCBvdGhlclByb3BzKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInAtcHJvZ3Jlc3NiYXItdmFsdWUgcC1wcm9ncmVzc2Jhci12YWx1ZS1hbmltYXRlXCIsXG4gICAgICBzdHlsZToge1xuICAgICAgICB3aWR0aDogcHJvcHMudmFsdWUgKyAnJScsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBwcm9wcy5jb2xvclxuICAgICAgfVxuICAgIH0sIHByb3BzLnZhbHVlICE9IG51bGwgJiYgcHJvcHMudmFsdWUgIT09IDAgJiYgcHJvcHMuc2hvd1ZhbHVlICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLXByb2dyZXNzYmFyLWxhYmVsXCJcbiAgICB9LCBsYWJlbCkpKTtcbiAgfTtcbiAgdmFyIGNyZWF0ZUluZGV0ZXJtaW5hdGUgPSBmdW5jdGlvbiBjcmVhdGVJbmRldGVybWluYXRlKCkge1xuICAgIHZhciBvdGhlclByb3BzID0gUHJvZ3Jlc3NCYXJCYXNlLmdldE90aGVyUHJvcHMocHJvcHMpO1xuICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLXByb2dyZXNzYmFyIHAtY29tcG9uZW50IHAtcHJvZ3Jlc3NiYXItaW5kZXRlcm1pbmF0ZScsIHByb3BzLmNsYXNzTmFtZSk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHtcbiAgICAgIHJvbGU6IFwicHJvZ3Jlc3NiYXJcIixcbiAgICAgIGlkOiBwcm9wcy5pZCxcbiAgICAgIHJlZjogZWxlbWVudFJlZixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgc3R5bGU6IHByb3BzLnN0eWxlXG4gICAgfSwgb3RoZXJQcm9wcyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLXByb2dyZXNzYmFyLWluZGV0ZXJtaW5hdGUtY29udGFpbmVyXCJcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1wcm9ncmVzc2Jhci12YWx1ZSBwLXByb2dyZXNzYmFyLXZhbHVlLWFuaW1hdGVcIixcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogcHJvcHMuY29sb3JcbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xuICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9wczogcHJvcHMsXG4gICAgICBnZXRFbGVtZW50OiBmdW5jdGlvbiBnZXRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudFJlZi5jdXJyZW50O1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICBpZiAocHJvcHMubW9kZSA9PT0gJ2RldGVybWluYXRlJykgcmV0dXJuIGNyZWF0ZURldGVybWluYXRlKCk7ZWxzZSBpZiAocHJvcHMubW9kZSA9PT0gJ2luZGV0ZXJtaW5hdGUnKSByZXR1cm4gY3JlYXRlSW5kZXRlcm1pbmF0ZSgpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKHByb3BzLm1vZGUgKyBcIiBpcyBub3QgYSB2YWxpZCBtb2RlIGZvciB0aGUgUHJvZ3Jlc3NCYXIuIFZhbGlkIHZhbHVlcyBhcmUgJ2RldGVybWluYXRlJyBhbmQgJ2luZGV0ZXJtaW5hdGUnXCIpO1xufSkpO1xuUHJvZ3Jlc3NCYXIuZGlzcGxheU5hbWUgPSAnUHJvZ3Jlc3NCYXInO1xuXG5leHBvcnQgeyBQcm9ncmVzc0JhciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/primereact/progressbar/progressbar.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/toast/toast.esm.js":
/*!****************************************************!*\
  !*** ./node_modules/primereact/toast/toast.esm.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Toast\": function() { return /* binding */ Toast; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-transition-group */ \"./node_modules/react-transition-group/esm/index.js\");\n/* harmony import */ var primereact_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/api */ \"./node_modules/primereact/api/api.esm.js\");\n/* harmony import */ var primereact_csstransition__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/csstransition */ \"./node_modules/primereact/csstransition/csstransition.esm.js\");\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_portal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! primereact/portal */ \"./node_modules/primereact/portal/portal.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n/* harmony import */ var primereact_ripple__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/ripple */ \"./node_modules/primereact/ripple/ripple.esm.js\");\n\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar ToastBase = {\n  defaultProps: {\n    __TYPE: 'Toast',\n    id: null,\n    className: null,\n    style: null,\n    baseZIndex: 0,\n    position: 'top-right',\n    transitionOptions: null,\n    appendTo: 'self',\n    onClick: null,\n    onRemove: null,\n    onShow: null,\n    onHide: null,\n    onMouseEnter: null,\n    onMouseLeave: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, ToastBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, ToastBase.defaultProps);\n  }\n};\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar FilterMatchMode = Object.freeze({\n  STARTS_WITH: 'startsWith',\n  CONTAINS: 'contains',\n  NOT_CONTAINS: 'notContains',\n  ENDS_WITH: 'endsWith',\n  EQUALS: 'equals',\n  NOT_EQUALS: 'notEquals',\n  IN: 'in',\n  LESS_THAN: 'lt',\n  LESS_THAN_OR_EQUAL_TO: 'lte',\n  GREATER_THAN: 'gt',\n  GREATER_THAN_OR_EQUAL_TO: 'gte',\n  BETWEEN: 'between',\n  DATE_IS: 'dateIs',\n  DATE_IS_NOT: 'dateIsNot',\n  DATE_BEFORE: 'dateBefore',\n  DATE_AFTER: 'dateAfter',\n  CUSTOM: 'custom'\n});\n\nvar PrimeReact = /*#__PURE__*/_createClass(function PrimeReact() {\n  _classCallCheck(this, PrimeReact);\n});\n_defineProperty(PrimeReact, \"ripple\", false);\n_defineProperty(PrimeReact, \"inputStyle\", 'outlined');\n_defineProperty(PrimeReact, \"locale\", 'en');\n_defineProperty(PrimeReact, \"appendTo\", null);\n_defineProperty(PrimeReact, \"cssTransition\", true);\n_defineProperty(PrimeReact, \"autoZIndex\", true);\n_defineProperty(PrimeReact, \"nonce\", null);\n_defineProperty(PrimeReact, \"nullSortOrder\", 1);\n_defineProperty(PrimeReact, \"zIndex\", {\n  modal: 1100,\n  overlay: 1000,\n  menu: 1000,\n  tooltip: 1100,\n  toast: 1200\n});\n_defineProperty(PrimeReact, \"filterMatchModeOptions\", {\n  text: [FilterMatchMode.STARTS_WITH, FilterMatchMode.CONTAINS, FilterMatchMode.NOT_CONTAINS, FilterMatchMode.ENDS_WITH, FilterMatchMode.EQUALS, FilterMatchMode.NOT_EQUALS],\n  numeric: [FilterMatchMode.EQUALS, FilterMatchMode.NOT_EQUALS, FilterMatchMode.LESS_THAN, FilterMatchMode.LESS_THAN_OR_EQUAL_TO, FilterMatchMode.GREATER_THAN, FilterMatchMode.GREATER_THAN_OR_EQUAL_TO],\n  date: [FilterMatchMode.DATE_IS, FilterMatchMode.DATE_IS_NOT, FilterMatchMode.DATE_BEFORE, FilterMatchMode.DATE_AFTER]\n});\n_defineProperty(PrimeReact, \"changeTheme\", function (currentTheme, newTheme, linkElementId, callback) {\n  var _linkElement$parentNo;\n  var linkElement = document.getElementById(linkElementId);\n  var cloneLinkElement = linkElement.cloneNode(true);\n  var newThemeUrl = linkElement.getAttribute('href').replace(currentTheme, newTheme);\n  cloneLinkElement.setAttribute('id', linkElementId + '-clone');\n  cloneLinkElement.setAttribute('href', newThemeUrl);\n  cloneLinkElement.addEventListener('load', function () {\n    linkElement.remove();\n    cloneLinkElement.setAttribute('id', linkElementId);\n    if (callback) {\n      callback();\n    }\n  });\n  (_linkElement$parentNo = linkElement.parentNode) === null || _linkElement$parentNo === void 0 ? void 0 : _linkElement$parentNo.insertBefore(cloneLinkElement, linkElement.nextSibling);\n});\n\nvar locales = {\n  en: {\n    startsWith: 'Starts with',\n    contains: 'Contains',\n    notContains: 'Not contains',\n    endsWith: 'Ends with',\n    equals: 'Equals',\n    notEquals: 'Not equals',\n    noFilter: 'No Filter',\n    filter: 'Filter',\n    lt: 'Less than',\n    lte: 'Less than or equal to',\n    gt: 'Greater than',\n    gte: 'Greater than or equal to',\n    dateIs: 'Date is',\n    dateIsNot: 'Date is not',\n    dateBefore: 'Date is before',\n    dateAfter: 'Date is after',\n    custom: 'Custom',\n    clear: 'Clear',\n    close: 'Close',\n    apply: 'Apply',\n    matchAll: 'Match All',\n    matchAny: 'Match Any',\n    addRule: 'Add Rule',\n    removeRule: 'Remove Rule',\n    accept: 'Yes',\n    reject: 'No',\n    choose: 'Choose',\n    upload: 'Upload',\n    cancel: 'Cancel',\n    dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    dayNamesMin: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n    monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n    monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n    today: 'Today',\n    weekHeader: 'Wk',\n    firstDayOfWeek: 0,\n    dateFormat: 'mm/dd/yy',\n    weak: 'Weak',\n    medium: 'Medium',\n    strong: 'Strong',\n    passwordPrompt: 'Enter a password',\n    emptyFilterMessage: 'No available options',\n    emptyMessage: 'No results found',\n    aria: {\n      trueLabel: 'True',\n      falseLabel: 'False',\n      nullLabel: 'Not Selected',\n      pageLabel: 'Page',\n      firstPageLabel: 'First Page',\n      lastPageLabel: 'Last Page',\n      nextPageLabel: 'Next Page',\n      previousPageLabel: 'Previous Page',\n      selectLabel: 'Select',\n      unselectLabel: 'Unselect',\n      expandLabel: 'Expand',\n      collapseLabel: 'Collapse'\n    }\n  }\n};\nfunction localeOption(key, locale) {\n  var _locale = locale || PrimeReact.locale;\n  try {\n    return localeOptions(_locale)[key];\n  } catch (error) {\n    throw new Error(\"The \".concat(key, \" option is not found in the current locale('\").concat(_locale, \"').\"));\n  }\n}\nfunction localeOptions(locale) {\n  var _locale = locale || PrimeReact.locale;\n  return locales[_locale];\n}\n\nvar ToastMessage = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var messageInfo = props.messageInfo;\n  var _messageInfo$message = messageInfo.message,\n    severity = _messageInfo$message.severity,\n    content = _messageInfo$message.content,\n    summary = _messageInfo$message.summary,\n    detail = _messageInfo$message.detail,\n    closable = _messageInfo$message.closable,\n    life = _messageInfo$message.life,\n    sticky = _messageInfo$message.sticky,\n    _className = _messageInfo$message.className,\n    style = _messageInfo$message.style,\n    _contentClassName = _messageInfo$message.contentClassName,\n    contentStyle = _messageInfo$message.contentStyle;\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    focused = _React$useState2[0],\n    setFocused = _React$useState2[1];\n  var _useTimeout = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useTimeout)(function () {\n      onClose();\n    }, life || 3000, !sticky && !focused),\n    _useTimeout2 = _slicedToArray(_useTimeout, 1),\n    clearTimer = _useTimeout2[0];\n  var onClose = function onClose() {\n    clearTimer();\n    props.onClose && props.onClose(messageInfo);\n  };\n  var onClick = function onClick(event) {\n    if (props.onClick && !(primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(event.target, 'p-toast-icon-close') || primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(event.target, 'p-toast-icon-close-icon'))) {\n      props.onClick(messageInfo.message);\n    }\n  };\n  var onMouseEnter = function onMouseEnter(event) {\n    props.onMouseEnter && props.onMouseEnter(event);\n\n    // do not continue if the user has canceled the event\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    // stop timer while user has focused message\n    if (!sticky) {\n      clearTimer();\n      setFocused(true);\n    }\n  };\n  var onMouseLeave = function onMouseLeave(event) {\n    props.onMouseLeave && props.onMouseLeave(event);\n\n    // do not continue if the user has canceled the event\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    // restart timer when user has left message\n    if (!sticky) {\n      setFocused(false);\n    }\n  };\n  var createCloseIcon = function createCloseIcon() {\n    if (closable !== false) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        type: \"button\",\n        className: \"p-toast-icon-close p-link\",\n        onClick: onClose,\n        \"aria-label\": localeOption('close')\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-toast-icon-close-icon pi pi-times\",\n        \"aria-hidden\": \"true\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_3__.Ripple, null)));\n    }\n    return null;\n  };\n  var createMessage = function createMessage() {\n    if (messageInfo) {\n      var contentEl = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(content, {\n        message: messageInfo.message,\n        onClick: onClick,\n        onClose: onClose\n      });\n      var iconClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-toast-message-icon pi', {\n        'pi-info-circle': severity === 'info',\n        'pi-exclamation-triangle': severity === 'warn',\n        'pi-times': severity === 'error',\n        'pi-check': severity === 'success'\n      });\n      return contentEl || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: iconClassName\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-toast-message-text\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-toast-summary\"\n      }, summary), detail && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-toast-detail\"\n      }, detail)));\n    }\n    return null;\n  };\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-toast-message', _defineProperty({}, \"p-toast-message-\".concat(severity), severity), _className);\n  var contentClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-toast-message-content', _contentClassName);\n  var message = createMessage();\n  var closeIcon = createCloseIcon();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    ref: ref,\n    className: className,\n    style: style,\n    role: \"alert\",\n    \"aria-live\": \"assertive\",\n    \"aria-atomic\": \"true\",\n    onClick: onClick,\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: contentClassName,\n    style: contentStyle\n  }, message, closeIcon));\n}));\nToastMessage.displayName = 'ToastMessage';\n\nvar messageIdx = 0;\nvar Toast = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (inProps, ref) {\n  var props = ToastBase.getProps(inProps);\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    messagesState = _React$useState2[0],\n    setMessagesState = _React$useState2[1];\n  var containerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var show = function show(messageInfo) {\n    if (messageInfo) {\n      var messages = assignIdentifiers(messageInfo, true);\n      setMessagesState(messages);\n    }\n  };\n  var assignIdentifiers = function assignIdentifiers(messageInfo, copy) {\n    var messages;\n    if (Array.isArray(messageInfo)) {\n      var multipleMessages = messageInfo.reduce(function (acc, message) {\n        acc.push({\n          _pId: messageIdx++,\n          message: message\n        });\n        return acc;\n      }, []);\n      if (copy) {\n        messages = messagesState ? [].concat(_toConsumableArray(messagesState), _toConsumableArray(multipleMessages)) : multipleMessages;\n      } else {\n        messages = multipleMessages;\n      }\n    } else {\n      var message = {\n        _pId: messageIdx++,\n        message: messageInfo\n      };\n      if (copy) {\n        messages = messagesState ? [].concat(_toConsumableArray(messagesState), [message]) : [message];\n      } else {\n        messages = [message];\n      }\n    }\n    return messages;\n  };\n  var clear = function clear() {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ZIndexUtils.clear(containerRef.current);\n    setMessagesState([]);\n  };\n  var replace = function replace(messageInfo) {\n    var replaced = assignIdentifiers(messageInfo, false);\n    setMessagesState(replaced);\n  };\n  var remove = function remove(messageInfo) {\n    var messages = messagesState.filter(function (msg) {\n      return msg._pId !== messageInfo._pId;\n    });\n    setMessagesState(messages);\n    props.onRemove && props.onRemove(messageInfo.message);\n  };\n  var onClose = function onClose(messageInfo) {\n    remove(messageInfo);\n  };\n  var onEntered = function onEntered() {\n    props.onShow && props.onShow();\n  };\n  var onExited = function onExited() {\n    messagesState.length === 1 && primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ZIndexUtils.clear(containerRef.current);\n    props.onHide && props.onHide();\n  };\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ZIndexUtils.set('toast', containerRef.current, primereact_api__WEBPACK_IMPORTED_MODULE_4__[\"default\"].autoZIndex, props.baseZIndex || primereact_api__WEBPACK_IMPORTED_MODULE_4__[\"default\"].zIndex.toast);\n  }, [messagesState, props.baseZIndex]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUnmountEffect)(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ZIndexUtils.clear(containerRef.current);\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      show: show,\n      replace: replace,\n      remove: remove,\n      clear: clear,\n      getElement: function getElement() {\n        return containerRef.current;\n      }\n    };\n  });\n  var createElement = function createElement() {\n    var otherProps = ToastBase.getOtherProps(props);\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-toast p-component p-toast-' + props.position, props.className, {\n      'p-input-filled': primereact_api__WEBPACK_IMPORTED_MODULE_4__[\"default\"].inputStyle === 'filled',\n      'p-ripple-disabled': primereact_api__WEBPACK_IMPORTED_MODULE_4__[\"default\"].ripple === false\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n      ref: containerRef,\n      id: props.id,\n      className: className,\n      style: props.style\n    }, otherProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_transition_group__WEBPACK_IMPORTED_MODULE_5__.TransitionGroup, null, messagesState && messagesState.map(function (messageInfo) {\n      var messageRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createRef();\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_csstransition__WEBPACK_IMPORTED_MODULE_6__.CSSTransition, {\n        nodeRef: messageRef,\n        key: messageInfo._pId,\n        classNames: \"p-toast-message\",\n        unmountOnExit: true,\n        timeout: {\n          enter: 300,\n          exit: 300\n        },\n        onEntered: onEntered,\n        onExited: onExited,\n        options: props.transitionOptions\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(ToastMessage, {\n        ref: messageRef,\n        messageInfo: messageInfo,\n        onClick: props.onClick,\n        onClose: onClose,\n        onMouseEnter: props.onMouseEnter,\n        onMouseLeave: props.onMouseLeave\n      }));\n    })));\n  };\n  var element = createElement();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_portal__WEBPACK_IMPORTED_MODULE_7__.Portal, {\n    element: element,\n    appendTo: props.appendTo\n  });\n}));\nToast.displayName = 'Toast';\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC90b2FzdC90b2FzdC5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUErQjtBQUMwQjtBQUNmO0FBQ2U7QUFDd0I7QUFDdEM7QUFDeUM7QUFDekM7O0FBRTNDO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlDQUF5QyxTQUFTO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLFlBQVksNkVBQTZFO0FBQ2pHLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxXQUFXLHdFQUEwQjtBQUNyQyxHQUFHO0FBQ0g7QUFDQSxXQUFXLHNFQUF3QjtBQUNuQztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdDQUFnQyx1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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU8sZUFBZSxnREFBbUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0Esc0JBQXNCLGdEQUFtQixDQUFDLHFEQUFNO0FBQ2hEO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEOztBQUVpQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC90b2FzdC90b2FzdC5lc20uanM/ZWZkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUcmFuc2l0aW9uR3JvdXAgfSBmcm9tICdyZWFjdC10cmFuc2l0aW9uLWdyb3VwJztcbmltcG9ydCBQcmltZVJlYWN0JDEgZnJvbSAncHJpbWVyZWFjdC9hcGknO1xuaW1wb3J0IHsgQ1NTVHJhbnNpdGlvbiB9IGZyb20gJ3ByaW1lcmVhY3QvY3NzdHJhbnNpdGlvbic7XG5pbXBvcnQgeyB1c2VUaW1lb3V0LCB1c2VVcGRhdGVFZmZlY3QsIHVzZVVubW91bnRFZmZlY3QgfSBmcm9tICdwcmltZXJlYWN0L2hvb2tzJztcbmltcG9ydCB7IFBvcnRhbCB9IGZyb20gJ3ByaW1lcmVhY3QvcG9ydGFsJztcbmltcG9ydCB7IE9iamVjdFV0aWxzLCBjbGFzc05hbWVzLCBEb21IYW5kbGVyLCBaSW5kZXhVdGlscyB9IGZyb20gJ3ByaW1lcmVhY3QvdXRpbHMnO1xuaW1wb3J0IHsgUmlwcGxlIH0gZnJvbSAncHJpbWVyZWFjdC9yaXBwbGUnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTtcbiAgcmV0dXJuIGFycjI7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7XG59XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyW1wiQEBpdGVyYXRvclwiXSAhPSBudWxsKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICB2YXIgX2kgPSBudWxsID09IGFyciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcbiAgaWYgKG51bGwgIT0gX2kpIHtcbiAgICB2YXIgX3MsXG4gICAgICBfZSxcbiAgICAgIF94LFxuICAgICAgX3IsXG4gICAgICBfYXJyID0gW10sXG4gICAgICBfbiA9ICEwLFxuICAgICAgX2QgPSAhMTtcbiAgICB0cnkge1xuICAgICAgaWYgKF94ID0gKF9pID0gX2kuY2FsbChhcnIpKS5uZXh0LCAwID09PSBpKSB7XG4gICAgICAgIGlmIChPYmplY3QoX2kpICE9PSBfaSkgcmV0dXJuO1xuICAgICAgICBfbiA9ICExO1xuICAgICAgfSBlbHNlIGZvciAoOyAhKF9uID0gKF9zID0gX3guY2FsbChfaSkpLmRvbmUpICYmIChfYXJyLnB1c2goX3MudmFsdWUpLCBfYXJyLmxlbmd0aCAhPT0gaSk7IF9uID0gITApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2QgPSAhMCwgX2UgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX24gJiYgbnVsbCAhPSBfaVtcInJldHVyblwiXSAmJiAoX3IgPSBfaVtcInJldHVyblwiXSgpLCBPYmplY3QoX3IpICE9PSBfcikpIHJldHVybjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBfYXJyO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xufVxuXG52YXIgVG9hc3RCYXNlID0ge1xuICBkZWZhdWx0UHJvcHM6IHtcbiAgICBfX1RZUEU6ICdUb2FzdCcsXG4gICAgaWQ6IG51bGwsXG4gICAgY2xhc3NOYW1lOiBudWxsLFxuICAgIHN0eWxlOiBudWxsLFxuICAgIGJhc2VaSW5kZXg6IDAsXG4gICAgcG9zaXRpb246ICd0b3AtcmlnaHQnLFxuICAgIHRyYW5zaXRpb25PcHRpb25zOiBudWxsLFxuICAgIGFwcGVuZFRvOiAnc2VsZicsXG4gICAgb25DbGljazogbnVsbCxcbiAgICBvblJlbW92ZTogbnVsbCxcbiAgICBvblNob3c6IG51bGwsXG4gICAgb25IaWRlOiBudWxsLFxuICAgIG9uTW91c2VFbnRlcjogbnVsbCxcbiAgICBvbk1vdXNlTGVhdmU6IG51bGwsXG4gICAgY2hpbGRyZW46IHVuZGVmaW5lZFxuICB9LFxuICBnZXRQcm9wczogZnVuY3Rpb24gZ2V0UHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0TWVyZ2VkUHJvcHMocHJvcHMsIFRvYXN0QmFzZS5kZWZhdWx0UHJvcHMpO1xuICB9LFxuICBnZXRPdGhlclByb3BzOiBmdW5jdGlvbiBnZXRPdGhlclByb3BzKHByb3BzKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldERpZmZQcm9wcyhwcm9wcywgVG9hc3RCYXNlLmRlZmF1bHRQcm9wcyk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICB9LCBfdHlwZW9mKG9iaik7XG59XG5cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkge1xuICBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDtcbiAgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdO1xuICBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7XG4gICAgaWYgKF90eXBlb2YocmVzKSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlcztcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7XG4gIH1cbiAgcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7XG59XG5cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykge1xuICB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgXCJzdHJpbmdcIik7XG4gIHJldHVybiBfdHlwZW9mKGtleSkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTtcbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBrZXkgPSBfdG9Qcm9wZXJ0eUtleShrZXkpO1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwge1xuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuXG52YXIgRmlsdGVyTWF0Y2hNb2RlID0gT2JqZWN0LmZyZWV6ZSh7XG4gIFNUQVJUU19XSVRIOiAnc3RhcnRzV2l0aCcsXG4gIENPTlRBSU5TOiAnY29udGFpbnMnLFxuICBOT1RfQ09OVEFJTlM6ICdub3RDb250YWlucycsXG4gIEVORFNfV0lUSDogJ2VuZHNXaXRoJyxcbiAgRVFVQUxTOiAnZXF1YWxzJyxcbiAgTk9UX0VRVUFMUzogJ25vdEVxdWFscycsXG4gIElOOiAnaW4nLFxuICBMRVNTX1RIQU46ICdsdCcsXG4gIExFU1NfVEhBTl9PUl9FUVVBTF9UTzogJ2x0ZScsXG4gIEdSRUFURVJfVEhBTjogJ2d0JyxcbiAgR1JFQVRFUl9USEFOX09SX0VRVUFMX1RPOiAnZ3RlJyxcbiAgQkVUV0VFTjogJ2JldHdlZW4nLFxuICBEQVRFX0lTOiAnZGF0ZUlzJyxcbiAgREFURV9JU19OT1Q6ICdkYXRlSXNOb3QnLFxuICBEQVRFX0JFRk9SRTogJ2RhdGVCZWZvcmUnLFxuICBEQVRFX0FGVEVSOiAnZGF0ZUFmdGVyJyxcbiAgQ1VTVE9NOiAnY3VzdG9tJ1xufSk7XG5cbnZhciBQcmltZVJlYWN0ID0gLyojX19QVVJFX18qL19jcmVhdGVDbGFzcyhmdW5jdGlvbiBQcmltZVJlYWN0KCkge1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJpbWVSZWFjdCk7XG59KTtcbl9kZWZpbmVQcm9wZXJ0eShQcmltZVJlYWN0LCBcInJpcHBsZVwiLCBmYWxzZSk7XG5fZGVmaW5lUHJvcGVydHkoUHJpbWVSZWFjdCwgXCJpbnB1dFN0eWxlXCIsICdvdXRsaW5lZCcpO1xuX2RlZmluZVByb3BlcnR5KFByaW1lUmVhY3QsIFwibG9jYWxlXCIsICdlbicpO1xuX2RlZmluZVByb3BlcnR5KFByaW1lUmVhY3QsIFwiYXBwZW5kVG9cIiwgbnVsbCk7XG5fZGVmaW5lUHJvcGVydHkoUHJpbWVSZWFjdCwgXCJjc3NUcmFuc2l0aW9uXCIsIHRydWUpO1xuX2RlZmluZVByb3BlcnR5KFByaW1lUmVhY3QsIFwiYXV0b1pJbmRleFwiLCB0cnVlKTtcbl9kZWZpbmVQcm9wZXJ0eShQcmltZVJlYWN0LCBcIm5vbmNlXCIsIG51bGwpO1xuX2RlZmluZVByb3BlcnR5KFByaW1lUmVhY3QsIFwibnVsbFNvcnRPcmRlclwiLCAxKTtcbl9kZWZpbmVQcm9wZXJ0eShQcmltZVJlYWN0LCBcInpJbmRleFwiLCB7XG4gIG1vZGFsOiAxMTAwLFxuICBvdmVybGF5OiAxMDAwLFxuICBtZW51OiAxMDAwLFxuICB0b29sdGlwOiAxMTAwLFxuICB0b2FzdDogMTIwMFxufSk7XG5fZGVmaW5lUHJvcGVydHkoUHJpbWVSZWFjdCwgXCJmaWx0ZXJNYXRjaE1vZGVPcHRpb25zXCIsIHtcbiAgdGV4dDogW0ZpbHRlck1hdGNoTW9kZS5TVEFSVFNfV0lUSCwgRmlsdGVyTWF0Y2hNb2RlLkNPTlRBSU5TLCBGaWx0ZXJNYXRjaE1vZGUuTk9UX0NPTlRBSU5TLCBGaWx0ZXJNYXRjaE1vZGUuRU5EU19XSVRILCBGaWx0ZXJNYXRjaE1vZGUuRVFVQUxTLCBGaWx0ZXJNYXRjaE1vZGUuTk9UX0VRVUFMU10sXG4gIG51bWVyaWM6IFtGaWx0ZXJNYXRjaE1vZGUuRVFVQUxTLCBGaWx0ZXJNYXRjaE1vZGUuTk9UX0VRVUFMUywgRmlsdGVyTWF0Y2hNb2RlLkxFU1NfVEhBTiwgRmlsdGVyTWF0Y2hNb2RlLkxFU1NfVEhBTl9PUl9FUVVBTF9UTywgRmlsdGVyTWF0Y2hNb2RlLkdSRUFURVJfVEhBTiwgRmlsdGVyTWF0Y2hNb2RlLkdSRUFURVJfVEhBTl9PUl9FUVVBTF9UT10sXG4gIGRhdGU6IFtGaWx0ZXJNYXRjaE1vZGUuREFURV9JUywgRmlsdGVyTWF0Y2hNb2RlLkRBVEVfSVNfTk9ULCBGaWx0ZXJNYXRjaE1vZGUuREFURV9CRUZPUkUsIEZpbHRlck1hdGNoTW9kZS5EQVRFX0FGVEVSXVxufSk7XG5fZGVmaW5lUHJvcGVydHkoUHJpbWVSZWFjdCwgXCJjaGFuZ2VUaGVtZVwiLCBmdW5jdGlvbiAoY3VycmVudFRoZW1lLCBuZXdUaGVtZSwgbGlua0VsZW1lbnRJZCwgY2FsbGJhY2spIHtcbiAgdmFyIF9saW5rRWxlbWVudCRwYXJlbnRObztcbiAgdmFyIGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobGlua0VsZW1lbnRJZCk7XG4gIHZhciBjbG9uZUxpbmtFbGVtZW50ID0gbGlua0VsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xuICB2YXIgbmV3VGhlbWVVcmwgPSBsaW5rRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKS5yZXBsYWNlKGN1cnJlbnRUaGVtZSwgbmV3VGhlbWUpO1xuICBjbG9uZUxpbmtFbGVtZW50LnNldEF0dHJpYnV0ZSgnaWQnLCBsaW5rRWxlbWVudElkICsgJy1jbG9uZScpO1xuICBjbG9uZUxpbmtFbGVtZW50LnNldEF0dHJpYnV0ZSgnaHJlZicsIG5ld1RoZW1lVXJsKTtcbiAgY2xvbmVMaW5rRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgIGxpbmtFbGVtZW50LnJlbW92ZSgpO1xuICAgIGNsb25lTGlua0VsZW1lbnQuc2V0QXR0cmlidXRlKCdpZCcsIGxpbmtFbGVtZW50SWQpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0pO1xuICAoX2xpbmtFbGVtZW50JHBhcmVudE5vID0gbGlua0VsZW1lbnQucGFyZW50Tm9kZSkgPT09IG51bGwgfHwgX2xpbmtFbGVtZW50JHBhcmVudE5vID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbGlua0VsZW1lbnQkcGFyZW50Tm8uaW5zZXJ0QmVmb3JlKGNsb25lTGlua0VsZW1lbnQsIGxpbmtFbGVtZW50Lm5leHRTaWJsaW5nKTtcbn0pO1xuXG52YXIgbG9jYWxlcyA9IHtcbiAgZW46IHtcbiAgICBzdGFydHNXaXRoOiAnU3RhcnRzIHdpdGgnLFxuICAgIGNvbnRhaW5zOiAnQ29udGFpbnMnLFxuICAgIG5vdENvbnRhaW5zOiAnTm90IGNvbnRhaW5zJyxcbiAgICBlbmRzV2l0aDogJ0VuZHMgd2l0aCcsXG4gICAgZXF1YWxzOiAnRXF1YWxzJyxcbiAgICBub3RFcXVhbHM6ICdOb3QgZXF1YWxzJyxcbiAgICBub0ZpbHRlcjogJ05vIEZpbHRlcicsXG4gICAgZmlsdGVyOiAnRmlsdGVyJyxcbiAgICBsdDogJ0xlc3MgdGhhbicsXG4gICAgbHRlOiAnTGVzcyB0aGFuIG9yIGVxdWFsIHRvJyxcbiAgICBndDogJ0dyZWF0ZXIgdGhhbicsXG4gICAgZ3RlOiAnR3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvJyxcbiAgICBkYXRlSXM6ICdEYXRlIGlzJyxcbiAgICBkYXRlSXNOb3Q6ICdEYXRlIGlzIG5vdCcsXG4gICAgZGF0ZUJlZm9yZTogJ0RhdGUgaXMgYmVmb3JlJyxcbiAgICBkYXRlQWZ0ZXI6ICdEYXRlIGlzIGFmdGVyJyxcbiAgICBjdXN0b206ICdDdXN0b20nLFxuICAgIGNsZWFyOiAnQ2xlYXInLFxuICAgIGNsb3NlOiAnQ2xvc2UnLFxuICAgIGFwcGx5OiAnQXBwbHknLFxuICAgIG1hdGNoQWxsOiAnTWF0Y2ggQWxsJyxcbiAgICBtYXRjaEFueTogJ01hdGNoIEFueScsXG4gICAgYWRkUnVsZTogJ0FkZCBSdWxlJyxcbiAgICByZW1vdmVSdWxlOiAnUmVtb3ZlIFJ1bGUnLFxuICAgIGFjY2VwdDogJ1llcycsXG4gICAgcmVqZWN0OiAnTm8nLFxuICAgIGNob29zZTogJ0Nob29zZScsXG4gICAgdXBsb2FkOiAnVXBsb2FkJyxcbiAgICBjYW5jZWw6ICdDYW5jZWwnLFxuICAgIGRheU5hbWVzOiBbJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5J10sXG4gICAgZGF5TmFtZXNTaG9ydDogWydTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnXSxcbiAgICBkYXlOYW1lc01pbjogWydTdScsICdNbycsICdUdScsICdXZScsICdUaCcsICdGcicsICdTYSddLFxuICAgIG1vbnRoTmFtZXM6IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddLFxuICAgIG1vbnRoTmFtZXNTaG9ydDogWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsICdPY3QnLCAnTm92JywgJ0RlYyddLFxuICAgIHRvZGF5OiAnVG9kYXknLFxuICAgIHdlZWtIZWFkZXI6ICdXaycsXG4gICAgZmlyc3REYXlPZldlZWs6IDAsXG4gICAgZGF0ZUZvcm1hdDogJ21tL2RkL3l5JyxcbiAgICB3ZWFrOiAnV2VhaycsXG4gICAgbWVkaXVtOiAnTWVkaXVtJyxcbiAgICBzdHJvbmc6ICdTdHJvbmcnLFxuICAgIHBhc3N3b3JkUHJvbXB0OiAnRW50ZXIgYSBwYXNzd29yZCcsXG4gICAgZW1wdHlGaWx0ZXJNZXNzYWdlOiAnTm8gYXZhaWxhYmxlIG9wdGlvbnMnLFxuICAgIGVtcHR5TWVzc2FnZTogJ05vIHJlc3VsdHMgZm91bmQnLFxuICAgIGFyaWE6IHtcbiAgICAgIHRydWVMYWJlbDogJ1RydWUnLFxuICAgICAgZmFsc2VMYWJlbDogJ0ZhbHNlJyxcbiAgICAgIG51bGxMYWJlbDogJ05vdCBTZWxlY3RlZCcsXG4gICAgICBwYWdlTGFiZWw6ICdQYWdlJyxcbiAgICAgIGZpcnN0UGFnZUxhYmVsOiAnRmlyc3QgUGFnZScsXG4gICAgICBsYXN0UGFnZUxhYmVsOiAnTGFzdCBQYWdlJyxcbiAgICAgIG5leHRQYWdlTGFiZWw6ICdOZXh0IFBhZ2UnLFxuICAgICAgcHJldmlvdXNQYWdlTGFiZWw6ICdQcmV2aW91cyBQYWdlJyxcbiAgICAgIHNlbGVjdExhYmVsOiAnU2VsZWN0JyxcbiAgICAgIHVuc2VsZWN0TGFiZWw6ICdVbnNlbGVjdCcsXG4gICAgICBleHBhbmRMYWJlbDogJ0V4cGFuZCcsXG4gICAgICBjb2xsYXBzZUxhYmVsOiAnQ29sbGFwc2UnXG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gbG9jYWxlT3B0aW9uKGtleSwgbG9jYWxlKSB7XG4gIHZhciBfbG9jYWxlID0gbG9jYWxlIHx8IFByaW1lUmVhY3QubG9jYWxlO1xuICB0cnkge1xuICAgIHJldHVybiBsb2NhbGVPcHRpb25zKF9sb2NhbGUpW2tleV07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIFwiLmNvbmNhdChrZXksIFwiIG9wdGlvbiBpcyBub3QgZm91bmQgaW4gdGhlIGN1cnJlbnQgbG9jYWxlKCdcIikuY29uY2F0KF9sb2NhbGUsIFwiJykuXCIpKTtcbiAgfVxufVxuZnVuY3Rpb24gbG9jYWxlT3B0aW9ucyhsb2NhbGUpIHtcbiAgdmFyIF9sb2NhbGUgPSBsb2NhbGUgfHwgUHJpbWVSZWFjdC5sb2NhbGU7XG4gIHJldHVybiBsb2NhbGVzW19sb2NhbGVdO1xufVxuXG52YXIgVG9hc3RNZXNzYWdlID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oIC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBtZXNzYWdlSW5mbyA9IHByb3BzLm1lc3NhZ2VJbmZvO1xuICB2YXIgX21lc3NhZ2VJbmZvJG1lc3NhZ2UgPSBtZXNzYWdlSW5mby5tZXNzYWdlLFxuICAgIHNldmVyaXR5ID0gX21lc3NhZ2VJbmZvJG1lc3NhZ2Uuc2V2ZXJpdHksXG4gICAgY29udGVudCA9IF9tZXNzYWdlSW5mbyRtZXNzYWdlLmNvbnRlbnQsXG4gICAgc3VtbWFyeSA9IF9tZXNzYWdlSW5mbyRtZXNzYWdlLnN1bW1hcnksXG4gICAgZGV0YWlsID0gX21lc3NhZ2VJbmZvJG1lc3NhZ2UuZGV0YWlsLFxuICAgIGNsb3NhYmxlID0gX21lc3NhZ2VJbmZvJG1lc3NhZ2UuY2xvc2FibGUsXG4gICAgbGlmZSA9IF9tZXNzYWdlSW5mbyRtZXNzYWdlLmxpZmUsXG4gICAgc3RpY2t5ID0gX21lc3NhZ2VJbmZvJG1lc3NhZ2Uuc3RpY2t5LFxuICAgIF9jbGFzc05hbWUgPSBfbWVzc2FnZUluZm8kbWVzc2FnZS5jbGFzc05hbWUsXG4gICAgc3R5bGUgPSBfbWVzc2FnZUluZm8kbWVzc2FnZS5zdHlsZSxcbiAgICBfY29udGVudENsYXNzTmFtZSA9IF9tZXNzYWdlSW5mbyRtZXNzYWdlLmNvbnRlbnRDbGFzc05hbWUsXG4gICAgY29udGVudFN0eWxlID0gX21lc3NhZ2VJbmZvJG1lc3NhZ2UuY29udGVudFN0eWxlO1xuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLFxuICAgIGZvY3VzZWQgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgIHNldEZvY3VzZWQgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuICB2YXIgX3VzZVRpbWVvdXQgPSB1c2VUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIG9uQ2xvc2UoKTtcbiAgICB9LCBsaWZlIHx8IDMwMDAsICFzdGlja3kgJiYgIWZvY3VzZWQpLFxuICAgIF91c2VUaW1lb3V0MiA9IF9zbGljZWRUb0FycmF5KF91c2VUaW1lb3V0LCAxKSxcbiAgICBjbGVhclRpbWVyID0gX3VzZVRpbWVvdXQyWzBdO1xuICB2YXIgb25DbG9zZSA9IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7XG4gICAgY2xlYXJUaW1lcigpO1xuICAgIHByb3BzLm9uQ2xvc2UgJiYgcHJvcHMub25DbG9zZShtZXNzYWdlSW5mbyk7XG4gIH07XG4gIHZhciBvbkNsaWNrID0gZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgIGlmIChwcm9wcy5vbkNsaWNrICYmICEoRG9tSGFuZGxlci5oYXNDbGFzcyhldmVudC50YXJnZXQsICdwLXRvYXN0LWljb24tY2xvc2UnKSB8fCBEb21IYW5kbGVyLmhhc0NsYXNzKGV2ZW50LnRhcmdldCwgJ3AtdG9hc3QtaWNvbi1jbG9zZS1pY29uJykpKSB7XG4gICAgICBwcm9wcy5vbkNsaWNrKG1lc3NhZ2VJbmZvLm1lc3NhZ2UpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9uTW91c2VFbnRlciA9IGZ1bmN0aW9uIG9uTW91c2VFbnRlcihldmVudCkge1xuICAgIHByb3BzLm9uTW91c2VFbnRlciAmJiBwcm9wcy5vbk1vdXNlRW50ZXIoZXZlbnQpO1xuXG4gICAgLy8gZG8gbm90IGNvbnRpbnVlIGlmIHRoZSB1c2VyIGhhcyBjYW5jZWxlZCB0aGUgZXZlbnRcbiAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHN0b3AgdGltZXIgd2hpbGUgdXNlciBoYXMgZm9jdXNlZCBtZXNzYWdlXG4gICAgaWYgKCFzdGlja3kpIHtcbiAgICAgIGNsZWFyVGltZXIoKTtcbiAgICAgIHNldEZvY3VzZWQodHJ1ZSk7XG4gICAgfVxuICB9O1xuICB2YXIgb25Nb3VzZUxlYXZlID0gZnVuY3Rpb24gb25Nb3VzZUxlYXZlKGV2ZW50KSB7XG4gICAgcHJvcHMub25Nb3VzZUxlYXZlICYmIHByb3BzLm9uTW91c2VMZWF2ZShldmVudCk7XG5cbiAgICAvLyBkbyBub3QgY29udGludWUgaWYgdGhlIHVzZXIgaGFzIGNhbmNlbGVkIHRoZSBldmVudFxuICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gcmVzdGFydCB0aW1lciB3aGVuIHVzZXIgaGFzIGxlZnQgbWVzc2FnZVxuICAgIGlmICghc3RpY2t5KSB7XG4gICAgICBzZXRGb2N1c2VkKGZhbHNlKTtcbiAgICB9XG4gIH07XG4gIHZhciBjcmVhdGVDbG9zZUljb24gPSBmdW5jdGlvbiBjcmVhdGVDbG9zZUljb24oKSB7XG4gICAgaWYgKGNsb3NhYmxlICE9PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtdG9hc3QtaWNvbi1jbG9zZSBwLWxpbmtcIixcbiAgICAgICAgb25DbGljazogb25DbG9zZSxcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IGxvY2FsZU9wdGlvbignY2xvc2UnKVxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtdG9hc3QtaWNvbi1jbG9zZS1pY29uIHBpIHBpLXRpbWVzXCIsXG4gICAgICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSaXBwbGUsIG51bGwpKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICB2YXIgY3JlYXRlTWVzc2FnZSA9IGZ1bmN0aW9uIGNyZWF0ZU1lc3NhZ2UoKSB7XG4gICAgaWYgKG1lc3NhZ2VJbmZvKSB7XG4gICAgICB2YXIgY29udGVudEVsID0gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChjb250ZW50LCB7XG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VJbmZvLm1lc3NhZ2UsXG4gICAgICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXG4gICAgICAgIG9uQ2xvc2U6IG9uQ2xvc2VcbiAgICAgIH0pO1xuICAgICAgdmFyIGljb25DbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLXRvYXN0LW1lc3NhZ2UtaWNvbiBwaScsIHtcbiAgICAgICAgJ3BpLWluZm8tY2lyY2xlJzogc2V2ZXJpdHkgPT09ICdpbmZvJyxcbiAgICAgICAgJ3BpLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlJzogc2V2ZXJpdHkgPT09ICd3YXJuJyxcbiAgICAgICAgJ3BpLXRpbWVzJzogc2V2ZXJpdHkgPT09ICdlcnJvcicsXG4gICAgICAgICdwaS1jaGVjayc6IHNldmVyaXR5ID09PSAnc3VjY2VzcydcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNvbnRlbnRFbCB8fCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBpY29uQ2xhc3NOYW1lXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC10b2FzdC1tZXNzYWdlLXRleHRcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtdG9hc3Qtc3VtbWFyeVwiXG4gICAgICB9LCBzdW1tYXJ5KSwgZGV0YWlsICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtdG9hc3QtZGV0YWlsXCJcbiAgICAgIH0sIGRldGFpbCkpKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLXRvYXN0LW1lc3NhZ2UnLCBfZGVmaW5lUHJvcGVydHkoe30sIFwicC10b2FzdC1tZXNzYWdlLVwiLmNvbmNhdChzZXZlcml0eSksIHNldmVyaXR5KSwgX2NsYXNzTmFtZSk7XG4gIHZhciBjb250ZW50Q2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC10b2FzdC1tZXNzYWdlLWNvbnRlbnQnLCBfY29udGVudENsYXNzTmFtZSk7XG4gIHZhciBtZXNzYWdlID0gY3JlYXRlTWVzc2FnZSgpO1xuICB2YXIgY2xvc2VJY29uID0gY3JlYXRlQ2xvc2VJY29uKCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgcmVmOiByZWYsXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgc3R5bGU6IHN0eWxlLFxuICAgIHJvbGU6IFwiYWxlcnRcIixcbiAgICBcImFyaWEtbGl2ZVwiOiBcImFzc2VydGl2ZVwiLFxuICAgIFwiYXJpYS1hdG9taWNcIjogXCJ0cnVlXCIsXG4gICAgb25DbGljazogb25DbGljayxcbiAgICBvbk1vdXNlRW50ZXI6IG9uTW91c2VFbnRlcixcbiAgICBvbk1vdXNlTGVhdmU6IG9uTW91c2VMZWF2ZVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjb250ZW50Q2xhc3NOYW1lLFxuICAgIHN0eWxlOiBjb250ZW50U3R5bGVcbiAgfSwgbWVzc2FnZSwgY2xvc2VJY29uKSk7XG59KSk7XG5Ub2FzdE1lc3NhZ2UuZGlzcGxheU5hbWUgPSAnVG9hc3RNZXNzYWdlJztcblxudmFyIG1lc3NhZ2VJZHggPSAwO1xudmFyIFRvYXN0ID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oIC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChpblByb3BzLCByZWYpIHtcbiAgdmFyIHByb3BzID0gVG9hc3RCYXNlLmdldFByb3BzKGluUHJvcHMpO1xuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoW10pLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLFxuICAgIG1lc3NhZ2VzU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgIHNldE1lc3NhZ2VzU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuICB2YXIgY29udGFpbmVyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgc2hvdyA9IGZ1bmN0aW9uIHNob3cobWVzc2FnZUluZm8pIHtcbiAgICBpZiAobWVzc2FnZUluZm8pIHtcbiAgICAgIHZhciBtZXNzYWdlcyA9IGFzc2lnbklkZW50aWZpZXJzKG1lc3NhZ2VJbmZvLCB0cnVlKTtcbiAgICAgIHNldE1lc3NhZ2VzU3RhdGUobWVzc2FnZXMpO1xuICAgIH1cbiAgfTtcbiAgdmFyIGFzc2lnbklkZW50aWZpZXJzID0gZnVuY3Rpb24gYXNzaWduSWRlbnRpZmllcnMobWVzc2FnZUluZm8sIGNvcHkpIHtcbiAgICB2YXIgbWVzc2FnZXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobWVzc2FnZUluZm8pKSB7XG4gICAgICB2YXIgbXVsdGlwbGVNZXNzYWdlcyA9IG1lc3NhZ2VJbmZvLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBtZXNzYWdlKSB7XG4gICAgICAgIGFjYy5wdXNoKHtcbiAgICAgICAgICBfcElkOiBtZXNzYWdlSWR4KyssXG4gICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIFtdKTtcbiAgICAgIGlmIChjb3B5KSB7XG4gICAgICAgIG1lc3NhZ2VzID0gbWVzc2FnZXNTdGF0ZSA/IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobWVzc2FnZXNTdGF0ZSksIF90b0NvbnN1bWFibGVBcnJheShtdWx0aXBsZU1lc3NhZ2VzKSkgOiBtdWx0aXBsZU1lc3NhZ2VzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVzc2FnZXMgPSBtdWx0aXBsZU1lc3NhZ2VzO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbWVzc2FnZSA9IHtcbiAgICAgICAgX3BJZDogbWVzc2FnZUlkeCsrLFxuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlSW5mb1xuICAgICAgfTtcbiAgICAgIGlmIChjb3B5KSB7XG4gICAgICAgIG1lc3NhZ2VzID0gbWVzc2FnZXNTdGF0ZSA/IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobWVzc2FnZXNTdGF0ZSksIFttZXNzYWdlXSkgOiBbbWVzc2FnZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlcyA9IFttZXNzYWdlXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2VzO1xuICB9O1xuICB2YXIgY2xlYXIgPSBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICBaSW5kZXhVdGlscy5jbGVhcihjb250YWluZXJSZWYuY3VycmVudCk7XG4gICAgc2V0TWVzc2FnZXNTdGF0ZShbXSk7XG4gIH07XG4gIHZhciByZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZShtZXNzYWdlSW5mbykge1xuICAgIHZhciByZXBsYWNlZCA9IGFzc2lnbklkZW50aWZpZXJzKG1lc3NhZ2VJbmZvLCBmYWxzZSk7XG4gICAgc2V0TWVzc2FnZXNTdGF0ZShyZXBsYWNlZCk7XG4gIH07XG4gIHZhciByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUobWVzc2FnZUluZm8pIHtcbiAgICB2YXIgbWVzc2FnZXMgPSBtZXNzYWdlc1N0YXRlLmZpbHRlcihmdW5jdGlvbiAobXNnKSB7XG4gICAgICByZXR1cm4gbXNnLl9wSWQgIT09IG1lc3NhZ2VJbmZvLl9wSWQ7XG4gICAgfSk7XG4gICAgc2V0TWVzc2FnZXNTdGF0ZShtZXNzYWdlcyk7XG4gICAgcHJvcHMub25SZW1vdmUgJiYgcHJvcHMub25SZW1vdmUobWVzc2FnZUluZm8ubWVzc2FnZSk7XG4gIH07XG4gIHZhciBvbkNsb3NlID0gZnVuY3Rpb24gb25DbG9zZShtZXNzYWdlSW5mbykge1xuICAgIHJlbW92ZShtZXNzYWdlSW5mbyk7XG4gIH07XG4gIHZhciBvbkVudGVyZWQgPSBmdW5jdGlvbiBvbkVudGVyZWQoKSB7XG4gICAgcHJvcHMub25TaG93ICYmIHByb3BzLm9uU2hvdygpO1xuICB9O1xuICB2YXIgb25FeGl0ZWQgPSBmdW5jdGlvbiBvbkV4aXRlZCgpIHtcbiAgICBtZXNzYWdlc1N0YXRlLmxlbmd0aCA9PT0gMSAmJiBaSW5kZXhVdGlscy5jbGVhcihjb250YWluZXJSZWYuY3VycmVudCk7XG4gICAgcHJvcHMub25IaWRlICYmIHByb3BzLm9uSGlkZSgpO1xuICB9O1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIFpJbmRleFV0aWxzLnNldCgndG9hc3QnLCBjb250YWluZXJSZWYuY3VycmVudCwgUHJpbWVSZWFjdCQxLmF1dG9aSW5kZXgsIHByb3BzLmJhc2VaSW5kZXggfHwgUHJpbWVSZWFjdCQxLnpJbmRleFsndG9hc3QnXSk7XG4gIH0sIFttZXNzYWdlc1N0YXRlLCBwcm9wcy5iYXNlWkluZGV4XSk7XG4gIHVzZVVubW91bnRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIFpJbmRleFV0aWxzLmNsZWFyKGNvbnRhaW5lclJlZi5jdXJyZW50KTtcbiAgfSk7XG4gIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgIHNob3c6IHNob3csXG4gICAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgICAgcmVtb3ZlOiByZW1vdmUsXG4gICAgICBjbGVhcjogY2xlYXIsXG4gICAgICBnZXRFbGVtZW50OiBmdW5jdGlvbiBnZXRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHZhciBjcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gY3JlYXRlRWxlbWVudCgpIHtcbiAgICB2YXIgb3RoZXJQcm9wcyA9IFRvYXN0QmFzZS5nZXRPdGhlclByb3BzKHByb3BzKTtcbiAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC10b2FzdCBwLWNvbXBvbmVudCBwLXRvYXN0LScgKyBwcm9wcy5wb3NpdGlvbiwgcHJvcHMuY2xhc3NOYW1lLCB7XG4gICAgICAncC1pbnB1dC1maWxsZWQnOiBQcmltZVJlYWN0JDEuaW5wdXRTdHlsZSA9PT0gJ2ZpbGxlZCcsXG4gICAgICAncC1yaXBwbGUtZGlzYWJsZWQnOiBQcmltZVJlYWN0JDEucmlwcGxlID09PSBmYWxzZVxuICAgIH0pO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7XG4gICAgICByZWY6IGNvbnRhaW5lclJlZixcbiAgICAgIGlkOiBwcm9wcy5pZCxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgc3R5bGU6IHByb3BzLnN0eWxlXG4gICAgfSwgb3RoZXJQcm9wcyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zaXRpb25Hcm91cCwgbnVsbCwgbWVzc2FnZXNTdGF0ZSAmJiBtZXNzYWdlc1N0YXRlLm1hcChmdW5jdGlvbiAobWVzc2FnZUluZm8pIHtcbiAgICAgIHZhciBtZXNzYWdlUmVmID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZVJlZigpO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENTU1RyYW5zaXRpb24sIHtcbiAgICAgICAgbm9kZVJlZjogbWVzc2FnZVJlZixcbiAgICAgICAga2V5OiBtZXNzYWdlSW5mby5fcElkLFxuICAgICAgICBjbGFzc05hbWVzOiBcInAtdG9hc3QtbWVzc2FnZVwiLFxuICAgICAgICB1bm1vdW50T25FeGl0OiB0cnVlLFxuICAgICAgICB0aW1lb3V0OiB7XG4gICAgICAgICAgZW50ZXI6IDMwMCxcbiAgICAgICAgICBleGl0OiAzMDBcbiAgICAgICAgfSxcbiAgICAgICAgb25FbnRlcmVkOiBvbkVudGVyZWQsXG4gICAgICAgIG9uRXhpdGVkOiBvbkV4aXRlZCxcbiAgICAgICAgb3B0aW9uczogcHJvcHMudHJhbnNpdGlvbk9wdGlvbnNcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRvYXN0TWVzc2FnZSwge1xuICAgICAgICByZWY6IG1lc3NhZ2VSZWYsXG4gICAgICAgIG1lc3NhZ2VJbmZvOiBtZXNzYWdlSW5mbyxcbiAgICAgICAgb25DbGljazogcHJvcHMub25DbGljayxcbiAgICAgICAgb25DbG9zZTogb25DbG9zZSxcbiAgICAgICAgb25Nb3VzZUVudGVyOiBwcm9wcy5vbk1vdXNlRW50ZXIsXG4gICAgICAgIG9uTW91c2VMZWF2ZTogcHJvcHMub25Nb3VzZUxlYXZlXG4gICAgICB9KSk7XG4gICAgfSkpKTtcbiAgfTtcbiAgdmFyIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQb3J0YWwsIHtcbiAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgIGFwcGVuZFRvOiBwcm9wcy5hcHBlbmRUb1xuICB9KTtcbn0pKTtcblRvYXN0LmRpc3BsYXlOYW1lID0gJ1RvYXN0JztcblxuZXhwb3J0IHsgVG9hc3QgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/primereact/toast/toast.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/toolbar/toolbar.esm.js":
/*!********************************************************!*\
  !*** ./node_modules/primereact/toolbar/toolbar.esm.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Toolbar\": function() { return /* binding */ Toolbar; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nvar ToolbarBase = {\n  defaultProps: {\n    __TYPE: 'Toolbar',\n    id: null,\n    style: null,\n    className: null,\n    left: null,\n    right: null,\n    start: null,\n    center: null,\n    end: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, ToolbarBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, ToolbarBase.defaultProps);\n  }\n};\n\nvar Toolbar = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (inProps, ref) {\n  var props = ToolbarBase.getProps(inProps);\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var otherProps = ToolbarBase.getOtherProps(props);\n  var toolbarClass = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-toolbar p-component', props.className);\n  var start = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.left || props.start, props);\n  var center = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.center, props);\n  var end = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.right || props.end, props);\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElement: function getElement() {\n        return elementRef.current;\n      }\n    };\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n    id: props.id,\n    ref: elementRef,\n    className: toolbarClass,\n    style: props.style,\n    role: \"toolbar\"\n  }, otherProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-toolbar-group-start p-toolbar-group-left\"\n  }, start), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-toolbar-group-center\"\n  }, center), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-toolbar-group-end p-toolbar-group-right\"\n  }, end));\n}));\nToolbar.displayName = 'Toolbar';\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC90b29sYmFyL3Rvb2xiYXIuZXNtLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBK0I7QUFDNEI7O0FBRTNEO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsV0FBVyx3RUFBMEI7QUFDckMsR0FBRztBQUNIO0FBQ0EsV0FBVyxzRUFBd0I7QUFDbkM7QUFDQTs7QUFFQSwyQkFBMkIsdUNBQVUsZUFBZSw2Q0FBZ0I7QUFDcEU7QUFDQSxtQkFBbUIseUNBQVk7QUFDL0I7QUFDQSxxQkFBcUIsNERBQVU7QUFDL0IsY0FBYyx1RUFBeUI7QUFDdkMsZUFBZSx1RUFBeUI7QUFDeEMsWUFBWSx1RUFBeUI7QUFDckMsRUFBRSxzREFBeUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHNCQUFzQixnREFBbUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsNEJBQTRCLGdEQUFtQjtBQUNsRDtBQUNBLEdBQUcsdUJBQXVCLGdEQUFtQjtBQUM3QztBQUNBLEdBQUcsd0JBQXdCLGdEQUFtQjtBQUM5QztBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7O0FBRW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcmltZXJlYWN0L3Rvb2xiYXIvdG9vbGJhci5lc20uanM/ZTAyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBPYmplY3RVdGlscywgY2xhc3NOYW1lcyB9IGZyb20gJ3ByaW1lcmVhY3QvdXRpbHMnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxudmFyIFRvb2xiYXJCYXNlID0ge1xuICBkZWZhdWx0UHJvcHM6IHtcbiAgICBfX1RZUEU6ICdUb29sYmFyJyxcbiAgICBpZDogbnVsbCxcbiAgICBzdHlsZTogbnVsbCxcbiAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgbGVmdDogbnVsbCxcbiAgICByaWdodDogbnVsbCxcbiAgICBzdGFydDogbnVsbCxcbiAgICBjZW50ZXI6IG51bGwsXG4gICAgZW5kOiBudWxsLFxuICAgIGNoaWxkcmVuOiB1bmRlZmluZWRcbiAgfSxcbiAgZ2V0UHJvcHM6IGZ1bmN0aW9uIGdldFByb3BzKHByb3BzKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldE1lcmdlZFByb3BzKHByb3BzLCBUb29sYmFyQmFzZS5kZWZhdWx0UHJvcHMpO1xuICB9LFxuICBnZXRPdGhlclByb3BzOiBmdW5jdGlvbiBnZXRPdGhlclByb3BzKHByb3BzKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldERpZmZQcm9wcyhwcm9wcywgVG9vbGJhckJhc2UuZGVmYXVsdFByb3BzKTtcbiAgfVxufTtcblxudmFyIFRvb2xiYXIgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyggLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKGluUHJvcHMsIHJlZikge1xuICB2YXIgcHJvcHMgPSBUb29sYmFyQmFzZS5nZXRQcm9wcyhpblByb3BzKTtcbiAgdmFyIGVsZW1lbnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBvdGhlclByb3BzID0gVG9vbGJhckJhc2UuZ2V0T3RoZXJQcm9wcyhwcm9wcyk7XG4gIHZhciB0b29sYmFyQ2xhc3MgPSBjbGFzc05hbWVzKCdwLXRvb2xiYXIgcC1jb21wb25lbnQnLCBwcm9wcy5jbGFzc05hbWUpO1xuICB2YXIgc3RhcnQgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLmxlZnQgfHwgcHJvcHMuc3RhcnQsIHByb3BzKTtcbiAgdmFyIGNlbnRlciA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMuY2VudGVyLCBwcm9wcyk7XG4gIHZhciBlbmQgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLnJpZ2h0IHx8IHByb3BzLmVuZCwgcHJvcHMpO1xuICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9wczogcHJvcHMsXG4gICAgICBnZXRFbGVtZW50OiBmdW5jdGlvbiBnZXRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudFJlZi5jdXJyZW50O1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX2V4dGVuZHMoe1xuICAgIGlkOiBwcm9wcy5pZCxcbiAgICByZWY6IGVsZW1lbnRSZWYsXG4gICAgY2xhc3NOYW1lOiB0b29sYmFyQ2xhc3MsXG4gICAgc3R5bGU6IHByb3BzLnN0eWxlLFxuICAgIHJvbGU6IFwidG9vbGJhclwiXG4gIH0sIG90aGVyUHJvcHMpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInAtdG9vbGJhci1ncm91cC1zdGFydCBwLXRvb2xiYXItZ3JvdXAtbGVmdFwiXG4gIH0sIHN0YXJ0KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJwLXRvb2xiYXItZ3JvdXAtY2VudGVyXCJcbiAgfSwgY2VudGVyKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJwLXRvb2xiYXItZ3JvdXAtZW5kIHAtdG9vbGJhci1ncm91cC1yaWdodFwiXG4gIH0sIGVuZCkpO1xufSkpO1xuVG9vbGJhci5kaXNwbGF5TmFtZSA9ICdUb29sYmFyJztcblxuZXhwb3J0IHsgVG9vbGJhciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/primereact/toolbar/toolbar.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/virtualscroller/virtualscroller.esm.js":
/*!************************************************************************!*\
  !*** ./node_modules/primereact/virtualscroller/virtualscroller.esm.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"VirtualScroller\": function() { return /* binding */ VirtualScroller; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar VirtualScrollerBase = {\n  defaultProps: {\n    __TYPE: 'VirtualScroller',\n    id: null,\n    style: null,\n    className: null,\n    tabIndex: 0,\n    items: null,\n    itemSize: 0,\n    scrollHeight: null,\n    scrollWidth: null,\n    orientation: 'vertical',\n    step: 0,\n    numToleratedItems: null,\n    delay: 0,\n    resizeDelay: 10,\n    appendOnly: false,\n    inline: false,\n    lazy: false,\n    disabled: false,\n    loaderDisabled: false,\n    columns: null,\n    loading: undefined,\n    autoSize: false,\n    showSpacer: true,\n    showLoader: false,\n    loadingTemplate: null,\n    loaderIconTemplate: null,\n    itemTemplate: null,\n    contentTemplate: null,\n    onScroll: null,\n    onScrollIndexChange: null,\n    onLazyLoad: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getMergedProps(props, VirtualScrollerBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getDiffProps(props, VirtualScrollerBase.defaultProps);\n  }\n};\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar VirtualScroller = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (inProps, ref) {\n  var props = VirtualScrollerBase.getProps(inProps);\n  var prevProps = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.usePrevious)(inProps) || {};\n  var vertical = props.orientation === 'vertical';\n  var horizontal = props.orientation === 'horizontal';\n  var both = props.orientation === 'both';\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(both ? {\n      rows: 0,\n      cols: 0\n    } : 0),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    firstState = _React$useState2[0],\n    setFirstState = _React$useState2[1];\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState(both ? {\n      rows: 0,\n      cols: 0\n    } : 0),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    lastState = _React$useState4[0],\n    setLastState = _React$useState4[1];\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0__.useState(0),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    pageState = _React$useState6[0],\n    setPageState = _React$useState6[1];\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_0__.useState(both ? {\n      rows: 0,\n      cols: 0\n    } : 0),\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\n    numItemsInViewportState = _React$useState8[0],\n    setNumItemsInViewportState = _React$useState8[1];\n  var _React$useState9 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.numToleratedItems),\n    _React$useState10 = _slicedToArray(_React$useState9, 2),\n    numToleratedItemsState = _React$useState10[0],\n    setNumToleratedItemsState = _React$useState10[1];\n  var _React$useState11 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.loading || false),\n    _React$useState12 = _slicedToArray(_React$useState11, 2),\n    loadingState = _React$useState12[0],\n    setLoadingState = _React$useState12[1];\n  var _React$useState13 = react__WEBPACK_IMPORTED_MODULE_0__.useState([]),\n    _React$useState14 = _slicedToArray(_React$useState13, 2),\n    loaderArrState = _React$useState14[0],\n    setLoaderArrState = _React$useState14[1];\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var _contentRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var _spacerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var _stickyRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var lastScrollPos = react__WEBPACK_IMPORTED_MODULE_0__.useRef(both ? {\n    top: 0,\n    left: 0\n  } : 0);\n  var scrollTimeout = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var resizeTimeout = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var contentStyle = react__WEBPACK_IMPORTED_MODULE_0__.useRef({});\n  var spacerStyle = react__WEBPACK_IMPORTED_MODULE_0__.useRef({});\n  var defaultWidth = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var defaultHeight = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var defaultContentWidth = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var defaultContentHeight = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var isItemRangeChanged = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var lazyLoadState = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var _useResizeListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useResizeListener)({\n      listener: function listener(event) {\n        return onResize();\n      },\n      when: !props.disabled\n    }),\n    _useResizeListener2 = _slicedToArray(_useResizeListener, 1),\n    bindWindowResizeListener = _useResizeListener2[0];\n  var _useEventListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useEventListener)({\n      target: 'window',\n      type: 'orientationchange',\n      listener: function listener(event) {\n        return onResize();\n      },\n      when: !props.disabled\n    }),\n    _useEventListener2 = _slicedToArray(_useEventListener, 1),\n    bindOrientationChangeListener = _useEventListener2[0];\n  var getElementRef = function getElementRef() {\n    return elementRef;\n  };\n  var getPageByFirst = function getPageByFirst(first) {\n    return Math.floor((first + numToleratedItemsState * 4) / (props.step || 1));\n  };\n  var setContentElement = function setContentElement(element) {\n    _contentRef.current = element || _contentRef.current || primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.findSingle(elementRef.current, '.p-virtualscroller-content');\n  };\n  var isPageChanged = function isPageChanged(first) {\n    return props.step ? pageState !== getPageByFirst(first) : true;\n  };\n  var scrollTo = function scrollTo(options) {\n    lastScrollPos.current = both ? {\n      top: 0,\n      left: 0\n    } : 0;\n    elementRef.current && elementRef.current.scrollTo(options);\n  };\n  var scrollToIndex = function scrollToIndex(index) {\n    var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n    var _calculateNumItems = calculateNumItems(),\n      numToleratedItems = _calculateNumItems.numToleratedItems;\n    var contentPos = getContentPosition();\n    var calculateFirst = function calculateFirst() {\n      var _index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var _numT = arguments.length > 1 ? arguments[1] : undefined;\n      return _index <= _numT ? 0 : _index;\n    };\n    var calculateCoord = function calculateCoord(_first, _size, _cpos) {\n      return _first * _size + _cpos;\n    };\n    var scrollToItem = function scrollToItem() {\n      var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return scrollTo({\n        left: left,\n        top: top,\n        behavior: behavior\n      });\n    };\n    var newFirst = both ? {\n      rows: 0,\n      cols: 0\n    } : 0;\n    var isRangeChanged = false;\n    if (both) {\n      newFirst = {\n        rows: calculateFirst(index[0], numToleratedItems[0]),\n        cols: calculateFirst(index[1], numToleratedItems[1])\n      };\n      scrollToItem(calculateCoord(newFirst.cols, props.itemSize[1], contentPos.left), calculateCoord(newFirst.rows, props.itemSize[0], contentPos.top));\n      isRangeChanged = firstState.rows !== newFirst.rows || firstState.cols !== newFirst.cols;\n    } else {\n      newFirst = calculateFirst(index, numToleratedItems);\n      horizontal ? scrollToItem(calculateCoord(newFirst, props.itemSize, contentPos.left), 0) : scrollToItem(0, calculateCoord(newFirst, props.itemSize, contentPos.top));\n      isRangeChanged = firstState !== newFirst;\n    }\n    isItemRangeChanged.current = isRangeChanged;\n    setFirstState(newFirst);\n  };\n  var scrollInView = function scrollInView(index, to) {\n    var behavior = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\n    if (to) {\n      var _getRenderedRange = getRenderedRange(),\n        first = _getRenderedRange.first,\n        viewport = _getRenderedRange.viewport;\n      var scrollToItem = function scrollToItem() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        return scrollTo({\n          left: left,\n          top: top,\n          behavior: behavior\n        });\n      };\n      var isToStart = to === 'to-start';\n      var isToEnd = to === 'to-end';\n      if (isToStart) {\n        if (both) {\n          if (viewport.first.rows - first.rows > index[0]) {\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows - 1) * props.itemSize[0]);\n          } else if (viewport.first.cols - first.cols > index[1]) {\n            scrollToItem((viewport.first.cols - 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\n          }\n        } else {\n          if (viewport.first - first > index) {\n            var pos = (viewport.first - 1) * props.itemSize;\n            horizontal ? scrollToItem(pos, 0) : scrollToItem(0, pos);\n          }\n        }\n      } else if (isToEnd) {\n        if (both) {\n          if (viewport.last.rows - first.rows <= index[0] + 1) {\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows + 1) * props.itemSize[0]);\n          } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n            scrollToItem((viewport.first.cols + 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\n          }\n        } else {\n          if (viewport.last - first <= index + 1) {\n            var _pos2 = (viewport.first + 1) * props.itemSize;\n            horizontal ? scrollToItem(_pos2, 0) : scrollToItem(0, _pos2);\n          }\n        }\n      }\n    } else {\n      scrollToIndex(index, behavior);\n    }\n  };\n  var getRows = function getRows() {\n    return loadingState ? props.loaderDisabled ? loaderArrState : [] : loadedItems();\n  };\n  var getColumns = function getColumns() {\n    if (props.columns && both || horizontal) {\n      return loadingState && props.loaderDisabled ? both ? loaderArrState[0] : loaderArrState : props.columns.slice(both ? firstState.cols : firstState, both ? lastState.cols : lastState);\n    }\n    return props.columns;\n  };\n  var getRenderedRange = function getRenderedRange() {\n    var calculateFirstInViewport = function calculateFirstInViewport(_pos, _size) {\n      return Math.floor(_pos / (_size || _pos));\n    };\n    var firstInViewport = firstState;\n    var lastInViewport = 0;\n    if (elementRef.current) {\n      var _elementRef$current = elementRef.current,\n        scrollTop = _elementRef$current.scrollTop,\n        scrollLeft = _elementRef$current.scrollLeft;\n      if (both) {\n        firstInViewport = {\n          rows: calculateFirstInViewport(scrollTop, props.itemSize[0]),\n          cols: calculateFirstInViewport(scrollLeft, props.itemSize[1])\n        };\n        lastInViewport = {\n          rows: firstInViewport.rows + numItemsInViewportState.rows,\n          cols: firstInViewport.cols + numItemsInViewportState.cols\n        };\n      } else {\n        var scrollPos = horizontal ? scrollLeft : scrollTop;\n        firstInViewport = calculateFirstInViewport(scrollPos, props.itemSize);\n        lastInViewport = firstInViewport + numItemsInViewportState;\n      }\n    }\n    return {\n      first: firstState,\n      last: lastState,\n      viewport: {\n        first: firstInViewport,\n        last: lastInViewport\n      }\n    };\n  };\n  var calculateNumItems = function calculateNumItems() {\n    var contentPos = getContentPosition();\n    var contentWidth = elementRef.current ? elementRef.current.offsetWidth - contentPos.left : 0;\n    var contentHeight = elementRef.current ? elementRef.current.offsetHeight - contentPos.top : 0;\n    var calculateNumItemsInViewport = function calculateNumItemsInViewport(_contentSize, _itemSize) {\n      return Math.ceil(_contentSize / (_itemSize || _contentSize));\n    };\n    var calculateNumToleratedItems = function calculateNumToleratedItems(_numItems) {\n      return Math.ceil(_numItems / 2);\n    };\n    var numItemsInViewport = both ? {\n      rows: calculateNumItemsInViewport(contentHeight, props.itemSize[0]),\n      cols: calculateNumItemsInViewport(contentWidth, props.itemSize[1])\n    } : calculateNumItemsInViewport(horizontal ? contentWidth : contentHeight, props.itemSize);\n    var numToleratedItems = numToleratedItemsState || (both ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\n    return {\n      numItemsInViewport: numItemsInViewport,\n      numToleratedItems: numToleratedItems\n    };\n  };\n  var calculateOptions = function calculateOptions() {\n    var _calculateNumItems2 = calculateNumItems(),\n      numItemsInViewport = _calculateNumItems2.numItemsInViewport,\n      numToleratedItems = _calculateNumItems2.numToleratedItems;\n    var calculateLast = function calculateLast(_first, _num, _numT) {\n      var _isCols = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      return getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\n    };\n    var last = both ? {\n      rows: calculateLast(firstState.rows, numItemsInViewport.rows, numToleratedItems[0]),\n      cols: calculateLast(firstState.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n    } : calculateLast(firstState, numItemsInViewport, numToleratedItems);\n    setNumItemsInViewportState(numItemsInViewport);\n    setNumToleratedItemsState(numToleratedItems);\n    setLastState(last);\n    if (props.showLoader) {\n      setLoaderArrState(both ? Array.from({\n        length: numItemsInViewport.rows\n      }).map(function () {\n        return Array.from({\n          length: numItemsInViewport.cols\n        });\n      }) : Array.from({\n        length: numItemsInViewport\n      }));\n    }\n    if (props.lazy) {\n      Promise.resolve().then(function () {\n        lazyLoadState.current = {\n          first: props.step ? both ? {\n            rows: 0,\n            cols: firstState.cols\n          } : 0 : firstState,\n          last: Math.min(props.step ? props.step : last, props.items.length)\n        };\n        props.onLazyLoad && props.onLazyLoad(lazyLoadState.current);\n      });\n    }\n  };\n  var calculateAutoSize = function calculateAutoSize(loading) {\n    if (props.autoSize && !loading) {\n      Promise.resolve().then(function () {\n        if (_contentRef.current) {\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = 'auto';\n          _contentRef.current.style.position = 'relative';\n          elementRef.current.style.contain = 'none';\n\n          /*const [contentWidth, contentHeight] = [DomHandler.getWidth(contentRef.current), DomHandler.getHeight(contentRef.current)];\n           contentWidth !== defaultContentWidth.current && (elementRef.current.style.width = '');\n          contentHeight !== defaultContentHeight.current && (elementRef.current.style.height = '');*/\n\n          var _ref = [primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getWidth(elementRef.current), primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getHeight(elementRef.current)],\n            width = _ref[0],\n            height = _ref[1];\n          (both || horizontal) && (elementRef.current.style.width = (width < defaultWidth.current ? width : props.scrollWidth || defaultWidth.current) + 'px');\n          (both || vertical) && (elementRef.current.style.height = (height < defaultHeight.current ? height : props.scrollHeight || defaultHeight.current) + 'px');\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = '';\n          _contentRef.current.style.position = '';\n          elementRef.current.style.contain = '';\n        }\n      });\n    }\n  };\n  var getLast = function getLast() {\n    var last = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var isCols = arguments.length > 1 ? arguments[1] : undefined;\n    return props.items ? Math.min(isCols ? (props.columns || props.items[0]).length : props.items.length, last) : 0;\n  };\n  var getContentPosition = function getContentPosition() {\n    if (_contentRef.current) {\n      var style = getComputedStyle(_contentRef.current);\n      var left = parseFloat(style.paddingLeft) + Math.max(parseFloat(style.left) || 0, 0);\n      var right = parseFloat(style.paddingRight) + Math.max(parseFloat(style.right) || 0, 0);\n      var top = parseFloat(style.paddingTop) + Math.max(parseFloat(style.top) || 0, 0);\n      var bottom = parseFloat(style.paddingBottom) + Math.max(parseFloat(style.bottom) || 0, 0);\n      return {\n        left: left,\n        right: right,\n        top: top,\n        bottom: bottom,\n        x: left + right,\n        y: top + bottom\n      };\n    }\n    return {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      x: 0,\n      y: 0\n    };\n  };\n  var setSize = function setSize() {\n    if (elementRef.current) {\n      var parentElement = elementRef.current.parentElement;\n      var width = props.scrollWidth || \"\".concat(elementRef.current.offsetWidth || parentElement.offsetWidth, \"px\");\n      var height = props.scrollHeight || \"\".concat(elementRef.current.offsetHeight || parentElement.offsetHeight, \"px\");\n      var setProp = function setProp(_name, _value) {\n        return elementRef.current.style[_name] = _value;\n      };\n      if (both || horizontal) {\n        setProp('height', height);\n        setProp('width', width);\n      } else {\n        setProp('height', height);\n      }\n    }\n  };\n  var setSpacerSize = function setSpacerSize() {\n    var items = props.items;\n    if (items) {\n      var contentPos = getContentPosition();\n      var setProp = function setProp(_name, _value, _size) {\n        var _cpos = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n        return spacerStyle.current = _objectSpread(_objectSpread({}, spacerStyle.current), _defineProperty({}, \"\".concat(_name), (_value || []).length * _size + _cpos + 'px'));\n      };\n      if (both) {\n        setProp('height', items, props.itemSize[0], contentPos.y);\n        setProp('width', props.columns || items[1], props.itemSize[1], contentPos.x);\n      } else {\n        horizontal ? setProp('width', props.columns || items, props.itemSize, contentPos.x) : setProp('height', items, props.itemSize, contentPos.y);\n      }\n    }\n  };\n  var setContentPosition = function setContentPosition(pos) {\n    if (_contentRef.current && !props.appendOnly) {\n      var first = pos ? pos.first : firstState;\n      var calculateTranslateVal = function calculateTranslateVal(_first, _size) {\n        return _first * _size;\n      };\n      var setTransform = function setTransform() {\n        var _x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var _y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        _stickyRef.current && (_stickyRef.current.style.top = \"-\".concat(_y, \"px\"));\n        contentStyle.current = _objectSpread(_objectSpread({}, contentStyle.current), {\n          transform: \"translate3d(\".concat(_x, \"px, \").concat(_y, \"px, 0)\")\n        });\n      };\n      if (both) {\n        setTransform(calculateTranslateVal(first.cols, props.itemSize[1]), calculateTranslateVal(first.rows, props.itemSize[0]));\n      } else {\n        var translateVal = calculateTranslateVal(first, props.itemSize);\n        horizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n      }\n    }\n  };\n  var onScrollPositionChange = function onScrollPositionChange(event) {\n    var target = event.target;\n    var contentPos = getContentPosition();\n    var calculateScrollPos = function calculateScrollPos(_pos, _cpos) {\n      return _pos ? _pos > _cpos ? _pos - _cpos : _pos : 0;\n    };\n    var calculateCurrentIndex = function calculateCurrentIndex(_pos, _size) {\n      return Math.floor(_pos / (_size || _pos));\n    };\n    var calculateTriggerIndex = function calculateTriggerIndex(_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n      return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\n    };\n    var calculateFirst = function calculateFirst(_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n      if (_currentIndex <= _numT) return 0;else return Math.max(0, _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - _numT : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT);\n    };\n    var calculateLast = function calculateLast(_currentIndex, _first, _last, _num, _numT, _isCols) {\n      var lastValue = _first + _num + 2 * _numT;\n      if (_currentIndex >= _numT) {\n        lastValue += _numT + 1;\n      }\n      return getLast(lastValue, _isCols);\n    };\n    var scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\n    var scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\n    var newFirst = both ? {\n      rows: 0,\n      cols: 0\n    } : 0;\n    var newLast = lastState;\n    var isRangeChanged = false;\n    var newScrollPos = lastScrollPos.current;\n    if (both) {\n      var isScrollDown = lastScrollPos.current.top <= scrollTop;\n      var isScrollRight = lastScrollPos.current.left <= scrollLeft;\n      if (!props.appendOnly || props.appendOnly && (isScrollDown || isScrollRight)) {\n        var currentIndex = {\n          rows: calculateCurrentIndex(scrollTop, props.itemSize[0]),\n          cols: calculateCurrentIndex(scrollLeft, props.itemSize[1])\n        };\n        var triggerIndex = {\n          rows: calculateTriggerIndex(currentIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\n          cols: calculateTriggerIndex(currentIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\n        };\n        newFirst = {\n          rows: calculateFirst(currentIndex.rows, triggerIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\n          cols: calculateFirst(currentIndex.cols, triggerIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\n        };\n        newLast = {\n          rows: calculateLast(currentIndex.rows, newFirst.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0]),\n          cols: calculateLast(currentIndex.cols, newFirst.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], true)\n        };\n        isRangeChanged = newFirst.rows !== firstState.rows || newLast.rows !== lastState.rows || newFirst.cols !== firstState.cols || newLast.cols !== lastState.cols || isItemRangeChanged.current;\n        newScrollPos = {\n          top: scrollTop,\n          left: scrollLeft\n        };\n      }\n    } else {\n      var scrollPos = horizontal ? scrollLeft : scrollTop;\n      var isScrollDownOrRight = lastScrollPos.current <= scrollPos;\n      if (!props.appendOnly || props.appendOnly && isScrollDownOrRight) {\n        var _currentIndex2 = calculateCurrentIndex(scrollPos, props.itemSize);\n        var _triggerIndex2 = calculateTriggerIndex(_currentIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\n        newFirst = calculateFirst(_currentIndex2, _triggerIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\n        newLast = calculateLast(_currentIndex2, newFirst, lastState, numItemsInViewportState, numToleratedItemsState);\n        isRangeChanged = newFirst !== firstState || newLast !== lastState || isItemRangeChanged.current;\n        newScrollPos = scrollPos;\n      }\n    }\n    return {\n      first: newFirst,\n      last: newLast,\n      isRangeChanged: isRangeChanged,\n      scrollPos: newScrollPos\n    };\n  };\n  var onScrollChange = function onScrollChange(event) {\n    var _onScrollPositionChan = onScrollPositionChange(event),\n      first = _onScrollPositionChan.first,\n      last = _onScrollPositionChan.last,\n      isRangeChanged = _onScrollPositionChan.isRangeChanged,\n      scrollPos = _onScrollPositionChan.scrollPos;\n    if (isRangeChanged) {\n      var newState = {\n        first: first,\n        last: last\n      };\n      setContentPosition(newState);\n      setFirstState(first);\n      setLastState(last);\n      lastScrollPos.current = scrollPos;\n      props.onScrollIndexChange && props.onScrollIndexChange(newState);\n      if (props.lazy && isPageChanged(first)) {\n        var newLazyLoadState = {\n          first: props.step ? Math.min(getPageByFirst(first) * props.step, props.items.length - props.step) : first,\n          last: Math.min(props.step ? (getPageByFirst(first) + 1) * props.step : last, props.items.length)\n        };\n        var isLazyStateChanged = !lazyLoadState.current || lazyLoadState.current.first !== newLazyLoadState.first || lazyLoadState.current.last !== newLazyLoadState.last;\n        isLazyStateChanged && props.onLazyLoad && props.onLazyLoad(newLazyLoadState);\n        lazyLoadState.current = newLazyLoadState;\n      }\n    }\n  };\n  var onScroll = function onScroll(event) {\n    props.onScroll && props.onScroll(event);\n    if (props.delay) {\n      if (scrollTimeout.current) {\n        clearTimeout(scrollTimeout.current);\n      }\n      if (isPageChanged(firstState)) {\n        if (!loadingState && props.showLoader) {\n          var _onScrollPositionChan2 = onScrollPositionChange(event),\n            isRangeChanged = _onScrollPositionChan2.isRangeChanged;\n          var changed = isRangeChanged || (props.step ? isPageChanged(firstState) : false);\n          changed && setLoadingState(true);\n        }\n        scrollTimeout.current = setTimeout(function () {\n          onScrollChange(event);\n          if (loadingState && props.showLoader && (!props.lazy || props.loading === undefined)) {\n            setLoadingState(false);\n            setPageState(getPageByFirst(firstState));\n          }\n        }, props.delay);\n      }\n    } else {\n      onScrollChange(event);\n    }\n  };\n  var onResize = function onResize() {\n    if (resizeTimeout.current) {\n      clearTimeout(resizeTimeout.current);\n    }\n    resizeTimeout.current = setTimeout(function () {\n      if (elementRef.current) {\n        var _ref2 = [primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getWidth(elementRef.current), primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getHeight(elementRef.current)],\n          width = _ref2[0],\n          height = _ref2[1];\n        var isDiffWidth = width !== defaultWidth.current,\n          isDiffHeight = height !== defaultHeight.current;\n        var reinit = both ? isDiffWidth || isDiffHeight : horizontal ? isDiffWidth : vertical ? isDiffHeight : false;\n        if (reinit) {\n          setNumToleratedItemsState(props.numToleratedItems);\n          defaultWidth.current = width;\n          defaultHeight.current = height;\n          defaultContentWidth.current = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getWidth(_contentRef.current);\n          defaultContentHeight.current = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getHeight(_contentRef.current);\n        }\n      }\n    }, props.resizeDelay);\n  };\n  var getOptions = function getOptions(renderedIndex) {\n    var count = (props.items || []).length;\n    var index = both ? firstState.rows + renderedIndex : firstState + renderedIndex;\n    return {\n      index: index,\n      count: count,\n      first: index === 0,\n      last: index === count - 1,\n      even: index % 2 === 0,\n      odd: index % 2 !== 0,\n      props: props\n    };\n  };\n  var loaderOptions = function loaderOptions(index, extOptions) {\n    var count = loaderArrState.length;\n    return _objectSpread({\n      index: index,\n      count: count,\n      first: index === 0,\n      last: index === count - 1,\n      even: index % 2 === 0,\n      odd: index % 2 !== 0,\n      props: props\n    }, extOptions);\n  };\n  var loadedItems = function loadedItems() {\n    var items = props.items;\n    if (items && !loadingState) {\n      if (both) return items.slice(props.appendOnly ? 0 : firstState.rows, lastState.rows).map(function (item) {\n        return props.columns ? item : item.slice(props.appendOnly ? 0 : firstState.cols, lastState.cols);\n      });else if (horizontal && props.columns) return items;else return items.slice(props.appendOnly ? 0 : firstState, lastState);\n    }\n    return [];\n  };\n  var viewInit = function viewInit() {\n    if (elementRef.current && primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.isVisible(elementRef.current)) {\n      setContentElement(_contentRef.current);\n      init();\n      bindWindowResizeListener();\n      bindOrientationChangeListener();\n      defaultWidth.current = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getWidth(elementRef.current);\n      defaultHeight.current = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getHeight(elementRef.current);\n      defaultContentWidth.current = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getWidth(_contentRef.current);\n      defaultContentHeight.current = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.getHeight(_contentRef.current);\n    }\n  };\n  var init = function init() {\n    if (!props.disabled) {\n      setSize();\n      calculateOptions();\n      setSpacerSize();\n    }\n  };\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useMountEffect)(function () {\n    viewInit();\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    init();\n  }, [props.itemSize, props.scrollHeight, props.scrollWidth]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    if (props.numToleratedItems !== numToleratedItemsState) {\n      setNumToleratedItemsState(props.numToleratedItems);\n    }\n  }, [props.numToleratedItems]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    if (props.numToleratedItems === numToleratedItemsState) {\n      init(); // reinit after resizing\n    }\n  }, [numToleratedItemsState]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    if (!prevProps.items || prevProps.items.length !== (props.items || []).length) {\n      init();\n    }\n    var loading = loadingState;\n    if (props.lazy && prevProps.loading !== props.loading && props.loading !== loadingState) {\n      setLoadingState(props.loading);\n      loading = props.loading;\n    }\n    calculateAutoSize(loading);\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    lastScrollPos.current = both ? {\n      top: 0,\n      left: 0\n    } : 0;\n  }, [props.orientation]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElementRef: getElementRef,\n      scrollTo: scrollTo,\n      scrollToIndex: scrollToIndex,\n      scrollInView: scrollInView,\n      getRenderedRange: getRenderedRange\n    };\n  });\n  var createLoaderItem = function createLoaderItem(index) {\n    var extOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = loaderOptions(index, extOptions);\n    var content = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.loadingTemplate, options);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      key: index\n    }, content);\n  };\n  var createLoader = function createLoader() {\n    if (!props.loaderDisabled && props.showLoader && loadingState) {\n      var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-virtualscroller-loader', {\n        'p-component-overlay': !props.loadingTemplate\n      });\n      var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: \"p-virtualscroller-loading-icon pi pi-spinner pi-spin\"\n      });\n      if (props.loadingTemplate) {\n        content = loaderArrState.map(function (_, index) {\n          return createLoaderItem(index, both && {\n            numCols: numItemsInViewportState.cols\n          });\n        });\n      } else if (props.loaderIconTemplate) {\n        var defaultContentOptions = {\n          className: 'p-virtualscroller-loading-icon',\n          element: content,\n          props: props\n        };\n        content = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.loaderIconTemplate, defaultContentOptions);\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: className\n      }, content);\n    }\n    return null;\n  };\n  var createSpacer = function createSpacer() {\n    if (props.showSpacer) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: _spacerRef,\n        style: spacerStyle.current,\n        className: \"p-virtualscroller-spacer\"\n      });\n    }\n    return null;\n  };\n  var createItem = function createItem(item, index) {\n    var options = getOptions(index);\n    var content = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.itemTemplate, item, options);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      key: options.index\n    }, content);\n  };\n  var createItems = function createItems() {\n    var items = loadedItems();\n    return items.map(createItem);\n  };\n  var createContent = function createContent() {\n    var items = createItems();\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-virtualscroller-content', {\n      'p-virtualscroller-loading': loadingState\n    });\n    var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      ref: _contentRef,\n      style: contentStyle.current,\n      className: className\n    }, items);\n    if (props.contentTemplate) {\n      var defaultOptions = {\n        style: contentStyle.current,\n        className: className,\n        spacerStyle: spacerStyle.current,\n        contentRef: function contentRef(el) {\n          return _contentRef.current = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getRefElement(el);\n        },\n        spacerRef: function spacerRef(el) {\n          return _spacerRef.current = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getRefElement(el);\n        },\n        stickyRef: function stickyRef(el) {\n          return _stickyRef.current = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getRefElement(el);\n        },\n        items: loadedItems(),\n        getItemOptions: function getItemOptions(index) {\n          return getOptions(index);\n        },\n        children: items,\n        element: content,\n        props: props,\n        loading: loadingState,\n        getLoaderOptions: function getLoaderOptions(index, ext) {\n          return loaderOptions(index, ext);\n        },\n        loadingTemplate: props.loadingTemplate,\n        itemSize: props.itemSize,\n        rows: getRows(),\n        columns: getColumns(),\n        vertical: vertical,\n        horizontal: horizontal,\n        both: both\n      };\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.contentTemplate, defaultOptions);\n    }\n    return content;\n  };\n  if (props.disabled) {\n    var content = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.contentTemplate, {\n      items: props.items,\n      rows: props.items,\n      columns: props.columns\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, props.children, content);\n  } else {\n    var otherProps = VirtualScrollerBase.getOtherProps(props);\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-virtualscroller', {\n      'p-virtualscroller-inline': props.inline,\n      'p-virtualscroller-both p-both-scroll': both,\n      'p-virtualscroller-horizontal p-horizontal-scroll': horizontal\n    }, props.className);\n    var loader = createLoader();\n    var _content = createContent();\n    var spacer = createSpacer();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n      ref: elementRef,\n      className: className,\n      tabIndex: props.tabIndex,\n      style: props.style\n    }, otherProps, {\n      onScroll: onScroll\n    }), _content, spacer, loader);\n  }\n}));\nVirtualScroller.displayName = 'VirtualScroller';\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC92aXJ0dWFsc2Nyb2xsZXIvdmlydHVhbHNjcm9sbGVyLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUErQjtBQUNzRjtBQUM5Qzs7QUFFdkU7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLFlBQVksNkVBQTZFO0FBQ2pHLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUNBQXlDLFNBQVM7QUFDbEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FB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QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRDs7QUFFMkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3ByaW1lcmVhY3QvdmlydHVhbHNjcm9sbGVyL3ZpcnR1YWxzY3JvbGxlci5lc20uanM/Njg5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VQcmV2aW91cywgdXNlUmVzaXplTGlzdGVuZXIsIHVzZUV2ZW50TGlzdGVuZXIsIHVzZU1vdW50RWZmZWN0LCB1c2VVcGRhdGVFZmZlY3QgfSBmcm9tICdwcmltZXJlYWN0L2hvb2tzJztcbmltcG9ydCB7IE9iamVjdFV0aWxzLCBEb21IYW5kbGVyLCBjbGFzc05hbWVzIH0gZnJvbSAncHJpbWVyZWFjdC91dGlscyc7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgfSwgX3R5cGVvZihvYmopO1xufVxuXG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHtcbiAgaWYgKF90eXBlb2YoaW5wdXQpICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7XG4gIHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtcbiAgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpO1xuICAgIGlmIChfdHlwZW9mKHJlcykgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpO1xuICB9XG4gIHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpO1xufVxuXG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHtcbiAgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpO1xuICByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IG51bGwgPT0gYXJyID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdO1xuICBpZiAobnVsbCAhPSBfaSkge1xuICAgIHZhciBfcyxcbiAgICAgIF9lLFxuICAgICAgX3gsXG4gICAgICBfcixcbiAgICAgIF9hcnIgPSBbXSxcbiAgICAgIF9uID0gITAsXG4gICAgICBfZCA9ICExO1xuICAgIHRyeSB7XG4gICAgICBpZiAoX3ggPSAoX2kgPSBfaS5jYWxsKGFycikpLm5leHQsIDAgPT09IGkpIHtcbiAgICAgICAgaWYgKE9iamVjdChfaSkgIT09IF9pKSByZXR1cm47XG4gICAgICAgIF9uID0gITE7XG4gICAgICB9IGVsc2UgZm9yICg7ICEoX24gPSAoX3MgPSBfeC5jYWxsKF9pKSkuZG9uZSkgJiYgKF9hcnIucHVzaChfcy52YWx1ZSksIF9hcnIubGVuZ3RoICE9PSBpKTsgX24gPSAhMCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZCA9ICEwLCBfZSA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFfbiAmJiBudWxsICE9IF9pW1wicmV0dXJuXCJdICYmIChfciA9IF9pW1wicmV0dXJuXCJdKCksIE9iamVjdChfcikgIT09IF9yKSkgcmV0dXJuO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF9hcnI7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTtcbiAgcmV0dXJuIGFycjI7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7XG59XG5cbnZhciBWaXJ0dWFsU2Nyb2xsZXJCYXNlID0ge1xuICBkZWZhdWx0UHJvcHM6IHtcbiAgICBfX1RZUEU6ICdWaXJ0dWFsU2Nyb2xsZXInLFxuICAgIGlkOiBudWxsLFxuICAgIHN0eWxlOiBudWxsLFxuICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICB0YWJJbmRleDogMCxcbiAgICBpdGVtczogbnVsbCxcbiAgICBpdGVtU2l6ZTogMCxcbiAgICBzY3JvbGxIZWlnaHQ6IG51bGwsXG4gICAgc2Nyb2xsV2lkdGg6IG51bGwsXG4gICAgb3JpZW50YXRpb246ICd2ZXJ0aWNhbCcsXG4gICAgc3RlcDogMCxcbiAgICBudW1Ub2xlcmF0ZWRJdGVtczogbnVsbCxcbiAgICBkZWxheTogMCxcbiAgICByZXNpemVEZWxheTogMTAsXG4gICAgYXBwZW5kT25seTogZmFsc2UsXG4gICAgaW5saW5lOiBmYWxzZSxcbiAgICBsYXp5OiBmYWxzZSxcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgbG9hZGVyRGlzYWJsZWQ6IGZhbHNlLFxuICAgIGNvbHVtbnM6IG51bGwsXG4gICAgbG9hZGluZzogdW5kZWZpbmVkLFxuICAgIGF1dG9TaXplOiBmYWxzZSxcbiAgICBzaG93U3BhY2VyOiB0cnVlLFxuICAgIHNob3dMb2FkZXI6IGZhbHNlLFxuICAgIGxvYWRpbmdUZW1wbGF0ZTogbnVsbCxcbiAgICBsb2FkZXJJY29uVGVtcGxhdGU6IG51bGwsXG4gICAgaXRlbVRlbXBsYXRlOiBudWxsLFxuICAgIGNvbnRlbnRUZW1wbGF0ZTogbnVsbCxcbiAgICBvblNjcm9sbDogbnVsbCxcbiAgICBvblNjcm9sbEluZGV4Q2hhbmdlOiBudWxsLFxuICAgIG9uTGF6eUxvYWQ6IG51bGwsXG4gICAgY2hpbGRyZW46IHVuZGVmaW5lZFxuICB9LFxuICBnZXRQcm9wczogZnVuY3Rpb24gZ2V0UHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0TWVyZ2VkUHJvcHMocHJvcHMsIFZpcnR1YWxTY3JvbGxlckJhc2UuZGVmYXVsdFByb3BzKTtcbiAgfSxcbiAgZ2V0T3RoZXJQcm9wczogZnVuY3Rpb24gZ2V0T3RoZXJQcm9wcyhwcm9wcykge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5nZXREaWZmUHJvcHMocHJvcHMsIFZpcnR1YWxTY3JvbGxlckJhc2UuZGVmYXVsdFByb3BzKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG52YXIgVmlydHVhbFNjcm9sbGVyID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oIC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChpblByb3BzLCByZWYpIHtcbiAgdmFyIHByb3BzID0gVmlydHVhbFNjcm9sbGVyQmFzZS5nZXRQcm9wcyhpblByb3BzKTtcbiAgdmFyIHByZXZQcm9wcyA9IHVzZVByZXZpb3VzKGluUHJvcHMpIHx8IHt9O1xuICB2YXIgdmVydGljYWwgPSBwcm9wcy5vcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJztcbiAgdmFyIGhvcml6b250YWwgPSBwcm9wcy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnO1xuICB2YXIgYm90aCA9IHByb3BzLm9yaWVudGF0aW9uID09PSAnYm90aCc7XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShib3RoID8ge1xuICAgICAgcm93czogMCxcbiAgICAgIGNvbHM6IDBcbiAgICB9IDogMCksXG4gICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgZmlyc3RTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgc2V0Rmlyc3RTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUzID0gUmVhY3QudXNlU3RhdGUoYm90aCA/IHtcbiAgICAgIHJvd3M6IDAsXG4gICAgICBjb2xzOiAwXG4gICAgfSA6IDApLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUzLCAyKSxcbiAgICBsYXN0U3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU0WzBdLFxuICAgIHNldExhc3RTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTRbMV07XG4gIHZhciBfUmVhY3QkdXNlU3RhdGU1ID0gUmVhY3QudXNlU3RhdGUoMCksXG4gICAgX1JlYWN0JHVzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTUsIDIpLFxuICAgIHBhZ2VTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTZbMF0sXG4gICAgc2V0UGFnZVN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNlsxXTtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTcgPSBSZWFjdC51c2VTdGF0ZShib3RoID8ge1xuICAgICAgcm93czogMCxcbiAgICAgIGNvbHM6IDBcbiAgICB9IDogMCksXG4gICAgX1JlYWN0JHVzZVN0YXRlOCA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTcsIDIpLFxuICAgIG51bUl0ZW1zSW5WaWV3cG9ydFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlOFswXSxcbiAgICBzZXROdW1JdGVtc0luVmlld3BvcnRTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZThbMV07XG4gIHZhciBfUmVhY3QkdXNlU3RhdGU5ID0gUmVhY3QudXNlU3RhdGUocHJvcHMubnVtVG9sZXJhdGVkSXRlbXMpLFxuICAgIF9SZWFjdCR1c2VTdGF0ZTEwID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlOSwgMiksXG4gICAgbnVtVG9sZXJhdGVkSXRlbXNTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTEwWzBdLFxuICAgIHNldE51bVRvbGVyYXRlZEl0ZW1zU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUxMFsxXTtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTExID0gUmVhY3QudXNlU3RhdGUocHJvcHMubG9hZGluZyB8fCBmYWxzZSksXG4gICAgX1JlYWN0JHVzZVN0YXRlMTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUxMSwgMiksXG4gICAgbG9hZGluZ1N0YXRlID0gX1JlYWN0JHVzZVN0YXRlMTJbMF0sXG4gICAgc2V0TG9hZGluZ1N0YXRlID0gX1JlYWN0JHVzZVN0YXRlMTJbMV07XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUxMyA9IFJlYWN0LnVzZVN0YXRlKFtdKSxcbiAgICBfUmVhY3QkdXNlU3RhdGUxNCA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTEzLCAyKSxcbiAgICBsb2FkZXJBcnJTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTE0WzBdLFxuICAgIHNldExvYWRlckFyclN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMTRbMV07XG4gIHZhciBlbGVtZW50UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgX2NvbnRlbnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBfc3BhY2VyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgX3N0aWNreVJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGxhc3RTY3JvbGxQb3MgPSBSZWFjdC51c2VSZWYoYm90aCA/IHtcbiAgICB0b3A6IDAsXG4gICAgbGVmdDogMFxuICB9IDogMCk7XG4gIHZhciBzY3JvbGxUaW1lb3V0ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgcmVzaXplVGltZW91dCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGNvbnRlbnRTdHlsZSA9IFJlYWN0LnVzZVJlZih7fSk7XG4gIHZhciBzcGFjZXJTdHlsZSA9IFJlYWN0LnVzZVJlZih7fSk7XG4gIHZhciBkZWZhdWx0V2lkdGggPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBkZWZhdWx0SGVpZ2h0ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgZGVmYXVsdENvbnRlbnRXaWR0aCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGRlZmF1bHRDb250ZW50SGVpZ2h0ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgaXNJdGVtUmFuZ2VDaGFuZ2VkID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgdmFyIGxhenlMb2FkU3RhdGUgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBfdXNlUmVzaXplTGlzdGVuZXIgPSB1c2VSZXNpemVMaXN0ZW5lcih7XG4gICAgICBsaXN0ZW5lcjogZnVuY3Rpb24gbGlzdGVuZXIoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIG9uUmVzaXplKCk7XG4gICAgICB9LFxuICAgICAgd2hlbjogIXByb3BzLmRpc2FibGVkXG4gICAgfSksXG4gICAgX3VzZVJlc2l6ZUxpc3RlbmVyMiA9IF9zbGljZWRUb0FycmF5KF91c2VSZXNpemVMaXN0ZW5lciwgMSksXG4gICAgYmluZFdpbmRvd1Jlc2l6ZUxpc3RlbmVyID0gX3VzZVJlc2l6ZUxpc3RlbmVyMlswXTtcbiAgdmFyIF91c2VFdmVudExpc3RlbmVyID0gdXNlRXZlbnRMaXN0ZW5lcih7XG4gICAgICB0YXJnZXQ6ICd3aW5kb3cnLFxuICAgICAgdHlwZTogJ29yaWVudGF0aW9uY2hhbmdlJyxcbiAgICAgIGxpc3RlbmVyOiBmdW5jdGlvbiBsaXN0ZW5lcihldmVudCkge1xuICAgICAgICByZXR1cm4gb25SZXNpemUoKTtcbiAgICAgIH0sXG4gICAgICB3aGVuOiAhcHJvcHMuZGlzYWJsZWRcbiAgICB9KSxcbiAgICBfdXNlRXZlbnRMaXN0ZW5lcjIgPSBfc2xpY2VkVG9BcnJheShfdXNlRXZlbnRMaXN0ZW5lciwgMSksXG4gICAgYmluZE9yaWVudGF0aW9uQ2hhbmdlTGlzdGVuZXIgPSBfdXNlRXZlbnRMaXN0ZW5lcjJbMF07XG4gIHZhciBnZXRFbGVtZW50UmVmID0gZnVuY3Rpb24gZ2V0RWxlbWVudFJlZigpIHtcbiAgICByZXR1cm4gZWxlbWVudFJlZjtcbiAgfTtcbiAgdmFyIGdldFBhZ2VCeUZpcnN0ID0gZnVuY3Rpb24gZ2V0UGFnZUJ5Rmlyc3QoZmlyc3QpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcigoZmlyc3QgKyBudW1Ub2xlcmF0ZWRJdGVtc1N0YXRlICogNCkgLyAocHJvcHMuc3RlcCB8fCAxKSk7XG4gIH07XG4gIHZhciBzZXRDb250ZW50RWxlbWVudCA9IGZ1bmN0aW9uIHNldENvbnRlbnRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICBfY29udGVudFJlZi5jdXJyZW50ID0gZWxlbWVudCB8fCBfY29udGVudFJlZi5jdXJyZW50IHx8IERvbUhhbmRsZXIuZmluZFNpbmdsZShlbGVtZW50UmVmLmN1cnJlbnQsICcucC12aXJ0dWFsc2Nyb2xsZXItY29udGVudCcpO1xuICB9O1xuICB2YXIgaXNQYWdlQ2hhbmdlZCA9IGZ1bmN0aW9uIGlzUGFnZUNoYW5nZWQoZmlyc3QpIHtcbiAgICByZXR1cm4gcHJvcHMuc3RlcCA/IHBhZ2VTdGF0ZSAhPT0gZ2V0UGFnZUJ5Rmlyc3QoZmlyc3QpIDogdHJ1ZTtcbiAgfTtcbiAgdmFyIHNjcm9sbFRvID0gZnVuY3Rpb24gc2Nyb2xsVG8ob3B0aW9ucykge1xuICAgIGxhc3RTY3JvbGxQb3MuY3VycmVudCA9IGJvdGggPyB7XG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiAwXG4gICAgfSA6IDA7XG4gICAgZWxlbWVudFJlZi5jdXJyZW50ICYmIGVsZW1lbnRSZWYuY3VycmVudC5zY3JvbGxUbyhvcHRpb25zKTtcbiAgfTtcbiAgdmFyIHNjcm9sbFRvSW5kZXggPSBmdW5jdGlvbiBzY3JvbGxUb0luZGV4KGluZGV4KSB7XG4gICAgdmFyIGJlaGF2aW9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnYXV0byc7XG4gICAgdmFyIF9jYWxjdWxhdGVOdW1JdGVtcyA9IGNhbGN1bGF0ZU51bUl0ZW1zKCksXG4gICAgICBudW1Ub2xlcmF0ZWRJdGVtcyA9IF9jYWxjdWxhdGVOdW1JdGVtcy5udW1Ub2xlcmF0ZWRJdGVtcztcbiAgICB2YXIgY29udGVudFBvcyA9IGdldENvbnRlbnRQb3NpdGlvbigpO1xuICAgIHZhciBjYWxjdWxhdGVGaXJzdCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUZpcnN0KCkge1xuICAgICAgdmFyIF9pbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgIHZhciBfbnVtVCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIF9pbmRleCA8PSBfbnVtVCA/IDAgOiBfaW5kZXg7XG4gICAgfTtcbiAgICB2YXIgY2FsY3VsYXRlQ29vcmQgPSBmdW5jdGlvbiBjYWxjdWxhdGVDb29yZChfZmlyc3QsIF9zaXplLCBfY3Bvcykge1xuICAgICAgcmV0dXJuIF9maXJzdCAqIF9zaXplICsgX2Nwb3M7XG4gICAgfTtcbiAgICB2YXIgc2Nyb2xsVG9JdGVtID0gZnVuY3Rpb24gc2Nyb2xsVG9JdGVtKCkge1xuICAgICAgdmFyIGxlZnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICB2YXIgdG9wID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgcmV0dXJuIHNjcm9sbFRvKHtcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgIGJlaGF2aW9yOiBiZWhhdmlvclxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgbmV3Rmlyc3QgPSBib3RoID8ge1xuICAgICAgcm93czogMCxcbiAgICAgIGNvbHM6IDBcbiAgICB9IDogMDtcbiAgICB2YXIgaXNSYW5nZUNoYW5nZWQgPSBmYWxzZTtcbiAgICBpZiAoYm90aCkge1xuICAgICAgbmV3Rmlyc3QgPSB7XG4gICAgICAgIHJvd3M6IGNhbGN1bGF0ZUZpcnN0KGluZGV4WzBdLCBudW1Ub2xlcmF0ZWRJdGVtc1swXSksXG4gICAgICAgIGNvbHM6IGNhbGN1bGF0ZUZpcnN0KGluZGV4WzFdLCBudW1Ub2xlcmF0ZWRJdGVtc1sxXSlcbiAgICAgIH07XG4gICAgICBzY3JvbGxUb0l0ZW0oY2FsY3VsYXRlQ29vcmQobmV3Rmlyc3QuY29scywgcHJvcHMuaXRlbVNpemVbMV0sIGNvbnRlbnRQb3MubGVmdCksIGNhbGN1bGF0ZUNvb3JkKG5ld0ZpcnN0LnJvd3MsIHByb3BzLml0ZW1TaXplWzBdLCBjb250ZW50UG9zLnRvcCkpO1xuICAgICAgaXNSYW5nZUNoYW5nZWQgPSBmaXJzdFN0YXRlLnJvd3MgIT09IG5ld0ZpcnN0LnJvd3MgfHwgZmlyc3RTdGF0ZS5jb2xzICE9PSBuZXdGaXJzdC5jb2xzO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdGaXJzdCA9IGNhbGN1bGF0ZUZpcnN0KGluZGV4LCBudW1Ub2xlcmF0ZWRJdGVtcyk7XG4gICAgICBob3Jpem9udGFsID8gc2Nyb2xsVG9JdGVtKGNhbGN1bGF0ZUNvb3JkKG5ld0ZpcnN0LCBwcm9wcy5pdGVtU2l6ZSwgY29udGVudFBvcy5sZWZ0KSwgMCkgOiBzY3JvbGxUb0l0ZW0oMCwgY2FsY3VsYXRlQ29vcmQobmV3Rmlyc3QsIHByb3BzLml0ZW1TaXplLCBjb250ZW50UG9zLnRvcCkpO1xuICAgICAgaXNSYW5nZUNoYW5nZWQgPSBmaXJzdFN0YXRlICE9PSBuZXdGaXJzdDtcbiAgICB9XG4gICAgaXNJdGVtUmFuZ2VDaGFuZ2VkLmN1cnJlbnQgPSBpc1JhbmdlQ2hhbmdlZDtcbiAgICBzZXRGaXJzdFN0YXRlKG5ld0ZpcnN0KTtcbiAgfTtcbiAgdmFyIHNjcm9sbEluVmlldyA9IGZ1bmN0aW9uIHNjcm9sbEluVmlldyhpbmRleCwgdG8pIHtcbiAgICB2YXIgYmVoYXZpb3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdhdXRvJztcbiAgICBpZiAodG8pIHtcbiAgICAgIHZhciBfZ2V0UmVuZGVyZWRSYW5nZSA9IGdldFJlbmRlcmVkUmFuZ2UoKSxcbiAgICAgICAgZmlyc3QgPSBfZ2V0UmVuZGVyZWRSYW5nZS5maXJzdCxcbiAgICAgICAgdmlld3BvcnQgPSBfZ2V0UmVuZGVyZWRSYW5nZS52aWV3cG9ydDtcbiAgICAgIHZhciBzY3JvbGxUb0l0ZW0gPSBmdW5jdGlvbiBzY3JvbGxUb0l0ZW0oKSB7XG4gICAgICAgIHZhciBsZWZ0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgdG9wID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgICByZXR1cm4gc2Nyb2xsVG8oe1xuICAgICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgYmVoYXZpb3I6IGJlaGF2aW9yXG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIHZhciBpc1RvU3RhcnQgPSB0byA9PT0gJ3RvLXN0YXJ0JztcbiAgICAgIHZhciBpc1RvRW5kID0gdG8gPT09ICd0by1lbmQnO1xuICAgICAgaWYgKGlzVG9TdGFydCkge1xuICAgICAgICBpZiAoYm90aCkge1xuICAgICAgICAgIGlmICh2aWV3cG9ydC5maXJzdC5yb3dzIC0gZmlyc3Qucm93cyA+IGluZGV4WzBdKSB7XG4gICAgICAgICAgICBzY3JvbGxUb0l0ZW0odmlld3BvcnQuZmlyc3QuY29scyAqIHByb3BzLml0ZW1TaXplWzFdLCAodmlld3BvcnQuZmlyc3Qucm93cyAtIDEpICogcHJvcHMuaXRlbVNpemVbMF0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAodmlld3BvcnQuZmlyc3QuY29scyAtIGZpcnN0LmNvbHMgPiBpbmRleFsxXSkge1xuICAgICAgICAgICAgc2Nyb2xsVG9JdGVtKCh2aWV3cG9ydC5maXJzdC5jb2xzIC0gMSkgKiBwcm9wcy5pdGVtU2l6ZVsxXSwgdmlld3BvcnQuZmlyc3Qucm93cyAqIHByb3BzLml0ZW1TaXplWzBdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHZpZXdwb3J0LmZpcnN0IC0gZmlyc3QgPiBpbmRleCkge1xuICAgICAgICAgICAgdmFyIHBvcyA9ICh2aWV3cG9ydC5maXJzdCAtIDEpICogcHJvcHMuaXRlbVNpemU7XG4gICAgICAgICAgICBob3Jpem9udGFsID8gc2Nyb2xsVG9JdGVtKHBvcywgMCkgOiBzY3JvbGxUb0l0ZW0oMCwgcG9zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNUb0VuZCkge1xuICAgICAgICBpZiAoYm90aCkge1xuICAgICAgICAgIGlmICh2aWV3cG9ydC5sYXN0LnJvd3MgLSBmaXJzdC5yb3dzIDw9IGluZGV4WzBdICsgMSkge1xuICAgICAgICAgICAgc2Nyb2xsVG9JdGVtKHZpZXdwb3J0LmZpcnN0LmNvbHMgKiBwcm9wcy5pdGVtU2l6ZVsxXSwgKHZpZXdwb3J0LmZpcnN0LnJvd3MgKyAxKSAqIHByb3BzLml0ZW1TaXplWzBdKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZpZXdwb3J0Lmxhc3QuY29scyAtIGZpcnN0LmNvbHMgPD0gaW5kZXhbMV0gKyAxKSB7XG4gICAgICAgICAgICBzY3JvbGxUb0l0ZW0oKHZpZXdwb3J0LmZpcnN0LmNvbHMgKyAxKSAqIHByb3BzLml0ZW1TaXplWzFdLCB2aWV3cG9ydC5maXJzdC5yb3dzICogcHJvcHMuaXRlbVNpemVbMF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodmlld3BvcnQubGFzdCAtIGZpcnN0IDw9IGluZGV4ICsgMSkge1xuICAgICAgICAgICAgdmFyIF9wb3MyID0gKHZpZXdwb3J0LmZpcnN0ICsgMSkgKiBwcm9wcy5pdGVtU2l6ZTtcbiAgICAgICAgICAgIGhvcml6b250YWwgPyBzY3JvbGxUb0l0ZW0oX3BvczIsIDApIDogc2Nyb2xsVG9JdGVtKDAsIF9wb3MyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2Nyb2xsVG9JbmRleChpbmRleCwgYmVoYXZpb3IpO1xuICAgIH1cbiAgfTtcbiAgdmFyIGdldFJvd3MgPSBmdW5jdGlvbiBnZXRSb3dzKCkge1xuICAgIHJldHVybiBsb2FkaW5nU3RhdGUgPyBwcm9wcy5sb2FkZXJEaXNhYmxlZCA/IGxvYWRlckFyclN0YXRlIDogW10gOiBsb2FkZWRJdGVtcygpO1xuICB9O1xuICB2YXIgZ2V0Q29sdW1ucyA9IGZ1bmN0aW9uIGdldENvbHVtbnMoKSB7XG4gICAgaWYgKHByb3BzLmNvbHVtbnMgJiYgYm90aCB8fCBob3Jpem9udGFsKSB7XG4gICAgICByZXR1cm4gbG9hZGluZ1N0YXRlICYmIHByb3BzLmxvYWRlckRpc2FibGVkID8gYm90aCA/IGxvYWRlckFyclN0YXRlWzBdIDogbG9hZGVyQXJyU3RhdGUgOiBwcm9wcy5jb2x1bW5zLnNsaWNlKGJvdGggPyBmaXJzdFN0YXRlLmNvbHMgOiBmaXJzdFN0YXRlLCBib3RoID8gbGFzdFN0YXRlLmNvbHMgOiBsYXN0U3RhdGUpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcHMuY29sdW1ucztcbiAgfTtcbiAgdmFyIGdldFJlbmRlcmVkUmFuZ2UgPSBmdW5jdGlvbiBnZXRSZW5kZXJlZFJhbmdlKCkge1xuICAgIHZhciBjYWxjdWxhdGVGaXJzdEluVmlld3BvcnQgPSBmdW5jdGlvbiBjYWxjdWxhdGVGaXJzdEluVmlld3BvcnQoX3BvcywgX3NpemUpIHtcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKF9wb3MgLyAoX3NpemUgfHwgX3BvcykpO1xuICAgIH07XG4gICAgdmFyIGZpcnN0SW5WaWV3cG9ydCA9IGZpcnN0U3RhdGU7XG4gICAgdmFyIGxhc3RJblZpZXdwb3J0ID0gMDtcbiAgICBpZiAoZWxlbWVudFJlZi5jdXJyZW50KSB7XG4gICAgICB2YXIgX2VsZW1lbnRSZWYkY3VycmVudCA9IGVsZW1lbnRSZWYuY3VycmVudCxcbiAgICAgICAgc2Nyb2xsVG9wID0gX2VsZW1lbnRSZWYkY3VycmVudC5zY3JvbGxUb3AsXG4gICAgICAgIHNjcm9sbExlZnQgPSBfZWxlbWVudFJlZiRjdXJyZW50LnNjcm9sbExlZnQ7XG4gICAgICBpZiAoYm90aCkge1xuICAgICAgICBmaXJzdEluVmlld3BvcnQgPSB7XG4gICAgICAgICAgcm93czogY2FsY3VsYXRlRmlyc3RJblZpZXdwb3J0KHNjcm9sbFRvcCwgcHJvcHMuaXRlbVNpemVbMF0pLFxuICAgICAgICAgIGNvbHM6IGNhbGN1bGF0ZUZpcnN0SW5WaWV3cG9ydChzY3JvbGxMZWZ0LCBwcm9wcy5pdGVtU2l6ZVsxXSlcbiAgICAgICAgfTtcbiAgICAgICAgbGFzdEluVmlld3BvcnQgPSB7XG4gICAgICAgICAgcm93czogZmlyc3RJblZpZXdwb3J0LnJvd3MgKyBudW1JdGVtc0luVmlld3BvcnRTdGF0ZS5yb3dzLFxuICAgICAgICAgIGNvbHM6IGZpcnN0SW5WaWV3cG9ydC5jb2xzICsgbnVtSXRlbXNJblZpZXdwb3J0U3RhdGUuY29sc1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHNjcm9sbFBvcyA9IGhvcml6b250YWwgPyBzY3JvbGxMZWZ0IDogc2Nyb2xsVG9wO1xuICAgICAgICBmaXJzdEluVmlld3BvcnQgPSBjYWxjdWxhdGVGaXJzdEluVmlld3BvcnQoc2Nyb2xsUG9zLCBwcm9wcy5pdGVtU2l6ZSk7XG4gICAgICAgIGxhc3RJblZpZXdwb3J0ID0gZmlyc3RJblZpZXdwb3J0ICsgbnVtSXRlbXNJblZpZXdwb3J0U3RhdGU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBmaXJzdDogZmlyc3RTdGF0ZSxcbiAgICAgIGxhc3Q6IGxhc3RTdGF0ZSxcbiAgICAgIHZpZXdwb3J0OiB7XG4gICAgICAgIGZpcnN0OiBmaXJzdEluVmlld3BvcnQsXG4gICAgICAgIGxhc3Q6IGxhc3RJblZpZXdwb3J0XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbiAgdmFyIGNhbGN1bGF0ZU51bUl0ZW1zID0gZnVuY3Rpb24gY2FsY3VsYXRlTnVtSXRlbXMoKSB7XG4gICAgdmFyIGNvbnRlbnRQb3MgPSBnZXRDb250ZW50UG9zaXRpb24oKTtcbiAgICB2YXIgY29udGVudFdpZHRoID0gZWxlbWVudFJlZi5jdXJyZW50ID8gZWxlbWVudFJlZi5jdXJyZW50Lm9mZnNldFdpZHRoIC0gY29udGVudFBvcy5sZWZ0IDogMDtcbiAgICB2YXIgY29udGVudEhlaWdodCA9IGVsZW1lbnRSZWYuY3VycmVudCA/IGVsZW1lbnRSZWYuY3VycmVudC5vZmZzZXRIZWlnaHQgLSBjb250ZW50UG9zLnRvcCA6IDA7XG4gICAgdmFyIGNhbGN1bGF0ZU51bUl0ZW1zSW5WaWV3cG9ydCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZU51bUl0ZW1zSW5WaWV3cG9ydChfY29udGVudFNpemUsIF9pdGVtU2l6ZSkge1xuICAgICAgcmV0dXJuIE1hdGguY2VpbChfY29udGVudFNpemUgLyAoX2l0ZW1TaXplIHx8IF9jb250ZW50U2l6ZSkpO1xuICAgIH07XG4gICAgdmFyIGNhbGN1bGF0ZU51bVRvbGVyYXRlZEl0ZW1zID0gZnVuY3Rpb24gY2FsY3VsYXRlTnVtVG9sZXJhdGVkSXRlbXMoX251bUl0ZW1zKSB7XG4gICAgICByZXR1cm4gTWF0aC5jZWlsKF9udW1JdGVtcyAvIDIpO1xuICAgIH07XG4gICAgdmFyIG51bUl0ZW1zSW5WaWV3cG9ydCA9IGJvdGggPyB7XG4gICAgICByb3dzOiBjYWxjdWxhdGVOdW1JdGVtc0luVmlld3BvcnQoY29udGVudEhlaWdodCwgcHJvcHMuaXRlbVNpemVbMF0pLFxuICAgICAgY29sczogY2FsY3VsYXRlTnVtSXRlbXNJblZpZXdwb3J0KGNvbnRlbnRXaWR0aCwgcHJvcHMuaXRlbVNpemVbMV0pXG4gICAgfSA6IGNhbGN1bGF0ZU51bUl0ZW1zSW5WaWV3cG9ydChob3Jpem9udGFsID8gY29udGVudFdpZHRoIDogY29udGVudEhlaWdodCwgcHJvcHMuaXRlbVNpemUpO1xuICAgIHZhciBudW1Ub2xlcmF0ZWRJdGVtcyA9IG51bVRvbGVyYXRlZEl0ZW1zU3RhdGUgfHwgKGJvdGggPyBbY2FsY3VsYXRlTnVtVG9sZXJhdGVkSXRlbXMobnVtSXRlbXNJblZpZXdwb3J0LnJvd3MpLCBjYWxjdWxhdGVOdW1Ub2xlcmF0ZWRJdGVtcyhudW1JdGVtc0luVmlld3BvcnQuY29scyldIDogY2FsY3VsYXRlTnVtVG9sZXJhdGVkSXRlbXMobnVtSXRlbXNJblZpZXdwb3J0KSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG51bUl0ZW1zSW5WaWV3cG9ydDogbnVtSXRlbXNJblZpZXdwb3J0LFxuICAgICAgbnVtVG9sZXJhdGVkSXRlbXM6IG51bVRvbGVyYXRlZEl0ZW1zXG4gICAgfTtcbiAgfTtcbiAgdmFyIGNhbGN1bGF0ZU9wdGlvbnMgPSBmdW5jdGlvbiBjYWxjdWxhdGVPcHRpb25zKCkge1xuICAgIHZhciBfY2FsY3VsYXRlTnVtSXRlbXMyID0gY2FsY3VsYXRlTnVtSXRlbXMoKSxcbiAgICAgIG51bUl0ZW1zSW5WaWV3cG9ydCA9IF9jYWxjdWxhdGVOdW1JdGVtczIubnVtSXRlbXNJblZpZXdwb3J0LFxuICAgICAgbnVtVG9sZXJhdGVkSXRlbXMgPSBfY2FsY3VsYXRlTnVtSXRlbXMyLm51bVRvbGVyYXRlZEl0ZW1zO1xuICAgIHZhciBjYWxjdWxhdGVMYXN0ID0gZnVuY3Rpb24gY2FsY3VsYXRlTGFzdChfZmlyc3QsIF9udW0sIF9udW1UKSB7XG4gICAgICB2YXIgX2lzQ29scyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG4gICAgICByZXR1cm4gZ2V0TGFzdChfZmlyc3QgKyBfbnVtICsgKF9maXJzdCA8IF9udW1UID8gMiA6IDMpICogX251bVQsIF9pc0NvbHMpO1xuICAgIH07XG4gICAgdmFyIGxhc3QgPSBib3RoID8ge1xuICAgICAgcm93czogY2FsY3VsYXRlTGFzdChmaXJzdFN0YXRlLnJvd3MsIG51bUl0ZW1zSW5WaWV3cG9ydC5yb3dzLCBudW1Ub2xlcmF0ZWRJdGVtc1swXSksXG4gICAgICBjb2xzOiBjYWxjdWxhdGVMYXN0KGZpcnN0U3RhdGUuY29scywgbnVtSXRlbXNJblZpZXdwb3J0LmNvbHMsIG51bVRvbGVyYXRlZEl0ZW1zWzFdLCB0cnVlKVxuICAgIH0gOiBjYWxjdWxhdGVMYXN0KGZpcnN0U3RhdGUsIG51bUl0ZW1zSW5WaWV3cG9ydCwgbnVtVG9sZXJhdGVkSXRlbXMpO1xuICAgIHNldE51bUl0ZW1zSW5WaWV3cG9ydFN0YXRlKG51bUl0ZW1zSW5WaWV3cG9ydCk7XG4gICAgc2V0TnVtVG9sZXJhdGVkSXRlbXNTdGF0ZShudW1Ub2xlcmF0ZWRJdGVtcyk7XG4gICAgc2V0TGFzdFN0YXRlKGxhc3QpO1xuICAgIGlmIChwcm9wcy5zaG93TG9hZGVyKSB7XG4gICAgICBzZXRMb2FkZXJBcnJTdGF0ZShib3RoID8gQXJyYXkuZnJvbSh7XG4gICAgICAgIGxlbmd0aDogbnVtSXRlbXNJblZpZXdwb3J0LnJvd3NcbiAgICAgIH0pLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHtcbiAgICAgICAgICBsZW5ndGg6IG51bUl0ZW1zSW5WaWV3cG9ydC5jb2xzXG4gICAgICAgIH0pO1xuICAgICAgfSkgOiBBcnJheS5mcm9tKHtcbiAgICAgICAgbGVuZ3RoOiBudW1JdGVtc0luVmlld3BvcnRcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgaWYgKHByb3BzLmxhenkpIHtcbiAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBsYXp5TG9hZFN0YXRlLmN1cnJlbnQgPSB7XG4gICAgICAgICAgZmlyc3Q6IHByb3BzLnN0ZXAgPyBib3RoID8ge1xuICAgICAgICAgICAgcm93czogMCxcbiAgICAgICAgICAgIGNvbHM6IGZpcnN0U3RhdGUuY29sc1xuICAgICAgICAgIH0gOiAwIDogZmlyc3RTdGF0ZSxcbiAgICAgICAgICBsYXN0OiBNYXRoLm1pbihwcm9wcy5zdGVwID8gcHJvcHMuc3RlcCA6IGxhc3QsIHByb3BzLml0ZW1zLmxlbmd0aClcbiAgICAgICAgfTtcbiAgICAgICAgcHJvcHMub25MYXp5TG9hZCAmJiBwcm9wcy5vbkxhenlMb2FkKGxhenlMb2FkU3RhdGUuY3VycmVudCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIHZhciBjYWxjdWxhdGVBdXRvU2l6ZSA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUF1dG9TaXplKGxvYWRpbmcpIHtcbiAgICBpZiAocHJvcHMuYXV0b1NpemUgJiYgIWxvYWRpbmcpIHtcbiAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX2NvbnRlbnRSZWYuY3VycmVudCkge1xuICAgICAgICAgIF9jb250ZW50UmVmLmN1cnJlbnQuc3R5bGUubWluSGVpZ2h0ID0gX2NvbnRlbnRSZWYuY3VycmVudC5zdHlsZS5taW5XaWR0aCA9ICdhdXRvJztcbiAgICAgICAgICBfY29udGVudFJlZi5jdXJyZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgICAgICBlbGVtZW50UmVmLmN1cnJlbnQuc3R5bGUuY29udGFpbiA9ICdub25lJztcblxuICAgICAgICAgIC8qY29uc3QgW2NvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodF0gPSBbRG9tSGFuZGxlci5nZXRXaWR0aChjb250ZW50UmVmLmN1cnJlbnQpLCBEb21IYW5kbGVyLmdldEhlaWdodChjb250ZW50UmVmLmN1cnJlbnQpXTtcbiAgICAgICAgICAgY29udGVudFdpZHRoICE9PSBkZWZhdWx0Q29udGVudFdpZHRoLmN1cnJlbnQgJiYgKGVsZW1lbnRSZWYuY3VycmVudC5zdHlsZS53aWR0aCA9ICcnKTtcbiAgICAgICAgICBjb250ZW50SGVpZ2h0ICE9PSBkZWZhdWx0Q29udGVudEhlaWdodC5jdXJyZW50ICYmIChlbGVtZW50UmVmLmN1cnJlbnQuc3R5bGUuaGVpZ2h0ID0gJycpOyovXG5cbiAgICAgICAgICB2YXIgX3JlZiA9IFtEb21IYW5kbGVyLmdldFdpZHRoKGVsZW1lbnRSZWYuY3VycmVudCksIERvbUhhbmRsZXIuZ2V0SGVpZ2h0KGVsZW1lbnRSZWYuY3VycmVudCldLFxuICAgICAgICAgICAgd2lkdGggPSBfcmVmWzBdLFxuICAgICAgICAgICAgaGVpZ2h0ID0gX3JlZlsxXTtcbiAgICAgICAgICAoYm90aCB8fCBob3Jpem9udGFsKSAmJiAoZWxlbWVudFJlZi5jdXJyZW50LnN0eWxlLndpZHRoID0gKHdpZHRoIDwgZGVmYXVsdFdpZHRoLmN1cnJlbnQgPyB3aWR0aCA6IHByb3BzLnNjcm9sbFdpZHRoIHx8IGRlZmF1bHRXaWR0aC5jdXJyZW50KSArICdweCcpO1xuICAgICAgICAgIChib3RoIHx8IHZlcnRpY2FsKSAmJiAoZWxlbWVudFJlZi5jdXJyZW50LnN0eWxlLmhlaWdodCA9IChoZWlnaHQgPCBkZWZhdWx0SGVpZ2h0LmN1cnJlbnQgPyBoZWlnaHQgOiBwcm9wcy5zY3JvbGxIZWlnaHQgfHwgZGVmYXVsdEhlaWdodC5jdXJyZW50KSArICdweCcpO1xuICAgICAgICAgIF9jb250ZW50UmVmLmN1cnJlbnQuc3R5bGUubWluSGVpZ2h0ID0gX2NvbnRlbnRSZWYuY3VycmVudC5zdHlsZS5taW5XaWR0aCA9ICcnO1xuICAgICAgICAgIF9jb250ZW50UmVmLmN1cnJlbnQuc3R5bGUucG9zaXRpb24gPSAnJztcbiAgICAgICAgICBlbGVtZW50UmVmLmN1cnJlbnQuc3R5bGUuY29udGFpbiA9ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIHZhciBnZXRMYXN0ID0gZnVuY3Rpb24gZ2V0TGFzdCgpIHtcbiAgICB2YXIgbGFzdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICB2YXIgaXNDb2xzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHByb3BzLml0ZW1zID8gTWF0aC5taW4oaXNDb2xzID8gKHByb3BzLmNvbHVtbnMgfHwgcHJvcHMuaXRlbXNbMF0pLmxlbmd0aCA6IHByb3BzLml0ZW1zLmxlbmd0aCwgbGFzdCkgOiAwO1xuICB9O1xuICB2YXIgZ2V0Q29udGVudFBvc2l0aW9uID0gZnVuY3Rpb24gZ2V0Q29udGVudFBvc2l0aW9uKCkge1xuICAgIGlmIChfY29udGVudFJlZi5jdXJyZW50KSB7XG4gICAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKF9jb250ZW50UmVmLmN1cnJlbnQpO1xuICAgICAgdmFyIGxlZnQgPSBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdMZWZ0KSArIE1hdGgubWF4KHBhcnNlRmxvYXQoc3R5bGUubGVmdCkgfHwgMCwgMCk7XG4gICAgICB2YXIgcmlnaHQgPSBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdSaWdodCkgKyBNYXRoLm1heChwYXJzZUZsb2F0KHN0eWxlLnJpZ2h0KSB8fCAwLCAwKTtcbiAgICAgIHZhciB0b3AgPSBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdUb3ApICsgTWF0aC5tYXgocGFyc2VGbG9hdChzdHlsZS50b3ApIHx8IDAsIDApO1xuICAgICAgdmFyIGJvdHRvbSA9IHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0JvdHRvbSkgKyBNYXRoLm1heChwYXJzZUZsb2F0KHN0eWxlLmJvdHRvbSkgfHwgMCwgMCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICByaWdodDogcmlnaHQsXG4gICAgICAgIHRvcDogdG9wLFxuICAgICAgICBib3R0b206IGJvdHRvbSxcbiAgICAgICAgeDogbGVmdCArIHJpZ2h0LFxuICAgICAgICB5OiB0b3AgKyBib3R0b21cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICB0b3A6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH07XG4gIH07XG4gIHZhciBzZXRTaXplID0gZnVuY3Rpb24gc2V0U2l6ZSgpIHtcbiAgICBpZiAoZWxlbWVudFJlZi5jdXJyZW50KSB7XG4gICAgICB2YXIgcGFyZW50RWxlbWVudCA9IGVsZW1lbnRSZWYuY3VycmVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgdmFyIHdpZHRoID0gcHJvcHMuc2Nyb2xsV2lkdGggfHwgXCJcIi5jb25jYXQoZWxlbWVudFJlZi5jdXJyZW50Lm9mZnNldFdpZHRoIHx8IHBhcmVudEVsZW1lbnQub2Zmc2V0V2lkdGgsIFwicHhcIik7XG4gICAgICB2YXIgaGVpZ2h0ID0gcHJvcHMuc2Nyb2xsSGVpZ2h0IHx8IFwiXCIuY29uY2F0KGVsZW1lbnRSZWYuY3VycmVudC5vZmZzZXRIZWlnaHQgfHwgcGFyZW50RWxlbWVudC5vZmZzZXRIZWlnaHQsIFwicHhcIik7XG4gICAgICB2YXIgc2V0UHJvcCA9IGZ1bmN0aW9uIHNldFByb3AoX25hbWUsIF92YWx1ZSkge1xuICAgICAgICByZXR1cm4gZWxlbWVudFJlZi5jdXJyZW50LnN0eWxlW19uYW1lXSA9IF92YWx1ZTtcbiAgICAgIH07XG4gICAgICBpZiAoYm90aCB8fCBob3Jpem9udGFsKSB7XG4gICAgICAgIHNldFByb3AoJ2hlaWdodCcsIGhlaWdodCk7XG4gICAgICAgIHNldFByb3AoJ3dpZHRoJywgd2lkdGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0UHJvcCgnaGVpZ2h0JywgaGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBzZXRTcGFjZXJTaXplID0gZnVuY3Rpb24gc2V0U3BhY2VyU2l6ZSgpIHtcbiAgICB2YXIgaXRlbXMgPSBwcm9wcy5pdGVtcztcbiAgICBpZiAoaXRlbXMpIHtcbiAgICAgIHZhciBjb250ZW50UG9zID0gZ2V0Q29udGVudFBvc2l0aW9uKCk7XG4gICAgICB2YXIgc2V0UHJvcCA9IGZ1bmN0aW9uIHNldFByb3AoX25hbWUsIF92YWx1ZSwgX3NpemUpIHtcbiAgICAgICAgdmFyIF9jcG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAwO1xuICAgICAgICByZXR1cm4gc3BhY2VyU3R5bGUuY3VycmVudCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3BhY2VyU3R5bGUuY3VycmVudCksIF9kZWZpbmVQcm9wZXJ0eSh7fSwgXCJcIi5jb25jYXQoX25hbWUpLCAoX3ZhbHVlIHx8IFtdKS5sZW5ndGggKiBfc2l6ZSArIF9jcG9zICsgJ3B4JykpO1xuICAgICAgfTtcbiAgICAgIGlmIChib3RoKSB7XG4gICAgICAgIHNldFByb3AoJ2hlaWdodCcsIGl0ZW1zLCBwcm9wcy5pdGVtU2l6ZVswXSwgY29udGVudFBvcy55KTtcbiAgICAgICAgc2V0UHJvcCgnd2lkdGgnLCBwcm9wcy5jb2x1bW5zIHx8IGl0ZW1zWzFdLCBwcm9wcy5pdGVtU2l6ZVsxXSwgY29udGVudFBvcy54KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhvcml6b250YWwgPyBzZXRQcm9wKCd3aWR0aCcsIHByb3BzLmNvbHVtbnMgfHwgaXRlbXMsIHByb3BzLml0ZW1TaXplLCBjb250ZW50UG9zLngpIDogc2V0UHJvcCgnaGVpZ2h0JywgaXRlbXMsIHByb3BzLml0ZW1TaXplLCBjb250ZW50UG9zLnkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIHNldENvbnRlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uIHNldENvbnRlbnRQb3NpdGlvbihwb3MpIHtcbiAgICBpZiAoX2NvbnRlbnRSZWYuY3VycmVudCAmJiAhcHJvcHMuYXBwZW5kT25seSkge1xuICAgICAgdmFyIGZpcnN0ID0gcG9zID8gcG9zLmZpcnN0IDogZmlyc3RTdGF0ZTtcbiAgICAgIHZhciBjYWxjdWxhdGVUcmFuc2xhdGVWYWwgPSBmdW5jdGlvbiBjYWxjdWxhdGVUcmFuc2xhdGVWYWwoX2ZpcnN0LCBfc2l6ZSkge1xuICAgICAgICByZXR1cm4gX2ZpcnN0ICogX3NpemU7XG4gICAgICB9O1xuICAgICAgdmFyIHNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHNldFRyYW5zZm9ybSgpIHtcbiAgICAgICAgdmFyIF94ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgX3kgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgICAgIF9zdGlja3lSZWYuY3VycmVudCAmJiAoX3N0aWNreVJlZi5jdXJyZW50LnN0eWxlLnRvcCA9IFwiLVwiLmNvbmNhdChfeSwgXCJweFwiKSk7XG4gICAgICAgIGNvbnRlbnRTdHlsZS5jdXJyZW50ID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjb250ZW50U3R5bGUuY3VycmVudCksIHtcbiAgICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlM2QoXCIuY29uY2F0KF94LCBcInB4LCBcIikuY29uY2F0KF95LCBcInB4LCAwKVwiKVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBpZiAoYm90aCkge1xuICAgICAgICBzZXRUcmFuc2Zvcm0oY2FsY3VsYXRlVHJhbnNsYXRlVmFsKGZpcnN0LmNvbHMsIHByb3BzLml0ZW1TaXplWzFdKSwgY2FsY3VsYXRlVHJhbnNsYXRlVmFsKGZpcnN0LnJvd3MsIHByb3BzLml0ZW1TaXplWzBdKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdHJhbnNsYXRlVmFsID0gY2FsY3VsYXRlVHJhbnNsYXRlVmFsKGZpcnN0LCBwcm9wcy5pdGVtU2l6ZSk7XG4gICAgICAgIGhvcml6b250YWwgPyBzZXRUcmFuc2Zvcm0odHJhbnNsYXRlVmFsLCAwKSA6IHNldFRyYW5zZm9ybSgwLCB0cmFuc2xhdGVWYWwpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIG9uU2Nyb2xsUG9zaXRpb25DaGFuZ2UgPSBmdW5jdGlvbiBvblNjcm9sbFBvc2l0aW9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICB2YXIgY29udGVudFBvcyA9IGdldENvbnRlbnRQb3NpdGlvbigpO1xuICAgIHZhciBjYWxjdWxhdGVTY3JvbGxQb3MgPSBmdW5jdGlvbiBjYWxjdWxhdGVTY3JvbGxQb3MoX3BvcywgX2Nwb3MpIHtcbiAgICAgIHJldHVybiBfcG9zID8gX3BvcyA+IF9jcG9zID8gX3BvcyAtIF9jcG9zIDogX3BvcyA6IDA7XG4gICAgfTtcbiAgICB2YXIgY2FsY3VsYXRlQ3VycmVudEluZGV4ID0gZnVuY3Rpb24gY2FsY3VsYXRlQ3VycmVudEluZGV4KF9wb3MsIF9zaXplKSB7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcihfcG9zIC8gKF9zaXplIHx8IF9wb3MpKTtcbiAgICB9O1xuICAgIHZhciBjYWxjdWxhdGVUcmlnZ2VySW5kZXggPSBmdW5jdGlvbiBjYWxjdWxhdGVUcmlnZ2VySW5kZXgoX2N1cnJlbnRJbmRleCwgX2ZpcnN0LCBfbGFzdCwgX251bSwgX251bVQsIF9pc1Njcm9sbERvd25PclJpZ2h0KSB7XG4gICAgICByZXR1cm4gX2N1cnJlbnRJbmRleCA8PSBfbnVtVCA/IF9udW1UIDogX2lzU2Nyb2xsRG93bk9yUmlnaHQgPyBfbGFzdCAtIF9udW0gLSBfbnVtVCA6IF9maXJzdCArIF9udW1UIC0gMTtcbiAgICB9O1xuICAgIHZhciBjYWxjdWxhdGVGaXJzdCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUZpcnN0KF9jdXJyZW50SW5kZXgsIF90cmlnZ2VySW5kZXgsIF9maXJzdCwgX2xhc3QsIF9udW0sIF9udW1ULCBfaXNTY3JvbGxEb3duT3JSaWdodCkge1xuICAgICAgaWYgKF9jdXJyZW50SW5kZXggPD0gX251bVQpIHJldHVybiAwO2Vsc2UgcmV0dXJuIE1hdGgubWF4KDAsIF9pc1Njcm9sbERvd25PclJpZ2h0ID8gX2N1cnJlbnRJbmRleCA8IF90cmlnZ2VySW5kZXggPyBfZmlyc3QgOiBfY3VycmVudEluZGV4IC0gX251bVQgOiBfY3VycmVudEluZGV4ID4gX3RyaWdnZXJJbmRleCA/IF9maXJzdCA6IF9jdXJyZW50SW5kZXggLSAyICogX251bVQpO1xuICAgIH07XG4gICAgdmFyIGNhbGN1bGF0ZUxhc3QgPSBmdW5jdGlvbiBjYWxjdWxhdGVMYXN0KF9jdXJyZW50SW5kZXgsIF9maXJzdCwgX2xhc3QsIF9udW0sIF9udW1ULCBfaXNDb2xzKSB7XG4gICAgICB2YXIgbGFzdFZhbHVlID0gX2ZpcnN0ICsgX251bSArIDIgKiBfbnVtVDtcbiAgICAgIGlmIChfY3VycmVudEluZGV4ID49IF9udW1UKSB7XG4gICAgICAgIGxhc3RWYWx1ZSArPSBfbnVtVCArIDE7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2V0TGFzdChsYXN0VmFsdWUsIF9pc0NvbHMpO1xuICAgIH07XG4gICAgdmFyIHNjcm9sbFRvcCA9IGNhbGN1bGF0ZVNjcm9sbFBvcyh0YXJnZXQuc2Nyb2xsVG9wLCBjb250ZW50UG9zLnRvcCk7XG4gICAgdmFyIHNjcm9sbExlZnQgPSBjYWxjdWxhdGVTY3JvbGxQb3ModGFyZ2V0LnNjcm9sbExlZnQsIGNvbnRlbnRQb3MubGVmdCk7XG4gICAgdmFyIG5ld0ZpcnN0ID0gYm90aCA/IHtcbiAgICAgIHJvd3M6IDAsXG4gICAgICBjb2xzOiAwXG4gICAgfSA6IDA7XG4gICAgdmFyIG5ld0xhc3QgPSBsYXN0U3RhdGU7XG4gICAgdmFyIGlzUmFuZ2VDaGFuZ2VkID0gZmFsc2U7XG4gICAgdmFyIG5ld1Njcm9sbFBvcyA9IGxhc3RTY3JvbGxQb3MuY3VycmVudDtcbiAgICBpZiAoYm90aCkge1xuICAgICAgdmFyIGlzU2Nyb2xsRG93biA9IGxhc3RTY3JvbGxQb3MuY3VycmVudC50b3AgPD0gc2Nyb2xsVG9wO1xuICAgICAgdmFyIGlzU2Nyb2xsUmlnaHQgPSBsYXN0U2Nyb2xsUG9zLmN1cnJlbnQubGVmdCA8PSBzY3JvbGxMZWZ0O1xuICAgICAgaWYgKCFwcm9wcy5hcHBlbmRPbmx5IHx8IHByb3BzLmFwcGVuZE9ubHkgJiYgKGlzU2Nyb2xsRG93biB8fCBpc1Njcm9sbFJpZ2h0KSkge1xuICAgICAgICB2YXIgY3VycmVudEluZGV4ID0ge1xuICAgICAgICAgIHJvd3M6IGNhbGN1bGF0ZUN1cnJlbnRJbmRleChzY3JvbGxUb3AsIHByb3BzLml0ZW1TaXplWzBdKSxcbiAgICAgICAgICBjb2xzOiBjYWxjdWxhdGVDdXJyZW50SW5kZXgoc2Nyb2xsTGVmdCwgcHJvcHMuaXRlbVNpemVbMV0pXG4gICAgICAgIH07XG4gICAgICAgIHZhciB0cmlnZ2VySW5kZXggPSB7XG4gICAgICAgICAgcm93czogY2FsY3VsYXRlVHJpZ2dlckluZGV4KGN1cnJlbnRJbmRleC5yb3dzLCBmaXJzdFN0YXRlLnJvd3MsIGxhc3RTdGF0ZS5yb3dzLCBudW1JdGVtc0luVmlld3BvcnRTdGF0ZS5yb3dzLCBudW1Ub2xlcmF0ZWRJdGVtc1N0YXRlWzBdLCBpc1Njcm9sbERvd24pLFxuICAgICAgICAgIGNvbHM6IGNhbGN1bGF0ZVRyaWdnZXJJbmRleChjdXJyZW50SW5kZXguY29scywgZmlyc3RTdGF0ZS5jb2xzLCBsYXN0U3RhdGUuY29scywgbnVtSXRlbXNJblZpZXdwb3J0U3RhdGUuY29scywgbnVtVG9sZXJhdGVkSXRlbXNTdGF0ZVsxXSwgaXNTY3JvbGxSaWdodClcbiAgICAgICAgfTtcbiAgICAgICAgbmV3Rmlyc3QgPSB7XG4gICAgICAgICAgcm93czogY2FsY3VsYXRlRmlyc3QoY3VycmVudEluZGV4LnJvd3MsIHRyaWdnZXJJbmRleC5yb3dzLCBmaXJzdFN0YXRlLnJvd3MsIGxhc3RTdGF0ZS5yb3dzLCBudW1JdGVtc0luVmlld3BvcnRTdGF0ZS5yb3dzLCBudW1Ub2xlcmF0ZWRJdGVtc1N0YXRlWzBdLCBpc1Njcm9sbERvd24pLFxuICAgICAgICAgIGNvbHM6IGNhbGN1bGF0ZUZpcnN0KGN1cnJlbnRJbmRleC5jb2xzLCB0cmlnZ2VySW5kZXguY29scywgZmlyc3RTdGF0ZS5jb2xzLCBsYXN0U3RhdGUuY29scywgbnVtSXRlbXNJblZpZXdwb3J0U3RhdGUuY29scywgbnVtVG9sZXJhdGVkSXRlbXNTdGF0ZVsxXSwgaXNTY3JvbGxSaWdodClcbiAgICAgICAgfTtcbiAgICAgICAgbmV3TGFzdCA9IHtcbiAgICAgICAgICByb3dzOiBjYWxjdWxhdGVMYXN0KGN1cnJlbnRJbmRleC5yb3dzLCBuZXdGaXJzdC5yb3dzLCBsYXN0U3RhdGUucm93cywgbnVtSXRlbXNJblZpZXdwb3J0U3RhdGUucm93cywgbnVtVG9sZXJhdGVkSXRlbXNTdGF0ZVswXSksXG4gICAgICAgICAgY29sczogY2FsY3VsYXRlTGFzdChjdXJyZW50SW5kZXguY29scywgbmV3Rmlyc3QuY29scywgbGFzdFN0YXRlLmNvbHMsIG51bUl0ZW1zSW5WaWV3cG9ydFN0YXRlLmNvbHMsIG51bVRvbGVyYXRlZEl0ZW1zU3RhdGVbMV0sIHRydWUpXG4gICAgICAgIH07XG4gICAgICAgIGlzUmFuZ2VDaGFuZ2VkID0gbmV3Rmlyc3Qucm93cyAhPT0gZmlyc3RTdGF0ZS5yb3dzIHx8IG5ld0xhc3Qucm93cyAhPT0gbGFzdFN0YXRlLnJvd3MgfHwgbmV3Rmlyc3QuY29scyAhPT0gZmlyc3RTdGF0ZS5jb2xzIHx8IG5ld0xhc3QuY29scyAhPT0gbGFzdFN0YXRlLmNvbHMgfHwgaXNJdGVtUmFuZ2VDaGFuZ2VkLmN1cnJlbnQ7XG4gICAgICAgIG5ld1Njcm9sbFBvcyA9IHtcbiAgICAgICAgICB0b3A6IHNjcm9sbFRvcCxcbiAgICAgICAgICBsZWZ0OiBzY3JvbGxMZWZ0XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzY3JvbGxQb3MgPSBob3Jpem9udGFsID8gc2Nyb2xsTGVmdCA6IHNjcm9sbFRvcDtcbiAgICAgIHZhciBpc1Njcm9sbERvd25PclJpZ2h0ID0gbGFzdFNjcm9sbFBvcy5jdXJyZW50IDw9IHNjcm9sbFBvcztcbiAgICAgIGlmICghcHJvcHMuYXBwZW5kT25seSB8fCBwcm9wcy5hcHBlbmRPbmx5ICYmIGlzU2Nyb2xsRG93bk9yUmlnaHQpIHtcbiAgICAgICAgdmFyIF9jdXJyZW50SW5kZXgyID0gY2FsY3VsYXRlQ3VycmVudEluZGV4KHNjcm9sbFBvcywgcHJvcHMuaXRlbVNpemUpO1xuICAgICAgICB2YXIgX3RyaWdnZXJJbmRleDIgPSBjYWxjdWxhdGVUcmlnZ2VySW5kZXgoX2N1cnJlbnRJbmRleDIsIGZpcnN0U3RhdGUsIGxhc3RTdGF0ZSwgbnVtSXRlbXNJblZpZXdwb3J0U3RhdGUsIG51bVRvbGVyYXRlZEl0ZW1zU3RhdGUsIGlzU2Nyb2xsRG93bk9yUmlnaHQpO1xuICAgICAgICBuZXdGaXJzdCA9IGNhbGN1bGF0ZUZpcnN0KF9jdXJyZW50SW5kZXgyLCBfdHJpZ2dlckluZGV4MiwgZmlyc3RTdGF0ZSwgbGFzdFN0YXRlLCBudW1JdGVtc0luVmlld3BvcnRTdGF0ZSwgbnVtVG9sZXJhdGVkSXRlbXNTdGF0ZSwgaXNTY3JvbGxEb3duT3JSaWdodCk7XG4gICAgICAgIG5ld0xhc3QgPSBjYWxjdWxhdGVMYXN0KF9jdXJyZW50SW5kZXgyLCBuZXdGaXJzdCwgbGFzdFN0YXRlLCBudW1JdGVtc0luVmlld3BvcnRTdGF0ZSwgbnVtVG9sZXJhdGVkSXRlbXNTdGF0ZSk7XG4gICAgICAgIGlzUmFuZ2VDaGFuZ2VkID0gbmV3Rmlyc3QgIT09IGZpcnN0U3RhdGUgfHwgbmV3TGFzdCAhPT0gbGFzdFN0YXRlIHx8IGlzSXRlbVJhbmdlQ2hhbmdlZC5jdXJyZW50O1xuICAgICAgICBuZXdTY3JvbGxQb3MgPSBzY3JvbGxQb3M7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBmaXJzdDogbmV3Rmlyc3QsXG4gICAgICBsYXN0OiBuZXdMYXN0LFxuICAgICAgaXNSYW5nZUNoYW5nZWQ6IGlzUmFuZ2VDaGFuZ2VkLFxuICAgICAgc2Nyb2xsUG9zOiBuZXdTY3JvbGxQb3NcbiAgICB9O1xuICB9O1xuICB2YXIgb25TY3JvbGxDaGFuZ2UgPSBmdW5jdGlvbiBvblNjcm9sbENoYW5nZShldmVudCkge1xuICAgIHZhciBfb25TY3JvbGxQb3NpdGlvbkNoYW4gPSBvblNjcm9sbFBvc2l0aW9uQ2hhbmdlKGV2ZW50KSxcbiAgICAgIGZpcnN0ID0gX29uU2Nyb2xsUG9zaXRpb25DaGFuLmZpcnN0LFxuICAgICAgbGFzdCA9IF9vblNjcm9sbFBvc2l0aW9uQ2hhbi5sYXN0LFxuICAgICAgaXNSYW5nZUNoYW5nZWQgPSBfb25TY3JvbGxQb3NpdGlvbkNoYW4uaXNSYW5nZUNoYW5nZWQsXG4gICAgICBzY3JvbGxQb3MgPSBfb25TY3JvbGxQb3NpdGlvbkNoYW4uc2Nyb2xsUG9zO1xuICAgIGlmIChpc1JhbmdlQ2hhbmdlZCkge1xuICAgICAgdmFyIG5ld1N0YXRlID0ge1xuICAgICAgICBmaXJzdDogZmlyc3QsXG4gICAgICAgIGxhc3Q6IGxhc3RcbiAgICAgIH07XG4gICAgICBzZXRDb250ZW50UG9zaXRpb24obmV3U3RhdGUpO1xuICAgICAgc2V0Rmlyc3RTdGF0ZShmaXJzdCk7XG4gICAgICBzZXRMYXN0U3RhdGUobGFzdCk7XG4gICAgICBsYXN0U2Nyb2xsUG9zLmN1cnJlbnQgPSBzY3JvbGxQb3M7XG4gICAgICBwcm9wcy5vblNjcm9sbEluZGV4Q2hhbmdlICYmIHByb3BzLm9uU2Nyb2xsSW5kZXhDaGFuZ2UobmV3U3RhdGUpO1xuICAgICAgaWYgKHByb3BzLmxhenkgJiYgaXNQYWdlQ2hhbmdlZChmaXJzdCkpIHtcbiAgICAgICAgdmFyIG5ld0xhenlMb2FkU3RhdGUgPSB7XG4gICAgICAgICAgZmlyc3Q6IHByb3BzLnN0ZXAgPyBNYXRoLm1pbihnZXRQYWdlQnlGaXJzdChmaXJzdCkgKiBwcm9wcy5zdGVwLCBwcm9wcy5pdGVtcy5sZW5ndGggLSBwcm9wcy5zdGVwKSA6IGZpcnN0LFxuICAgICAgICAgIGxhc3Q6IE1hdGgubWluKHByb3BzLnN0ZXAgPyAoZ2V0UGFnZUJ5Rmlyc3QoZmlyc3QpICsgMSkgKiBwcm9wcy5zdGVwIDogbGFzdCwgcHJvcHMuaXRlbXMubGVuZ3RoKVxuICAgICAgICB9O1xuICAgICAgICB2YXIgaXNMYXp5U3RhdGVDaGFuZ2VkID0gIWxhenlMb2FkU3RhdGUuY3VycmVudCB8fCBsYXp5TG9hZFN0YXRlLmN1cnJlbnQuZmlyc3QgIT09IG5ld0xhenlMb2FkU3RhdGUuZmlyc3QgfHwgbGF6eUxvYWRTdGF0ZS5jdXJyZW50Lmxhc3QgIT09IG5ld0xhenlMb2FkU3RhdGUubGFzdDtcbiAgICAgICAgaXNMYXp5U3RhdGVDaGFuZ2VkICYmIHByb3BzLm9uTGF6eUxvYWQgJiYgcHJvcHMub25MYXp5TG9hZChuZXdMYXp5TG9hZFN0YXRlKTtcbiAgICAgICAgbGF6eUxvYWRTdGF0ZS5jdXJyZW50ID0gbmV3TGF6eUxvYWRTdGF0ZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBvblNjcm9sbCA9IGZ1bmN0aW9uIG9uU2Nyb2xsKGV2ZW50KSB7XG4gICAgcHJvcHMub25TY3JvbGwgJiYgcHJvcHMub25TY3JvbGwoZXZlbnQpO1xuICAgIGlmIChwcm9wcy5kZWxheSkge1xuICAgICAgaWYgKHNjcm9sbFRpbWVvdXQuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoc2Nyb2xsVGltZW91dC5jdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1BhZ2VDaGFuZ2VkKGZpcnN0U3RhdGUpKSB7XG4gICAgICAgIGlmICghbG9hZGluZ1N0YXRlICYmIHByb3BzLnNob3dMb2FkZXIpIHtcbiAgICAgICAgICB2YXIgX29uU2Nyb2xsUG9zaXRpb25DaGFuMiA9IG9uU2Nyb2xsUG9zaXRpb25DaGFuZ2UoZXZlbnQpLFxuICAgICAgICAgICAgaXNSYW5nZUNoYW5nZWQgPSBfb25TY3JvbGxQb3NpdGlvbkNoYW4yLmlzUmFuZ2VDaGFuZ2VkO1xuICAgICAgICAgIHZhciBjaGFuZ2VkID0gaXNSYW5nZUNoYW5nZWQgfHwgKHByb3BzLnN0ZXAgPyBpc1BhZ2VDaGFuZ2VkKGZpcnN0U3RhdGUpIDogZmFsc2UpO1xuICAgICAgICAgIGNoYW5nZWQgJiYgc2V0TG9hZGluZ1N0YXRlKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHNjcm9sbFRpbWVvdXQuY3VycmVudCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG9uU2Nyb2xsQ2hhbmdlKGV2ZW50KTtcbiAgICAgICAgICBpZiAobG9hZGluZ1N0YXRlICYmIHByb3BzLnNob3dMb2FkZXIgJiYgKCFwcm9wcy5sYXp5IHx8IHByb3BzLmxvYWRpbmcgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIHNldExvYWRpbmdTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICBzZXRQYWdlU3RhdGUoZ2V0UGFnZUJ5Rmlyc3QoZmlyc3RTdGF0ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgcHJvcHMuZGVsYXkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBvblNjcm9sbENoYW5nZShldmVudCk7XG4gICAgfVxuICB9O1xuICB2YXIgb25SZXNpemUgPSBmdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgICBpZiAocmVzaXplVGltZW91dC5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQocmVzaXplVGltZW91dC5jdXJyZW50KTtcbiAgICB9XG4gICAgcmVzaXplVGltZW91dC5jdXJyZW50ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoZWxlbWVudFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHZhciBfcmVmMiA9IFtEb21IYW5kbGVyLmdldFdpZHRoKGVsZW1lbnRSZWYuY3VycmVudCksIERvbUhhbmRsZXIuZ2V0SGVpZ2h0KGVsZW1lbnRSZWYuY3VycmVudCldLFxuICAgICAgICAgIHdpZHRoID0gX3JlZjJbMF0sXG4gICAgICAgICAgaGVpZ2h0ID0gX3JlZjJbMV07XG4gICAgICAgIHZhciBpc0RpZmZXaWR0aCA9IHdpZHRoICE9PSBkZWZhdWx0V2lkdGguY3VycmVudCxcbiAgICAgICAgICBpc0RpZmZIZWlnaHQgPSBoZWlnaHQgIT09IGRlZmF1bHRIZWlnaHQuY3VycmVudDtcbiAgICAgICAgdmFyIHJlaW5pdCA9IGJvdGggPyBpc0RpZmZXaWR0aCB8fCBpc0RpZmZIZWlnaHQgOiBob3Jpem9udGFsID8gaXNEaWZmV2lkdGggOiB2ZXJ0aWNhbCA/IGlzRGlmZkhlaWdodCA6IGZhbHNlO1xuICAgICAgICBpZiAocmVpbml0KSB7XG4gICAgICAgICAgc2V0TnVtVG9sZXJhdGVkSXRlbXNTdGF0ZShwcm9wcy5udW1Ub2xlcmF0ZWRJdGVtcyk7XG4gICAgICAgICAgZGVmYXVsdFdpZHRoLmN1cnJlbnQgPSB3aWR0aDtcbiAgICAgICAgICBkZWZhdWx0SGVpZ2h0LmN1cnJlbnQgPSBoZWlnaHQ7XG4gICAgICAgICAgZGVmYXVsdENvbnRlbnRXaWR0aC5jdXJyZW50ID0gRG9tSGFuZGxlci5nZXRXaWR0aChfY29udGVudFJlZi5jdXJyZW50KTtcbiAgICAgICAgICBkZWZhdWx0Q29udGVudEhlaWdodC5jdXJyZW50ID0gRG9tSGFuZGxlci5nZXRIZWlnaHQoX2NvbnRlbnRSZWYuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBwcm9wcy5yZXNpemVEZWxheSk7XG4gIH07XG4gIHZhciBnZXRPcHRpb25zID0gZnVuY3Rpb24gZ2V0T3B0aW9ucyhyZW5kZXJlZEluZGV4KSB7XG4gICAgdmFyIGNvdW50ID0gKHByb3BzLml0ZW1zIHx8IFtdKS5sZW5ndGg7XG4gICAgdmFyIGluZGV4ID0gYm90aCA/IGZpcnN0U3RhdGUucm93cyArIHJlbmRlcmVkSW5kZXggOiBmaXJzdFN0YXRlICsgcmVuZGVyZWRJbmRleDtcbiAgICByZXR1cm4ge1xuICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgY291bnQ6IGNvdW50LFxuICAgICAgZmlyc3Q6IGluZGV4ID09PSAwLFxuICAgICAgbGFzdDogaW5kZXggPT09IGNvdW50IC0gMSxcbiAgICAgIGV2ZW46IGluZGV4ICUgMiA9PT0gMCxcbiAgICAgIG9kZDogaW5kZXggJSAyICE9PSAwLFxuICAgICAgcHJvcHM6IHByb3BzXG4gICAgfTtcbiAgfTtcbiAgdmFyIGxvYWRlck9wdGlvbnMgPSBmdW5jdGlvbiBsb2FkZXJPcHRpb25zKGluZGV4LCBleHRPcHRpb25zKSB7XG4gICAgdmFyIGNvdW50ID0gbG9hZGVyQXJyU3RhdGUubGVuZ3RoO1xuICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHtcbiAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgIGNvdW50OiBjb3VudCxcbiAgICAgIGZpcnN0OiBpbmRleCA9PT0gMCxcbiAgICAgIGxhc3Q6IGluZGV4ID09PSBjb3VudCAtIDEsXG4gICAgICBldmVuOiBpbmRleCAlIDIgPT09IDAsXG4gICAgICBvZGQ6IGluZGV4ICUgMiAhPT0gMCxcbiAgICAgIHByb3BzOiBwcm9wc1xuICAgIH0sIGV4dE9wdGlvbnMpO1xuICB9O1xuICB2YXIgbG9hZGVkSXRlbXMgPSBmdW5jdGlvbiBsb2FkZWRJdGVtcygpIHtcbiAgICB2YXIgaXRlbXMgPSBwcm9wcy5pdGVtcztcbiAgICBpZiAoaXRlbXMgJiYgIWxvYWRpbmdTdGF0ZSkge1xuICAgICAgaWYgKGJvdGgpIHJldHVybiBpdGVtcy5zbGljZShwcm9wcy5hcHBlbmRPbmx5ID8gMCA6IGZpcnN0U3RhdGUucm93cywgbGFzdFN0YXRlLnJvd3MpLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gcHJvcHMuY29sdW1ucyA/IGl0ZW0gOiBpdGVtLnNsaWNlKHByb3BzLmFwcGVuZE9ubHkgPyAwIDogZmlyc3RTdGF0ZS5jb2xzLCBsYXN0U3RhdGUuY29scyk7XG4gICAgICB9KTtlbHNlIGlmIChob3Jpem9udGFsICYmIHByb3BzLmNvbHVtbnMpIHJldHVybiBpdGVtcztlbHNlIHJldHVybiBpdGVtcy5zbGljZShwcm9wcy5hcHBlbmRPbmx5ID8gMCA6IGZpcnN0U3RhdGUsIGxhc3RTdGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfTtcbiAgdmFyIHZpZXdJbml0ID0gZnVuY3Rpb24gdmlld0luaXQoKSB7XG4gICAgaWYgKGVsZW1lbnRSZWYuY3VycmVudCAmJiBEb21IYW5kbGVyLmlzVmlzaWJsZShlbGVtZW50UmVmLmN1cnJlbnQpKSB7XG4gICAgICBzZXRDb250ZW50RWxlbWVudChfY29udGVudFJlZi5jdXJyZW50KTtcbiAgICAgIGluaXQoKTtcbiAgICAgIGJpbmRXaW5kb3dSZXNpemVMaXN0ZW5lcigpO1xuICAgICAgYmluZE9yaWVudGF0aW9uQ2hhbmdlTGlzdGVuZXIoKTtcbiAgICAgIGRlZmF1bHRXaWR0aC5jdXJyZW50ID0gRG9tSGFuZGxlci5nZXRXaWR0aChlbGVtZW50UmVmLmN1cnJlbnQpO1xuICAgICAgZGVmYXVsdEhlaWdodC5jdXJyZW50ID0gRG9tSGFuZGxlci5nZXRIZWlnaHQoZWxlbWVudFJlZi5jdXJyZW50KTtcbiAgICAgIGRlZmF1bHRDb250ZW50V2lkdGguY3VycmVudCA9IERvbUhhbmRsZXIuZ2V0V2lkdGgoX2NvbnRlbnRSZWYuY3VycmVudCk7XG4gICAgICBkZWZhdWx0Q29udGVudEhlaWdodC5jdXJyZW50ID0gRG9tSGFuZGxlci5nZXRIZWlnaHQoX2NvbnRlbnRSZWYuY3VycmVudCk7XG4gICAgfVxuICB9O1xuICB2YXIgaW5pdCA9IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgaWYgKCFwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgc2V0U2l6ZSgpO1xuICAgICAgY2FsY3VsYXRlT3B0aW9ucygpO1xuICAgICAgc2V0U3BhY2VyU2l6ZSgpO1xuICAgIH1cbiAgfTtcbiAgdXNlTW91bnRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZpZXdJbml0KCk7XG4gIH0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGluaXQoKTtcbiAgfSwgW3Byb3BzLml0ZW1TaXplLCBwcm9wcy5zY3JvbGxIZWlnaHQsIHByb3BzLnNjcm9sbFdpZHRoXSk7XG4gIHVzZVVwZGF0ZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHByb3BzLm51bVRvbGVyYXRlZEl0ZW1zICE9PSBudW1Ub2xlcmF0ZWRJdGVtc1N0YXRlKSB7XG4gICAgICBzZXROdW1Ub2xlcmF0ZWRJdGVtc1N0YXRlKHByb3BzLm51bVRvbGVyYXRlZEl0ZW1zKTtcbiAgICB9XG4gIH0sIFtwcm9wcy5udW1Ub2xlcmF0ZWRJdGVtc10pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChwcm9wcy5udW1Ub2xlcmF0ZWRJdGVtcyA9PT0gbnVtVG9sZXJhdGVkSXRlbXNTdGF0ZSkge1xuICAgICAgaW5pdCgpOyAvLyByZWluaXQgYWZ0ZXIgcmVzaXppbmdcbiAgICB9XG4gIH0sIFtudW1Ub2xlcmF0ZWRJdGVtc1N0YXRlXSk7XG4gIHVzZVVwZGF0ZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFwcmV2UHJvcHMuaXRlbXMgfHwgcHJldlByb3BzLml0ZW1zLmxlbmd0aCAhPT0gKHByb3BzLml0ZW1zIHx8IFtdKS5sZW5ndGgpIHtcbiAgICAgIGluaXQoKTtcbiAgICB9XG4gICAgdmFyIGxvYWRpbmcgPSBsb2FkaW5nU3RhdGU7XG4gICAgaWYgKHByb3BzLmxhenkgJiYgcHJldlByb3BzLmxvYWRpbmcgIT09IHByb3BzLmxvYWRpbmcgJiYgcHJvcHMubG9hZGluZyAhPT0gbG9hZGluZ1N0YXRlKSB7XG4gICAgICBzZXRMb2FkaW5nU3RhdGUocHJvcHMubG9hZGluZyk7XG4gICAgICBsb2FkaW5nID0gcHJvcHMubG9hZGluZztcbiAgICB9XG4gICAgY2FsY3VsYXRlQXV0b1NpemUobG9hZGluZyk7XG4gIH0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGxhc3RTY3JvbGxQb3MuY3VycmVudCA9IGJvdGggPyB7XG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiAwXG4gICAgfSA6IDA7XG4gIH0sIFtwcm9wcy5vcmllbnRhdGlvbl0pO1xuICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9wczogcHJvcHMsXG4gICAgICBnZXRFbGVtZW50UmVmOiBnZXRFbGVtZW50UmVmLFxuICAgICAgc2Nyb2xsVG86IHNjcm9sbFRvLFxuICAgICAgc2Nyb2xsVG9JbmRleDogc2Nyb2xsVG9JbmRleCxcbiAgICAgIHNjcm9sbEluVmlldzogc2Nyb2xsSW5WaWV3LFxuICAgICAgZ2V0UmVuZGVyZWRSYW5nZTogZ2V0UmVuZGVyZWRSYW5nZVxuICAgIH07XG4gIH0pO1xuICB2YXIgY3JlYXRlTG9hZGVySXRlbSA9IGZ1bmN0aW9uIGNyZWF0ZUxvYWRlckl0ZW0oaW5kZXgpIHtcbiAgICB2YXIgZXh0T3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdmFyIG9wdGlvbnMgPSBsb2FkZXJPcHRpb25zKGluZGV4LCBleHRPcHRpb25zKTtcbiAgICB2YXIgY29udGVudCA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMubG9hZGluZ1RlbXBsYXRlLCBvcHRpb25zKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIHtcbiAgICAgIGtleTogaW5kZXhcbiAgICB9LCBjb250ZW50KTtcbiAgfTtcbiAgdmFyIGNyZWF0ZUxvYWRlciA9IGZ1bmN0aW9uIGNyZWF0ZUxvYWRlcigpIHtcbiAgICBpZiAoIXByb3BzLmxvYWRlckRpc2FibGVkICYmIHByb3BzLnNob3dMb2FkZXIgJiYgbG9hZGluZ1N0YXRlKSB7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC12aXJ0dWFsc2Nyb2xsZXItbG9hZGVyJywge1xuICAgICAgICAncC1jb21wb25lbnQtb3ZlcmxheSc6ICFwcm9wcy5sb2FkaW5nVGVtcGxhdGVcbiAgICAgIH0pO1xuICAgICAgdmFyIGNvbnRlbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC12aXJ0dWFsc2Nyb2xsZXItbG9hZGluZy1pY29uIHBpIHBpLXNwaW5uZXIgcGktc3BpblwiXG4gICAgICB9KTtcbiAgICAgIGlmIChwcm9wcy5sb2FkaW5nVGVtcGxhdGUpIHtcbiAgICAgICAgY29udGVudCA9IGxvYWRlckFyclN0YXRlLm1hcChmdW5jdGlvbiAoXywgaW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlTG9hZGVySXRlbShpbmRleCwgYm90aCAmJiB7XG4gICAgICAgICAgICBudW1Db2xzOiBudW1JdGVtc0luVmlld3BvcnRTdGF0ZS5jb2xzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wcy5sb2FkZXJJY29uVGVtcGxhdGUpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRDb250ZW50T3B0aW9ucyA9IHtcbiAgICAgICAgICBjbGFzc05hbWU6ICdwLXZpcnR1YWxzY3JvbGxlci1sb2FkaW5nLWljb24nLFxuICAgICAgICAgIGVsZW1lbnQ6IGNvbnRlbnQsXG4gICAgICAgICAgcHJvcHM6IHByb3BzXG4gICAgICAgIH07XG4gICAgICAgIGNvbnRlbnQgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLmxvYWRlckljb25UZW1wbGF0ZSwgZGVmYXVsdENvbnRlbnRPcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gICAgICB9LCBjb250ZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIHZhciBjcmVhdGVTcGFjZXIgPSBmdW5jdGlvbiBjcmVhdGVTcGFjZXIoKSB7XG4gICAgaWYgKHByb3BzLnNob3dTcGFjZXIpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIHJlZjogX3NwYWNlclJlZixcbiAgICAgICAgc3R5bGU6IHNwYWNlclN0eWxlLmN1cnJlbnQsXG4gICAgICAgIGNsYXNzTmFtZTogXCJwLXZpcnR1YWxzY3JvbGxlci1zcGFjZXJcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICB2YXIgY3JlYXRlSXRlbSA9IGZ1bmN0aW9uIGNyZWF0ZUl0ZW0oaXRlbSwgaW5kZXgpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGdldE9wdGlvbnMoaW5kZXgpO1xuICAgIHZhciBjb250ZW50ID0gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy5pdGVtVGVtcGxhdGUsIGl0ZW0sIG9wdGlvbnMpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwge1xuICAgICAga2V5OiBvcHRpb25zLmluZGV4XG4gICAgfSwgY29udGVudCk7XG4gIH07XG4gIHZhciBjcmVhdGVJdGVtcyA9IGZ1bmN0aW9uIGNyZWF0ZUl0ZW1zKCkge1xuICAgIHZhciBpdGVtcyA9IGxvYWRlZEl0ZW1zKCk7XG4gICAgcmV0dXJuIGl0ZW1zLm1hcChjcmVhdGVJdGVtKTtcbiAgfTtcbiAgdmFyIGNyZWF0ZUNvbnRlbnQgPSBmdW5jdGlvbiBjcmVhdGVDb250ZW50KCkge1xuICAgIHZhciBpdGVtcyA9IGNyZWF0ZUl0ZW1zKCk7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtdmlydHVhbHNjcm9sbGVyLWNvbnRlbnQnLCB7XG4gICAgICAncC12aXJ0dWFsc2Nyb2xsZXItbG9hZGluZyc6IGxvYWRpbmdTdGF0ZVxuICAgIH0pO1xuICAgIHZhciBjb250ZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgcmVmOiBfY29udGVudFJlZixcbiAgICAgIHN0eWxlOiBjb250ZW50U3R5bGUuY3VycmVudCxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gICAgfSwgaXRlbXMpO1xuICAgIGlmIChwcm9wcy5jb250ZW50VGVtcGxhdGUpIHtcbiAgICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgc3R5bGU6IGNvbnRlbnRTdHlsZS5jdXJyZW50LFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgc3BhY2VyU3R5bGU6IHNwYWNlclN0eWxlLmN1cnJlbnQsXG4gICAgICAgIGNvbnRlbnRSZWY6IGZ1bmN0aW9uIGNvbnRlbnRSZWYoZWwpIHtcbiAgICAgICAgICByZXR1cm4gX2NvbnRlbnRSZWYuY3VycmVudCA9IE9iamVjdFV0aWxzLmdldFJlZkVsZW1lbnQoZWwpO1xuICAgICAgICB9LFxuICAgICAgICBzcGFjZXJSZWY6IGZ1bmN0aW9uIHNwYWNlclJlZihlbCkge1xuICAgICAgICAgIHJldHVybiBfc3BhY2VyUmVmLmN1cnJlbnQgPSBPYmplY3RVdGlscy5nZXRSZWZFbGVtZW50KGVsKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3RpY2t5UmVmOiBmdW5jdGlvbiBzdGlja3lSZWYoZWwpIHtcbiAgICAgICAgICByZXR1cm4gX3N0aWNreVJlZi5jdXJyZW50ID0gT2JqZWN0VXRpbHMuZ2V0UmVmRWxlbWVudChlbCk7XG4gICAgICAgIH0sXG4gICAgICAgIGl0ZW1zOiBsb2FkZWRJdGVtcygpLFxuICAgICAgICBnZXRJdGVtT3B0aW9uczogZnVuY3Rpb24gZ2V0SXRlbU9wdGlvbnMoaW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0T3B0aW9ucyhpbmRleCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNoaWxkcmVuOiBpdGVtcyxcbiAgICAgICAgZWxlbWVudDogY29udGVudCxcbiAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICBsb2FkaW5nOiBsb2FkaW5nU3RhdGUsXG4gICAgICAgIGdldExvYWRlck9wdGlvbnM6IGZ1bmN0aW9uIGdldExvYWRlck9wdGlvbnMoaW5kZXgsIGV4dCkge1xuICAgICAgICAgIHJldHVybiBsb2FkZXJPcHRpb25zKGluZGV4LCBleHQpO1xuICAgICAgICB9LFxuICAgICAgICBsb2FkaW5nVGVtcGxhdGU6IHByb3BzLmxvYWRpbmdUZW1wbGF0ZSxcbiAgICAgICAgaXRlbVNpemU6IHByb3BzLml0ZW1TaXplLFxuICAgICAgICByb3dzOiBnZXRSb3dzKCksXG4gICAgICAgIGNvbHVtbnM6IGdldENvbHVtbnMoKSxcbiAgICAgICAgdmVydGljYWw6IHZlcnRpY2FsLFxuICAgICAgICBob3Jpem9udGFsOiBob3Jpem9udGFsLFxuICAgICAgICBib3RoOiBib3RoXG4gICAgICB9O1xuICAgICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMuY29udGVudFRlbXBsYXRlLCBkZWZhdWx0T3B0aW9ucyk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50O1xuICB9O1xuICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcbiAgICB2YXIgY29udGVudCA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMuY29udGVudFRlbXBsYXRlLCB7XG4gICAgICBpdGVtczogcHJvcHMuaXRlbXMsXG4gICAgICByb3dzOiBwcm9wcy5pdGVtcyxcbiAgICAgIGNvbHVtbnM6IHByb3BzLmNvbHVtbnNcbiAgICB9KTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIHByb3BzLmNoaWxkcmVuLCBjb250ZW50KTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgb3RoZXJQcm9wcyA9IFZpcnR1YWxTY3JvbGxlckJhc2UuZ2V0T3RoZXJQcm9wcyhwcm9wcyk7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtdmlydHVhbHNjcm9sbGVyJywge1xuICAgICAgJ3AtdmlydHVhbHNjcm9sbGVyLWlubGluZSc6IHByb3BzLmlubGluZSxcbiAgICAgICdwLXZpcnR1YWxzY3JvbGxlci1ib3RoIHAtYm90aC1zY3JvbGwnOiBib3RoLFxuICAgICAgJ3AtdmlydHVhbHNjcm9sbGVyLWhvcml6b250YWwgcC1ob3Jpem9udGFsLXNjcm9sbCc6IGhvcml6b250YWxcbiAgICB9LCBwcm9wcy5jbGFzc05hbWUpO1xuICAgIHZhciBsb2FkZXIgPSBjcmVhdGVMb2FkZXIoKTtcbiAgICB2YXIgX2NvbnRlbnQgPSBjcmVhdGVDb250ZW50KCk7XG4gICAgdmFyIHNwYWNlciA9IGNyZWF0ZVNwYWNlcigpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7XG4gICAgICByZWY6IGVsZW1lbnRSZWYsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIHRhYkluZGV4OiBwcm9wcy50YWJJbmRleCxcbiAgICAgIHN0eWxlOiBwcm9wcy5zdHlsZVxuICAgIH0sIG90aGVyUHJvcHMsIHtcbiAgICAgIG9uU2Nyb2xsOiBvblNjcm9sbFxuICAgIH0pLCBfY29udGVudCwgc3BhY2VyLCBsb2FkZXIpO1xuICB9XG59KSk7XG5WaXJ0dWFsU2Nyb2xsZXIuZGlzcGxheU5hbWUgPSAnVmlydHVhbFNjcm9sbGVyJztcblxuZXhwb3J0IHsgVmlydHVhbFNjcm9sbGVyIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/primereact/virtualscroller/virtualscroller.esm.js\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["pages/_app","main"], function() { return __webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=C%3A%5CUsers%5CASUS%5CDesktop%5Cmein%5Cnew%5Cnextjs-blog%5Cpages%5Cindex.tsx&page=%2F!"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);